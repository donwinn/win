!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="//a.msstatic.com/huya/h5player/room/2509191523/",i(i.s="fF/y")}({"++EQ":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="accompany-alter-panel">\n   <div class="accompany-alter-close"></div>\n   <div class="accompany-alter-title"></div>\n   <div class="accompany-alter-context"></div>\n   <div class="accompany-alter-type-1">\n      <div class="accompany-button btn-sure">确定</div>\n      <div class="accompany-button btn-cancel">取消</div>\n   </div>\n   <div class="accompany-alter-type-2">\n      <div class="accompany-button btn-charge">去充值</div>\n   </div>\n    <div class="accompany-alter-type-3">\n      <div class="accompany-button btn-done">已完成</div>\n      <div class="accompany-button btn-undone">未完成</div>\n      <div class="accompany-alter-kefu">\n          <div class="kefu-container">\n              <div class="kefu-icon"></div>\n              <h1>联系客服</h1>\n          </div>\n      </div>\n   </div>\n\n</div>',__filename="src/tpl/accompany/accompany-alert.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="accompany-alter-panel">\n   <div class="accompany-alter-close"></div>\n   <div class="accompany-alter-title"></div>\n   <div class="accompany-alter-context"></div>\n   <div class="accompany-alter-type-1">\n      <div class="accompany-button btn-sure">确定</div>\n      <div class="accompany-button btn-cancel">取消</div>\n   </div>\n   <div class="accompany-alter-type-2">\n      <div class="accompany-button btn-charge">去充值</div>\n   </div>\n    <div class="accompany-alter-type-3">\n      <div class="accompany-button btn-done">已完成</div>\n      <div class="accompany-button btn-undone">未完成</div>\n      <div class="accompany-alter-kefu">\n          <div class="kefu-container">\n              <div class="kefu-icon"></div>\n              <h1>联系客服</h1>\n          </div>\n      </div>\n   </div>\n\n</div>'),__line=23;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"+Xzf":function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.ENV,r=e.taf.HUYA;function a(){var i=new r.GetMultiVideoInfoByPresenterUidReq;i.tId=t.userId,i.lUid=t.presenterUid,e.sendWup2("wupui","getMultiVideoInfoByPresenterUid",i,o)}function o(e){s(e.tStat)}function s(e){var i=e.vSeat.value;t.makeFriendData=[{pos:-1,tag:"主播",nick:n.pnick,uid:t.presenterUid,avatarUrl:n.avatarImg}];for(var r=0,a=i.length;r<a;r++){var o=i[r],s=o.lUid,c=o.iPos,l=o.sNick,u=o.sAvatarUrl;if(s>0&&s!=t.yyuid){var d={pos:c,tag:"".concat(c,"麦"),nick:l,uid:s,avatarUrl:u};t.makeFriendData.push(d)}}}function c(e){s(e)}t.isUserInfoInited()?a():i.addEvent(i.USER_INFO_INITED,a),e.addTafListener("2400001",c)}},"+mX4":function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.Console,o=e.taf,s=o.HUYA,c=o.Taf,l=new XMLSerializer,u=null,d=null,p=!1,h=0,f=0,m=[],v=0,g=0,y=66,_=$("#danmuwrap"),w=localStorage.getItem("danmuMaskFrame")||0,S=0,b=0,I=!1,E={},T=1e3,k=null,C=i("rXj1");function x(){n.isUserInfoInited()?A():r.addEvent(r.USER_INFO_INITED,A),r.addEvent(r.NEW_VIDEO,A)}function A(){if(u!=n.currentPlayStreamName){L(),u=n.currentPlayStreamName;var t=new s.GetMaskConfigReq;t.uid=n.presenterUid,t.streamName=u,e.sendWup2("mediaui","getMaskConfig",t,R)}}function R(e){var i=e.hasMask;d="",1==i&&(I||($(window).resize(G),G(),I=!0),t.setDanmuMaskUI(),d=e.broadcastGroup,t.isNeedMask()&&P()),n.danmuMaskbroadcastGroup=d}function P(){d&&(p||(!function(){if(!k){var e=new Blob(['\n         onmessage = function(e) {\n            var data = e.data;\n            var obj = {};\n            obj.maskPoly = [];\n            const {contrs,len,fw,fh,posX,posY,vTw,vTh} = data;\n            obj.polyCount = len;\n            for(var i = 0 ; i < len; i++){\n                var contour = contrs[i];\n                if(!contour) continue;\n                var cx = contour.x;\n                var cy = contour.y;\n                var pts = contour.pts;\n                obj.maskPoly[i] = [];\n                var length = pts.length;\n                for(var j = 0; j < length; j++){\n                    if( j%2 == 0){\n                      px = cx + pts[j];\n                      px = parseInt(px /fw * vTw + posX);\n                    }else if( j%2 == 1){\n                      py = cy + pts[j];\n                      py = parseInt(py / fh  * vTh + posY);\n                      obj.maskPoly[i].push(px + "," + py);\n                    }\n                }\n            }\n            postMessage(obj);\n          }\n        '],{type:"application/javascript"});k=new Worker(URL.createObjectURL(e))}}(),n.vplayerUI.registerGroup(d),p=!0,0==h&&(h=requestAnimationFrame(N),_.css({"will-change":"mask",transition:"mask 0.3s"})),n.hasDanmuMask=!0,F()))}function L(){d&&p&&(n.vplayerUI.unRegisterGroup(d),function(){for(var e in n.danmuGroudId){if(n.danmuGroudId[e]==d)return void n.danmuGroudId.splice(e,1)}}(),p=!1,window.cancelAnimationFrame(h),h=0,_.css({"will-change":"auto",transition:"none"}),n.hasDanmuMask=!1,F())}!function(){if(n.danmuMask&&(!C||!C.browser||"safari"!=C.browser.name&&"firefox"!=C.browser.name)&&window.Worker&&(setTimeout(x,5e3),1==w)){var e=$("\n            <svg id='testSvg' style='position: absolute; left: 0; width:100%;height:100%; top: 0; right: 0; bottom: 0; z-index: 999'>\n              <path id='testSvgPath' fill='transparent' stroke='red' />\n            </svg>\n          ");_.parent().append(e)}}();var M=6e4;function D(e,t){return e<t||!t||e-t>M}var B=performance.now();function N(e){e-B>=y&&(!function(){f=1==b?n.vplayer.getCurrentSeiDts():n.vplayer.getCurrentTime();var e=function(){for(var e=null,t=m.length,i=y/2,n=0;n<t;n++){var r=m[n],a=r.pts,o=r.data;if(a>=f-i&&a<=f+i){e=o,n>0&&m.splice(0,n);break}if(a>f+i)break}return e}();e&&(t=e,i=t.figs,r=i.fig_width,a=i.fig_height,o=i.contrs.value,s=t.frame_width,c=t.frame_height,new Promise((function(e,t){var i=function(e,t){var i=v,n=g,r="".concat(e,"-").concat(t,"-").concat(i,"-").concat(n);if(!E[r]){var a=0,o=0,s=0,c=0;e/t>i/n?(a=i,c=(n-(o=t*i/e))/2):(o=n,s=(i-(a=e*n/t))/2),E[r]={posX:s,posY:c,vTw:a,vTh:o}}return E[r]}(s,c),n=i.posX,l=i.posY,u=i.vTw,d=i.vTh,p=function(e){for(var t=e.length,i=[],n=0;n<t;n++){var r=e[n],a=r.x,o=r.y,s=e[n].pts.value;i.push({x:a,y:o,pts:s})}return{len:t,newContrs:i}}(o),h=p.len,f=p.newContrs;k.postMessage({contrs:f,len:h,fw:r,fh:a,posX:n,posY:l,vTw:u,vTh:d}),k.onmessage=function(t){var i=t.data;e(i)}}))).then((function(e){!function(e){if(!e.maskPoly)return;var t="";for(var i in e.maskPoly){var n=e.maskPoly[i];t+=" M"+n.join(" ")+"z"}if(""==t)return void V();if(H==t)return;H=t,1==w&&$("#testSvgPath").attr("d","M0,0v".concat(g,"h").concat(v,"V0H0z").concat(t));var r=l.serializeToString($('<svg width="'.concat(v,'" height="').concat(g,"\"><defs><filter id='f1' x='0' y='0'><feGaussianBlur in='SourceGraphic' stdDeviation='10'/></filter></defs><g filter='url(#f1)'><path fill-rule='evenodd' d='M0,0v").concat(g,"h").concat(v,"V0H0z").concat(t,"'/></g></svg>"))[0]),a=window.btoa(r);_.css("mask-image","url(data:image/svg+xml;base64,"+a+")")}(e)}));var t,i,r,a,o,s,c;clearTimeout(S),S=setTimeout(V,800)}(),B=e),h=requestAnimationFrame(N)}function U(e){b!=e&&(f=1==(b=e)?n.vplayer.getCurrentSeiDts():n.vplayer.getCurrentTime(),F())}function F(){m=[],E={}}function O(e){var t=e.pts,i=e.seidts;1==b?m.push({pts:i,data:e}):m.push({pts:t,data:e})}var H="";function G(){v=_.width(),g=_.height()}function V(){_.css("mask-image","none"),w&&$("#testSvgPath").attr("d","M0,0v0h0V0H0z")}this.clearMask=V,this.registerDanmuGroup=P,this.unRegisterDanmuGroup=L,this.setMaskData=function(e){var t=e.seiDts,i=e.lPts;if(t&&t!=i){if(U(1),1==w&&a.log(t,f,t-f,"seiDts,curPts,seiDts-curPts 注 ：服务端推送时间、当前视频时间、推送-当前（ms）"),D(t,f))return}else if(U(0),1==w&&a.log(i,f,i-f,"lPts,curPts,lPts-curPts 注 ：服务端推送时间、当前视频时间、推送-当前（ms）"),D(i,f))return;if((r=m.length)>T)1==w&&a.log("存储超长了",r);else for(var n=e.sBackgroundMask.value,r=n.length,o=0;o<r;o++){var l=n[o];if(!(l.buffer.byteLength>1e3)){var u=new c.JceInputStream(l.buffer),d=new s.DanmuCVMaskProto;d.readFrom(u),l.data=d,O(d)}}}}},"+o7d":function(e,t,i){e.exports=function(e){var t,n,r,a,o,s,c=this,l=e.G,u=e.Event,d=e.ENV,p=e.utils,h=e.R,f=i("GYB3"),m=i("izBd"),v=i("mq93"),g=i("itZY"),y=i("Wz/o"),_=i("ktl9"),w=i("rH+6"),S=i("K6zF"),b=i("komX"),I=i("MZRI");function E(){if(null==s){var t=i("uDiH");s=new t(e)}}function T(){E(),s.autoGetLog()}function k(e){E(),s.onHuYaUdbNotify(e)}function C(e){E(),s.showFeedbackByExt(e)}function x(){E(),s.isShow?s.hide():s.show(),s.isShow&&h.huyuReport("click/kongzhi/fankui")}function A(){var e=$(".player-refresh-btn");l.hasVideo?($("#player-btn").show(),t.isPlaying()?(e.show(),$(".player-play-big").hide(),$(".player-app-qrcode").hide()):(e.hide(),$(".player-play-big").show(),$(".player-app-qrcode").show(),h.newHuyaReport({eid_desc:"曝光暂停时弹窗下载相关弹窗",eid:"show/live_suspend_download_popup"},"huya_web"))):($("#player-btn").hide(),$(".player-play-big").hide(),l.isLogin||$(".player-app-qrcode").hide(),e.hide())}!function(){$("#player-gift-wrap").show();var r=i("bQv4")();$("#player-ctrl-wrap").html(r),$("#player-ctrl-wrap").show(),$("#player-ctrl-wrap img").each(p.NoDrag),document.querySelector("#player-full-input"),document.querySelector("#player-ctrl-wrap"),document.querySelector("#player-wrap"),t=new f(c,e),n=new m(c,e),$(".player-report-btn").click(x),1==d.isSimple&&$("#videoContainer").addClass("mod-simple"),u.addEvent(u.AUTO_FEEDBACK,T),u.addEvent(u.SHOW_FEEDBACK_BY_EXT,C),u.addEvent(u.UPDATE_BTNS_VISIBLE,A)}(),this.delayInit=function(){if(this.volume=new v(e),r=new g(c,e),a=new y(c,e),o=new _(e),e.barrage=o,l.is360Video||l.extStreamVR){var t=i("FRey");new t(c,e)}new b(e),new w(e),new S(e),new I(e),e.addTafListener("10220051",k),A(),function(){var e;e=d.profileRoom>0?d.profileRoom:d.pyyid;$("#hy-watermark").text("虎牙直播 "+e)}()},this.showFeedback=x,this.closeFeedback=function(){s&&s.hide()},this.showPlayTip=function(e){t.showPlayTip(e)},this.turnPlayButtonOn=function(){t.turnPlayButtonOn()},this.setLineList=function(e){n.setLineList(e)},this.setBitRateList=function(e){n.setBitRateList(e)},this.updateCurBitRateMenu=function(){n.updateCurBitRateMenu()},this.changeToNextBitrate=function(){n.changeToNextBitrate()},this.quitFullMode=function(){r.quitFullMode()},this.quitFullscreen=function(){r.quitFullscreen()},this.recharge=function(e){a.recharge(e)},this.hideGuess=function(){a.hideGuess()},this.setDanmuVisible=function(e){o&&o.setVisible(e)},this.showCtrlWrap=function(){r&&r.showCtrlWrap()}}},"+pUA":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="accompany-panel">\n   <div class="accompany-title">组队</div>\n   <div class="accompany-back-btn">\n      <div class="arrow-right"></div>\n      <div class="accompany-back-txt">返回</div>\n   </div>\n   <div class="panel-close"></div>\n   <div class="panel-line"></div>\n   <div class="content-model-list">\n      <ul></ul>\n  </div>\n  <div class="content-list-empty">【当前暂无大神】</div>\n  <div class="accompany-list-scroll-bar"></div>\n  <div class="content-model-order">\n     <div class="accompany-info-container">\n        <div class="accompany-order-head-icon">\n            <img></img>\n        </div>\n        <div class="accompany-order-name"></div>\n        <div class="accompany-line-1"></div>\n        <p></p>\n        <p></p>\n        <h1>数量</h1>\n        <h1>服务时间</h1>\n        <div class="accompany-order-cur-skill">\n             <img class="game-icon"></img>\n             <div class="game-name-order">\n              <div class="game-skill-mix">\n                  <div class="game-name"></div>\n                  <div class="skill-name"></div>\n              </div>\n               <div class="order-txt">\n                  <div class="order-txt-left"></div>\n                  <div class="order-txt-right"></div>\n               </div>\n             </div>\n\n             <div class="swich-skill-btn">\n                 <span>切换技能</span>\n                 <div id="arrow" class="arrow-down"></div>\n             </div>\n        </div>\n        <div class="accompany-order-count">\n            <div class="accompany-num-minus"></div>\n            <span>1</span>\n            <div class="accompany-num-add"></div>\n        </div>\n        <div id="accompany-small-price" class="accompany-order-total-price">\n            <div class="order-count"></div>\n            <span>小计:</span>\n            <div class="order-total-price"></div>\n        </div>\n\n\n        <div id="accompany-total-price" class="accompany-order-total-price">\n            <div class="order-count"></div>\n            <span>合计:</span>\n            <div class="order-total-price"></div>\n        </div>\n\n        <div id="accompany-pay-btn">支付订单</div>\n\n        <div id="accompaney-time-switch">\n            <select id="selYear"></select> \n            <div class="select-container">\n              <select id="selMonth"></select> \n              <p></p>\n            </div>\n            <span>月</span>\n            <div class="select-container">\n                <select id="selDay"></select> \n                <p></p>\n            </div>\n            <span>日</span>\n            <div class="select-container">\n                <select id="selHour"></select> \n                <p></p>\n            </div>\n            <span>时</span>\n            <div class="select-container">\n                <select id="selMinu"></select> \n                <p></p>\n            </div>\n            <span>分</span>\n        </div>\n\n        <div class="accompany-huya-coin">\n            <span>支付方式</span>\n            <div class="huya-icon-mix">\n               <div class="icon-out">\n                 <div class="icon-in"></div>\n               </div>\n               <div class="coin-value">虎牙币(0)</div>\n               <div class="coin-fresh">刷新</div>\n            </div>\n        </div>\n        <div class="order-skill-list">\n            <ul></ul>\n        </div>\n        <div class="accompany-skill-scroll-bar"></div>\n      </div>\n      <div class="qrcode-icon-bg">\n            <div class="qrcode-icon"></div>\n      </div>\n   <div>\n</div>',__filename="src/tpl/accompany/accompany-panel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="accompany-panel">\n   <div class="accompany-title">组队</div>\n   <div class="accompany-back-btn">\n      <div class="arrow-right"></div>\n      <div class="accompany-back-txt">返回</div>\n   </div>\n   <div class="panel-close"></div>\n   <div class="panel-line"></div>\n   <div class="content-model-list">\n      <ul></ul>\n  </div>\n  <div class="content-list-empty">【当前暂无大神】</div>\n  <div class="accompany-list-scroll-bar"></div>\n  <div class="content-model-order">\n     <div class="accompany-info-container">\n        <div class="accompany-order-head-icon">\n            <img></img>\n        </div>\n        <div class="accompany-order-name"></div>\n        <div class="accompany-line-1"></div>\n        <p></p>\n        <p></p>\n        <h1>数量</h1>\n        <h1>服务时间</h1>\n        <div class="accompany-order-cur-skill">\n             <img class="game-icon"></img>\n             <div class="game-name-order">\n              <div class="game-skill-mix">\n                  <div class="game-name"></div>\n                  <div class="skill-name"></div>\n              </div>\n               <div class="order-txt">\n                  <div class="order-txt-left"></div>\n                  <div class="order-txt-right"></div>\n               </div>\n             </div>\n\n             <div class="swich-skill-btn">\n                 <span>切换技能</span>\n                 <div id="arrow" class="arrow-down"></div>\n             </div>\n        </div>\n        <div class="accompany-order-count">\n            <div class="accompany-num-minus"></div>\n            <span>1</span>\n            <div class="accompany-num-add"></div>\n        </div>\n        <div id="accompany-small-price" class="accompany-order-total-price">\n            <div class="order-count"></div>\n            <span>小计:</span>\n            <div class="order-total-price"></div>\n        </div>\n\n\n        <div id="accompany-total-price" class="accompany-order-total-price">\n            <div class="order-count"></div>\n            <span>合计:</span>\n            <div class="order-total-price"></div>\n        </div>\n\n        <div id="accompany-pay-btn">支付订单</div>\n\n        <div id="accompaney-time-switch">\n            <select id="selYear"></select> \n            <div class="select-container">\n              <select id="selMonth"></select> \n              <p></p>\n            </div>\n            <span>月</span>\n            <div class="select-container">\n                <select id="selDay"></select> \n                <p></p>\n            </div>\n            <span>日</span>\n            <div class="select-container">\n                <select id="selHour"></select> \n                <p></p>\n            </div>\n            <span>时</span>\n            <div class="select-container">\n                <select id="selMinu"></select> \n                <p></p>\n            </div>\n            <span>分</span>\n        </div>\n\n        <div class="accompany-huya-coin">\n            <span>支付方式</span>\n            <div class="huya-icon-mix">\n               <div class="icon-out">\n                 <div class="icon-in"></div>\n               </div>\n               <div class="coin-value">虎牙币(0)</div>\n               <div class="coin-fresh">刷新</div>\n            </div>\n        </div>\n        <div class="order-skill-list">\n            <ul></ul>\n        </div>\n        <div class="accompany-skill-scroll-bar"></div>\n      </div>\n      <div class="qrcode-icon-bg">\n            <div class="qrcode-icon"></div>\n      </div>\n   <div>\n</div>'),__line=106;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"+wow":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-box-icon">\n    <div class="player-chest-btn">\n        <div class="player-box-image"></div>\n        <span class="box-icon-word">百宝箱</span>\n        <div class="chest-award-count"></div>\n    </div>\n</div>',__filename="src/tpl/box/box-icon.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-box-icon">\n    <div class="player-chest-btn">\n        <div class="player-box-image"></div>\n        <span class="box-icon-word">百宝箱</span>\n        <div class="chest-award-count"></div>\n    </div>\n</div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"/gJ+":function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.taf,a=e.utils,o=r.HUYA,s="",c="",l=null,u=null,d=null,p=[],h="voice_mute",f="video_pixelate",m="ai_caption",v="1200000",g="1200001";function y(){S([h,f,m],s=t.currentPlayStreamName)}function _(){s!=t.currentPlayStreamName&&(s=t.currentPlayStreamName,e.trigger("currentStreamNameChange",{streamName:s}),function(){for(var e in p)t.vplayerUI.unRegisterGroup(p[e]);u&&u.turnOff(),p=[]}(),t.matchTeamAudioPlay?(S([h,f],s),t.matchTeamAudioStreamName&&(c=t.matchTeamAudioStreamName,S([m],t.matchTeamAudioStreamName))):S([h,f,m],s))}function w(){c!=t.matchTeamAudioStreamName&&(c&&function(e){for(var i in p)if(p[i]==e){t.vplayerUI.unRegisterGroup(e),p.splice(i,1);break}}(c),c=t.matchTeamAudioStreamName,t.matchTeamAudioStreamName&&S([m],t.matchTeamAudioStreamName))}function S(i,n){var r=new o.GetOrderBroadcastInfoReq;r.anthorId=t.presenterUid,r.busses.value=i,r.streamName=n,e.sendWup2("mediaui","getOrderBroadcastConfig",r,b)}function b(e){var i=e.ret,n=e.anthorId,r=e.broadcastInfos;if(0==i&&n==t.presenterUid){var o=r.value;for(var s in o){var c=o[s],l=c.buss,d=c.enable,p=c.broadcastGroup,y=c.configJson,_=c.uri;if(!(d<1)&&(_!=v&&_!=g)){switch(l){case h:I();break;case f:var w={};try{w=a.unescapeHTML(y),w=JSON.parse(w)}catch(e){}E(w);break;case m:if(T(c),u&&!u.isOpen())continue}k(p)}}}}function I(){if(null==d){var t=i("53D/");d=new t(e)}}function E(t){if(null==l){var n=i("56qE");l=new n(e,t)}}function T(t){if(null==u){var n=i("Cqih");u=new n(e,t)}u.setGroudName(t.broadcastGroup)}function k(e){p.push(e),t.vplayerUI.registerGroup(e)}t.isUserInfoInited()?y():n.addEvent(n.USER_INFO_INITED,y),n.addEvent(n.NEW_VIDEO,_),n.addEvent("TeamAudioSreamSwtichChange",w)}},0:function(e,t){},"0LPl":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="gift-tip-series-gift">\n    <div class="series-gift-container">\n        <div class="series-gift-list"></div>\n    </div>\n    <div class="send-all">\n        <h1>送全套</h1>\n        <div class="item-price-group">\n            <div class="icon"></div>\n            <span class="price"></span>\n        </div>\n    </div>\n    <div class="series-gift-arrow pre-btn"></div>\n    <div class="series-gift-arrow next-btn"></div>\n    <div class="line"></div>\n</div>',__filename="src/tpl/gift/gift-tip-series-gift.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="gift-tip-series-gift">\n    <div class="series-gift-container">\n        <div class="series-gift-list"></div>\n    </div>\n    <div class="send-all">\n        <h1>送全套</h1>\n        <div class="item-price-group">\n            <div class="icon"></div>\n            <span class="price"></span>\n        </div>\n    </div>\n    <div class="series-gift-arrow pre-btn"></div>\n    <div class="series-gift-arrow next-btn"></div>\n    <div class="line"></div>\n</div>'),__line=15;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"0QxM":function(e,t,i){e.exports=function(e){this.createQrcode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new(i("bNM7"))({text:t,render:"svg",size:e,correctLevel:3,background:"#ffffff",foreground:"#000000"});return $(n)}}},"0o2X":function(e,t,i){e.exports=function(e){var t,n,r,a,o,s=[],c=0,l=this,u=!1,d=!1,p=0,h=0,f=-1,m=!1,v=!1,g=!1,y=null,_=!1,w=e.G,S=e.Event,b=(e.Console,e.ENV),I=e.ISDEBUG,E=e.utils,T=e.taf.HUYA,k=-1,C=[],x=!1,A=null,R=w.H5ROOT+"src/img/make-friend/wave-default.webp";this.defalutWave=R;var P,L=null;function M(){S.removeEvent(S.NEW_VIDEO,M),E.reportTimeByKey("makefriend-video-loadtime")}function D(e){0==e?(B(),O()):1==e&&ee()}function B(){m||(a=i("A3DX"),o=i("TaSU"),e.addTafListener("1025601",Q),e.addTafListener("1025604",G),e.addTafListener("1025605",H),e.addTafListener("2400002",ue),S.addEvent(S.MAKE_FRIEND_AUDIO_SOUND,j),S.addEvent(S.VIDEO_PLAY,F),S.addEvent(S.SET_MAKEFRIEND_VIDEO,N),$("#player-mouse-event-wrap").css({width:0,height:0}),m=!0)}function N(e){L=null,x?L=$("#make-friend-video-virtual-pk"):w.hasMFVideo&&(L=$("#make-friend-video-cotainer")),L&&(L.append(e),U())}function U(){if(L){var e=$(".make-friend-wrap"),t=L.width(),i=L.height(),n=w.vplayer.getVideoSize(),r=n.width,a=n.height,o=e.position().left+4,s=e.position().top+4,c=0,l=0;0===r||0===a?(c=0,l=0):r/a>t/i?(c=t,s+=(i-(l=a*t/r))/2):(l=i,o+=(t-(c=r*i/a))/2),w.videoPos={left:o,top:s,right:o,bottom:s},w.videoOffset={left:o,top:s,width:c,height:l},S.fireEvent(S.VIDEO_RESIZE)}}function F(){c=0}function O(){!function(){var t=new T.GetMakeFriendsPKInfoReq;t.tId=w.userId,t.lPid=w.presenterUid,e.sendWup2("mfui","getMakeFriendsPKInfo",t,V)}()}function H(e){w.isMakeFriend&&setTimeout((function(e){var t=e.tNotice,i="//www.huya.com/";I&&(i="//test-www.huya.com/"),t.iRoomId&&t.iRoomId>0?i+=t.iRoomId:i+="yy/"+t.lYYId,window.location.href=i}),3e3,e)}function G(e){w.isMakeFriend&&(0!=k&&2!=k||(W(e,!1),Z(),X()))}function V(t){r=t.tPKInfo,function(){var t=new T.GetMeetingStatByUidReq;t.tId=w.userId,t.lUid=w.presenterUid,t.lSessionId=0,e.sendWup2("mfui","getMeetingStatByPresenterUid",t,Y)}()}function W(e,t){var i=e.lPKSessionId,n=e.iStatus;d=i>0&&(0==n||3==n);var r,a=e.lRemainingSecond;$("#mf-pk-logo").css("display",d?"block":"none"),i>0&&f!=n&&(f=n,0==n&&(h=a,q(),clearInterval(p),p=setInterval(q,1e3)),0!=n||t||(r="url("+w.H5ROOT+"src/img/output/mf-pk.webp?"+Math.random()+")",$("#mf-pk-logo-effect").css("background",r),$("#mf-pk-logo").hide(),$("#mf-pk-logo-effect").show(),setTimeout((function(){$("#mf-pk-logo-effect").hide(),$("#mf-pk-logo").show()}),1200))),1==n||2==n&&re("PK已关闭，回到正常直播"),function(e){var t=e.tTeam1,i=e.tTeam2,n=e.iStatus,r=t.lScore,a=i.lScore,o=$("#mf-pk-bar-left");o.find("span").text(t.lScore),o.removeClass("mf-pk-bar-left-bg mf-pk-bar-left-negative-bg"),o.addClass(r>=0?"mf-pk-bar-left-bg":"mf-pk-bar-left-negative-bg");var s=$("#mf-pk-bar-right");s.find("span").text(i.lScore),s.removeClass("mf-pk-bar-right-bg mf-pk-bar-right-negative-bg"),s.addClass(a>=0?"mf-pk-bar-right-bg":"mf-pk-bar-right-negative-bg");var c=$("#mf-pk-charm-left");c.removeClass("mf-pk-charm-left-bg mf-pk-charm-left-negative-bg"),c.addClass(r>=0?"mf-pk-charm-left-bg":"mf-pk-charm-left-negative-bg");var l=$("#mf-pk-charm-right");l.removeClass("mf-pk-charm-right-bg mf-pk-charm-right-negative-bg"),l.addClass(a>=0?"mf-pk-charm-right-bg":"mf-pk-charm-right-negative-bg");var u=$("#mf-pk-result-left"),d=$("#mf-pk-result-right");u.css("display",3==n?"block":"none"),d.css("display",3==n?"block":"none"),3==n&&(u.removeClass("mf-pk-result-win mf-pk-result-lose mf-pk-result-draw"),d.removeClass("mf-pk-result-win mf-pk-result-lose mf-pk-result-draw"),r>a?(u.addClass("mf-pk-result-win"),d.addClass("mf-pk-result-lose")):r==a?(u.addClass("mf-pk-result-draw"),d.addClass("mf-pk-result-draw")):(u.addClass("mf-pk-result-lose"),d.addClass("mf-pk-result-win")))}(e)}function q(){if($("#mf-pk-count-down-fire").css("display",h>0&&h<31?"block":"none"),h<0)return clearInterval(p),void $("#mf-pk-count-down").find("span").text("已结束");var e=E.formatTime(h);$("#mf-pk-count-down").find("span").text(e),h--}function j(e){if(w.isMakeFriend){var t=e.uid;if(t!=w.presenterUid){var i=ne(t);i&&i.showWaveEffect()}else!function(){if(u)return;u=!0,(P=y.find(".wave-effect")).show(),P.attr("src",R),clearTimeout(z),z=setTimeout((function(){P.hide(),u=!1}),2e3)}()}}S.addEvent(S.MAKEFIREND_TEMPLATE_CHANGE,D),w.isMakeFriend&&(B(),w.wsconnected?O():S.addEvent(S.WEBSOCKET_INITED,O),S.addEvent(S.NEW_VIDEO,M));var z=0;function Y(t){S.fireEvent(S.SET_MEETING_STAT,t),ee();var c=t.tStat,u=(n=c.tStat).iState;v=w.openMFVideo&&n.mpContext.value.has_video&&1==n.mpContext.value.has_video&&null!=w.streamInfo&&w.hasVideo,se(n),g=null!=w.streamInfo&&w.hasVideo,w.hasMFVideo=v,w.useCdnAll=g,w.hasVirtualPk=x,w.hasMFVideo||w.useCdnAll?w.vplayer.play():w.vplayer.hideLoading(),k=n.iModeV2,pe&&he(pe),A=i("4ZS2")(),$(A).prependTo("#player-video"),y=$(".make-friend-present"),J(),K();var d=c.vSeats.value;if(C=d,s=[],1!=u&&0==d.length)for(var p=0;p<8;p++){var h=new T.MeetingSeat;h.sName=p+1+"麦",h.iLocked=1,d.push(h)}for(var f=0,m=(p=0,d.length);p<m;p++){var _=d[p];if(0==_.iSeatTypeV2){f++;var I=new a(l,e);4!=f&&8!=f||I.item().addClass("last")}else I=new o(l,e,k);I.setData(_),s.push(I)}te(d),0!=k&&2!=k||(!function(e){y.find("#make-friend-present-head").attr("src",e.sPresenterAvatarUrl||b.avatarImg);var t=E.setLongString(e.sPresenterNick||b.pnick,5);y.find(".make-friend-nick").text(t),y.find(".make-friend-nick").css("top","107px"),y.find(".wave").css({width:"102px",height:"102px"}),e.iGender?y.find(".make-friend-head").css("border","2px solid #96caff"):y.find(".make-friend-head").css("border","2px solid #ffa5f0");y.find(".make-friend-present-close-mic").css("display",e.iSilence||e.iMute?"block":"none")}(n),W(r,!0),Z()),$("#player-wrap").resize((function(){X(),U()})),X(),function(){var t=new T.GetMakeFriendsAnnouncementReq;t.tId=w.userId,t.lUid=w.presenterUid,e.sendWup2("mfui","getMakeFriendsAnnouncement",t,ae)}(),function(){var t=new T.GetPassParcelPanelReq;t.tId=w.userId,t.lPid=w.presenterUid,e.sendWup2("wupui","getPassParcelPanel",t,ce)}()}function J(){y.css("display",0!=k&&2!=k||v?"none":"block"),$(".make-friend-top-wrap").css("display",1==k||3==k?"flex":"none"),$(".make-friend-radio-view").css("display",4==k?"block":"none")}function K(){x?($("#make-friend-video-virtual-pk").show(),$(".make-friend-wrap").hide()):($("#make-friend-video-virtual-pk").hide(),$(".make-friend-wrap").show()),$("#make-friend-video-cotainer").css("display",v?"block":"none")}function Z(){for(var e=0,t=s.length;e<t;e++){var i=s[e].pos();d?1==i||3==i||5==i||7==i?s[e].item().css("margin-right","32px"):2!=i&&6!=i||s[e].item().css("margin-right","110px"):4!=i&&8!=i&&s[e].item().css("margin-right","58px")}$(".make-friend-pk-wrap").css("display",d?"block":"none")}function X(){if(w.isMakeFriend){var t=$(".make-friend-wrap");window.devicePixelRatio>=1.2?t.addClass("big-pixel-ratio"):t.removeClass("big-pixel-ratio");var i=$("#player-video").width(),n=$("#player-video").height(),r=t.width(),a=t.height();d&&(a+=60);var o,s,c=(i-r)/2,l=(n-a)/2;l=Math.max(0,l),t.css({left:c,top:l}),o=fe(),s={key:"linkMicAvatar",list:o},e.trigger("nativeCompOffsetChange",s)}}function Q(e){if(w.isMakeFriend&&0!=s.length&&!(c>e.iVersion)){if(c=e.iVersion,n=e.tStat,v=w.openMFVideo&&n.mpContext.value.has_video&&1==n.mpContext.value.has_video&&null!=w.streamInfo&&w.hasVideo,g=null!=w.streamInfo&&w.hasVideo,se(n),!w.isUIPause)(!w.hasMFVideo&&v||!w.useCdnAll&&g||w.hasVirtualPk!=x)&&S.fireEvent(S.PLAY_AGAIN);if(w.hasMFVideo=v,w.useCdnAll=g,w.hasVirtualPk=x,J(),K(),S.fireEvent(S.SET_MEETING_STAT,e),k!=n.iModeV2)return ee(),w.vplayer.showLoading(),void O();var t=e.vSeats.value;C=t;for(var i=0,r=t.length;i<r;i++){var a=t[i],o=ie(a.iPos);o&&o.setData(a)}te(t),y.find(".make-friend-present-close-mic").css("display",e.tStat.iSilence||e.tStat.iMute?"block":"none"),X()}}function ee(){A&&($("#make-friend").unbind(),$("#make-friend").remove(),A=null),le&&le.clear()}function te(e){w.makeFriendData=[{pos:-1,tag:"主播",nick:n.sPresenterNick,uid:n.lPresenterUid,avatarUrl:n.sPresenterAvatarUrl}];for(var t=0,i=e.length;t<i;t++){var r=e[t];if(r.lUid>0&&r.lUid!=w.yyuid){var a=r.sName.replace("号麦位","麦"),o={pos:r.iPos,tag:a,nick:r.sNick,uid:r.lUid,avatarUrl:r.sAvatarUrl};w.makeFriendData.push(o)}}}function ie(e){for(var t=0,i=s.length;t<i;t++)if(e==s[t].pos())return s[t];return null}function ne(e){for(var t=0,i=s.length;t<i;t++)if(e==s[t].uid())return s[t];return null}function re(e){(t=$(".make-friend-tips")).show(),t.text(e),setTimeout((function(){t.fadeOut("normal",(function(){t.hide()}))}),2e3)}function ae(e){var t=e.sAnnouncement;$(".make-friend-announcement-content").text(t),$(".make-friend-announcement-open").click(oe),$(".make-friend-announcement-close").click(oe),_=!1}function oe(){_=!_,$(".make-friend-announcement-open").css("visibility",_?"visible":"hidden"),$(".make-friend-announcement-close").css("visibility",_?"hidden":"visible")}function se(e){x=e.mpContext.value.has_virtual_pk&&1==e.mpContext.value.has_virtual_pk}function ce(e){var t=e.tGameInfo,i=t.tRoundInfo,n=t.tSetting;de(i.lUid,2,n.iPassItemType)}var le=null;function ue(e){var t=e.tGameInfo,i=e.iEventType,n=t.tRoundInfo,r=t.tSetting;de(n.lUid,i,r.iPassItemType)}function de(t,n,r){if(1==n&&le&&le.clear(),t>0){var a=ne(t);if(a){if(null==le){var o=i("X7lR");le=new o(e)}le.setData(a,n,r)}}}var pe=null;function he(e){-1!=k?(e({res:0,msg:"成功",data:{mode:k}}),pe=null):pe=e}function fe(){var e=[],t=s.length;if(t>0)var i=$(".make-friend-head-container"),n=$(".player-wrap"),r=E.getPos(i[0]),a=E.getPos(n[0]),o=r.left-a.left,c=r.top-a.top+20;for(var l=0;l<t;l++){var u=s[l].getData(),d=s[l].item(),p={uid:0,avatarUrl:"",nick:""};if(u&&u.lUid>0){var h=u.sNick,f=u.sAvatarUrl;p={uid:u.lUid,avatarUrl:f,nick:h}}p=JSON.stringify(p);var m=d.find(".make-friend-head"),v=m.outerWidth(),g=m.outerHeight(),y=d.position(),_=o+y.left,w=c+y.top;e.push({left:_,top:w,width:v,height:g,props:p})}return e}this.showTips=re,this.getJoinMicUserList=function(){if(!w.isMakeFriend)return{res:-2,msg:"不是交友直播间",data:[]};var e=[];for(var t in C){var i=C[t],n=i.lUid;if(0!=n){var r=i.sNick,a=i.sAvatarUrl,o=i.iSeatTypeV2,s=i.iPos,c=i.sName;e.push({uid:n,userNick:r,userAvatarUrl:a,status:1,seatType:o,pos:s,seatName:c})}}return{res:0,msg:"成功",data:e}},this.getMakeFriendMode=he,this.getNativeCompOffset=function(){return{res:0,msg:"成功",data:{list:fe()}}}}},"0r9D":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<div class='player-ob-watch'>\n  <span>全新赛事观看模式，如上帝般自由操作</span>\n  <div class='player-ob-tip1'></div>\n  <div class='player-ob-tip2'></div>\n  <div class='player-ob-btn'>我知道了</div>\n</div>",__filename="src/tpl/others/ob-watch.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append("<div class='player-ob-watch'>\n  <span>全新赛事观看模式，如上帝般自由操作</span>\n  <div class='player-ob-tip1'></div>\n  <div class='player-ob-tip2'></div>\n  <div class='player-ob-btn'>我知道了</div>\n</div>"),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"14aF":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="danmu-item-effect">\n    <div class="head"></div>\n    <div class="content">\n        <div class="bg"></div>\n        <span></span>\n    </div>\n    <div class="tail"></div>\n</div>',__filename="src/tpl/danmu/danmu-item-effect.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="danmu-item-effect">\n    <div class="head"></div>\n    <div class="content">\n        <div class="bg"></div>\n        <span></span>\n    </div>\n    <div class="tail"></div>\n</div>'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"1P5h":function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.utils,a=e.taf,o=e.Event,s=e.Console,c=e.R,l=i("TIXe");function u(e){if("hidden"!=n.visibilityState){var i=e.iControlBy,a=e.lPid,u=e.vBulletScreen,d=e.lUid,p=e.sReportData;if(!(1===i&&n.isShieldingEffect||a&&n.presenterUid!=a)){var h=d==n.yyuid,f=!0,m=!1,v=void 0;try{for(var g,y=function(){var e=g.value,i=e.sAction;if(0==l.default(n.userId.sHuYaUA,e.sUAFilter))return"continue";var a=n.isMakeFriend?e.iJiaoyouBackgroundColor:n.isYanzhi?e.iYanzhiBackgroundColor:e.iBrightBackgroundColor,u=n.isMakeFriend?e.iJiaoyouBorderColor:n.isYanzhi?e.iYanzhiBorderColor:e.iBrightBorderColor;w=$('<div class="danmu-item rich-text"></div>'),a&&w.css("background-color",r.argbToRgbaNew(a)),h&&(w.addClass("is-self"),u&&w.css("border","1px solid ".concat(r.argbToRgbaNew(u))));var d=!0,f=!1,m=void 0;try{for(var v,y=e.vContent.value[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;if(_.sIcon)S=$('<img src="'.concat(_.sIcon,'"/>')),w.append(S),_.iIconRadius&&S.css("border-radius",_.iIconRadius+"%");else if(_.sText){var C=n.isMakeFriend?_.iJiaoyouColor:n.isYanzhi?_.iYanzhiColor:_.iBrightColor;b=r.xss(_.sText),I=$("<span>".concat(b,"</span>")),w.append(I),C&&I.css("color",r.argbToRgbaNew(C))}}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}if(E=null,p){T=r.unescapeHTML(p);try{s.log("MessageRichTextNotice sReportData parse:",T),E=JSON.parse(T),s.log("MessageRichTextNotice sReportData parse:",E),E.area=0,E.screen_type="horizontal",c.newHuyaReport({eid_desc:"曝光弹幕条目内容",eid:"show/barrage_item",prop:JSON.stringify(E)},"huya_web")}catch(e){s.error("MessageRichTextNotice sReportData parse error:",e)}}i&&(w.css("cursor","pointer"),w.on("click",(function(){o.fireEvent(o.HY_ACTION_NEW,i),E&&c.newHuyaReport({eid_desc:"点击弹幕条目内容",eid:"click/barrage_item",prop:JSON.stringify(E)},"huya_web")}))),k={msg:"富文本弹幕",messageRichItem:w},t.addDanmu(k)},_=u.value[Symbol.iterator]();!(f=(g=_.next()).done);f=!0){var w,S,b,I,E,T,k;y()}}catch(e){m=!0,v=e}finally{try{f||null==_.return||_.return()}finally{if(m)throw v}}}}}e.addTafListener("2001231",u),window.testMessageRichText=function(){var e=new a.HUYA.MessageRichTextNotice;e.iControlBy=0,e.iFloatTime=0,e.lPid=1199513192683,e.sReportData="{&quot;barrage_name&quot;:&quot;markScore2barrage&quot;,&quot;object_ext&quot;:&quot;{\n\t&quot;competitor_id&quot; : 18891,\n\t&quot;score&quot; : 6\n}&quot;}";var t=new a.HUYA.MessageRichText;t.sAction="https://m.huya.com/?hyaction=halfscreenmodal&type=2&url=http%3A%2F%2Fm.huya.com%3Fhyaction%3Dnewrn%26rnmodule%3Dkiwi-PlayerScoringPage%26rnentry%3DPlayerScoringPage%26hideBar%3Dtrue%26halfWindow%3D1%26statusbarLiteContent%3Dtrue%26playerId%3D6791%26fromScene%3D7%26commonObjectCard%3DARqHEAcmqWh0dHBzOi8vdi1odXlhLXBpYy5odXlhLmNvbS92aHV5YS82ZjQ0YzNiNi1hZjQzLTQ5MWItYmI4Yi1hNmUxNGUxNTk3YWMuanBnP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLGxpbWl0XzAsbV9sZml0LHdfMTQwL3NoYXJwZW4sODAvZm9ybWF0LGpwZy9pbnRlcmxhY2UsMS9xdWFsaXR5LHFfOTA2DOa1i%252BivleWvueixoUaA5qyi5LmQ5aSa55yL5LiA5LiL6IuP5YiG5YWs5Y%252B45Yqf5aSrSUdVVumVnFZWRkZG6K%252Bl566X5rOV5ZiO5Y%252BR57uZ5Zue5p2l5ZCO6KGl5Y2h5pKt5pS%252B5bmy5ZWl5Yqf5aSr5ZKW5ZWh5piv5Y%252BR5q%252BUdXPlj5HmlLnku5jniLFVQB2ZmZmZmZphAY9w%252F4NoR5nnQopCQpZDNy4z5YiG77yf55yL5p2l5rWL6K%252BV5a%252B56LGh5oqK5Y%252BN5ZCRUee7g%252BaIkOS6humakOiXj%252BWIhuWvhueggeWRouOAgqYI6JmO5bCPQWm2Zmh0dHBzOi8vdGVzdC1odXlhaW1nLm1zc3RhdGljLmNvbS9hdmF0YXIvMTAxMi9kNS9kMWJmNDQ4YzZjNzgyNzQwMjU2NzJkOWI0ZTYzYzRfMTgwXzEzNS5qcGc%252FMTczMzkxMDcyNMYA0WPn5iZodHRwczovL2xpdmV3ZWJiczIubXNzdGF0aWMuY29tLzEyLnBuZ%252FYPByMzRjNFNzn4EAAJBgpjYXRlZ29yeUlkFgI0MwYMY2F0ZWdvcnlOYW1lFgblqLHkuZAGEGNvbW1lbnRUYWJEYXJrQmsWKWh0dHBzOi8vbGl2ZXdlYmJzMi5tc3N0YXRpYy5jb20vY2FyZDEucG5nBhFjb21tZW50VGFiTGlnaHRCaxYpaHR0cHM6Ly9saXZld2ViYnMyLm1zc3RhdGljLmNvbS9jYXJkMS5wbmcGF2ZpcnN0X21vbV9kaXNwbGF5X3RpdGxlFkM3LjPliIbvvJ%252FnnIvmnaXmtYvor5Xlr7nosaHmiorlj43lkJFR57uD5oiQ5LqG6ZqQ6JeP5YiG5a%252BG56CB5ZGi44CCBg5maXJzdF9tb21faWNvbhZmaHR0cHM6Ly90ZXN0LWh1eWFpbWcubXNzdGF0aWMuY29tL2F2YXRhci8xMDEyL2Q1L2QxYmY0NDhjNmM3ODI3NDAyNTY3MmQ5YjRlNjNjNF8xODBfMTM1LmpwZz8xNzMzOTEwNzI0BhJmaXJzdF9tb21fbmlja25hbWUWCOiZjuWwj0FpBgtmaXJzdF9tb21pZBYTNzUxNDE0MzcyMTgyMzgxNDIxMAYFc2NvcmUWAzcuM%252FYRSmh0dHBzOi8vdi1odXlhLXBpYy5odXlhLmNvbS92aHV5YS82ZjQ0YzNiNi1hZjQzLTQ5MWItYmI4Yi1hNmUxNGUxNTk3YWMuanBn%252FBL2EylodHRwczovL2xpdmV3ZWJiczIubXNzdGF0aWMuY29tL3NoYXJlLnBuZ%252FYUAPYVAPYWAPYXJmh0dHBzOi8vbGl2ZXdlYmJzMi5tc3N0YXRpYy5jb20vMTIucG5n9hgOc3R5bGXmpZrlrrblhpv2GTzkuIfniannmoblj6%252For4TnmoTmma7pgJror4TliIbotoXlrZfmlbDpqozor4HkuIDkuIvlkaLopoHmiKrwGgM%253D",t.sUAFilter="adr,ios:12.0.80~|webh5:*";var i=new a.HUYA.MessageRichTextItem;i.sText="海风测试",i.iBrightColor=-6708566,i.iDarkColor=-8355712,i.iIconRadius=0,i.iImmersionColor=-8355712,i.iJiaoyouColor=-7873281,i.iYanzhiColor=-7873281;var n=new a.HUYA.MessageRichTextItem;n.sIcon="https://v-huya-pic.huya.com/vhuya/6f44c3b6-af43-491b-bb8b-a6e14e1597ac.jpg?x-oss-process=image/resize,limit_0,m_lfit,w_140/sharpen,80/format,jpg/interlace,1/quality,q_90",n.sText="",n.iBrightColor=0,n.iDarkColor=0,n.iIconRadius=50,n.iImmersionColor=0,n.iJiaoyouColor=0,n.iYanzhiColor=0;var r=new a.HUYA.MessageRichTextItem;r.sText="评分",r.iBrightColor=-6708566,r.iDarkColor=-8355712,r.iIconRadius=0,r.iImmersionColor=-8355712,r.iJiaoyouColor=-7873281,r.iYanzhiColor=-7873281,t.vContent.value.push(i),t.vContent.value.push(n),t.vContent.value.push(r),e.vBulletScreen.value.push(t),u(e)}}},"1uat":function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("MlIO"),function(){var e=n,t=e.lib.Hasher,i=e.x64,r=i.Word,a=i.WordArray,o=e.algo;function s(){return r.create.apply(r,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new a.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],u=i[5],d=i[6],p=i[7],h=n.high,f=n.low,m=r.high,v=r.low,g=a.high,y=a.low,_=o.high,w=o.low,S=s.high,b=s.low,I=u.high,E=u.low,T=d.high,k=d.low,C=p.high,x=p.low,A=h,R=f,P=m,L=v,M=g,D=y,B=_,N=w,U=S,F=b,O=I,H=E,G=T,V=k,W=C,q=x,j=0;j<80;j++){var z,Y,$=l[j];if(j<16)Y=$.high=0|e[t+2*j],z=$.low=0|e[t+2*j+1];else{var J=l[j-15],K=J.high,Z=J.low,X=(K>>>1|Z<<31)^(K>>>8|Z<<24)^K>>>7,Q=(Z>>>1|K<<31)^(Z>>>8|K<<24)^(Z>>>7|K<<25),ee=l[j-2],te=ee.high,ie=ee.low,ne=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,re=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),ae=l[j-7],oe=ae.high,se=ae.low,ce=l[j-16],le=ce.high,ue=ce.low;Y=(Y=(Y=X+oe+((z=Q+se)>>>0<Q>>>0?1:0))+ne+((z+=re)>>>0<re>>>0?1:0))+le+((z+=ue)>>>0<ue>>>0?1:0),$.high=Y,$.low=z}var de,pe=U&O^~U&G,he=F&H^~F&V,fe=A&P^A&M^P&M,me=R&L^R&D^L&D,ve=(A>>>28|R<<4)^(A<<30|R>>>2)^(A<<25|R>>>7),ge=(R>>>28|A<<4)^(R<<30|A>>>2)^(R<<25|A>>>7),ye=(U>>>14|F<<18)^(U>>>18|F<<14)^(U<<23|F>>>9),_e=(F>>>14|U<<18)^(F>>>18|U<<14)^(F<<23|U>>>9),we=c[j],Se=we.high,be=we.low,Ie=W+ye+((de=q+_e)>>>0<q>>>0?1:0),Ee=ge+me;W=G,q=V,G=O,V=H,O=U,H=F,U=B+(Ie=(Ie=(Ie=Ie+pe+((de+=he)>>>0<he>>>0?1:0))+Se+((de+=be)>>>0<be>>>0?1:0))+Y+((de+=z)>>>0<z>>>0?1:0))+((F=N+de|0)>>>0<N>>>0?1:0)|0,B=M,N=D,M=P,D=L,P=A,L=R,A=Ie+(ve+fe+(Ee>>>0<ge>>>0?1:0))+((R=de+Ee|0)>>>0<de>>>0?1:0)|0}f=n.low=f+R,n.high=h+A+(f>>>0<R>>>0?1:0),v=r.low=v+L,r.high=m+P+(v>>>0<L>>>0?1:0),y=a.low=y+D,a.high=g+M+(y>>>0<D>>>0?1:0),w=o.low=w+N,o.high=_+B+(w>>>0<N>>>0?1:0),b=s.low=b+F,s.high=S+U+(b>>>0<F>>>0?1:0),E=u.low=E+H,u.high=I+O+(E>>>0<H>>>0?1:0),k=d.low=k+V,d.high=T+G+(k>>>0<V>>>0?1:0),x=p.low=x+q,p.high=C+W+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(n+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),n.SHA512)},"2+kj":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="urlscheme-guide">\n    <div class="guide-title-wrap">\n        <div class="title">web端畅玩微信小游戏</div>\n        <div class="close"></div>\n    </div>\n    <div class="guide-ani"></div>\n    <div class="guide-text">勾选“始终允许打开链接”，并点击“打开 Wechat”</div>\n    <div class="dont-prompt-again">\n        <div class="sw-checkbox"></div>\n        <p>不再提示</p>\n    </div>\n</div>',__filename="src/tpl/ad/urlscheme-guide.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="urlscheme-guide">\n    <div class="guide-title-wrap">\n        <div class="title">web端畅玩微信小游戏</div>\n        <div class="close"></div>\n    </div>\n    <div class="guide-ani"></div>\n    <div class="guide-text">勾选“始终允许打开链接”，并点击“打开 Wechat”</div>\n    <div class="dont-prompt-again">\n        <div class="sw-checkbox"></div>\n        <p>不再提示</p>\n    </div>\n</div>'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"2Xuc":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="small-handle-tip popup-slide-in">\n    <img class="logo" />\n    <div class="content">\n        <div class="title-group">\n            <div class="title"></div>\n        </div>\n        <div class="subtitle"></div>\n        <div class="tag-list"></div>\n    </div>\n    <div class="download-btn">立即下载</div>\n    <div class="close-btn"></div>\n    <div class="smallhandle-qr-code-wrap">\n        <div class="top-group"><img /><div class="title"></div></div>\n        <div class="smallhandle-qr-code"></div>\n        <span id="small-handle-tip-text">打开虎牙APP，扫码试玩</span>\n    </div>\n</div>',__filename="src/tpl/smallhandle/smallhandle-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="small-handle-tip popup-slide-in">\n    <img class="logo" />\n    <div class="content">\n        <div class="title-group">\n            <div class="title"></div>\n        </div>\n        <div class="subtitle"></div>\n        <div class="tag-list"></div>\n    </div>\n    <div class="download-btn">立即下载</div>\n    <div class="close-btn"></div>\n    <div class="smallhandle-qr-code-wrap">\n        <div class="top-group"><img /><div class="title"></div></div>\n        <div class="smallhandle-qr-code"></div>\n        <span id="small-handle-tip-text">打开虎牙APP，扫码试玩</span>\n    </div>\n</div>'),__line=17;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"2YGp":function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r="-1",a={name:"na",version:r};function o(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}var s=o("String"),c=o("RegExp"),l=o("Object"),u=o("Function");function d(e,t,i,n){var o=a;!function(e,t){for(var i=0,n=e.length;i<n&&!1!==t.call(e,e[i],i);i++);}(t,(function(t){var i=function(e,t,i){var n=u(t)?t.call(null,i):t;if(!n)return null;var a={name:e,version:r,codename:""};if(!0===n)return a;if(s(n)){if(-1!==i.indexOf(n))return a}else{if(l(n))return n.hasOwnProperty("version")&&(a.version=n.version),a;if(c(n)){var o=n.exec(i);if(o)return o.length>=2&&o[1]?a.version=o[1].replace(/_/g,"."):a.version=r,a}}}(t[0],t[1],e);if(i)return o=i,!1})),i.call(n,o.name,o.version)}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rules=t}return n(e,[{key:"parse",value:function(e){e=(e||"").toLowerCase();var t={};d(e,this._rules.device,(function(e,i){var n=parseFloat(i);t.device={name:e,version:n,fullVersion:i},t.device[e]=n}),t),d(e,this._rules.os,(function(e,i){var n=parseFloat(i);t.os={name:e,version:n,fullVersion:i},t.os[e]=n}),t);var i=this.IEMode(e);return d(e,this._rules.engine,(function(e,n){var r=n;i&&(n=i.engineVersion||i.engineMode,r=i.engineMode);var a=parseFloat(n);t.engine={name:e,version:a,fullVersion:n,mode:parseFloat(r),fullMode:r,compatible:!!i&&i.compatible},t.engine[e]=a}),t),d(e,this._rules.browser,(function(e,n){var r=n;i&&("ie"===e&&(n=i.browserVersion),r=i.browserMode);var a=parseFloat(n);t.browser={name:e,version:a,fullVersion:n,mode:parseFloat(r),fullMode:r,compatible:!!i&&i.compatible},t.browser[e]=a}),t),t}},{key:"IEMode",value:function(e){if(!this._rules.re_msie.test(e))return null;var t,i,n=void 0,r=void 0,a=void 0;if(-1!==e.indexOf("trident/")&&(n=/\btrident\/([0-9.]+)/.exec(e))&&n.length>=2){r=n[1];var o=n[1].split(".");o[0]=parseInt(o[0],10)+4,a=o.join(".")}i=(n=this._rules.re_msie.exec(e))[1];var s=n[1].split(".");return void 0===a&&(a=i),s[0]=parseInt(s[0],10)-4,t=s.join("."),void 0===r&&(r=t),{browserVersion:a,browserMode:i,engineVersion:r,engineMode:t,compatible:r!==t}}}]),e}();e.exports=p},"2Yw0":function(e,t,i){"use strict";i.r(t),i.d(t,"CLICK_AD_EI",(function(){return n})),i.d(t,"STARUP_JUMPING",(function(){return r})),i.d(t,"STARUP_CHECK_SUCCESS",(function(){return a})),i.d(t,"URLSCHEME_JUMPING",(function(){return o}));var n=4e6,r=4006001,a=4006002,o=4006070},"2s9n":function(e,t,i){e.exports=function(e,t){var n,r,a,o,s=this,c=e.G,l=e.Event,u=e.utils,d=e.ENV,p=null,h=null,f=0,m=55,v=24,g=null,y=i("wdHI"),_=i("FMYs"),w=i("WaOd"),S=i("alRd"),b=new i("7jgw"),I=null,E=null,T=[],k=8;function C(){clearTimeout(f),f=setTimeout(R,100)}function x(e){var t,i=e.vWebSpecilInfo.value[0].vPropsIdentity.value[0];return i?(t=i.sPropsWeb,(t=c.makeHttpsUrl(t)).split("&")[0]):""}function A(t){0!=T.length&&(u.stopPropagation(t),g.hasClass("arrow-down")?(g.removeClass("arrow-down"),E.hidePanel()):(g.addClass("arrow-down"),function(){null==E&&(E=new b(e,r)).setData(T,x);E.showPanel()}()))}function R(){var e=$(".player-gift-left").innerWidth(),t=$(".player-gift-right").innerWidth(),i=$("#player-gift-wrap").innerWidth()-e-t-($("#week-star-btn").outerWidth()+7),n=$(".player-face-list li").length*m,r=(i-=v)/m>>0;r>k&&(r=k),P=Math.min(r*m,n),$(".player-face-list").width(P)}this.getLayer=function(){return n},this.getSupport=function(){return o},n=$("#player-face"),h=new _,o=new w(e),l.addEvent(l.SHOW_GIFT_TIP,D),$("#player-gift-wrap").resize(C),l.addEvent(l.GIFT_RESIZE,C),(g=n.find(".player-face-arrow")).click(A),this.setData=function(t){!function(){p&&(p.unbind(),p.remove(),p=null);r&&r.clear()}(),T=t;var a=i("Y+xY")({propsList:t,ENV:d,getIconUrl:x,G:c});p=$(a),n.prepend(p),r=new y(s,e),E&&E.setData(T,x),C(),p.find("img").each(u.NoDrag)},this.sendGift=function(i,n,r,o){var s=c.newPropDict[i];a||(a=new S(e,t)),a.sendGift(s,n,r,o)},this.setGiftWeekStar=function(e){h.setGiftWeekStar(e)},this.updateWeekStar=function(e){h.updateWeekStar(e)},this.setSuperFansCount=function(e){var t=e.count,i=".player-face-gift[propsId=20317]";$(i)&&($(i).find(".player-superfans-card-count").css("display",t>0?"block":"none"),$(i).find(".player-superfans-card-count").text(t))};var P=0;var L=null,M=0;function D(e){null==L&&(L=i("BlJU"),n.append(L),$(".ext-gift-tip-close").click(B)),$("#ext-gift-tip").show(),$("#ext-gift-tip span").text(e.msg),clearTimeout(M),M=setTimeout((function(){B()}),1e4)}function B(){$("#ext-gift-tip").hide()}this.getGifIconUrl=function(e){var t,i=e.vWebSpecilInfo.value[0].vPropsIdentity.value[0];return i?(t=i.sPropsPicGif,(t=c.makeHttpsUrl(t)).split("&")[0]):""},this.getIconUrl=x,this.hasStar=function(e){return h.hasStar(e)},this.onSendGift=function(t){var r,a=t.iItemType,o=c.newPropDict[a],s=t.iItemCount,l=x(o);r=c.sendGiftFromPanel?n.find(".gift-panel-item"):n.find(".player-face-gift");var u=parseInt(a);c.isAllSendGift&&(u=c.currentAllSendGiftId);for(var d=0;d<r.length;d++){var p=$(r[d]);if(parseInt(p.attr("propsId"))==u){null==I&&(I=i("Dl3+")),new I(e).play(p,s,l);break}}},this.clearCombo=function(){r.clearCombo()},this.setCombo=function(e,t){r.setCombo(e,t)}}},"3HMh":function(e,t){function i(e){return e<128?[e]:e<2048?[192+(e>>6),128+(63&e)]:[224+(e>>12),128+(e>>6&63),128+(63&e)]}function n(e,t){this.typeNumber=-1,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=e,this.utf8bytes=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=i(e.charCodeAt(n)),a=0;a<r.length;a++)t.push(r[a]);return t}(e),this.make()}n.prototype={constructor:n,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++)this.modules[t]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,e),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+i][t+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},createQrcode:function(){for(var e=0,t=0,i=null,n=0;n<8;n++){this.makeImpl(n);var r=h.getLostPoint(this);(0==n||e>r)&&(e=r,t=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,t),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0,null==this.modules[6][e]&&(this.modules[6][e]=e%2==0))},setupPositionAdjustPattern:function(){for(var e=h.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var n=e[t],r=e[i];if(null==this.modules[n][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[n+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(e){for(var t=h.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(e,t){for(var i=r[this.errorCorrectLevel]<<3|t,n=h.getBCHTypeInfo(i),a=0;a<15;a++){var o=!e&&1==(n>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o;o=!e&&1==(n>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},createData:function(){var e=new y,t=this.typeNumber>9?16:8;e.put(4,4),e.put(this.utf8bytes.length,t);for(var i=0,r=this.utf8bytes.length;i<r;i++)e.put(this.utf8bytes[i],8);for(e.length+4<=8*this.totalDataCount&&e.put(0,4);e.length%8!=0;)e.putBit(!1);for(;!(e.length>=8*this.totalDataCount||(e.put(n.PAD0,8),e.length>=8*this.totalDataCount));)e.put(n.PAD1,8);return this.createBytes(e)},createBytes:function(e){for(var t=0,i=0,n=0,r=this.rsBlock.length/3,a=new Array,o=0;o<r;o++)for(var s=this.rsBlock[3*o+0],c=this.rsBlock[3*o+1],l=this.rsBlock[3*o+2],u=0;u<s;u++)a.push([l,c]);for(var d=new Array(a.length),p=new Array(a.length),f=0;f<a.length;f++){var m=a[f][0],g=a[f][1]-m;i=Math.max(i,m),n=Math.max(n,g),d[f]=new Array(m);for(o=0;o<d[f].length;o++)d[f][o]=255&e.buffer[o+t];t+=m;var y=h.getErrorCorrectPolynomial(g),_=new v(d[f],y.getLength()-1).mod(y);p[f]=new Array(y.getLength()-1);for(o=0;o<p[f].length;o++){var w=o+_.getLength()-p[f].length;p[f][o]=w>=0?_.get(w):0}}var S=new Array(this.totalDataCount),b=0;for(o=0;o<i;o++)for(f=0;f<a.length;f++)o<d[f].length&&(S[b++]=d[f][o]);for(o=0;o<n;o++)for(f=0;f<a.length;f++)o<p[f].length&&(S[b++]=p[f][o]);return S},mapData:function(e,t){for(var i=-1,n=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[n][o-s]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1)),h.getMask(t,n,o-s)&&(c=!c),this.modules[n][o-s]=c,-1==--r&&(a++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}},n.PAD0=236,n.PAD1=17;for(var r=[1,0,3,2],a=0,o=1,s=2,c=3,l=4,u=5,d=6,p=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case a:return(t+i)%2==0;case o:return t%2==0;case s:return i%3==0;case c:return(t+i)%3==0;case l:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case u:return t*i%2+t*i%3==0;case d:return(t*i%2+t*i%3)%2==0;case p:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v([1],0),i=0;i<e;i++)t=t.multiply(new v([1,f.gexp(i)],0));return t},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,n=0,r=0;r<t;r++)for(var a=0,o=e.modules[r][0],s=0;s<t;s++){var c=e.modules[r][s];if(s<t-6&&c&&!e.modules[r][s+1]&&e.modules[r][s+2]&&e.modules[r][s+3]&&e.modules[r][s+4]&&!e.modules[r][s+5]&&e.modules[r][s+6]&&(s<t-10?e.modules[r][s+7]&&e.modules[r][s+8]&&e.modules[r][s+9]&&e.modules[r][s+10]&&(i+=40):s>3&&e.modules[r][s-1]&&e.modules[r][s-2]&&e.modules[r][s-3]&&e.modules[r][s-4]&&(i+=40)),r<t-1&&s<t-1){var l=0;c&&l++,e.modules[r+1][s]&&l++,e.modules[r][s+1]&&l++,e.modules[r+1][s+1]&&l++,0!=l&&4!=l||(i+=3)}o^c?a++:(o=c,a>=5&&(i+=3+a-5),a=1),c&&n++}for(s=0;s<t;s++)for(a=0,o=e.modules[0][s],r=0;r<t;r++){c=e.modules[r][s];r<t-6&&c&&!e.modules[r+1][s]&&e.modules[r+2][s]&&e.modules[r+3][s]&&e.modules[r+4][s]&&!e.modules[r+5][s]&&e.modules[r+6][s]&&(r<t-10?e.modules[r+7][s]&&e.modules[r+8][s]&&e.modules[r+9][s]&&e.modules[r+10][s]&&(i+=40):r>3&&e.modules[r-1][s]&&e.modules[r-2][s]&&e.modules[r-3][s]&&e.modules[r-4][s]&&(i+=40)),o^c?a++:(o=c,a>=5&&(i+=3+a-5),a=1)}return i+=10*(Math.abs(100*n/t/t-50)/5)}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)f.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)f.EXP_TABLE[m]=f.EXP_TABLE[m-4]^f.EXP_TABLE[m-5]^f.EXP_TABLE[m-6]^f.EXP_TABLE[m-8];for(m=0;m<255;m++)f.LOG_TABLE[f.EXP_TABLE[m]]=m;function v(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<e.getLength();n++)t[i+n]^=f.gexp(f.glog(this.get(i))+f.glog(e.get(n)));return new v(t,0)},mod:function(e){var t=this.getLength(),i=e.getLength();if(t-i<0)return this;for(var n=new Array(t),r=0;r<t;r++)n[r]=this.get(r);for(;n.length>=i;){var a=f.glog(n[0])-f.glog(e.get(0));for(r=0;r<e.getLength();r++)n[r]^=f.gexp(f.glog(e.get(r))+a);for(;0==n[0];)n.shift()}return new v(n,0)}};var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];function y(){this.buffer=new Array,this.length=0}n.prototype.getRightType=function(){for(var e=1;e<41;e++){var t=g[4*(e-1)+this.errorCorrectLevel];if(null==t)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=t.length/3,n=0,r=0;r<i;r++){var a=t[3*r+0];n+=t[3*r+2]*a}var o=e>9?2:1;if(this.utf8bytes.length+o<n||40==e){this.typeNumber=e,this.rsBlock=t,this.totalDataCount=n;break}}},y.prototype={get:function(e){var t=Math.floor(e/8);return this.buffer[t]>>>7-e%8&1},put:function(e,t){for(var i=0;i<t;i++)this.putBit(e>>>t-i-1&1)},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},"3PPS":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="make-friend-item">\n \t<div class="make-friend-head">\n\t\t  <img src="">\n\t\t  <div class="make-friend-close-mic"><i></i></div>\n     </div>\n    <div class="make-friend-nick">获取中...</div>\n    <img class="wave-effect"></img>\n    <img class="make-friend-source-url"></img>\n    <img class="make-friend-seat-url"></img>\n    <div class="make-friend-charm"><i></i><span>0</span></div>\n    <div class="make-friend-seat-icon"></div>\n    <div class="make-friend-lock-icon"></div>\n</div>',__filename="src/tpl/makefriend/make-friend-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="make-friend-item">\n \t<div class="make-friend-head">\n\t\t  <img src="">\n\t\t  <div class="make-friend-close-mic"><i></i></div>\n     </div>\n    <div class="make-friend-nick">获取中...</div>\n    <img class="wave-effect"></img>\n    <img class="make-friend-source-url"></img>\n    <img class="make-friend-seat-url"></img>\n    <div class="make-friend-charm"><i></i><span>0</span></div>\n    <div class="make-friend-seat-icon"></div>\n    <div class="make-friend-lock-icon"></div>\n</div>'),__line=13;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"3bkb":function(e,t){function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e){var t=e.G,r=e.ISDEBUG,a=(e.Console,e.Event),o=e.logUtils,s=e.taf.HUYA,c=null;function l(e,t){a.fireEvent(a.DATA_METRIC_TEAM_VOICE,t)}function u(){t.isUIPause?p():t.matchTeamAudioPlay&&0==t.matchReplayStatus&&d()}function d(i){if(t.streamInfo){var n=new s.GetCdnTokenExReq;n.tId=t.userId,n.sFlvUrl=t.streamInfo.sFlvUrl,n.sStreamName=t.matchTeamAudioStreamName,e.sendWupNew("liveui","getCdnTokenInfoEx",n,s.GetCdnTokenExRsp).then((function(e){var n=e.sFlvToken;!function(e,i){var n=window.H5Player,a=t.streamInfo,s=a.mpExtArgs||{};s=s.value?s.value:s;var l={uid:t.isLogin?t.yyuid:t.anonymousUid,sGuid:t.getGuid(),sid:t.topsid,subSid:t.subsid,presenterUid:t.presenterUid,roomId:t.ENV.profileRoom,sStreamName:t.matchTeamAudioStreamName,h5Root:t.H5ROOT,liveType:1,gameId:t.gameId,lineType:t.videoLine,mpExtArgs:s,isPureAudio:!0};l.appid=r&&!t.ENV.online?t.vAppidTest:t.vAppid,l.businessType="HUYA",l.sFlvUrl=a.sFlvUrl,l.sFlvAntiCode=i,l.sFlvUrlSuffix=a.sFlvUrlSuffix,e&&(l.team_port=e.livevoice);l.type=n.FLV,o.log("音频流 ====start",l),c.start(l)}(i,n)}))}}function p(){o.log("音频流 stop"),c&&c.stop()}!function(){c=new window.H5Player,t.matchTeamAudioH5Player=c,c.setIDs(t.presenterUid,t.topsid,t.subsid,t.yyuid);c.setConfig("jitBufLen",4e3),c.setExtendConfig(t.sdkExtendConfig),c.setConfig("isProduce",r?0:1),c.setConfig("playerdata",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.ENV)),c.on(window.H5Player.Events.DATA_METRIC2,l),a.addEvent(a.VIDEO_PLAY_STAUS_CHANGE,u),a.addEvent("doSwitchLine",d)}(),this.playTeamVoice=d,this.stopTeamVoice=p,this.setVolume=function(e){c&&c.setVolume(e)}}},"3cGO":function(e,t){e.exports=function(e){var t=e.G,i=e.taf,n=e.utils,r=i.HUYA,a=[],o=!1;function s(){setTimeout((function(){c((function(){}))}),2e3+60*Math.random()*1e3)}function c(i){if(o)i(0);else{var n=new r.GetAllSubscribeToUidListReq;n.tId=t.userId,n.lUid=t.yyuid,e.sendWupNew("huyauserui","getAllSubscribeToUidList",n,r.GetAllSubscribeToUidListRsp).then((function(e){var n=e.bcode;if(0!=n)return i(n);a=e.vAllUid.value,t.tafSignal.on("uri:2410010",l),o=!0,i(n)}))}}function l(e){var i=e.iAction,n=e.lFromUid,r=e.lToUid;n==t.yyuid&&(1==i?function(e){a.includes(e)||a.push(e)}(r):2==i&&function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1)}(r))}e.userInfoInitedCallback(s),this.getAllSubscribeToUidList=function(e){return new Promise((function(i){if(!t.isLogin)return i({res:1009,msg:"用户未登陆",data:{}});c((function(t){0!=t&&i({res:2e3,msg:"服务异常",data:{}});var r=e.targetUidList,o=a;if(r&&r.length>0){var s=a.map(String);o=n.getIntersection(r,s)}i({res:0,msg:"成功",data:{vAllUid:o}})}))}))}}},"3e+A":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-marquee-noble-item" id=\'player-marquee-<%=id%>\'>\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <i></i><h3></h3>\n</div>\n',__filename="src/tpl/notice/marquee-noble.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-marquee-noble-item" id=\'player-marquee-'),__append(escapeFn(id)),__append('\'>\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <i></i><h3></h3>\n</div>\n'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"3fd8":function(e,t,i){e.exports=function(e){var t=e.G,n=e.R,r=e.Event,a=(e.ISDEBUG,e.Console,null),o=null,s=0;function c(){var e;t.isLogin||(e=i("HLlQ")(),$("#player-ctrl-wrap").append(e),o=$("#player-login-guide-tip"),$(".player-login-guide-close").click(u),$(".player-login-guide-text").click(l),s=setTimeout((function(){o.fadeOut("normal",(function(){o.hide()}))}),1e4),n.newHuyaReport({eid_desc:"曝光立即登录提醒toast",eid:"show/immediate_sign_toast",prop:JSON.stringify({scene:3})},"huya_web"))}function l(){e.popLogin(),n.huyuReport("Click/zhibo/logintips/login"),n.newHuyaReport({eid_desc:"点击立即登录提醒toast",eid:"click/immediate_sign_toast",prop:JSON.stringify({scene:3})},"huya_web")}function u(){clearTimeout(s),o&&(o.unbind(),o.remove())}function d(e){1==e&&a&&a.hide()}function p(){t.isUIPause?u():(t.isLoginTipShow=!1,a&&a.hide())}function h(){u()}t.isPlaying?c():r.addEvent(r.VIDEO_FIRST_PLAY,c),r.addEvent(r.VIDEO_PLAY_STAUS_CHANGE,p),r.addEvent("vipTimeShow",h),t.isLogin||r.addEvent(r.PAYMENT_WATCH_STATUS_CHANGE,d)}},"3y9D":function(e,t,i){var n,r,a,o,s,c,l,u;e.exports=(u=i("Ib8C"),r=(n=u).lib,a=r.WordArray,o=r.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var d=(n<<5|n>>>27)+s+c[l];d+=l<20?1518500249+(r&a|~r&o):l<40?1859775393+(r^a^o):l<60?(r&a|r&o|a&o)-1894007588:(r^a^o)-899497514,s=o,o=a,a=r<<30|r>>>2,r=n,n=d}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l),u.SHA1)},"465P":function(e,t,i){(function(e){var i,n,r,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * 
 */a=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=l(i(1)),s=l(i(3)),c=l(i(4));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=o(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(i),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===n(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,i=!!document.queryCommandSupported;return t.forEach((function(e){i=i&&!!document.queryCommandSupported(e)})),i}}]),t}();function d(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}e.exports=u},function(e,t,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=(n=i(2))&&n.__esModule?n:{default:n},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=c},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}},function(e,t){function i(){}i.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function r(){n.off(e,r),t.apply(i,arguments)}return r._=t,this.on(e,r,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],r=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&r.push(n[a]);return r.length?i[e]=r:delete i[e],this}},e.exports=i},function(e,t,i){var n=i(5),r=i(6);e.exports=function(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(e))return p=t,h=i,(d=e).addEventListener(p,h),{destroy:function(){d.removeEventListener(p,h)}};if(n.nodeList(e))return c=e,l=t,u=i,Array.prototype.forEach.call(c,(function(e){e.addEventListener(l,u)})),{destroy:function(){Array.prototype.forEach.call(c,(function(e){e.removeEventListener(l,u)}))}};if(n.string(e))return a=e,o=t,s=i,r(document.body,a,o,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var a,o,s,c,l,u,d,p,h}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var i=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,i){var n=i(7);function r(e,t,i,r,a){var o=function(e,t,i,r){return function(i){i.delegateTarget=n(i.target,t),i.delegateTarget&&r.call(e,i)}}.apply(this,arguments);return e.addEventListener(i,o,a),{destroy:function(){e.removeEventListener(i,o,a)}}}e.exports=function(e,t,i,n,a){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,i,n,a)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},"object"==o(t)&&"object"==o(e)?e.exports=a():(n=[],void 0===(r="function"==typeof(i=a)?i.apply(t,n):i)||(e.exports=r))}).call(this,i("YuTi")(e))},"49sm":function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},"4GXC":function(e,t,i){e.exports=function(e,t){var n,r=null,a=null,o=null,s=null,c=null,l=null,u=e.G,d=e.ENV,p=e.R;function h(){t.openVip&&t.openVip(1);var e=l,i=e.session_id,n=e.hasMpExtend,r=e.payment_type;if(n){var a={live_id:u.liveid,paylive_id:i,scene:1,room_id:d.profileRoom,anchor_uid:u.presenterUid,game_id:u.gameId,payment_type:r};p.newHuyaReport({eid_desc:"付费直播间解锁按钮点击",eid:"click/unlock_paylive",prop:JSON.stringify(a)},"huya_web")}}function f(){e.popLogin()}n=i("RQUF")(),r=$(n),$("#player-wrap").append(r),a=r.find(".content"),o=r.find(".title"),s=r.find("#player-vip-btn-open"),c=r.find("#player-vip-btn-login"),s.click(h),c.click(f),this.show=function(){r&&r.show()},this.hide=function(){r&&r.hide()},this.setData=function(e){var t=l=e,i=t.session_id,n=t.hasMpExtend,r=t.pay_button_text,h=t.is_renewal,f=t.payment_type,m="",v=e.title||"";if(1==e.type?(m=e.msg||"该直播为会员内容，请登录后观看",c.show(),s.hide()):(c.hide(),s.show(),m=e.msg||"开通会员可继续观看",r&&s.text(r)),o.text(v),a.text(m),n){var g={live_id:u.liveid,paylive_id:i,scene:1,room_id:d.profileRoom,anchor_uid:u.presenterUid,game_id:u.gameId,payment_type:f};g.status="1"==h?2:1,p.newHuyaReport({eid_desc:"付费直播间解锁界面曝光",eid:"show/unlock_paylive",prop:JSON.stringify(g)},"huya_web")}}}},"4ZS2":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="make-friend">\n     <div class="make-friend-bg"></div>\n\n     \n     <div class="make-friend-wrap">\n     \t<div class="make-friend-present">\n\t        <div class="make-friend-present-head">\n\t\t\t  <img id="make-friend-present-head" src="">\n              <div class="make-friend-present-close-mic"><i></i></div>\n\t     \t</div>\n    \t \t<div class="make-friend-nick">获取中...</div>\n            <img class="wave-effect wave-big"></img>\n\t    </div>\n\n        <div class="make-friend-top-wrap"></div>\n\n        <div class="make-friend-radio-view"></div>\n        \n        <div id="make-friend-video-cotainer">\n            <div class="make-friend-video-default"><i></i><span>加载中...</span></div>\n        </div>\n        <div class="make-friend-game">\n     \t    <div class="make-friend-head-container"></div>\n            <div id="mf-pk-logo"></div>\n            <div id="mf-pk-logo-effect"></div>\n            <div class="make-friend-pk-wrap">\n                <div id="mf-pk-bar-left" class="mf-pk-bar-left-bg"><span>1234</span></div>\n                <div id="mf-pk-bar-right" class="mf-pk-bar-right-bg"><span>15255</span></div>\n                <div id="mf-pk-charm-left" class="mf-pk-charm-left-bg"></div>\n                <div id="mf-pk-charm-right" class="mf-pk-charm-right-bg"></div>\n                <div id="mf-pk-result-left" class="mf-pk-result-win"></div>\n                <div id="mf-pk-result-right" class="mf-pk-result-lose"></div>\n                <div id="mf-pk-count-down"><span>00:00</span></div>\n                <div id="mf-pk-count-down-fire"></div>\n            </div>\n            <div class="make-friend-tips">下载虎牙APP，上麦和主播互动</div>\n        </div>\n     </div> \n    <div id="make-friend-video-virtual-pk"></div>\n    <div class="make-friend-announcement-close">\n         <div class="make-friend-announcement-title">房间介绍</div>\n         <div class="arrow-right"></div>\n    </div>\n\n    <div class="make-friend-announcement-open">\n         <div class="make-friend-announcement-title">房间介绍</div>\n         <div class="make-friend-announcement-content"></div>\n         <div class="make-friend-announcement-bottom">\n             <div class="arrow-left"></div>\n             <span>收起</span>\n         </div>\n     </div>\n</div>\n',__filename="src/tpl/makefriend/make-friend.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="make-friend">\n     <div class="make-friend-bg"></div>\n\n     \n     <div class="make-friend-wrap">\n     \t<div class="make-friend-present">\n\t        <div class="make-friend-present-head">\n\t\t\t  <img id="make-friend-present-head" src="">\n              <div class="make-friend-present-close-mic"><i></i></div>\n\t     \t</div>\n    \t \t<div class="make-friend-nick">获取中...</div>\n            <img class="wave-effect wave-big"></img>\n\t    </div>\n\n        <div class="make-friend-top-wrap"></div>\n\n        <div class="make-friend-radio-view"></div>\n        \n        <div id="make-friend-video-cotainer">\n            <div class="make-friend-video-default"><i></i><span>加载中...</span></div>\n        </div>\n        <div class="make-friend-game">\n     \t    <div class="make-friend-head-container"></div>\n            <div id="mf-pk-logo"></div>\n            <div id="mf-pk-logo-effect"></div>\n            <div class="make-friend-pk-wrap">\n                <div id="mf-pk-bar-left" class="mf-pk-bar-left-bg"><span>1234</span></div>\n                <div id="mf-pk-bar-right" class="mf-pk-bar-right-bg"><span>15255</span></div>\n                <div id="mf-pk-charm-left" class="mf-pk-charm-left-bg"></div>\n                <div id="mf-pk-charm-right" class="mf-pk-charm-right-bg"></div>\n                <div id="mf-pk-result-left" class="mf-pk-result-win"></div>\n                <div id="mf-pk-result-right" class="mf-pk-result-lose"></div>\n                <div id="mf-pk-count-down"><span>00:00</span></div>\n                <div id="mf-pk-count-down-fire"></div>\n            </div>\n            <div class="make-friend-tips">下载虎牙APP，上麦和主播互动</div>\n        </div>\n     </div> \n    <div id="make-friend-video-virtual-pk"></div>\n    <div class="make-friend-announcement-close">\n         <div class="make-friend-announcement-title">房间介绍</div>\n         <div class="arrow-right"></div>\n    </div>\n\n    <div class="make-friend-announcement-open">\n         <div class="make-friend-announcement-title">房间介绍</div>\n         <div class="make-friend-announcement-content"></div>\n         <div class="make-friend-announcement-bottom">\n             <div class="arrow-left"></div>\n             <span>收起</span>\n         </div>\n     </div>\n</div>\n'),__line=54;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"53D/":function(e,t){e.exports=function(e){var t=e.G;function i(e){t.vplayer.pushVoiceMuteInfo(e),t.matchTeamAudioH5Player&&t.matchTeamAudioH5Player.pushVoiceMuteInfo(e)}e.addTafListener("1200002",i)}},"53Ew":function(e,t,i){(function(t){e.exports=function(){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,i,n,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void i(e)}s.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var o=e.apply(t,i);function s(e){n(o,r,a,s,c,"next",e)}function c(e){n(o,r,a,s,c,"throw",e)}s(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var i,n=function(e,t){if(null==e)return{};for(var i,n={},r=Object.keys(e),a=0;a<r.length;a++)i=r[a],0<=t.indexOf(i)||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)i=r[a],0<=t.indexOf(i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i]);return n}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function g(e){this.time=e.time,this.target=e.target,this.rootBounds=b(e.rootBounds),this.boundingClientRect=b(e.boundingClientRect),this.intersectionRect=b(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect,e=(t=this.boundingClientRect).width*t.height;var t=(t=this.intersectionRect).width*t.height;this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function y(e,t){var i,n,r;if(t=t||{},"function"!=typeof e)throw new Error("callback must be a function");if(t.root&&1!=t.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r=r||setTimeout((function(){i(),r=null}),n)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(t.rootMargin),this.thresholds=this._initThresholds(t.threshold),this.root=t.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function _(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function w(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function S(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function b(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function I(e,t){var i=t.top-e.top;return{top:i,left:e=t.left-e.left,height:t.height,width:t.width,bottom:i+t.height,right:e+t.width}}function E(e,t){for(var i=t;i;){if(i==e)return!0;i=T(i)}return!1}function T(e){var t=e.parentNode;return 9==e.nodeType&&e!=k?v(e):t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}var k,C,x,A;"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(k=function(){for(var e=window.document,t=v(e);t;)t=v(e=t.ownerDocument);return e}(),C=[],A=x=null,y.prototype.THROTTLE_TIMEOUT=100,y.prototype.POLL_INTERVAL=null,y.prototype.USE_MUTATION_OBSERVER=!0,y._setupCrossOriginUpdater=function(){return x=x||function(e,t){A=e&&t?I(e,t):{top:0,bottom:0,left:0,right:0,width:0,height:0},C.forEach((function(e){e._checkForIntersections()}))}},y._resetCrossOriginUpdater=function(){A=x=null},y.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},y.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},y.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},y.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},y.prototype._initThresholds=function(e){return e=e||[0],Array.isArray(e)||(e=[e]),e.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},y.prototype._parseRootMargin=function(e){return(e=(e||"0px").split(/\s+/).map((function(e){if(!(e=/^(-?\d*\.?\d+)(px|%)$/.exec(e)))throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}})))[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},y.prototype._monitorIntersections=function(e){var t,i,n,r=e.defaultView;r&&-1==this._monitoringDocuments.indexOf(e)&&(t=this._checkForIntersections,n=i=null,this.POLL_INTERVAL?i=r.setInterval(t,this.POLL_INTERVAL):(_(r,"resize",t,!0),_(e,"scroll",t,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(n=new r.MutationObserver(t)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var r=e.defaultView;r&&(i&&r.clearInterval(i),w(r,"resize",t,!0)),w(e,"scroll",t,!0),n&&n.disconnect()})),e==(this.root&&this.root.ownerDocument||k)||(r=v(e))&&this._monitorIntersections(r.ownerDocument))},y.prototype._unmonitorIntersections=function(e){var t,i,n=this._monitoringDocuments.indexOf(e);-1!=n&&(t=this.root&&this.root.ownerDocument||k,this._observationTargets.some((function(i){if((n=i.element.ownerDocument)==e)return!0;for(;n&&n!=t;){var n,r=v(n);if((n=r&&r.ownerDocument)==e)return!0}return!1}))||(i=this._monitoringUnsubscribes[n],this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e==t||(i=v(e))&&this._unmonitorIntersections(i.ownerDocument)))},y.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var t=this._monitoringUnsubscribes.length=0;t<e.length;t++)e[t]()},y.prototype._checkForIntersections=function(){var e,t;!this.root&&x&&!A||(e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0},this._observationTargets.forEach((function(i){var n=i.element,r=S(n),a=this._rootContainsTarget(n),o=i.entry,s=e&&a&&this._computeTargetAndRootIntersection(n,r,t);s=i.entry=new g({time:window.performance&&performance.now&&performance.now(),target:n,boundingClientRect:r,rootBounds:x&&!this.root?null:t,intersectionRect:s}),o?e&&a?this._hasCrossedThreshold(o,s)&&this._queuedEntries.push(s):o&&o.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},y.prototype._computeTargetAndRootIntersection=function(e,t,i){if("none"!=window.getComputedStyle(e).display){for(var n=t,r=T(e),a=!1;!a&&r;){var o,s,c,l,u=null,d=1==r.nodeType?window.getComputedStyle(r):{};if("none"==d.display)return null;if(r==this.root||9==r.nodeType?(a=!0,r==this.root||r==k?x&&!this.root?!A||0==A.width&&0==A.height?n=u=r=null:u=A:u=i:(s=(o=T(r))&&S(o),c=o&&this._computeTargetAndRootIntersection(o,s,i),s&&c?(r=o,u=I(s,c)):n=r=null)):r!=(l=r.ownerDocument).body&&r!=l.documentElement&&"visible"!=d.overflow&&(u=S(r)),u&&(o=u,s=n,u=d=l=c=void 0,c=Math.max(o.top,s.top),l=Math.min(o.bottom,s.bottom),d=Math.max(o.left,s.left),u=Math.min(o.right,s.right),s=l-c,n=0<=(o=u-d)&&0<=s?{top:c,bottom:l,left:d,right:u,width:o,height:s}:null),!n)break;r=r&&T(r)}return n}},y.prototype._getRootRect=function(){var e,t;return t=this.root?S(this.root):(e=k.documentElement,t=k.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(t)},y.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100}));return(t={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]}).width=t.right-t.left,t.height=t.bottom-t.top,t},y.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var a=this.thresholds[r];if(a==i||a==n||a<i!=a<n)return!0}},y.prototype._rootIsInDom=function(){return!this.root||E(k,this.root)},y.prototype._rootContainsTarget=function(e){return E(this.root||k,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},y.prototype._registerInstance=function(){C.indexOf(this)<0&&C.push(this)},y.prototype._unregisterInstance=function(){var e=C.indexOf(this);-1!=e&&C.splice(e,1)},window.IntersectionObserver=y,window.IntersectionObserverEntry=g));var R=function(e){var t,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(e,t,i){e[t]=i.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(i){l=function(e,t,i){return e[t]=i}}function u(e,i,n,a){var o,s,c,l;return i=i&&i.prototype instanceof g?i:g,i=Object.create(i.prototype),a=new k(a||[]),r(i,"_invoke",{value:(o=e,s=n,c=a,l=p,function(e,i){if(l===f)throw new Error("Generator is already running");if(l===m){if("throw"===e)throw i;return{value:t,done:!0}}for(c.method=e,c.arg=i;;){var n=c.delegate;if(n){var r=function e(i,n){var r,a=n.method;return(r=i.iterator[a])===t?(n.delegate=null,"throw"===a&&i.iterator.return&&(n.method="return",n.arg=t,e(i,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),v):"throw"===(r=d(r,i.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,v):(r=r.arg)?r.done?(n[i.resultName]=r.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,c);if(r){if(r===v)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===p)throw l=m,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);if(l=f,"normal"===(r=d(o,s,c)).type){if(l=c.done?m:h,r.arg!==v)return{value:r.arg,done:c.done}}else"throw"===r.type&&(l=m,c.method="throw",c.arg=r.arg)}})}),i}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function g(){}function y(){}function _(){}var w={};l(w,o,(function(){return this})),(a=(a=Object.getPrototypeOf)&&a(a(C([]))))&&a!==i&&n.call(a,o)&&(w=a);var S=_.prototype=g.prototype=Object.create(w);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t((function(i,o){!function i(r,a,o,s){if("throw"!==(r=d(e[r],e,a)).type){var c=r.arg;return(a=c.value)&&"object"==typeof a&&n.call(a,"__await")?t.resolve(a.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(a).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(r.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}})}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(null!=e){if(i=e[o])return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i,r=-1;return(i=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i}).next=i}}throw new TypeError(typeof e+" is not iterable")}return r(S,"constructor",{value:y.prototype=_,configurable:!0}),r(_,"constructor",{value:y,configurable:!0}),y.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},b(I.prototype),l(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new I(u(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,i=Object(e),n=[];for(t in i)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return s.type="throw",s.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),T(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n,r=i.completion;return"throw"===r.type&&(n=r.arg,T(i)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:C(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=R}catch(y){"object"==typeof globalThis?globalThis.regeneratorRuntime=R:Function("r","regeneratorRuntime = r")(R)}function P(){}function L(){L.init.call(this)}function M(e){return void 0===e._maxListeners?L.defaultMaxListeners:e._maxListeners}function D(e,t,i,n){var r,a;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return(r=e._events)?(r.newListener&&(e.emit("newListener",t,i.listener||i),r=e._events),a=r[t]):(r=e._events=new P,e._eventsCount=0),a?("function"==typeof a?a=r[t]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),a.warned||(n=M(e))&&0<n&&a.length>n&&(a.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=a.length,n=n,"function"==typeof console.warn?console.warn(n):console.log(n))):(a=r[t]=i,++e._eventsCount),e}function B(e,t,i){var n=!1;function r(){e.removeListener(t,r),n||(n=!0,i.apply(e,arguments))}return r.listener=i,r}function N(e){var t=this._events;if(t){if("function"==typeof(e=t[e]))return 1;if(e)return e.length}return 0}function U(e,t){for(var i=new Array(t);t--;)i[t]=e[t];return i}P.prototype=Object.create(null),(L.EventEmitter=L).usingDomains=!1,L.prototype.domain=void 0,L.prototype._events=void 0,L.prototype._maxListeners=void 0,L.defaultMaxListeners=10,L.init=function(){this.domain=null,L.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new P,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},L.prototype.getMaxListeners=function(){return M(this)},L.prototype.emit=function(e,t,i,n){var r,a,o,s="error"===e,c=this._events;if(c)s=s&&null==c.error;else if(!s)return!1;if(l=this.domain,s){if(s=t,l)return(s=s||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,s.domain=l,s.domainThrown=!1,l.emit("error",s),!1;if(s instanceof Error)throw s;var l=new Error('Uncaught, unspecified "error" event. ('+s+")");throw l.context=s,l}if(!(r=c[e]))return!1;var u,d="function"==typeof r;switch(u=arguments.length){case 1:!function(e,t,i){if(t)e.call(i);else for(var n=e.length,r=U(e,n),a=0;a<n;++a)r[a].call(i)}(r,d,this);break;case 2:!function(e,t,i,n){if(t)e.call(i,n);else for(var r=e.length,a=U(e,r),o=0;o<r;++o)a[o].call(i,n)}(r,d,this,t);break;case 3:!function(e,t,i,n,r){if(t)e.call(i,n,r);else for(var a=e.length,o=U(e,a),s=0;s<a;++s)o[s].call(i,n,r)}(r,d,this,t,i);break;case 4:!function(e,t,i,n,r,a){if(t)e.call(i,n,r,a);else for(var o=e.length,s=U(e,o),c=0;c<o;++c)s[c].call(i,n,r,a)}(r,d,this,t,i,n);break;default:for(a=new Array(u-1),o=1;o<u;o++)a[o-1]=arguments[o];!function(e,t,i,n){if(t)e.apply(i,n);else for(var r=e.length,a=U(e,r),o=0;o<r;++o)a[o].apply(i,n)}(r,d,this,a)}return!0},L.prototype.addListener=function(e,t){return D(this,e,t,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(e,t){return D(this,e,t,!0)},L.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,B(this,e,t)),this},L.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,B(this,e,t)),this},L.prototype.removeListener=function(e,t){var i,n,r,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(i=n[e]))return this;if(i===t||i.listener&&i.listener===t)0==--this._eventsCount?this._events=new P:(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,a=i.length;0<a--;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=i[a].listener,r=a;break}if(r<0)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new P,this;delete n[e]}else!function(e,t){for(var i=t,n=i+1,r=e.length;n<r;i+=1,n+=1)e[i]=e[n];e.pop()}(i,r);n.removeListener&&this.emit("removeListener",e,o||t)}return this},L.prototype.removeAllListeners=function(e){var t,i=this._events;if(!i)return this;if(!i.removeListener)return 0===arguments.length?(this._events=new P,this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=new P:delete i[e]),this;if(0===arguments.length){for(var n,r=Object.keys(i),a=0;a<r.length;++a)"removeListener"!==(n=r[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new P,this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this},L.prototype.listeners=function(e){var t=this._events,i=t&&(i=t[e])?"function"==typeof i?[i.listener||i]:function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(i):[];return i},L.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):N.call(e,t)},L.prototype.listenerCount=N,L.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var F=new function(){var e=window.console,t=localStorage.log;this.log=function(){"1"==t&&e.log.apply(e,arguments)},this.info=function(){"1"==t&&e.info.apply(e,arguments)},this.warn=function(){"1"==t&&e.warn.apply(e,arguments)},this.error=function(){"1"==t&&e.error.apply(e,arguments)},this.debug=function(){"1"==t&&e.debug.apply(e,arguments)},this.trace=function(){"1"==t&&e.trace.apply(e,arguments)}},O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function H(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G(e,t){return e(t={exports:{}},t.exports),t.exports}var V,W=(V=Object.freeze({__proto__:null,default:{}}))&&V.default||V,q=G((function(e,t){e.exports=e=function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==O&&O.crypto&&(t=O.crypto),!t)try{t=W}catch(r){}var i=Object.create||function(e){return n.prototype=e,e=new n,n.prototype=null,e};function n(){}var r={},a=r.lib={},o=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var o=i[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=o<<24-(n+a)%4*8}else for(var s=0;s<r;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var i=[],n=0;n<e;n+=4)i.push(function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new s.init(i,e)}}),c=r.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(i,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(i,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,a=n.sigBytes,o=this.blockSize,c=a/(4*o),l=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*o;if(a=e.min(4*l,a),l){for(var u=0;u<l;u+=o)this._doProcessBlock(r,u);i=r.splice(0,l),n.sigBytes-=a}return new s.init(i,a)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(a.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}}),r.algo={});return r}(Math)})),j=(G((function(e,t){var i;e.exports=(i=q,function(e){var t=i,n=(a=t.lib).WordArray,r=a.Hasher,a=t.algo,o=[],s=[];!function(){function t(e){return 4294967296*(e-(0|e))|0}for(var i=2,n=0;n<64;)!function(t){for(var i=e.sqrt(t),n=2;n<=i;n++)if(!(t%n))return;return 1}(i)||(n<8&&(o[n]=t(e.pow(i,.5))),s[n]=t(e.pow(i,1/3)),n++),i++}();var c=[];a=a.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],l=i[4],u=i[5],d=i[6],p=i[7],h=0;h<64;h++){h<16?c[h]=0|e[t+h]:(m=((v=c[h-15])<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,v=((f=c[h-2])<<15|f>>>17)^(f<<13|f>>>19)^f>>>10,c[h]=m+c[h-7]+v+c[h-16]);var f=n&r^n&a^r&a,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),v=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&d)+s[h]+c[h];p=d,d=u,u=l,l=o+v|0,o=a,a=r,r=n,n=v+(m+f)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+l|0,i[5]=i[5]+u|0,i[6]=i[6]+d|0,i[7]=i[7]+p|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(64+r>>>9<<4)]=e.floor(n/4294967296),i[15+(64+r>>>9<<4)]=n,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(a),t.HmacSHA256=r._createHmacHelper(a)}(Math),i.SHA256)})),G((function(e,t){var i;e.exports=(i=q,void function(){var e=i.lib.Base,t=i.enc.Utf8;i.algo.HMAC=e.extend({init:function(e,i){e=this._hasher=new e.init,"string"==typeof i&&(i=t.parse(i));var n=e.blockSize,r=4*n;i.sigBytes>r&&(i=e.finalize(i)),i.clamp(),e=this._oKey=i.clone(),i=this._iKey=i.clone();for(var a=e.words,o=i.words,s=0;s<n;s++)a[s]^=1549556828,o[s]^=909522486;e.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}())})),G((function(e,t){e.exports=q.HmacSHA256}))),z=function(e){return e=0<arguments.length&&void 0!==e?e:2,(document.domain||location.hostname).split(".").reverse().splice(0,e).reverse().join(".")}()||"huya.com";function Y(){return J.get("game_did")}var $,J={set:function(e,t,i){var n=new Date;i?n.setTime(n.getTime()+i):n.setTime(n.getTime()+31536e8),n="expires="+n.toUTCString(),t=encodeURI(t),document.cookie=e+"="+t+"; "+n+";domain=."+z+";path=/"},get:function(e){for(var t=e,i=document.cookie.split(";"),n=0;n<i.length;n++){var r=i[n].split("=");if(r[0].trim()===t)return r[1]}return""},del:function(e){var t=new Date;t.setTime(t.getTime()-1);var i=this.get(e);i&&(this.set(e,"",-1),document.cookie=e+"="+i+";domain=."+z+";expires="+t.toGMTString())}};function K(e){var t,i;return(e=e?(t={},i=e,Object.keys(i).forEach((function(e){"string"==typeof i[e]&&(i[e]=i[e].trim()),null!==i[e]&&""!==i[e]&&void 0!==i[e]&&(t[e]=i[e])})),t):{}).timestamp=(new Date).getTime(),e.nonce=function(e){for(var t=0<arguments.length&&void 0!==e?e:32,i="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=i.length,r="",a=0;a<t;a++)r+=i.charAt(Math.floor(Math.random()*n));return r}(),e._s=function(e,t){var i,n,r;return t=t||Y(),console.log("key:",t),e instanceof Object&&(n=e,r={},Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),i=e=r,e=Object.keys(i).map((function(e){return"".concat(e,"=").concat(i[e])})).join("&")),console.log("value:",e,",key:",t),j(e,t).toString()}(e,J.get("guid")),e}Y()||(et=function(e){for(var t=0<arguments.length&&void 0!==e?e:35,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",n="",r=0;r<t;r++)n+=i.charAt(parseInt(Math.random()*(i.length-1)));return n}(),$=et,J.set("game_did",$)),function(e){e=0<arguments.length&&void 0!==e?e:2,(document.domain||location.hostname).split(".").reverse().splice(0,e).reverse().join(".")}(),J.get("guid"),J.get("yyuid");var Z=function(e){var t="";return Object.entries(e).forEach((function(e){e=(i=f(e,2))[0];var i=i[1];return t+="".concat(t?"&":"").concat(e,"=").concat(encodeURIComponent(i))})),t};function X(e,t,i,n,r){t=1<arguments.length&&void 0!==t?t:"GET",i=2<arguments.length?i:void 0;var a=3<arguments.length?n:void 0,o=4<arguments.length?r:void 0,s=new XMLHttpRequest;r=function e(){4===s.readyState&&(200<=s.status&&s.status<300||304===s.status||302===s.status?a&&a(s.response):o&&o(s.status),s.removeEventListener("readystatechange",e),s=void 0)},s.addEventListener("readystatechange",r),s.open(t,e,!0),s.setRequestHeader("Content-Type","GET"===t?"text/plain":"application/x-www-form-urlencoded"),s.send(i)}function Q(e,t,i){t=1<arguments.length&&void 0!==t?t:{};var n=2<arguments.length?i:void 0;i=e.split("?"),t=K(l({e:e=i[1].replace("e=","")},t)),X("".concat(i[0]),"POST",Z(t),(function(e){n&&n(e)}),(function(e){console.error(e),F.log("report ad-sdk 内部上报出错：",e)}))}function ee(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0;try{X("".concat(e).concat(0<=e.indexOf("?")?"&":"?").concat(Z(t)),"GET",{},(function(e){i&&i(e)}),(function(e){console.error(e),F.log("report ad-sdk 第三方请求出错：",e)}))}catch(e){F.log("report ad-sdk ajax请求出错：",e)}}function te(e,t,i){try{var n="".concat(e).concat(0<=e.indexOf("?")?"&":"?").concat(Z(t)),r=new Image;r.onload=function(){i&&i(),r=null},r.onerror=function(e){F.log("report ad-sdk img请求上报失败",e)},r.src=n}catch(e){F.log("report ad-sdk img请求上报失败",e)}}function ie(e){return e.startsWith("ams-")}function ne(e){ue=e}function re(e){de=e}function ae(){return pe}function oe(){return ue}function se(){return de}function ce(){return he}function le(){var e="",t="";function i(){var i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})||{};return e&&(i.adenv_sQIMEI32=e),t&&(i.adenv_sQIMEI36=t),i}!function(){var n,r,a=function(){try{var e=JSON.parse(localStorage.getItem("qimeiData"));if(e&&e.expiry>(new Date).getTime())return e.data}catch(e){return null}return null}();a?(n=a.q32,r=a.q36,e=n,t=r,F.log("getLocalQimei",a),ne(i((a=oe())||{}))):function(){var n=document.createElement("script"),r="https://staticfile.qq.com/qimei/qimeisdk-web/".concat("0.6.3","/index.js");n.src=r,document.head.appendChild(n),F.log("Bengin Load qimeiUrl",r),n.onload=function(){try{var n=new QimeiWeb({appKey:"13d3dc2903c20700"});F.log("getQimei36"),n.getQimei36(!1).then((function(n){var r=n.q32,a=n.q36;F.log("getQimeiData",n),(r||a)&&(n={data:n,expiry:(new Date).getTime()+6048e5},e=r,t=a,localStorage.setItem("qimeiData",JSON.stringify(n)),ne(i((n=oe())||{})))}))}catch(n){F.log("getQimei36 Error",n)}}}()}(),this.setEnvQimei=i}var ue={},de=!1,pe={type:(dt=/huya-pc/.test(navigator.userAgent.toLowerCase()))?8:4,deviceId:navigator.userAgent},he={},fe=void 0,me=dt,ve=function(e){return(e=""+e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'")},ge=function(){return de?"//ttc.gdt.qq.com/uid/egs":"https://xs.gdt.qq.com/uid/egs"},ye=function(){return{appid:6,appkey:"28457bf3636cc91e"}},_e=(G((function(e,t){var i;e.exports=(i=q,function(){var e,t=(e=i.lib).Base,n=e.WordArray;(e=i.x64={}).Word=t.extend({init:function(e,t){this.high=e,this.low=t}}),e.WordArray=t.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],r=0;r<t;r++){var a=e[r];i.push(a.high),i.push(a.low)}return n.create(i,this.sigBytes)},clone:function(){for(var e=t.clone.call(this),i=e.words=this.words.slice(0),n=i.length,r=0;r<n;r++)i[r]=i[r].clone();return e}})}(),i)})),G((function(e,t){var i;e.exports=(i=q,function(){var e,t;"function"==typeof ArrayBuffer&&(e=i.lib.WordArray,t=e.init,(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var i=e.byteLength,n=[],r=0;r<i;r++)n[r>>>2]|=e[r]<<24-r%4*8;t.call(this,n,i)}else t.apply(this,arguments)}).prototype=e)}(),i.lib.WordArray)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i.lib.WordArray,t=i.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}t.Utf16=t.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r+=2){var a=t[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r++)n[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return e.create(n,2*i)}},t.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],a=0;a<i;a+=2){var o=n(t[a>>>2]>>>16-a%4*8&65535);r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var i=t.length,r=[],a=0;a<i;a++)r[a>>>1]|=n(t.charCodeAt(a)<<16-a%2*16);return e.create(r,2*i)}}}(),i.enc.Utf16)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i.lib.WordArray;i.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],a=0;a<i;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<i;s++)r.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var i=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<n.length;a++)r[n.charCodeAt(a)]=a}var o=n.charAt(64);return!o||-1!==(o=t.indexOf(o))&&(i=o),function(t,i,n){for(var r=[],a=0,o=0;o<i;o++){var s,c;o%4&&(s=n[t.charCodeAt(o-1)]<<o%4*2,c=n[t.charCodeAt(o)]>>>6-o%4*2,c|=s,r[a>>>2]|=c<<24-a%4*8,a++)}return e.create(r,a)}(t,i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i.lib.WordArray;i.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var i=e.words,n=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var a=[],o=0;o<n;o+=3)for(var s=(i[o>>>2]>>>24-o%4*8&255)<<16|(i[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|i[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<n;c++)a.push(r.charAt(s>>>6*(3-c)&63));var l=r.charAt(64);if(l)for(;a.length%4;)a.push(l);return a.join("")},parse:function(t,i){void 0===i&&(i=!0);var n=t.length,r=i?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var o=0;o<r.length;o++)a[r.charCodeAt(o)]=o}return!(i=r.charAt(64))||-1!==(i=t.indexOf(i))&&(n=i),function(t,i,n){for(var r=[],a=0,o=0;o<i;o++){var s,c;o%4&&(s=n[t.charCodeAt(o-1)]<<o%4*2,c=n[t.charCodeAt(o)]>>>6-o%4*2,c|=s,r[a>>>2]|=c<<24-a%4*8,a++)}return e.create(r,a)}(t,n,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)})),G((function(e,t){var i;e.exports=(i=q,function(e){var t=i,n=(a=t.lib).WordArray,r=a.Hasher,a=t.algo,o=[];function s(e,t,i,n,r,a,o){return((o=e+(t&i|~t&n)+r+o)<<a|o>>>32-a)+t}function c(e,t,i,n,r,a,o){return((o=e+(t&n|i&~n)+r+o)<<a|o>>>32-a)+t}function l(e,t,i,n,r,a,o){return((o=e+(t^i^n)+r+o)<<a|o>>>32-a)+t}function u(e,t,i,n,r,a,o){return((o=e+(i^(t|~n))+r+o)<<a|o>>>32-a)+t}!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}(),a=a.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,d=e[t+0],p=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],_=e[t+8],w=e[t+9],S=e[t+10],b=e[t+11],I=e[t+12],E=e[t+13],T=e[t+14],k=e[t+15],C=s(C=a[0],R=a[1],A=a[2],x=a[3],d,7,o[0]),x=s(x,C,R,A,p,12,o[1]),A=s(A,x,C,R,h,17,o[2]),R=s(R,A,x,C,f,22,o[3]);C=s(C,R,A,x,m,7,o[4]),x=s(x,C,R,A,v,12,o[5]),A=s(A,x,C,R,g,17,o[6]),R=s(R,A,x,C,y,22,o[7]),C=s(C,R,A,x,_,7,o[8]),x=s(x,C,R,A,w,12,o[9]),A=s(A,x,C,R,S,17,o[10]),R=s(R,A,x,C,b,22,o[11]),C=s(C,R,A,x,I,7,o[12]),x=s(x,C,R,A,E,12,o[13]),A=s(A,x,C,R,T,17,o[14]),C=c(C,R=s(R,A,x,C,k,22,o[15]),A,x,p,5,o[16]),x=c(x,C,R,A,g,9,o[17]),A=c(A,x,C,R,b,14,o[18]),R=c(R,A,x,C,d,20,o[19]),C=c(C,R,A,x,v,5,o[20]),x=c(x,C,R,A,S,9,o[21]),A=c(A,x,C,R,k,14,o[22]),R=c(R,A,x,C,m,20,o[23]),C=c(C,R,A,x,w,5,o[24]),x=c(x,C,R,A,T,9,o[25]),A=c(A,x,C,R,f,14,o[26]),R=c(R,A,x,C,_,20,o[27]),C=c(C,R,A,x,E,5,o[28]),x=c(x,C,R,A,h,9,o[29]),A=c(A,x,C,R,y,14,o[30]),C=l(C,R=c(R,A,x,C,I,20,o[31]),A,x,v,4,o[32]),x=l(x,C,R,A,_,11,o[33]),A=l(A,x,C,R,b,16,o[34]),R=l(R,A,x,C,T,23,o[35]),C=l(C,R,A,x,p,4,o[36]),x=l(x,C,R,A,m,11,o[37]),A=l(A,x,C,R,y,16,o[38]),R=l(R,A,x,C,S,23,o[39]),C=l(C,R,A,x,E,4,o[40]),x=l(x,C,R,A,d,11,o[41]),A=l(A,x,C,R,f,16,o[42]),R=l(R,A,x,C,g,23,o[43]),C=l(C,R,A,x,w,4,o[44]),x=l(x,C,R,A,I,11,o[45]),A=l(A,x,C,R,k,16,o[46]),C=u(C,R=l(R,A,x,C,h,23,o[47]),A,x,d,6,o[48]),x=u(x,C,R,A,y,10,o[49]),A=u(A,x,C,R,T,15,o[50]),R=u(R,A,x,C,v,21,o[51]),C=u(C,R,A,x,I,6,o[52]),x=u(x,C,R,A,f,10,o[53]),A=u(A,x,C,R,S,15,o[54]),R=u(R,A,x,C,p,21,o[55]),C=u(C,R,A,x,_,6,o[56]),x=u(x,C,R,A,k,10,o[57]),A=u(A,x,C,R,g,15,o[58]),R=u(R,A,x,C,E,21,o[59]),C=u(C,R,A,x,m,6,o[60]),x=u(x,C,R,A,b,10,o[61]),A=u(A,x,C,R,h,15,o[62]),R=u(R,A,x,C,w,21,o[63]),a[0]=a[0]+C|0,a[1]=a[1]+R|0,a[2]=a[2]+A|0,a[3]=a[3]+x|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var a=e.floor(n/4294967296);n=n,i[15+(64+r>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(64+r>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process();for(var o=(i=this._hash).words,s=0;s<4;s++){var c=o[s];o[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return i},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.MD5=r._createHelper(a),t.HmacMD5=r._createHmacHelper(a)}(Math),i.MD5)}))),we=(G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,a=[];r=r.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],s=i[3],c=i[4],l=0;l<80;l++){l<16?a[l]=0|e[t+l]:(u=a[l-3]^a[l-8]^a[l-14]^a[l-16],a[l]=u<<1|u>>>31);var u=(n<<5|n>>>27)+c+a[l];u+=l<20?1518500249+(r&o|~r&s):l<40?1859775393+(r^o^s):l<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,c=s,s=o,o=r<<30|r>>>2,r=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=Math.floor(i/4294967296),t[15+(64+n>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(r),e.HmacSHA1=n._createHmacHelper(r)}(),i.SHA1)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),i.SHA224)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.Hasher,n=(a=e.x64).Word,r=a.WordArray,a=e.algo;function o(){return n.create.apply(n,arguments)}var s=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=o()}(),a=a.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i,n=(i=this._hash.words)[0],r=i[1],a=i[2],o=i[3],l=i[4],u=i[5],d=i[6],p=i[7],h=n.high,f=n.low,m=r.high,v=r.low,g=a.high,y=a.low,_=o.high,w=o.low,S=l.high,b=l.low,I=u.high,E=u.low,T=d.high,k=d.low,C=p.high,x=h,A=f,R=m,P=v,L=g,M=y,D=_,B=w,N=S,U=b,F=I,O=E,H=T,G=k,V=C,W=i=p.low,q=0;q<80;q++){var j,z,Y=c[q];q<16?(z=Y.high=0|e[t+2*q],j=Y.low=0|e[t+2*q+1]):(X=((J=(ie=c[q-15]).high)>>>1|(Q=ie.low)<<31)^(J>>>8|Q<<24)^J>>>7,ee=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),te=((Z=($=c[q-2]).high)>>>19|(K=$.low)<<13)^(Z<<3|K>>>29)^Z>>>6,ie=(K>>>19|Z<<13)^(K<<3|Z>>>29)^(K>>>6|Z<<26),z=(z=(z=X+(Q=c[q-7]).high+((j=ee+Q.low)>>>0<ee>>>0?1:0))+te+((j+=ie)>>>0<ie>>>0?1:0))+(J=c[q-16]).high+((j+=$=J.low)>>>0<$>>>0?1:0),Y.high=z,Y.low=j);var $,J,K=N&F^~N&H,Z=U&O^~U&G,X=x&R^x&L^R&L,Q=A&P^A&M^P&M,ee=(x>>>28|A<<4)^(x<<30|A>>>2)^(x<<25|A>>>7),te=(A>>>28|x<<4)^(A<<30|x>>>2)^(A<<25|x>>>7),ie=V+(ie=(N>>>14|U<<18)^(N>>>18|U<<14)^(N<<23|U>>>9))+((J=W+(J=(U>>>14|N<<18)^(U>>>18|N<<14)^(U<<23|N>>>9)))>>>0<W>>>0?1:0);V=H,W=G,H=F,G=O,F=N,O=U,N=D+(ie=(ie=(ie=ie+K+((J+=Z)>>>0<Z>>>0?1:0))+(Y=($=s[q]).high)+((J+=$=$.low)>>>0<$>>>0?1:0))+z+((J+=j)>>>0<j>>>0?1:0))+((U=B+J|0)>>>0<B>>>0?1:0)|0,D=L,B=M,L=R,M=P,R=x,P=A,x=ie+(ee+X+((Q=te+Q)>>>0<te>>>0?1:0))+((A=J+Q|0)>>>0<J>>>0?1:0)|0}f=n.low=f+A,n.high=h+x+(f>>>0<A>>>0?1:0),v=r.low=v+P,r.high=m+R+(v>>>0<P>>>0?1:0),y=a.low=y+M,a.high=g+L+(y>>>0<M>>>0?1:0),w=o.low=w+B,o.high=_+D+(w>>>0<B>>>0?1:0),b=l.low=b+U,l.high=S+N+(b>>>0<U>>>0?1:0),E=u.low=E+O,u.high=I+F+(E>>>0<O>>>0?1:0),k=d.low=k+G,d.high=T+H+(k>>>0<G>>>0?1:0),i=p.low=i+W,p.high=C+V+(i>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(128+n>>>10<<5)]=Math.floor(i/4294967296),t[31+(128+n>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),e.SHA512=t._createHelper(a),e.HmacSHA512=t._createHmacHelper(a)}(),i.SHA512)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(a=e.x64).Word,n=a.WordArray,r=(a=e.algo).SHA512,a=a.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(a),e.HmacSHA384=r._createHmacHelper(a)}(),i.SHA384)})),G((function(e,t){var i;e.exports=(i=q,function(e){var t=i,n=(o=t.lib).WordArray,r=o.Hasher,a=t.x64.Word,o=t.algo,s=[],c=[],l=[];!function(){for(var e=1,t=0,i=0;i<24;i++){s[e+5*t]=(i+1)*(i+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var u,d=0,p=0,h=0;h<7;h++)1&r&&((u=(1<<h)-1)<32?p^=1<<u:d^=1<<u-32),128&r?r=r<<1^113:r<<=1;l[o]=a.create(d,p)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=a.create()}(),o=o.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,n=this.blockSize/2,r=0;r<n;r++){var a=16711935&((a=e[t+2*r])<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&((o=e[t+2*r+1])<<8|o>>>24)|4278255360&(o<<24|o>>>8);(k=i[r]).high^=o,k.low^=a}for(var d=0;d<24;d++){for(var p=0;p<5;p++){for(var h=0,f=0,m=0;m<5;m++)h^=(k=i[p+5*m]).high,f^=k.low;var v=u[p];v.high=h,v.low=f}for(p=0;p<5;p++){var g=u[(p+4)%5],y=(_=u[(p+1)%5]).high,_=_.low;for(h=g.high^(y<<1|_>>>31),f=g.low^(_<<1|y>>>31),m=0;m<5;m++)(k=i[p+5*m]).high^=h,k.low^=f}for(var w=1;w<25;w++){var S=(k=i[w]).high,b=k.low,I=s[w];f=I<32?(h=S<<I|b>>>32-I,b<<I|S>>>32-I):(h=b<<I-32|S>>>64-I,S<<I-32|b>>>64-I),(I=u[c[w]]).high=h,I.low=f}var E=u[0],T=i[0];for(E.high=T.high,E.low=T.low,p=0;p<5;p++)for(m=0;m<5;m++){var k=i[w=p+5*m],C=u[w],x=u[(p+1)%5+5*m],A=u[(p+2)%5+5*m];k.high=C.high^~x.high&A.high,k.low=C.low^~x.low&A.low}k=i[0],T=l[d],k.high^=T.high,k.low^=T.low}},_doFinalize:function(){var t=this._data,i=t.words,r=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;i[r>>>5]|=1<<24-r%32,i[(e.ceil((1+r)/a)*a>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var o=this._state,s=(i=this.cfg.outputLength/8)/8,c=[],l=0;l<s;l++){var u=16711935&((u=(d=o[l]).high)<<8|u>>>24)|4278255360&(u<<24|u>>>8),d=16711935&((d=d.low)<<8|d>>>24)|4278255360&(d<<24|d>>>8);c.push(d),c.push(u)}return new n.init(c,i)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}}),t.SHA3=r._createHelper(o),t.HmacSHA3=r._createHmacHelper(o)}(Math),i.SHA3)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,a=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]);function d(e,t,i){return e&t|~e&i}function p(e,t,i){return e&i|t&~i}function h(e,t){return e<<t|e>>>32-t}r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var f,m,v,g,y,_,w=this._hash.words,S=l.words,b=u.words,I=a.words,E=o.words,T=s.words,k=c.words,C=f=w[0],x=m=w[1],A=v=w[2],R=g=w[3],P=y=w[4];for(i=0;i<80;i+=1)_=f+e[t+I[i]]|0,_+=i<16?(m^v^g)+S[0]:i<32?d(m,v,g)+S[1]:i<48?((m|~v)^g)+S[2]:i<64?p(m,v,g)+S[3]:(m^(v|~g))+S[4],_=(_=h(_|=0,T[i]))+y|0,f=y,y=g,g=h(v,10),v=m,m=_,_=C+e[t+E[i]]|0,_+=i<16?(x^(A|~R))+b[0]:i<32?p(x,A,R)+b[1]:i<48?((x|~A)^R)+b[2]:i<64?d(x,A,R)+b[3]:(x^A^R)+b[4],_=(_=h(_|=0,k[i]))+P|0,C=P,P=R,R=h(A,10),A=x,x=_;_=w[1]+v+R|0,w[1]=w[2]+g+P|0,w[2]=w[3]+y+C|0,w[3]=w[4]+f+x|0,w[4]=w[0]+m+A|0,w[0]=_},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=(t=this._hash).words,a=0;a<5;a++){var o=r[a];r[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return t},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(),i.RIPEMD160)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(a=e.lib).Base,n=a.WordArray,r=e.algo,a=r.SHA256,o=r.HMAC,s=r.PBKDF2=t.extend({cfg:t.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,r=o.create(i.hasher,e),a=n.create(),s=n.create([1]),c=a.words,l=s.words,u=i.keySize,d=i.iterations;c.length<u;){var p=r.update(t).finalize(s);r.reset();for(var h=p.words,f=h.length,m=p,v=1;v<d;v++){m=r.finalize(m),r.reset();for(var g=m.words,y=0;y<f;y++)h[y]^=g[y]}a.concat(p),l[0]++}return a.sigBytes=4*u,a}});e.PBKDF2=function(e,t,i){return s.create(i).compute(e,t)}}(),i.PBKDF2)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(a=e.lib).Base,n=a.WordArray,r=e.algo,a=r.MD5,o=r.EvpKDF=t.extend({cfg:t.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,r=this.cfg,a=r.hasher.create(),o=n.create(),s=o.words,c=r.keySize,l=r.iterations;s.length<c;){i&&a.update(i),i=a.update(e).finalize(t),a.reset();for(var u=1;u<l;u++)i=a.finalize(i),a.reset();o.concat(i)}return o.sigBytes=4*c,o}});e.EvpKDF=function(e,t,i){return o.create(i).compute(e,t)}}(),i.EvpKDF)})),G((function(e,t){var i;e.exports=void((i=q).lib.Cipher||function(){var e=(f=i).lib,t=e.Base,n=e.WordArray,r=e.BufferedBlockAlgorithm,a=((u=f.enc).Utf8,u.Base64),o=f.algo.EvpKDF,s=e.Cipher=r.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,n){return c(i).encrypt(e,t,i,n)},decrypt:function(t,i,n){return c(i).decrypt(e,t,i,n)}}}});function c(e){return"string"==typeof e?m:h}e.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=f.mode={},u=e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}});function d(e,t,i){var n,r=this._iv;r?(n=r,this._iv=void 0):n=this._prevBlock;for(var a=0;a<i;a++)e[t+a]^=n[a]}u=l.CBC=((l=u.extend()).Encryptor=l.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;d.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),l.Decryptor=l.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=e.slice(t,t+n);i.decryptBlock(e,t),d.call(this,e,t,n),this._prevBlock=r}}),l),l=(f.pad={}).Pkcs7={pad:function(e,t){for(var i=(t*=4)-e.sigBytes%t,r=i<<24|i<<16|i<<8|i,a=[],o=0;o<i;o+=4)a.push(r);t=n.create(a,i),e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};var p=(e.BlockCipher=s.extend({cfg:s.cfg.extend({mode:u,padding:l}),reset:function(){var e;s.reset.call(this);var t=(i=this.cfg).iv,i=i.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,t&&t.words):(this._mode=e.call(i,this,t&&t.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),h=(l=(f.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(t=(e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t,i=a.parse(e);return 1398893684==(e=i.words)[0]&&1701076831==e[1]&&(t=n.create(e.slice(2,4)),e.splice(0,4),i.sigBytes-=16),p.create({ciphertext:i,salt:t})}},e.SerializableCipher=t.extend({cfg:t.extend({format:l}),encrypt:function(e,t,i,n){n=this.cfg.extend(n),t=(r=e.createEncryptor(i,n)).finalize(t);var r=r.cfg;return p.create({ciphertext:t,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),f=(f.kdf={}).OpenSSL={execute:function(e,t,i,r,a){return r=r||n.random(8),e=(a?o.create({keySize:t+i,hasher:a}):o.create({keySize:t+i})).compute(e,r),i=n.create(e.words.slice(t),4*i),e.sigBytes=4*t,p.create({key:e,iv:i,salt:r})}},m=e.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:f}),encrypt:function(e,t,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize,n.salt,n.hasher),n.iv=i.iv,(n=h.encrypt.call(this,e,t,i.key,n)).mixIn(i),n},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt,n.hasher),n.iv=i.iv,h.decrypt.call(this,e,t,i.key,n)}})}())})),G((function(e,t){var i;e.exports=((i=q).mode.CFB=function(){var e=i.lib.BlockCipherMode.extend();function t(e,t,i,n){var r,a=this._iv;a?(r=a.slice(0),this._iv=void 0):r=this._prevBlock,n.encryptBlock(r,0);for(var o=0;o<i;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize;t.call(this,e,i,r,n),this._prevBlock=e.slice(i,i+r)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,a=e.slice(i,i+r);t.call(this,e,i,r,n),this._prevBlock=a}}),e}(),i.mode.CFB)})),G((function(e,t){var i;e.exports=((i=q).mode.CTR=function(){var e=i.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0);var o=a.slice(0);i.encryptBlock(o,0),a[n-1]=a[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}});return e.Decryptor=t,e}(),i.mode.CTR)})),G((function(e,t){var i;e.exports=((i=q).mode.CTRGladman=function(){var e=i.lib.BlockCipherMode.extend();function t(e){var t,i,n;return 255==(e>>24&255)?(i=e>>8&255,n=255&e,255==(t=e>>16&255)?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n):e+=1<<24,e}var n=e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),0===((a=o)[0]=t(a[0]))&&(a[1]=t(a[1]));var s=o.slice(0);n.encryptBlock(s,0);for(var c=0;c<r;c++)e[i+c]^=s[c]}});return e.Decryptor=n,e}(),i.mode.CTRGladman)})),G((function(e,t){var i;e.exports=((i=q).mode.OFB=function(){var e=i.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,a=this._keystream;r&&(a=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var o=0;o<n;o++)e[t+o]^=a[o]}});return e.Decryptor=t,e}(),i.mode.OFB)})),G((function(e,t){var i;e.exports=((i=q).mode.ECB=function(){var e=i.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),i.mode.ECB)})),G((function(e,t){e.exports=((e=q).pad.AnsiX923={pad:function(e,t){var i=(i=e.sigBytes)+(t=(t*=4)-i%t)-1;e.clamp(),e.words[i>>>2]|=t<<24-i%4*8,e.sigBytes+=t},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923)})),G((function(e,t){var i;e.exports=((i=q).pad.Iso10126={pad:function(e,t){t*=4,t-=e.sigBytes%t,e.concat(i.lib.WordArray.random(t-1)).concat(i.lib.WordArray.create([t<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Iso10126)})),G((function(e,t){var i;e.exports=((i=q).pad.Iso97971={pad:function(e,t){e.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(e,t)},unpad:function(e){i.pad.ZeroPadding.unpad(e),e.sigBytes--}},i.pad.Iso97971)})),G((function(e,t){e.exports=((e=q).pad.ZeroPadding={pad:function(e,t){t*=4,e.clamp(),e.sigBytes+=t-(e.sigBytes%t||t)},unpad:function(e){var t=e.words,i=e.sigBytes-1;for(i=e.sigBytes-1;0<=i;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},e.pad.ZeroPadding)})),G((function(e,t){e.exports=((e=q).pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i.lib.CipherParams,t=i.enc.Hex;i.format.Hex={stringify:function(e){return e.ciphertext.toString(t)},parse:function(i){return i=t.parse(i),e.create({ciphertext:i})}}}(),i.format.Hex)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.BlockCipher,n=e.algo,r=[],a=[],o=[],s=[],c=[],l=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var f=(f=n^n<<1^n<<2^n<<3^n<<4)>>>8^255&f^99;r[i]=f;var m=e[a[f]=i],v=e[m],g=e[v],y=257*e[f]^16843008*f;o[i]=y<<24|y>>>8,s[i]=y<<16|y>>>16,c[i]=y<<8|y>>>24,l[i]=y,y=16843009*g^65537*v^257*m^16843008*i,u[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,p[f]=y<<8|y>>>24,h[f]=y,i?(i=m^e[e[e[g^m]]],n^=e[e[n]]):i=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*(1+(this._nRounds=6+i)),a=this._keySchedule=[],o=0;o<n;o++)o<i?a[o]=t[o]:(l=a[o-1],o%i?6<i&&o%i==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=f[o/i|0]<<24),a[o]=a[o-i]^l);for(var s=this._invKeySchedule=[],c=0;c<n;c++){var l;o=n-c,l=c%4?a[o]:a[o-4],s[c]=c<4||o<=4?l:u[r[l>>>24]]^d[r[l>>>16&255]]^p[r[l>>>8&255]]^h[r[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,r)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,a),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,a,o,s){for(var c=this._nRounds,l=e[t]^i[0],u=e[t+1]^i[1],d=e[t+2]^i[2],p=e[t+3]^i[3],h=4,f=1;f<c;f++){var m=n[l>>>24]^r[u>>>16&255]^a[d>>>8&255]^o[255&p]^i[h++],v=n[u>>>24]^r[d>>>16&255]^a[p>>>8&255]^o[255&l]^i[h++],g=n[d>>>24]^r[p>>>16&255]^a[l>>>8&255]^o[255&u]^i[h++],y=n[p>>>24]^r[l>>>16&255]^a[u>>>8&255]^o[255&d]^i[h++];l=m,u=v,d=g,p=y}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^i[h++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^i[h++],g=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^i[h++],y=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^i[h++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8}),e.AES=t._createHelper(n)}(),i.AES)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=(r=e.lib).WordArray,n=r.BlockCipher,r=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=r.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var n=a[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(var r=this._subKeys=[],c=0;c<16;c++){var l=r[c]=[],u=s[c];for(i=0;i<24;i++)l[i/6|0]|=t[(o[i]-1+u)%28]<<31-i%6,l[4+(i/6|0)]|=t[28+(o[i+24]-1+u)%28]<<31-i%6;for(l[0]=l[0]<<1|l[0]>>>31,i=1;i<7;i++)l[i]=l[i]>>>4*(i-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(i=0;i<16;i++)d[i]=r[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var r=i[n],a=this._lBlock,o=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((o^r[u])&l[u])>>>0];this._lBlock=o,this._rBlock=a^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){t=(this._lBlock>>>e^this._rBlock)&t,this._rBlock^=t,this._lBlock^=t<<e}function p(e,t){t=(this._rBlock>>>e^this._lBlock)&t,this._lBlock^=t,this._rBlock^=t<<e}e.DES=n._createHelper(u),r=r.TripleDES=n.extend({_doReset:function(){if(2!==(n=this._key.words).length&&4!==n.length&&n.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=n.slice(0,2),i=n.length<4?n.slice(0,2):n.slice(2,4),n=n.length<6?n.slice(0,2):n.slice(4,6);this._des1=u.createEncryptor(t.create(e)),this._des2=u.createEncryptor(t.create(i)),this._des3=u.createEncryptor(t.create(n))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),e.TripleDES=n._createHelper(r)}(),i.TripleDES)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,n=this._S=[],r=0;r<256;r++)n[r]=r;r=0;for(var a=0;r<256;r++){var o=t[(o=r%i)>>>2]>>>24-o%4*8&255;a=(a+n[r]+o)%256,o=n[r],n[r]=n[a],n[a]=o}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,i=this._j,n=0,r=0;r<4;r++){i=(i+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[i],e[i]=a,n|=e[(e[t]+e[i])%256]<<24-8*r}return this._i=t,this._j=i,n}e.RC4=t._createHelper(r),n=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;0<e;e--)a.call(this)}}),e.RC4Drop=t._createHelper(n)}(),i.RC4)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],a=[],o=[];function s(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=65535&(s=e[i]+t[i]),r=((n*n>>>17)+n*(r=s>>>16)>>>15)+r*r,s=((4294901760&s)*s|0)+((65535&s)*s|0);o[i]=r^s}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}n=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(i=this._b=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var a,o=(t=16711935&((o=(a=t.words)[0])<<8|o>>>24)|4278255360&(o<<24|o>>>8))>>>16|4294901760&(a=16711935&((c=a[1])<<8|c>>>24)|4278255360&(c<<24|c>>>8)),c=a<<16|65535&t;for(r[0]^=t,r[1]^=o,r[2]^=a,r[3]^=c,r[4]^=t,r[5]^=o,r[6]^=a,r[7]^=c,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(e,t){var i=this._X;s.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2}),e.Rabbit=t._createHelper(n)}(),i.Rabbit)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],a=[],o=[];function s(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=65535&(s=e[i]+t[i]),r=((n*n>>>17)+n*(r=s>>>16)>>>15)+r*r,s=((4294901760&s)*s|0)+((65535&s)*s|0);o[i]=r^s}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}n=n.RabbitLegacy=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],r=this._b=0;r<4;r++)s.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(t){var a,o=(t=16711935&((o=(a=t.words)[0])<<8|o>>>24)|4278255360&(o<<24|o>>>8))>>>16|4294901760&(a=16711935&((e=a[1])<<8|e>>>24)|4278255360&(e<<24|e>>>8));for(e=a<<16|65535&t,n[0]^=t,n[1]^=o,n[2]^=a,n[3]^=e,n[4]^=t,n[5]^=o,n[6]^=a,n[7]^=e,r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(e,t){var i=this._X;s.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2}),e.RabbitLegacy=t._createHelper(n)}(),i.RabbitLegacy)})),G((function(e,t){var i;e.exports=(i=q,function(){var e=i,t=e.lib.BlockCipher,n=e.algo;const r=16;var a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],s={pbox:[],sbox:[]};function c(e,t){var i=t>>24&255,n=t>>16&255,r=t>>8&255;t&=255;let a=e.sbox[0][i]+e.sbox[1][n];return a^=e.sbox[2][r],a+=e.sbox[3][t],a}function l(e,t,i){let n,a=t,o=i;for(let t=0;t<r;++t)a^=e.pbox[t],o=c(e,a)^o,n=a,a=o,o=n;return n=a,a=o,o=n,o^=e.pbox[r],a^=e.pbox[r+1],{left:a,right:o}}n=n.Blowfish=t.extend({_doReset:function(){var e,t;this._keyPriorReset!==this._key&&(e=(t=this._keyPriorReset=this._key).words,t=t.sigBytes/4,function(e,t,i){for(let t=0;t<4;t++){e.sbox[t]=[];for(let i=0;i<256;i++)e.sbox[t][i]=o[t][i]}let n=0;for(let o=0;o<r+2;o++)e.pbox[o]=a[o]^t[n],n++,n>=i&&(n=0);let s=0,c=0,u=0;for(let t=0;t<r+2;t+=2)u=l(e,s,c),s=u.left,c=u.right,e.pbox[t]=s,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let i=0;i<256;i+=2)u=l(e,s,c),s=u.left,c=u.right,e.sbox[t][i]=s,e.sbox[t][i+1]=c}(s,e,t))},encryptBlock:function(e,t){var i=l(s,e[t],e[t+1]);e[t]=i.left,e[t+1]=i.right},decryptBlock:function(e,t){var i=function(e,t,i){let n,a=t,o=i;for(let t=r+1;1<t;--t)a^=e.pbox[t],o=c(e,a)^o,n=a,a=o,o=n;return n=a,a=o,o=n,o^=e.pbox[1],a^=e.pbox[0],{left:a,right:o}}(s,e[t],e[t+1]);e[t]=i.left,e[t+1]=i.right},blockSize:2,keySize:4,ivSize:2}),e.Blowfish=t._createHelper(n)}(),i.Blowfish)})),G((function(e,t){e.exports=q})));function Se(e,t){var i={url:location.href,ts:Date.now(),src_name:navigator.userAgent},n=we.lib.WordArray.random(16).toString(we.enc.Base64);return{appid:e,iv:n,gstr:(i=i,t=t,n=n,i=JSON.stringify(i),t=we.enc.Utf8.parse(t),n=we.enc.Base64.parse(n),we.AES.encrypt(i,t,{iv:n,mode:we.mode.CBC,padding:we.pad.Pkcs7}).toString())}}function be(e,t){e=e||{};var i=function(e){var t,i={};if(-1!==(t=e.indexOf("?")))for(var n,r=e.substring(t+1,e.length).split("&"),a=0,o=r.length;a<o;a++)i[(n=r[a].split("="))[0]]=n[1];return i}(location.search),n=e.pro;if(window.YA){var r,a,o,s={pro:n,pas:YA.cookie.get("username")||"",yyuid:YA.cookie.get("yyuid")||"",pageType:"root",rso:i.rso||"",rso_desc:"",eid:"",eid_desc:""};for(r in e)s[r]=e[r];window.ya||(window.ya=new YA(s.pro,s.pas,{pageType:s.pageType,yyuid:s.yyuid}),t&&ya.setExtParam(t),ya.reportProductStartUp({pro:s.pro,rso:s.rso,rso_desc:s.rso_desc}),ya.startProductHeartbeat({pro:s.pro,rso:s.rso,rso_desc:s.rso_desc}),s.eid&&ya.reportProductEvent({eid:s.eid})),a=".clickstat",o=function(){var e=this.getAttribute("eid");e&&ya.reportProductEvent({eid:e})},"click".split(".").forEach((function(e){Array.prototype.slice.call(document.querySelectorAll("body")).forEach((function(t){t.addEventListener(e,c)}))}))}function c(e){var t=(e=e||window.event).target||e.srcElement,i=e.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;0<=--i&&t.item(i)!==this;);return-1<i});t&&t!==i;)t&&t.matches(a)&&o.call(t,Array.prototype.slice.call(arguments)),t=t&&t.parentNode}}var Ie,Ee,Te,ke,Ce=(Ie=!0,function(e,t){var i,n,r;Ie&&(Ie=!1,window.YA?be(e,t):(i=function(){be(e,t),function(){var e=window.yaReportArr||[];if(e.length)for(var t=0;t<e.length;t++)window.ya&&ya.reportProductEvent(e[t]);window.yaReportArr=[],window.yaReportArr.push=function(e){window.ya&&(e.actionType&&ya[e.actionType]?ya[e.actionType](e.param):ya.reportProductEvent(e))}}()},n=document.getElementsByTagName("head")[0]||document.documentElement,(r=document.createElement("script")).type="text/javascript",r.async=!0,r.charset="utf-8",r.src="https://static-jw.msstatic.com/rp/ya-huya.finall.min.js",r.onload=r.onreadystatechange=function(){r.readyState&&!/loaded|complete/.test(r.readyState)||(i&&i(),r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r))},n.insertBefore(r,null)))}),xe=J.get,Ae=(Ee=function(){var e=r(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.yaReportArr=[],Ce({pro:"huya_web"},void 0),window.ya&&(i=l({rso:xe("rso")||"",platform:"web"},t||{}),window.ya.setExtParam(function(e,t){return(1<arguments.length&&void 0!==t?t:"?").concat(Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"))}(i,"")));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=!1,function(){return ke||(ke=!0,Te=Ee.apply(void 0,arguments)),Te}),Re=function(e){Ae(),window.yaReportArr.push(e)},Pe="https://game.weixin.qq.com/cgi-bin/minigame/static/pc-gamesdk/wxgamesdk.js";function Le(){return(Le=r(regeneratorRuntime.mark((function e(){var t,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye(),i=ge(),n=Se(t.appid,t.appkey),e.abrupt("return",new Promise((function(e,t){var r,a,o,s,c;Re({eid:"state/user_request_ad_for_developer",eid_desc:"用户向开发者后台请求gs前置参数"}),r=i,a=n,o=e,s=t,(c=new XMLHttpRequest).addEventListener("readystatechange",(function e(){4===c.readyState&&(200<=c.status&&c.status<300||304===c.status||302===c.status?o&&o(c.response):s&&s(c.status),c.removeEventListener("readystatechange",e),c=void 0)})),c.open("POST",r,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(JSON.stringify(a))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(e){return new Promise((function(t,i){if(document.querySelector('script[src="'.concat(e,'"]')))return F.log("[Script Load] ".concat(e," is already loaded.")),void t();var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){F.log("[Script Load] ".concat(e," loaded successfully.")),t()},n.onerror=function(){F.error("[Script Load] Error loading script ".concat(e,".")),i(new Error("[Script Load] Failed to load script: ".concat(e))),Re({})},document.head.appendChild(n)}))}(Pe).then(r(regeneratorRuntime.mark((function e(){var t,i,n,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,function(){return Le.apply(this,arguments)}();case 3:if(a=e.sent,i=Date.now(),e.prev=5,(n=JSON.parse(a))&&0==n.ret)return Re({eid:"state/result_for_developer",eid_desc:"用户向开发者后台请求gs前置参数返回结果",prop:JSON.stringify({duration:i-t,is_success:1})}),a=n.response_data,o=a.iv,s=a.encrypted_data,c=a.appid,Re({eid:"state/user_request_ad_for_wxjssdk",eid_desc:"用户向wxjssdk请求"}),e.abrupt("return",new Promise((function(e,t){var i=setInterval((function(){"undefined"!=typeof wxgamesdk&&wxgamesdk.getGameSession&&(clearInterval(i),i=null,e())}),100);setTimeout((function(){i&&(clearInterval(i),Re({eid:"state/result_for_wxjssdk",eid_desc:"wx jssdk返回结果",prop:JSON.stringify({duration:1e4,is_success:0,fail_reason:"wxgamesdk load success, but getGameSession load fail"})}),t(new Error("[WX GameSdk info] wxgamesdk load success, but getGameSession load fail")))}),1e4)})).then(function(){var e=r(regeneratorRuntime.mark((function e(t){var i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),e.prev=1,console.log("[GS API] Using SDK get GS ing"),e.next=5,window.wxgamesdk.getGameSession({iv:o,encrypted_data:s,appid:c});case 5:return r=e.sent,n=Date.now(),console.log("[GS API] Using SDK get GS Result:",r),0==r.errcode&&r.data?Re({eid:"state/result_for_wxjssdk",eid_desc:"wx jssdk返回结果",prop:JSON.stringify({duration:n-i,is_success:1,game_session:JSON.stringify(r.data)})}):Re({eid:"state/result_for_wxjssdk",eid_desc:"wx jssdk返回结果",prop:JSON.stringify({duration:n-i,is_success:0,fail_reason:"errcode:".concat(r.errcode,", errmsg：").concat(r.errmsg)})}),e.abrupt("return",r.data);case 12:return e.prev=12,e.t0=e.catch(1),r=Date.now(),Re({eid:"state/result_for_wxjssdk",eid_desc:"wx jssdk返回结果",prop:JSON.stringify({duration:r-i,is_success:0,fail_reason:e.t0.message})}),e.abrupt("return",Promise.reject(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()));e.next=15;break;case 15:return Re({eid:"state/result_for_developer",eid_desc:"用户向开发者后台请求gs前置参数返回结果",prop:JSON.stringify({duration:i-t,is_success:0,fail_reason:n.msg})}),e.abrupt("return",Promise.reject(n.msg));case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(5),Re({eid:"state/result_for_developer",eid_desc:"用户向开发者后台请求gs前置参数返回结果",prop:JSON.stringify({duration:i-t,is_success:0,fail_reason:e.t0.message})}),e.abrupt("return",Promise.reject(e.t0.message));case 23:case"end":return e.stop()}}),e,null,[[5,19]])})))).catch((function(e){console.error(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De="gs_cache",Be=14,Ne=7,Ue=null;function Fe(){try{var e=localStorage.getItem(De);return e?JSON.parse(e):{primary:null,secondary:null}}catch(e){return console.error("Error parsing GS cache from localStorage:",e),localStorage.removeItem(De),{primary:null,secondary:null}}}function Oe(e){try{localStorage.setItem(De,JSON.stringify(e))}catch(e){console.error("Error saving GS cache to localStorage:",e)}}function He(e,t){return e&&e.value&&"number"==typeof e.timestamp&&Date.now()-e.timestamp<24*t*60*60*1e3}function Ge(){return Ve.apply(this,arguments)}function Ve(){return(Ve=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[GS Cache] Fetching new GS data for ".concat(t,"...")),e.abrupt("return",function(){return Me.apply(this,arguments)}());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return qe.apply(this,arguments)}function qe(){return(qe=r(regeneratorRuntime.mark((function e(){var t,i,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fe(),i=null,!He(t.primary,Be)){e.next=7;break}i=t.primary.value,console.log("[GS Cache] Using valid primary GS from cache:",i),e.next=32;break;case 7:if(console.log("[GS Cache] Primary GS cache invalid or not found. Checking secondary..."),!He(t.secondary,Be)){e.next=16;break}console.log("[GS Cache] Promoting valid secondary GS to primary."),t.primary=t.secondary,t.secondary=null,Oe(t),i=t.primary.value,e.next=32;break;case 16:return console.log("[GS Cache] Secondary GS cache also invalid or not found. Fetching new primary GS (gs1)."),e.prev=17,e.next=20,Ge("primary");case 20:n=e.sent,t.primary={value:n,timestamp:Date.now()},t.secondary=null,Oe(t),i=n,e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(17),console.error("[GS Cache] Failed to fetch initial primary GS:",e.t0),e.abrupt("return",null);case 32:if(!t.primary||!t.primary.timestamp){e.next=53;break}if(o=Date.now(),r=o-t.primary.timestamp,(a=24*Ne*60*60*1e3)<=r&&!He(t.secondary,Be))return console.log("[GS Cache] Primary GS is older than 7 days and secondary is invalid/missing. Attempting to fetch new secondary GS."),e.prev=38,e.next=41,Ge("secondary");e.next=52;break;case 41:o=e.sent,t.secondary={value:o,timestamp:Date.now()},Oe(t),console.log("[GS Cache] New secondary GS fetched and cached successfully."),e.next=50;break;case 47:e.prev=47,e.t1=e.catch(38),console.error("[GS Cache] Failed to fetch secondary GS:",e.t1);case 50:e.next=53;break;case 52:t.secondary&&He(t.secondary,Be)?console.log("[GS Cache] Secondary GS is already valid, no need to fetch."):r<a&&console.log("[GS Cache] Primary GS is less than 7 days old, no need to fetch secondary yet.");case 53:return e.abrupt("return",i);case 54:case"end":return e.stop()}}),e,null,[[17,28],[38,47]])})))).apply(this,arguments)}function je(){var e=function(){try{var e=JSON.parse(localStorage.getItem(Ye));return e&&e.expiry>(new Date).getTime()?e.tck:""}catch(e){return""}return""}();!function(){var t=oe();if(e)return t.adenv_sll_tck=e,ne(t);var i=J.get("guid");e=function(e){return _e(e).toString()}(i),t.adenv_sll_tck=e,te("//ckmap.mediav.com/m?tid=".concat("657","&tck=").concat(e),{},(function(){var i={tck:e,expiry:(new Date).getTime()+5184e6};localStorage.setItem(Ye,JSON.stringify(i)),ne(t)}))}()}function ze(e){if(!e)return{};try{var t="string"==e?e.replace(/\\\\u([\da-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))})):e;return"string"==typeof e?JSON.parse(t):e}catch(t){return F.warn("转换json字符串失败",e),{}}}var Ye="a360Data";function $e(e){if("string"==typeof e)return e.replace(/&quot;/g,'"');if(Array.isArray(e))return e.map($e);if(null===e||"object"!==i(e))return e;for(var t in e)e.hasOwnProperty(t)&&(e[t]=$e(e[t]));return e}function Je(){return Ke?Promise.resolve(Ke):new Promise((function(e,t){var i,n=setTimeout((function(){t({err_code:-1,status:"fail",message:"不在PC环境调用"})}),2500);if(F.log("====开始调用getAdvEnv事件===="),void 0===window.HUYASdk)return F.error("不存在PC HUYASdk"),void t({err_code:-1,status:"fail",message:"不存在PC HUYASdk"});null===(i=HUYASdk)||void 0===i||null!==(i=i.JSBridge)&&void 0!==i&&i.invoke("getAdvEnv",{},{complete:function(i){n&&clearTimeout(n);var r,a,o,s=ze(i);-1===(null==s?void 0:s.err_code)||"fail"===(null==s?void 0:s.status)?t(s):(a=(o=s||{}).sQiMei36,(r=o.mpEnv)&&(o=(i=r||{}).sdk_device_info,i=p(i,["sdk_device_info"]),o&&ze(o),(i=i||{}).adenv_sQIMEI36=a,ne(i),Ke=s,F.log("report getAdvEnv commonEnv",r)),e(s))}})}))}var Ke=null;function Ze(e,t){var i,n,r;(e=function(e,t){var i=parseInt(e.programType),n=e.wxAdAppJson,r=null;try{var a=ve(n),o=(a=JSON.parse(a)).wxAppAdId,s=a.wxAppPosId,c=a.wxAppNetLogId;s={aid:o,traceid:a=a.wxAppOriginTraceId,pid:s,wx_sdk_type:5,wx_type:i},c&&(s.net_log_id=c),r={ct:0,os:3,sdk_st:16,events:[{ts:(new Date).getTime(),ei:t,biz:s}]}}catch(e){F.log("makeTraceReportData失败 wxAdAppJson:"+n,e)}return r}(e,t))&&(t="https://sdkreport.e.qq.com/link_event",se()&&(t="https://ttc.gdt.qq.com/link_event"),t=t,e=e,i=function(e){F.log("amsSchemeTraceReport success",e)},n=function(e){F.error("amsSchemeTraceReport Error:",e)},(r=new XMLHttpRequest).addEventListener("readystatechange",(function e(){4===r.readyState&&(200<=r.status&&r.status<300||304===r.status?i&&i(r.response):n&&n(r.status),r.removeEventListener("readystatechange",e),r=void 0)})),r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e||{})))}function Xe(e){return e.startsWith("weixin://")}function Qe(e){X(e,"GET")}var et=G((function(e,t){e.exports=function(){function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e=function(){return!!t})()}function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(){n=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function d(t,i,n,r){var o,s,c,l,u=i&&i.prototype instanceof y?i:y,d=Object.create(u.prototype),_=new R(r||[]);return a(d,"_invoke",{value:(o=t,s=n,c=_,l=h,function(t,i){if(l===m)throw new Error("Generator is already running");if(l===v){if("throw"===t)throw i;return{value:e,done:!0}}for(c.method=t,c.arg=i;;){var n=c.delegate;if(n){var r=C(n,c);if(r){if(r===g)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===h)throw l=v,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);l=m;var a=p(o,s,c);if("normal"===a.type){if(l=c.done?v:f,a.arg===g)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(l=v,c.method="throw",c.arg=a.arg)}})}),d}function p(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="suspendedYield",m="executing",v="completed",g={};function y(){}function _(){}function w(){}var S={};u(S,s,(function(){return this}));var b=Object.getPrototypeOf,I=b&&b(b(P([])));I&&I!==i&&r.call(I,s)&&(S=I);var E=w.prototype=y.prototype=Object.create(S);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var i;a(this,"_invoke",{value:function(n,a){function o(){return new t((function(i,o){!function i(n,a,o,s){var c=p(e[n],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}(n,a,i,o)}))}return i=i?i.then(o,o):o()}})}function C(t,i){var n=i.method,r=t.iterator[n];if(r===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,C(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(r,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,g;var o=a.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(t){if(t||""===t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return a(E,"constructor",{value:_.prototype=w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,i,n,r,a){void 0===a&&(a=Promise);var o=new k(d(e,i,n,r),a);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),u(E,l,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,r){return s.type="throw",s.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;A(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:P(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return String(e);var n=i.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,i,n,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void i(e)}s.done?t(c):Promise.resolve(c).then(n,r)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function l(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,i){return(t=r(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var g="1.4.5-beta.3",y={iRequestId:0};y.ver=g,y.enableTrace=0,y.config=null,y.mpExperiment=null,y.mpConfig=null,y.setEnableTrace=function(e){if(e.hasOwnProperty("enableTrace"))y.enableTrace=e.enableTrace;else{var t=Math.random()<.1;y.enableTrace=t?1:0}},y.getRequestId=function(){return++y.iRequestId},y.getTraceId=function(){return"xxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};var _={Wup:function(){this.iVersion=3,this.cPacketType=0,this.iMessageType=0,this.iRequestId=0,this.sServantName="",this.sFuncName="",this.sBuffer=new _.BinBuffer,this.iTimeout=0,this.context=new _.Map(new _.STRING,new _.STRING),this.status=new _.Map(new _.STRING,new _.STRING),this.data=new _.Map(new _.STRING,new _.Map(new _.STRING,new _.BinBuffer)),this.newdata=new _.Map(new _.STRING,new _.BinBuffer)}};_.Wup.prototype.setVersion=function(e){this.iVersion=e},_.Wup.prototype.getVersion=function(e){return this.iVersion},_.Wup.prototype.setServant=function(e){this.sServantName=e},_.Wup.prototype.setFunc=function(e){this.sFuncName=e},_.Wup.prototype.setRequestId=function(e){this.iRequestId=e||++this.iRequestId},_.Wup.prototype.getRequestId=function(){return this.iRequestId},_.Wup.prototype.setTimeOut=function(e){this.iTimeout=e},_.Wup.prototype.getTimeOut=function(){return this.iTimeout},_.Wup.prototype.writeTo=function(){var e=new _.JceOutputStream;return e.writeInt16(1,this.iVersion),e.writeInt8(2,this.cPacketType),e.writeInt32(3,this.iMessageType),e.writeInt32(4,this.iRequestId),e.writeString(5,this.sServantName),e.writeString(6,this.sFuncName),e.writeBytes(7,this.sBuffer),e.writeInt32(8,this.iTimeout),e.writeMap(9,this.context),e.writeMap(10,this.status),new _.BinBuffer(e.getBuffer())},_.Wup.prototype.encode=function(){var e=new _.JceOutputStream;3==this.iVersion?e.writeMap(0,this.newdata):e.writeMap(0,this.data),this.sBuffer=e.getBinBuffer();var t=new _.BinBuffer;t=this.writeTo();var i=new _.BinBuffer;return i.writeInt32(4+t.len),i.writeBytes(t),i},_.Wup.prototype.writeBoolean=function(e,t){var i=new _.JceOutputStream;if(i.writeBoolean(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.BOOLEAN;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new _.BinBuffer(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeInt8=function(e,t){var i=new _.JceOutputStream;if(i.writeInt8(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.CHAR;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new _.BinBuffer(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeInt16=function(e,t){var i=new _.JceOutputStream;if(i.writeInt16(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.SHORT;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeInt32=function(e,t){var i=new _.JceOutputStream;if(i.writeInt32(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.INT32;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeInt64=function(e,t){var i=new _.JceOutputStream;if(i.writeInt64(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.INT64;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeFloat=function(e,t){var i=new _.JceOutputStream;if(i.writeFloat(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.FLOAT;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeDouble=function(e,t){var i=new _.JceOutputStream;if(i.writeDouble(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.DOUBLE;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeString=function(e,t){var i=new _.JceOutputStream;if(i.writeString(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.TypeHelp.STRING;null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeVector=function(e,t){var i=new _.JceOutputStream;if(i.writeVector(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBinBuffer()));else{var n=this.data.get(e),r=t._className();null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeStruct=function(e,t){var i=new _.JceOutputStream;if(i.writeStruct(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e);null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(" ",new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeBytes=function(e,t){var i=new _.JceOutputStream;if(i.writeBytes(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e);null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put("vec",new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.writeMap=function(e,t){var i=new _.JceOutputStream;if(i.writeMap(0,t),3==this.iVersion)this.newdata.put(e,new _.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=_.Util.getClassType(t);null==n&&(n=new _.Map(_.STRING,_.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},_.Wup.prototype.readFrom=function(e){this.iVersion=e.readInt16(1,!0),this.cPacketType=e.readInt8(2,!0),this.iMessageType=e.readInt32(3,!0),this.iRequestId=e.readInt32(4,!0),this.sServantName=e.readString(5,!0),this.sFuncName=e.readString(6,!0);try{localStorage.__wup&&console.info("%c@@@ "+this.sServantName+"."+this.sFuncName,"color:white;background:black;",this)}catch(e){}this.sBuffer=e.readBytes(7,!0),this.iTimeout=e.readInt32(8,!0),this.context=e.readMap(9,!0,new _.Map(new _.STRING,new _.STRING)),this.status=e.readMap(10,!0,new _.Map(new _.STRING,new _.STRING))},_.Wup.prototype.decode=function(e){var t=new _.JceInputStream(e);if(t.buf.vew.getInt32(t.buf.position)<4)throw Error("packet length too short");t.buf.position+=4,this.readFrom(t),t=new _.JceInputStream(this.sBuffer.getBuffer()),3==this.iVersion?(this.newdata.clear(),t.readMap(0,!0,this.newdata)):(this.data.clear(),t.readMap(0,!0,this.data))},_.Wup.prototype.readBoolean=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new _.JceInputStream(t.buffer).readBoolean(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.BOOLEAN,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r).readBoolean(0,!0,i)}return i},_.Wup.prototype.readInt8=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new _.JceInputStream(t.buffer).readInt8(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.CHAR,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r).readInt8(0,!0,i)}return i},_.Wup.prototype.readInt16=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=(a=new _.JceInputStream(t.buffer)).readInt16(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.SHORT,r=t.get(n),a=new _.JceInputStream(r);if(null==r)throw Error("UniAttribute not found type:"+n);i=a.readInt16(0,!0,i)}return i},_.Wup.prototype.readInt32=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new _.JceInputStream(t.buffer).readInt32(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.INT32,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r).readInt32(0,!0,i)}return i},_.Wup.prototype.readInt64=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new _.JceInputStream(t.buffer).readInt64(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.INT64,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r).readInt64(0,!0,i)}return i},_.Wup.prototype.readFloat=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new _.JceInputStream(t.buffer).readFloat(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.FLOAT,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r).readFloat(0,!0,i)}return i},_.Wup.prototype.readDouble=function(e){var t;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);var i=new _.JceInputStream(t.buffer);def=i.readDouble(0,!0,def)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=_.TypeHelp.DOUBLE,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new _.JceInputStream(r),def=i.readDouble(0,!0,def)}return def},_.Wup.prototype.readVector=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new _.JceInputStream(n.buffer).readVector(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new _.JceInputStream(r).readVector(0,!0,t)}return t},_.Wup.prototype.readStruct=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new _.JceInputStream(n.buffer).readStruct(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new _.JceInputStream(r).readStruct(0,!0,t)}return t},_.Wup.prototype.readMap=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new _.JceInputStream(n.buffer).readMap(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new _.JceInputStream(r).readMap(0,!0,t)}return t},_.Wup.prototype.readBytes=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new _.JceInputStream(n.buffer).readBytes(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new _.JceInputStream(r).readBytes(0,!0,t)}return t},_.DataHelp={EN_INT8:0,EN_INT16:1,EN_INT32:2,EN_INT64:3,EN_FLOAT:4,EN_DOUBLE:5,EN_STRING1:6,EN_STRING4:7,EN_MAP:8,EN_LIST:9,EN_STRUCTBEGIN:10,EN_STRUCTEND:11,EN_ZERO:12,EN_SIMPLELIST:13},_.TypeHelp={BOOLEAN:"bool",CHAR:"char",SHORT:"short",INT32:"int32",INT64:"int64",FLOAT:"float",DOUBLE:"double",STRING:"string",VECTOR:"list<$t>",MAP:"map<$k, $v>"},_.BinBuffer=function(e){this.buf=null,this.vew=null,this.len=0,this.position=0,null!=e&&null!=e&&e instanceof _.BinBuffer&&(this.buf=e.buf,this.vew=new DataView(this.buf),this.len=e.length,this.position=e.position),null!=e&&null!=e&&(e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e))&&(this.buf=e,this.vew=new DataView(this.buf),this.len=this.vew.byteLength,this.position=0),this.__defineGetter__("length",(function(){return this.len})),this.__defineGetter__("buffer",(function(){return this.buf}))},_.BinBuffer.prototype._write=function(e,t,i){return e.writeBytes(t,i)},_.BinBuffer.prototype._read=function(e,t,i){return e.readBytes(t,!0,i)},_.BinBuffer.prototype._clone=function(){return new _.BinBuffer},_.BinBuffer.prototype.allocate=function(e){if(e=this.position+e,!(null!=this.buf&&this.buf.length>e)){var t=new ArrayBuffer(Math.max(256,2*e));null!=this.buf&&(new Uint8Array(t).set(new Uint8Array(this.buf)),this.buf=void 0),this.buf=t,this.vew=void 0,this.vew=new DataView(this.buf)}},_.BinBuffer.prototype.getBuffer=function(){var e=new ArrayBuffer(this.len);return new Uint8Array(e).set(new Uint8Array(this.buf,0,this.len)),e},_.BinBuffer.prototype.memset=function(e,t,i){this.allocate(i),new Uint8Array(this.buf).set(new Uint8Array(e,t,i),this.position)},_.BinBuffer.prototype.writeInt8=function(e){this.allocate(1),this.vew.setInt8(this.position,e),this.position+=1,this.len=this.position},_.BinBuffer.prototype.writeUInt8=function(e){this.allocate(1),this.vew.setUint8(this.position++,e),this.len=this.position},_.BinBuffer.prototype.writeInt16=function(e){this.allocate(2),this.vew.setInt16(this.position,e),this.position+=2,this.len=this.position},_.BinBuffer.prototype.writeUInt16=function(e){this.allocate(2),this.vew.setUint16(this.position,e),this.position+=2,this.len=this.position},_.BinBuffer.prototype.writeInt32=function(e){this.allocate(4),this.vew.setInt32(this.position,e),this.position+=4,this.len=this.position},_.BinBuffer.prototype.writeUInt32=function(e){this.allocate(4),this.vew.setUint32(this.position,e),this.position+=4,this.len=this.position},_.BinBuffer.prototype.writeInt64=function(e){if("string"==typeof e){this.allocate(8);for(var t=4294967296,i=0,n=0,r=(e=e.toLowerCase()).length,a=0;a<r;a++){var o=e.charCodeAt(a)-48;9<o&&(o-=39),i=10*i+o,n=10*n+Math.floor(i/t),i%=t}return this.vew.setUint32(this.position,n),this.vew.setUint32(this.position+4,i),this.position+=8,void(this.len=this.position)}this.allocate(8),this.vew.setUint32(this.position,parseInt(e/4294967296)),this.vew.setUint32(this.position+4,e%4294967296),this.position+=8,this.len=this.position},_.BinBuffer.prototype.writeFloat=function(e){this.allocate(4),this.vew.setFloat32(this.position,e),this.position+=4,this.len=this.position},_.BinBuffer.prototype.writeDouble=function(e){this.allocate(8),this.vew.setFloat64(this.position,e),this.position+=8,this.len=this.position},_.BinBuffer.prototype.writeString=function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));this.allocate(t.length),new Uint8Array(this.buf).set(new Uint8Array(t),this.position),this.position+=t.length,this.len=this.position},_.BinBuffer.prototype.writeBytes=function(e){0!=e.length&&null!=e.buf&&(this.allocate(e.length),new Uint8Array(this.buf).set(new Uint8Array(e.buf,0,e.length),this.position),this.position+=e.length,this.len=this.position)},_.BinBuffer.prototype.readInt8=function(){return this.vew.getInt8(this.position++)},_.BinBuffer.prototype.readInt16=function(){return this.position+=2,this.vew.getInt16(this.position-2)},_.BinBuffer.prototype.readInt32=function(){return this.position+=4,this.vew.getInt32(this.position-4)},_.BinBuffer.prototype.readUInt8=function(){return this.position+=1,this.vew.getUint8(this.position-1)},_.BinBuffer.prototype.readUInt16=function(){return this.position+=2,this.vew.getUint16(this.position-2)},_.BinBuffer.prototype.readUInt32=function(){return this.position+=4,this.vew.getUint32(this.position-4)};var w=Math.pow(2,53);function S(e){return"function"==typeof e?(new e)._className():e._className()}_.BinBuffer.prototype.readInt64=function(){var e=this.vew.getUint32(this.position),t=this.vew.getUint32(this.position+4);this.position+=8;var i=4294967296*e+t;if(i<w)return i;for(var n,r,a,o="",s=Math.pow(2,32);0!=e||0!=t;)o=(r=(a=(n=e%10)*s+t)%10).toString(10)+o,e=(e-n)/10,t=(a-r)/10;return o},_.BinBuffer.prototype.readFloat=function(){var e=this.vew.getFloat32(this.position);return this.position+=4,e},_.BinBuffer.prototype.readDouble=function(){var e=this.vew.getFloat64(this.position);return this.position+=8,e},_.BinBuffer.prototype.readString=function(e){for(var t=[],i=0;i<e;i++)t.push(String.fromCharCode(this.vew.getUint8(this.position++)));var n=t.join("");try{n=decodeURIComponent(escape(n))}catch(e){}return n},_.BinBuffer.prototype.readBytes=function(e){var t=new _.BinBuffer;return t.allocate(e),t.memset(this.buf,this.position,e),t.position=0,t.len=e,this.position=this.position+e,t},_.JceOutputStream=function(){this.buf=new _.BinBuffer,this.getBinBuffer=function(){return this.buf},this.getBuffer=function(){return this.buf.getBuffer()}},_.JceOutputStream.prototype.writeTo=function(e,t){e<15?this.buf.writeUInt8(e<<4&240|t):this.buf.writeUInt16((240|t)<<8|e)},_.JceOutputStream.prototype.writeBoolean=function(e,t){this.writeInt8(e,1==t?1:0)},_.JceOutputStream.prototype.writeInt8=function(e,t){0==t?this.writeTo(e,_.DataHelp.EN_ZERO):(this.writeTo(e,_.DataHelp.EN_INT8),this.buf.writeInt8(t))},_.JceOutputStream.prototype.writeInt16=function(e,t){-128<=t&&t<=127?this.writeInt8(e,t):(this.writeTo(e,_.DataHelp.EN_INT16),this.buf.writeInt16(t))},_.JceOutputStream.prototype.writeInt32=function(e,t){-32768<=t&&t<=32767?this.writeInt16(e,t):(this.writeTo(e,_.DataHelp.EN_INT32),this.buf.writeInt32(t))},_.JceOutputStream.prototype.writeInt64=function(e,t){-2147483648<=t&&t<=2147483647?this.writeInt32(e,t):(this.writeTo(e,_.DataHelp.EN_INT64),this.buf.writeInt64(t))},_.JceOutputStream.prototype.writeUInt8=function(e,t){this.writeInt16(e,t)},_.JceOutputStream.prototype.writeUInt16=function(e,t){this.writeInt32(e,t)},_.JceOutputStream.prototype.writeUInt32=function(e,t){this.writeInt64(e,t)},_.JceOutputStream.prototype.writeFloat=function(e,t){0==t?this.writeTo(e,_.DataHelp.EN_ZERO):(this.writeTo(e,_.DataHelp.EN_FLOAT),this.buf.writeFloat(t))},_.JceOutputStream.prototype.writeDouble=function(e,t){0==t?this.writeTo(e,_.DataHelp.EN_ZERO):(this.writeTo(e,_.DataHelp.EN_DOUBLE),this.buf.writeDouble(t))},_.JceOutputStream.prototype.writeStruct=function(e,t){if(null==t.writeTo)throw Error("not defined writeTo Function");this.writeTo(e,_.DataHelp.EN_STRUCTBEGIN),t.writeTo(this),this.writeTo(0,_.DataHelp.EN_STRUCTEND)},_.JceOutputStream.prototype.writeString=function(e,t){var i=t;try{i=unescape(encodeURIComponent(i))}catch(e){}255<i.length?(this.writeTo(e,_.DataHelp.EN_STRING4),this.buf.writeUInt32(i.length)):(this.writeTo(e,_.DataHelp.EN_STRING1),this.buf.writeUInt8(i.length)),this.buf.writeString(i)},_.JceOutputStream.prototype.writeBytes=function(e,t){this.writeTo(e,_.DataHelp.EN_SIMPLELIST),this.writeTo(0,_.DataHelp.EN_INT8),this.writeInt32(0,t.length),this.buf.writeBytes(t)},_.JceOutputStream.prototype.writeVector=function(e,t){var i=t.value.length;this.writeTo(e,_.DataHelp.EN_LIST),this.writeInt32(0,i);for(var n=0;n<i;n++)("function"==typeof t.proto?new t.proto:t.proto)._write(this,0,t.value[n])},_.JceOutputStream.prototype.writeMap=function(e,t){for(var i in this.writeTo(e,_.DataHelp.EN_MAP),this.writeInt32(0,t.size()),t.value){var n="function"==typeof t.kproto?new t.kproto:t.kproto,r="function"==typeof t.vproto?new t.vproto:t.vproto;n._write(this,0,i),r._write(this,1,t.value[i])}},_.JceInputStream=function(e){this.buf=new _.BinBuffer(e)},_.JceInputStream.prototype.readFrom=function(){var e=this.buf.readUInt8(),t=(240&e)>>4,i=15&e;return 15<=t&&(t=this.buf.readUInt8()),{tag:t,type:i}},_.JceInputStream.prototype.peekFrom=function(){var e=this.buf.position,t=this.readFrom();return this.buf.position=e,{tag:t.tag,type:t.type,size:15<=t.tag?2:1}},_.JceInputStream.prototype.skipField=function(e){switch(e){case _.DataHelp.EN_INT8:this.buf.position+=1;break;case _.DataHelp.EN_INT16:this.buf.position+=2;break;case _.DataHelp.EN_INT32:this.buf.position+=4;break;case _.DataHelp.EN_INT64:this.buf.position+=8;break;case _.DataHelp.EN_STRING1:var t=this.buf.readUInt8();this.buf.position+=t;break;case _.DataHelp.EN_STRING4:var i=this.buf.readInt32();this.buf.position+=i;break;case _.DataHelp.EN_STRUCTBEGIN:this.skipToStructEnd();break;case _.DataHelp.EN_STRUCTEND:case _.DataHelp.EN_ZERO:break;case _.DataHelp.EN_MAP:for(var n=this.readInt32(0,!0),r=0;r<2*n;++r){var a=this.readFrom();this.skipField(a.type)}break;case _.DataHelp.EN_SIMPLELIST:if((a=this.readFrom()).type!=_.DataHelp.EN_INT8)throw Error("skipField with invalid type, type value: "+e+","+a.type);t=this.readInt32(0,!0),this.buf.position+=t;break;case _.DataHelp.EN_LIST:for(n=this.readInt32(0,!0),r=0;r<n;++r)a=this.readFrom(),this.skipField(a.type);break;case _.DataHelp.EN_FLOAT:this.buf.position+=4;break;case _.DataHelp.EN_DOUBLE:this.buf.position+=8;break;default:throw new Error("skipField with invalid type, type value: "+e)}},_.JceInputStream.prototype.skipToStructEnd=function(){for(;;){var e=this.readFrom();if(this.skipField(e.type),e.type==_.DataHelp.EN_STRUCTEND)return}},_.JceInputStream.prototype.skipToTag=function(e,t){for(;this.buf.position<this.buf.length;){var i=this.peekFrom();if(e<=i.tag||i.type==_.DataHelp.EN_STRUCTEND)return i.type!=_.DataHelp.EN_STRUCTEND&&e==i.tag;this.buf.position+=i.size,this.skipField(i.type)}if(t)throw Error("require field not exist, tag:"+e);return!1},_.JceInputStream.prototype.readBoolean=function(e,t,i){return 1==this.readInt8(e,t,i)},_.JceInputStream.prototype.readInt8=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_INT8:return this.buf.readInt8()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readInt16=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_INT8:return this.buf.readInt8();case _.DataHelp.EN_INT16:return this.buf.readInt16()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readInt32=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_INT8:return this.buf.readInt8();case _.DataHelp.EN_INT16:return this.buf.readInt16();case _.DataHelp.EN_INT32:return this.buf.readInt32()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readInt64=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_INT8:return this.buf.readInt8();case _.DataHelp.EN_INT16:return this.buf.readInt16();case _.DataHelp.EN_INT32:return this.buf.readInt32();case _.DataHelp.EN_INT64:return this.buf.readInt64()}throw Error("read int64 type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readFloat=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_FLOAT:return this.buf.readFloat()}throw Error("read float type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readDouble=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case _.DataHelp.EN_ZERO:return 0;case _.DataHelp.EN_DOUBLE:return this.buf.readDouble()}throw Error("read double type mismatch, tag:"+e+", get type:"+n.type)},_.JceInputStream.prototype.readUInt8=function(e,t,i){return this.readInt16(e,t,i)},_.JceInputStream.prototype.readUInt16=function(e,t,i){return this.readInt32(e,t,i)},_.JceInputStream.prototype.readUInt32=function(e,t,i){return this.readInt64(e,t,i)},_.JceInputStream.prototype.readStruct=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=_.DataHelp.EN_STRUCTBEGIN)throw Error("read struct type mismatch, tag: "+e+", get type:"+n.type);return i.readFrom(this),this.skipToStructEnd(),i},_.JceInputStream.prototype.readString=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==_.DataHelp.EN_STRING1)return this.buf.readString(this.buf.readUInt8());if(n.type==_.DataHelp.EN_STRING4)return this.buf.readString(this.buf.readUInt32());throw Error("read 'string' type mismatch, tag: "+e+", get type: "+n.type+".")},_.JceInputStream.prototype.readString2=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==_.DataHelp.EN_STRING1)return this.buf.readBytes(this.buf.readUInt8());if(n.type==_.DataHelp.EN_STRING4)return this.buf.readBytes(this.buf.readUInt32());throw Error("read 'string' type mismatch, tag: "+e+", get type: "+n.type+".")},_.JceInputStream.prototype.readBytes=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==_.DataHelp.EN_SIMPLELIST){var r=this.readFrom();if(r.type!=_.DataHelp.EN_INT8)throw Error("type mismatch, tag:"+e+",type:"+n.type+","+r.type);if((a=this.readInt32(0,!0))<0)throw Error("invalid size, tag:"+e+",type:"+n.type+","+r.type);return this.buf.readBytes(a)}if(n.type!=_.DataHelp.EN_LIST)throw Error("type mismatch, tag:"+e+",type:"+n.type);var a=this.readInt32(0,!0);return this.buf.readBytes(a)},_.JceInputStream.prototype.readVector=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=_.DataHelp.EN_LIST)throw Error("read 'vector' type mismatch, tag: "+e+", get type: "+n.type);var r=this.readInt32(0,!0);if(r<0)throw Error("invalid size, tag: "+e+", type: "+n.type+", size: "+r);for(var a=0;a<r;++a){var o="function"==typeof i.proto?new i.proto:i.proto;i.value.push(o._read(this,0,o._clone()))}return i},_.JceInputStream.prototype.readMap=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=_.DataHelp.EN_MAP)throw Error("read 'map' type mismatch, tag: "+e+", get type: "+n.type);var r=this.readInt32(0,!0);if(r<0)throw Error("invalid map, tag: "+e+", size: "+r);for(var a=0;a<r;a++){var o="function"==typeof i.kproto?new i.kproto:i.kproto,s="function"==typeof i.vproto?new i.vproto:i.vproto,c=o._read(this,0,o._clone()),l=s._read(this,1,s._clone());i.put(c,l)}return i},_.Util=_.Util||{},_.Util.jcestream=function(e,t){if(null!=e&&null!=e){if(e instanceof ArrayBuffer){for(var i=new Uint8Array(e),n="",r=0;r<i.length;r++)n+=(15<i[r]?"":"0")+i[r].toString(16);var a=n.toUpperCase();return console.log(a),a}console.log("Taf.Util.jcestream::value is not ArrayBuffer")}else console.log("Taf.Util.jcestream::value is null or undefined")},_.Util.str2ab=function(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;++t)n[t]=e.charCodeAt(t);return new Uint8Array(n).buffer},_.Util.ajax=function(e,t,i,n){var r=new XMLHttpRequest;r.overrideMimeType("text/plain; charset=x-user-defined"),r.addEventListener("readystatechange",(function e(){4===r.readyState&&(200===r.status||304===r.status?i(_.Util.str2ab(r.response)):n(r.status),r.removeEventListener("readystatechange",e),r=void 0)})),r.open("post",e),r.send(t)},_.INT8=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt8(t,i)},this._read=function(e,t,i){return e.readInt8(t,!0,i)},this._className=function(){return _.CHAR}},_.INT16=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt16(t,i)},this._read=function(e,t,i){return e.readInt16(t,!0,i)},this._className=function(){return _.SHORT}},_.INT32=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)},this._className=function(){return _.INT32}},_.INT64=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt64(t,i)},this._read=function(e,t,i){return e.readInt64(t,!0,i)},this._className=function(){return _.INT64}},_.UINT8=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt16(t,i)},this._read=function(e,t,i){return e.readInt16(t,!0,i)},this._className=function(){return _.SHORT}},_.UInt16=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)},this._className=function(){return _.INT32}},_.UInt32=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt64(t,i)},this._read=function(e,t,i){return e.readInt64(t,!0,i)},this._className=function(){return _.INT64}},_.Float=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeFloat(t,i)},this._read=function(e,t,i){return e.readFloat(t,!0,i)},this._className=function(){return _.FLOAT}},_.Double=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeDouble(t,i)},this._read=function(e,t,i){return e.readDouble(t,!0,i)},this._className=function(){return _.DOUBLE}},_.STRING=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeString(t,i)},this._read=function(e,t,i){return e.readString(t,!0,i)},this._className=function(){return _.STRING}},_.BOOLEAN=function(){this._clone=function(){return!1},this._write=function(e,t,i){return e.writeBoolean(t,i)},this._read=function(e,t,i){return e.readBoolean(t,!0,i)},this._className=function(){return _.BOOLEAN}},_.ENUM=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)}},_.Vector=function(e){this.proto=e,this.value=[]},_.Vector.prototype._clone=function(){return new _.Vector("function"==typeof this.proto?new this.proto:this.proto)},_.Vector.prototype._write=function(e,t,i){return e.writeVector(t,i)},_.Vector.prototype._read=function(e,t,i){return e.readVector(t,!0,i)},_.Vector.prototype._className=function(){var e=S(this.proto);return _.TypeHelp.VECTOR.replace("$t",e)},_.Map=function(e,t){this.kproto=e,this.vproto=t,this.value=new Object},_.Map.prototype._clone=function(){var e="function"==typeof this.kproto?new this.kproto:this.kproto,t="function"==typeof this.vproto?new this.vproto:this.vproto;return new _.Map(e,t)},_.Map.prototype._write=function(e,t,i){return e.writeMap(t,i)},_.Map.prototype._read=function(e,t,i){return e.readMap(t,!0,i)},_.Map.prototype.put=function(e,t){this.value[e]=t},_.Map.prototype.get=function(e){return this.value[e]},_.Map.prototype.remove=function(e){delete this.value[e]},_.Map.prototype.clear=function(){this.value=new Object},_.Map.prototype.size=function(){var e=0;for(var t in this.value)e++;return e},_.Map.prototype._className=function(){var e=S(this.kproto),t=S(this.vproto);return _.TypeHelp.Map.replace("$k",e).replace("$v",t)};var b={EWebSocketCommandType:{EWSCmd_NULL:0,EWSCmd_RegisterReq:1,EWSCmd_RegisterRsp:2,EWSCmd_WupReq:3,EWSCmd_WupRsp:4,EWSCmdC2S_HeartBeat:5,EWSCmdS2C_HeartBeatAck:6,EWSCmdS2C_MsgPushReq:7,EWSCmdC2S_DeregisterReq:8,EWSCmdS2C_DeRegisterRsp:9,EWSCmdC2S_VerifyCookieReq:10,EWSCmdS2C_VerifyCookieRsp:11,EWSCmdC2S_VerifyHuyaTokenReq:12,EWSCmdS2C_VerifyHuyaTokenRsp:13,EWSCmdC2S_UNVerifyReq:14,EWSCmdS2C_UNVerifyRsp:15,EWSCmdC2S_RegisterGroupReq:16,EWSCmdS2C_RegisterGroupRsp:17,EWSCmdC2S_UnRegisterGroupReq:18,EWSCmdS2C_UnRegisterGroupRsp:19,EWSCmdC2S_HeartBeatReq:20,EWSCmdS2C_HeartBeatRsp:21,EWSCmdS2C_MsgPushReq_V2:22,EWSCmdC2S_UpdateUserExpsReq:23,EWSCmdS2C_UpdateUserExpsRsp:24,EWSCmdC2S_WSHistoryMsgReq:25,EWSCmdS2C_WSHistoryMsgRsp:26,EWSCmdS2C_EnterP2P:27,EWSCmdS2C_EnterP2PAck:28,EWSCmdS2C_ExitP2P:29,EWSCmdS2C_ExitP2PAck:30,EWSCmdC2S_SyncGroupReq:31,EWSCmdS2C_SyncGroupRsp:32,EWSCmdC2S_UpdateUserInfoReq:33,EWSCmdS2C_UpdateUserInfoRsp:34,EWSCmdC2S_MsgAckReq:35,EWSCmdS2C_MsgAckRsp:36,EWSCmdC2S_CloudGameReq:37,EWSCmdS2C_CloudGamePush:38,EWSCmdS2C_CloudGameRsp:39,EWSCmdS2C_RpcReq:40,EWSCmdC2S_RpcRsp:41,EWSCmdS2C_RpcRspRsp:42,EWSCmdC2S_GetStunPortReq:101,EWSCmdS2C_GetStunPortRsp:102,EWSCmdC2S_WebRTCOfferReq:103,EWSCmdS2C_WebRTCOfferRsp:104,EWSCmdC2S_SignalUpgradeReq:105,EWSCmdS2C_SignalUpgradeRsp:106},ELiveSource:{PC_YY:0,PC_HUYA:1,MOBILE_HUYA:2,WEB_HUYA:3},EGender:{MALE:0,FEMALE:1},TemplateType:{PRIMARY:1,RECEPTION:2},EStreamLineType:{STREAM_LINE_OLD_YY:0,STREAM_LINE_WS:1,STREAM_LINE_NEW_YY:2,STREAM_LINE_AL:3,STREAM_LINE_HUYA:4,STREAM_LINE_TX:5,STREAM_LINE_CDN:8,STREAM_LINE_HW:6,STREAM_LINE_BD:7,STREAM_LINE_GG:9,STREAM_LINE_CF:10,STREAM_LINE_QUICK_HUYA:99},eUserOperation:{USER_IN:1,USER_OUT:2,USER_MOVE:3},WebSocketCommand:function(){this.iCmdType=0,this.vData=new _.BinBuffer,this.lRequestId=0,this.traceId="",this.iEncryptType=0,this.lTime=0,this.sMD5=""}};b.WebSocketCommand.prototype._clone=function(){return new b.WebSocketCommand},b.WebSocketCommand.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WebSocketCommand.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WebSocketCommand.prototype.writeTo=function(e){e.writeInt32(0,this.iCmdType),e.writeBytes(1,this.vData),e.writeInt64(2,this.lRequestId),e.writeString(3,this.traceId),e.writeInt32(4,this.iEncryptType),e.writeInt64(5,this.lTime),e.writeString(6,this.sMD5)},b.WebSocketCommand.prototype.readFrom=function(e){this.iCmdType=e.readInt32(0,!1,this.iCmdType),this.vData=e.readBytes(1,!1,this.vData),this.lRequestId=e.readInt64(2,!1,this.lRequestId),this.traceId=e.readString(3,!1,this.traceId),this.iEncryptType=e.readInt32(4,!1,this.iEncryptType),this.lTime=e.readInt64(5,!1,this.lTime),this.sMD5=e.readString(6,!1,this.sMD5)},b.WSRegisterRsp=function(){this.iResCode=0,this.lRequestId=0,this.sMessage="",this.sBCConnHost=""},b.WSRegisterRsp.prototype._clone=function(){return new b.WSRegisterRsp},b.WSRegisterRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSRegisterRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSRegisterRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.lRequestId=e.readInt64(1,!1,this.lRequestId),this.sMessage=e.readString(2,!1,this.sMessage),this.sBCConnHost=e.readString(3,!1,this.sBCConnHost)},b.WSPushMessage=function(){this.ePushType=0,this.iUri=0,this.sMsg=new _.BinBuffer,this.iProtocolType=0,this.sGroupId="",this.lMsgId=0,this.iMsgTag=0},b.WSPushMessage.prototype._clone=function(){return new b.WSPushMessage},b.WSPushMessage.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSPushMessage.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSPushMessage.prototype.writeTo=function(e){e.writeInt32(0,this.ePushType),e.writeInt64(1,this.iUri),e.writeBytes(2,this.sMsg),e.writeInt32(3,this.iProtocolType),e.writeString(4,this.sGroupId),e.writeInt64(5,this.lMsgId),e.writeInt32(6,this.iMsgTag)},b.WSPushMessage.prototype.readFrom=function(e){this.ePushType=e.readInt32(0,!1,this.ePushType),this.iUri=e.readInt64(1,!1,this.iUri),this.sMsg=e.readBytes(2,!1,this.sMsg),this.iProtocolType=e.readInt32(3,!1,this.iProtocolType),this.sGroupId=e.readString(4,!1,this.sGroupId),this.lMsgId=e.readInt64(5,!1,this.lMsgId),this.iMsgTag=e.readInt32(6,!1,this.iMsgTag)},b.WSUserInfo=function(){this.lUid=0,this.bAnonymous=!0,this.sGuid="",this.sToken="",this.lTid=0,this.lSid=0,this.lGroupId=0,this.lGroupType=0,this.sAppId="",this.sUA=""},b.WSUserInfo.prototype._clone=function(){return new b.WSUserInfo},b.WSUserInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUserInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUserInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeBoolean(1,this.bAnonymous),e.writeString(2,this.sGuid),e.writeString(3,this.sToken),e.writeInt64(4,this.lTid),e.writeInt64(5,this.lSid),e.writeInt64(6,this.lGroupId),e.writeInt64(7,this.lGroupType),e.writeString(8,this.sAppId),e.writeString(9,this.sUA)},b.WSUserInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.bAnonymous=e.readBoolean(1,!1,this.bAnonymous),this.sGuid=e.readString(2,!1,this.sGuid),this.sToken=e.readString(3,!1,this.sToken),this.lTid=e.readInt64(4,!1,this.lTid),this.lSid=e.readInt64(5,!1,this.lSid),this.lGroupId=e.readInt64(6,!1,this.lGroupId),this.lGroupType=e.readInt64(7,!1,this.lGroupType),this.sAppId=e.readString(8,!1,this.sAppId),this.sUA=e.readString(9,!1,this.sUA)},b.WSVerifyCookieReq=function(){this.lUid=0,this.sUA="",this.sCookie="",this.sGuid="",this.bAutoRegisterUid=0,this.sAppSrc=""},b.WSVerifyCookieReq.prototype._clone=function(){return new b.WSVerifyCookieReq},b.WSVerifyCookieReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSVerifyCookieReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSVerifyCookieReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sUA),e.writeString(2,this.sCookie),e.writeString(3,this.sGuid),e.writeInt32(4,this.bAutoRegisterUid),e.writeString(5,this.sAppSrc)},b.WSVerifyCookieRsp=function(){this.iValidate=0},b.WSVerifyCookieRsp.prototype._clone=function(){return new b.WSVerifyCookieRsp},b.WSVerifyCookieRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSVerifyCookieRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSVerifyCookieRsp.prototype.readFrom=function(e){this.iValidate=e.readInt32(0,!1,this.iValidate)},b.WSVerifyHuyaTokenReq=function(){this.tId=new b.UserId,this.bAutoRegisterUid=0,this.sAppSrc=""},b.WSVerifyHuyaTokenReq.prototype._clone=function(){return new b.WSVerifyHuyaTokenReq},b.WSVerifyHuyaTokenReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSVerifyHuyaTokenReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSVerifyHuyaTokenReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.bAutoRegisterUid),e.writeString(2,this.sAppSrc)},b.WSVerifyHuyaTokenRsp=function(){this.iValidate=0},b.WSVerifyHuyaTokenRsp.prototype._clone=function(){return new b.WSVerifyHuyaTokenRsp},b.WSVerifyHuyaTokenRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSVerifyHuyaTokenRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSVerifyHuyaTokenRsp.prototype.readFrom=function(e){this.iValidate=e.readInt32(0,!1,this.iValidate)},b.UserId=function(){this.lUid=0,this.sGuid="",this.sToken="",this.sHuYaUA="",this.sCookie="",this.iTokenType=0,this.sDeviceInfo="",this.sQIMEI=""},b.UserId.prototype._clone=function(){return new b.UserId},b.UserId.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.UserId.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.UserId.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sToken),e.writeString(3,this.sHuYaUA),e.writeString(4,this.sCookie),e.writeInt32(5,this.iTokenType),e.writeString(6,this.sDeviceInfo),e.writeString(7,this.sQIMEI)},b.UserId.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sToken=e.readString(2,!1,this.sToken),this.sHuYaUA=e.readString(3,!1,this.sHuYaUA),this.sCookie=e.readString(4,!1,this.sCookie),this.iTokenType=e.readInt32(5,!1,this.iTokenType),this.sDeviceInfo=e.readString(6,!1,this.sDeviceInfo),this.sQIMEI=e.readString(7,!1,this.sQIMEI)},b.WSRegisterGroupReq=function(){this.vGroupId=new _.Vector(new _.STRING),this.sToken=""},b.WSRegisterGroupReq.prototype._clone=function(){return new b.WSRegisterGroupReq},b.WSRegisterGroupReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSRegisterGroupReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSRegisterGroupReq.prototype.writeTo=function(e){e.writeVector(0,this.vGroupId),e.writeString(1,this.sToken)},b.WSRegisterGroupRsp=function(){this.iResCode=0,this.vSupportP2PGroupId=new _.Vector(new _.STRING)},b.WSRegisterGroupRsp.prototype._clone=function(){return new b.WSRegisterGroupRsp},b.WSRegisterGroupRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSRegisterGroupRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSRegisterGroupRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.vSupportP2PGroupId=e.readVector(1,!1,this.vSupportP2PGroupId)},b.WSUpdateUserInfoReq=function(){this.sAppSrc="",this.sGuid="",this.iReportMsgIdRatio=0,this.iSupportAck=0,this.tWSMsgStatInfo=new b.WSMsgStatInfo,this.mCustomHeader=new _.Map(new _.STRING,new _.STRING),this.iMsgDegradeLevel=0},b.WSUpdateUserInfoReq.prototype._clone=function(){return new b.WSUpdateUserInfoReq},b.WSUpdateUserInfoReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUpdateUserInfoReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUpdateUserInfoReq.prototype.writeTo=function(e){e.writeString(0,this.sAppSrc),e.writeString(1,this.sGuid),e.writeInt32(2,this.iReportMsgIdRatio),e.writeInt32(3,this.iSupportAck),e.writeStruct(6,this.tWSMsgStatInfo),e.writeMap(7,this.mCustomHeader),e.writeInt32(8,this.iMsgDegradeLevel)},b.WSUpdateUserInfoRsp=function(){this.iResCode=0,this.iSupportAckMsgStat=0},b.WSUpdateUserInfoRsp.prototype._clone=function(){return new b.WSUpdateUserInfoRsp},b.WSUpdateUserInfoRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUpdateUserInfoRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUpdateUserInfoRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.iSupportAckMsgStat=e.readInt32(1,!1,this.iSupportAckMsgStat)},b.WSMsgStatInfo=function(){this.mSignalPushUriCount=new _.Map(new _.STRING,new _.Map(new _.INT64,new _.INT32)),this.mP2pPushUriCount=new _.Map(new _.STRING,new _.Map(new _.INT64,new _.INT32)),this.iSupportAckMsgStat=0},b.WSMsgStatInfo.prototype._clone=function(){return new b.WSMsgStatInfo},b.WSMsgStatInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSMsgStatInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSMsgStatInfo.prototype.writeTo=function(e){e.writeMap(0,this.mSignalPushUriCount),e.writeMap(1,this.mP2pPushUriCount),e.writeInt32(3,this.iSupportAckMsgStat)},b.WSMsgStatInfo.prototype.readFrom=function(e){this.mSignalPushUriCount=e.readMap(0,!1,this.mSignalPushUriCount),this.mP2pPushUriCount=e.readMap(1,!1,this.mP2pPushUriCount),this.iSupportAckMsgStat=e.readInt32(3,!1,this.iSupportAckMsgStat)},b.WSRedirect=function(){this.vRemoveIps=new _.Vector(new _.STRING),this.sRedirectIp=""},b.WSRedirect.prototype._clone=function(){return new b.WSRedirect},b.WSRedirect.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSRedirect.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSRedirect.prototype.writeTo=function(e){e.writeVector(0,this.vRemoveIps),e.writeString(1,this.sRedirectIp)},b.WSRedirect.prototype.readFrom=function(e){this.vRemoveIps=e.readVector(0,!1,this.vRemoveIps),this.sRedirectIp=e.readString(1,!1,this.sRedirectIp)},b.WSPushMessage_V2=function(){this.sGroupId="",this.vMsgItem=new _.Vector(new b.WSMsgItem)},b.WSPushMessage_V2.prototype._clone=function(){return new b.WSPushMessage_V2},b.WSPushMessage_V2.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSPushMessage_V2.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSPushMessage_V2.prototype.writeTo=function(e){e.writeString(0,this.sGroupId),e.writeVector(1,this.vMsgItem)},b.WSPushMessage_V2.prototype.readFrom=function(e){this.sGroupId=e.readString(0,!1,this.sGroupId),this.vMsgItem=e.readVector(1,!1,this.vMsgItem)},b.WSMsgItem=function(){this.iUri=0,this.sMsg=new _.BinBuffer,this.lMsgId=0},b.WSMsgItem.prototype._clone=function(){return new b.WSMsgItem},b.WSMsgItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSMsgItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSMsgItem.prototype.writeTo=function(e){e.writeInt64(0,this.iUri),e.writeBytes(1,this.sMsg),e.writeInt64(2,this.lMsgId)},b.WSMsgItem.prototype.readFrom=function(e){this.iUri=e.readInt64(0,!1,this.iUri),this.sMsg=e.readBytes(1,!1,this.sMsg),this.lMsgId=e.readInt64(2,!1,this.lMsgId)},b.LiveLaunchReq=function(){this.tId=new b.UserId,this.tLiveUB=new b.LiveUserbase,this.bSupportDomain=0},b.LiveLaunchReq.prototype._clone=function(){return new b.LiveLaunchReq},b.LiveLaunchReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.LiveLaunchReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.LiveLaunchReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeStruct(1,this.tLiveUB),e.writeInt32(2,this.bSupportDomain)},b.LiveLaunchRsp=function(){this.sGuid="",this.iTime=0,this.vProxyList=new _.Vector(new b.LiveProxyValue),this.eAccess=0,this.sClientIp=""},b.LiveLaunchRsp.prototype._clone=function(){return new b.LiveLaunchRsp},b.LiveLaunchRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.LiveLaunchRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.LiveLaunchRsp.prototype.readFrom=function(e){this.sGuid=e.readString(0,!1,this.sGuid),this.iTime=e.readInt32(1,!1,this.iTime),this.vProxyList=e.readVector(2,!1,this.vProxyList),this.eAccess=e.readInt32(3,!1,this.eAccess),this.sClientIp=e.readString(4,!1,this.sClientIp)},b.LiveProxyValue=function(){this.eProxyType=0,this.sProxy=new _.Vector(new _.STRING)},b.LiveProxyValue.prototype._clone=function(){return new b.LiveProxyValue},b.LiveProxyValue.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.LiveProxyValue.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.LiveProxyValue.prototype.writeTo=function(e){e.writeInt32(0,this.eProxyType),e.writeVector(1,this.sProxy)},b.LiveProxyValue.prototype.readFrom=function(e){this.eProxyType=e.readInt32(0,!1,this.eProxyType),this.sProxy=e.readVector(1,!1,this.sProxy)},b.WSLaunchReq=function(){this.lUid=0,this.sGuid="",this.sUA="",this.sAppSrc="",this.tDeviceInfo=new b.WSDeviceInfo},b.WSLaunchReq.prototype._clone=function(){return new b.WSLaunchReq},b.WSLaunchReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSLaunchReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSLaunchReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sUA),e.writeString(3,this.sAppSrc),e.writeStruct(4,this.tDeviceInfo)},b.WSLaunchRsp=function(){this.sGuid="",this.sClientIp="",this.iDyeLevel=0},b.WSLaunchRsp.prototype._clone=function(){return new b.WSLaunchRsp},b.WSLaunchRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSLaunchRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSLaunchRsp.prototype.readFrom=function(e){this.sGuid=e.readString(0,!1,this.sGuid),this.sClientIp=e.readString(1,!1,this.sClientIp),this.iDyeLevel=e.readInt32(2,!1,this.iDyeLevel)},b.WSDeviceInfo=function(){this.sIMEI="",this.sAPN="",this.sNetType="",this.sDeviceId="",this.sMId=""},b.WSDeviceInfo.prototype._clone=function(){return new b.WSDeviceInfo},b.WSDeviceInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSDeviceInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSDeviceInfo.prototype.writeTo=function(e){e.writeString(0,this.sIMEI),e.writeString(1,this.sAPN),e.writeString(2,this.sNetType),e.writeString(3,this.sDeviceId),e.writeString(4,this.sMId)},b.WSDeviceInfo.prototype.readFrom=function(e){this.sIMEI=e.readString(0,!1,this.sIMEI),this.sAPN=e.readString(1,!1,this.sAPN),this.sNetType=e.readString(2,!1,this.sNetType),this.sDeviceId=e.readString(3,!1,this.sDeviceId),this.sMId=e.readString(4,!1,this.sMId)},b.QueryHttpDnsReq=function(){this.lUid=0,this.sUA="",this.vDomain=new _.Vector(new _.STRING),this.sAppSrc="",this.sClientIp="",this.iIpStack=0,this.iIpType=0},b.QueryHttpDnsReq.prototype._clone=function(){return new b.QueryHttpDnsReq},b.QueryHttpDnsReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.QueryHttpDnsReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.QueryHttpDnsReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sUA),e.writeVector(2,this.vDomain),e.writeString(3,this.sAppSrc),e.writeString(4,this.sClientIp),e.writeInt32(5,this.iIpStack),e.writeInt32(6,this.iIpType)},b.QueryHttpDnsRsp=function(){this.mDomain2Ip=new _.Map(new _.STRING,new b.HttpDnsItem),this.iEnvType=0},b.QueryHttpDnsRsp.prototype._clone=function(){return new b.QueryHttpDnsRsp},b.QueryHttpDnsRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.QueryHttpDnsRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.QueryHttpDnsRsp.prototype.readFrom=function(e){this.mDomain2Ip=e.readMap(0,!1,this.mDomain2Ip),this.iEnvType=e.readInt32(1,!1,this.iEnvType)},b.HttpDnsItem=function(){this.vIp=new _.Vector(new _.STRING),this.iExpireTime=0,this.vIpv6=new _.Vector(new _.STRING)},b.HttpDnsItem.prototype._clone=function(){return new b.HttpDnsItem},b.HttpDnsItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.HttpDnsItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.HttpDnsItem.prototype.writeTo=function(e){e.writeVector(0,this.vIp),e.writeInt64(1,this.iExpireTime),e.writeVector(2,this.vIpv6)},b.HttpDnsItem.prototype.readFrom=function(e){this.vIp=e.readVector(0,!1,this.vIp),this.iExpireTime=e.readInt64(1,!1,this.iExpireTime),this.vIpv6=e.readVector(2,!1,this.vIpv6)},b.MetricDetailSet=function(){this.tId=new b.UserId,this.vMetricDetail=new _.Vector(new b.MetricDetail)},b.MetricDetailSet.prototype._clone=function(){return new b.MetricDetailSet},b.MetricDetailSet.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.MetricDetailSet.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.MetricDetailSet.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeVector(1,this.vMetricDetail)},b.MetricDetailSet.prototype.readFrom=function(e){this.tId=e.readStruct(0,!0,this.tId),this.vMetricDetail=e.readVector(1,!0,this.vMetricDetail)},b.MetricDetail=function(){this.sMetricName="",this.iTS=0,this.vDimension=new _.Vector(new b.Dimension),this.vFiled=new _.Vector(new b.Field),this.vExLog=new _.Vector(new b.Dimension)},b.MetricDetail.prototype._clone=function(){return new b.MetricDetail},b.MetricDetail.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.MetricDetail.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.MetricDetail.prototype.writeTo=function(e){e.writeString(0,this.sMetricName),e.writeInt64(1,this.iTS),e.writeVector(2,this.vDimension),e.writeVector(3,this.vFiled),e.writeVector(4,this.vExLog)},b.MetricDetail.prototype.readFrom=function(e){this.sMetricName=e.readString(0,!0,this.sMetricName),this.iTS=e.readInt64(1,!1,this.iTS),this.vDimension=e.readVector(2,!1,this.vDimension),this.vFiled=e.readVector(3,!1,this.vFiled),this.vExLog=e.readVector(4,!1,this.vExLog)},b.Field=function(){this.sName="",this.fValue=0},b.Field.prototype._clone=function(){return new b.Field},b.Field.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.Field.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.Field.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeDouble(1,this.fValue)},b.Field.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.fValue=e.readDouble(1,!1,this.fValue)},b.Dimension=function(){this.sName="",this.sValue=""},b.Dimension.prototype._clone=function(){return new b.Dimension},b.Dimension.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.Dimension.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.Dimension.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeString(1,this.sValue)},b.Dimension.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.sValue=e.readString(1,!1,this.sValue)},b.WSUnRegisterGroupReq=function(){this.vGroupId=new _.Vector(new _.STRING)},b.WSUnRegisterGroupReq.prototype._clone=function(){return new b.WSUnRegisterGroupReq},b.WSUnRegisterGroupReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUnRegisterGroupReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUnRegisterGroupReq.prototype.writeTo=function(e){e.writeVector(0,this.vGroupId)},b.WSUnRegisterGroupRsp=function(){this.iResCode=0},b.WSUnRegisterGroupRsp.prototype._clone=function(){return new b.WSUnRegisterGroupRsp},b.WSUnRegisterGroupRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUnRegisterGroupRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUnRegisterGroupRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode)},b.WSConnectParaInfo=function(){this.lUid=0,this.sGuid="",this.sUA="",this.sAppSrc="",this.sMid="",this.sExp="",this.iTokenType=0,this.sToken="",this.sCookie="",this.sTraceId="",this.mCustomHeaders=new _.Map(new _.STRING,new _.STRING)},b.WSConnectParaInfo.prototype._clone=function(){return new b.WSConnectParaInfo},b.WSConnectParaInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSConnectParaInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSConnectParaInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sUA),e.writeString(3,this.sAppSrc),e.writeString(4,this.sMid),e.writeString(5,this.sExp),e.writeInt32(6,this.iTokenType),e.writeString(7,this.sToken),e.writeString(8,this.sCookie),e.writeString(9,this.sTraceId),e.writeMap(10,this.mCustomHeaders)},b.WSConnectParaInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sUA=e.readString(2,!1,this.sUA),this.sAppSrc=e.readString(3,!1,this.sAppSrc),this.sMid=e.readString(4,!1,this.sMid),this.sExp=e.readString(5,!1,this.sExp),this.iTokenType=e.readInt32(6,!1,this.iTokenType),this.sToken=e.readString(7,!1,this.sToken),this.sCookie=e.readString(8,!1,this.sCookie),this.sTraceId=e.readString(9,!1,this.sTraceId),this.mCustomHeaders=e.readMap(10,!1,this.mCustomHeaders)},b.CloudGamePacket=function(){this.sToken="",this.sCommand="",this.packetBytes=new _.BinBuffer,this.sRequestId=""},b.CloudGamePacket.prototype._clone=function(){return new b.CloudGamePacket},b.CloudGamePacket.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.CloudGamePacket.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.CloudGamePacket.prototype.writeTo=function(e){e.writeString(0,this.sToken),e.writeString(1,this.sCommand),e.writeBytes(2,this.packetBytes),e.writeString(3,this.sRequestId)},b.CloudGamePacket.prototype.readFrom=function(e){this.sToken=e.readString(0,!1,this.sToken),this.sCommand=e.readString(1,!1,this.sCommand),this.packetBytes=e.readBytes(2,!1,this.packetBytes),this.sRequestId=e.readString(3,!1,this.sRequestId)},b.WSUpdateUserExpsReq=function(){this.mExps=new _.Map(new _.STRING,new _.STRING)},b.WSUpdateUserExpsReq.prototype._clone=function(){return new b.WSUpdateUserExpsReq},b.WSUpdateUserExpsReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUpdateUserExpsReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUpdateUserExpsReq.prototype.writeTo=function(e){e.writeMap(0,this.mExps)},b.WSUpdateUserExpsRsp=function(){this.iResCode=0},b.WSUpdateUserExpsRsp.prototype._clone=function(){return new b.WSUpdateUserExpsRsp},b.WSUpdateUserExpsRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.WSUpdateUserExpsRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.WSUpdateUserExpsRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode)},b.GetConfigReq=function(){this.tId=new b.UserId,this.mpVariable=new _.Map(new _.STRING,new _.STRING),this.sBizId="",this.sNamespace=new _.Vector(new _.STRING)},b.GetConfigReq.prototype._clone=function(){return new b.GetConfigReq},b.GetConfigReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.GetConfigReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.GetConfigReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeMap(1,this.mpVariable),e.writeString(2,this.sBizId),e.writeVector(3,this.sNamespace)},b.GetConfigReq.prototype.readFrom=function(e){this.tId=e.readStruct(0,!1,this.tId),this.mpVariable=e.readMap(1,!1,this.mpVariable),this.sBizId=e.readString(2,!1,this.sBizId),this.sNamespace=e.readVector(3,!1,this.sNamespace)},b.GetConfigRsp=function(){this.mpConfig=new _.Map(new _.STRING,new _.STRING),this.mpExperiment=new _.Map(new _.STRING,new _.STRING)},b.GetConfigRsp.prototype._clone=function(){return new b.GetConfigRsp},b.GetConfigRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},b.GetConfigRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},b.GetConfigRsp.prototype.writeTo=function(e){e.writeMap(0,this.mpConfig),e.writeMap(1,this.mpExperiment)},b.GetConfigRsp.prototype.readFrom=function(e){this.mpConfig=e.readMap(0,!1,this.mpConfig),this.mpExperiment=e.readMap(1,!1,this.mpExperiment)};var I=-10092,E=-10504,T=-20001,k=-20002,C={storeDns:function(e,t){for(var i="",n=this.getIpsKey(!0),r=e.join("|").toLocaleLowerCase(),a=0,o=r.length;a<o;a++){var s=n[r.charAt(a)],c=Math.random()*s.length>>0;i+=s.charAt(c)}try{localStorage["wssdns".concat(t)]=i}catch(e){}},getDns:function(e){var t="";try{t=localStorage["wssdns".concat(e)]}catch(e){}if(!t)return[];for(var i="",n=this.getIpsKey(!1),r=0,a=t.length;r<a;r++)i+=n[t.charAt(r)];return i.split("|")},storeIps:function(e,t){for(var i="",n=this.getIpsKey(!0),r=e.join("|").toLocaleLowerCase(),a=0,o=r.length;a<o;a++){var s=n[r.charAt(a)],c=Math.random()*s.length>>0;i+=s.charAt(c)}try{localStorage["wssips".concat(t)]=i}catch(e){}},getIps:function(e){var t="";try{t=localStorage["wssips".concat(e)]}catch(e){}if(!t)return[];for(var i="",n=this.getIpsKey(!1),r=0,a=t.length;r<a;r++)i+=n[t.charAt(r)];return i.split("|")},getIpsKey:function(e){for(var t=["-",".",":","|"],i="_N1Y%/ny^6?Mi7|wCe#$VmT=.GBut]3L*f<acX2Eop>d}WqKPQ@r;zx!s`(:IHFRZ~[A{Jb-O&D)v0Ukj95,8lg+h4S",n={},r=0;r<40;r++){var a=r<11?3:2,o=i.substr(0,a);i=i.substr(a);var s=r+"";if(13<r?s=String.fromCharCode(r+83):9<r&&(s=t[r-10]),e)n[s]=o;else for(var c=0;c<o.length;c++)n[o.charAt(c)]=s}return n},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},parseQueryString:function(e){for(var t=/([^\?\=\&]+)\=([^\?\=\&]*)/g,i={};t.exec(e);)i[RegExp.$1]=RegExp.$2;return i},ab2str:function(e,t){for(var i=new DataView(e),n=i.byteLength,r=0,a=[],o=0;o<n;o++)a.push(String.fromCharCode(i.getUint8(r++)));var s=a.join("");if(t)try{s=decodeURIComponent(escape(s))}catch(e){}return s},copy:function(e,t){for(var i in t)e[i]=t[i];return e},getTime:function(){return performance&&performance.now()||Date.now()}},x={};x.UriMapping=i(i({},x.UriMapping),{},{1025305:b.WSRedirect}),x.WupMapping=i(i({},x.WupMapping),{},{wsLaunch:b.WSLaunchRsp,queryHttpDns:b.QueryHttpDnsRsp});var A=99;function R(){try{var e=Number(localStorage._logLevel);isNaN(e)||(A=e)}catch(e){console.log(e)}}function P(e,t){var i=e.toString().length,n=Math.max(0,t-i);return"0".repeat(n)+e}function L(){var e=new Date,t=e.getFullYear(),i=P(e.getMonth()+1,2),n=P(e.getDate(),2),r=P(e.getHours(),2),a=P(e.getMinutes(),2),o=P(e.getSeconds(),2),s=P(e.getMilliseconds(),3);return"".concat(t,"-").concat(i,"-").concat(n," ").concat(r,":").concat(a,":").concat(o,".").concat(s," ")}R();var M={_data:[],_length:0,init:R,debug:function(){var e=L(),t=Array.prototype.slice.call(arguments);t[0]=e+t[0],A<=-1&&console.log.apply(console,t)},log:function(e){var t=L(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],A<=0&&console.log.apply(console,i),M.record(i,"log")},info:function(e){var t=L(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],A<=1&&console.info.apply(console,i),M.record(i,"info")},warn:function(e){var t=L(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],A<=2&&console.warn.apply(console,i),M.record(i,"warn")},error:function(e){var t=L(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],A<=3&&console.error.apply(console,i),M.record(i,"error")},group:function(e){var t=L(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],A<=1&&(console.groupCollapsed||console.group||console.log).apply(console,i),M.record(i,"group")},groupEnd:function(){console.groupEnd&&console.groupEnd.apply(console)},setLevel:function(e){e!=A&&(console.log(L()+" set log level from "+A+" to "+e),A=e)},getLevel:function(){return A},record:function(e,t){1100===M._length&&(M._data.splice(0,100),M._length=1e3);var i=0,n=(e.shift()||"").toString();for(n=n.replace(/\%c/gi,(function(e,t){return i++,""}));i--&&e.length;)e.shift();for(var r=0,o=e.length;r<o;r++)"object"==a(e[r])&&(e[r]="");e.unshift(n);var s=e.join(" ");M._length++,M._data.push("[".concat(t,"]").concat(s))},getLog:function(){return M._data},logcss:function(e){return"color:"+e+";font-weight:900"}},D={WEBSOCKET_CONNECTED:"WEBSOCKET_CONNECTED",WEBSOCKET_DOLAUNCH:"WEBSOCKET_DOLAUNCH",DYE_LEVEL:"DYE_LEVEL",VERIFYCOOKIE_PASS:"VERIFYCOOKIE_PASS",VERIFYTOKEN_PASS:"VERIFYTOKEN_PASS",WS_REGISTER_GROUP_RSP:"WS_REGISTER_GROUP_RSP",WS_UNREGISTER_GROUP_RSP:"WS_UNREGISTER_GROUP_RSP",WS_UPDATE_USER_EXPS_RSP:"WS_UPDATE_USER_EXPS_RSP",WS_CONNET_STATE:"WS_CONNET_STATE",WS_URI_NOTICE:"WS_URI_NOTICE",EXT_TAF_DATA:"extTafData",CLOUD_GAME_DATA:"CLOUD_GAME_DATA",AB_CONFIG_DATA:"ABCONFIG_DATA"},B={setCookie:function(e,t,i,n,r){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var o=e+"="+t+"; expires="+a.toUTCString();n&&(o+="; domain="+n),r&&(o+="; path="+r),document.cookie=o},getCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0,r=i.length;n<r;n++){var a=i[n].trim();if(0==a.indexOf(t))return a.substr(t.length)}return""},clearCookie:function(e){setCookie(e,"",-1)}},N=function(){function e(t,i){s(this,e),this.list=[],this.tickHandler=0,this.trytime=t.tryTime||8,this.report=i}return l(e,[{key:"add",value:function(e){-1!=e.id&&(e.trycount=1,e.time=0,e.paramlist=e.paramlist||[e.servantName,e.funcName,e.data,e.id,e.callbackFun],this.list.push(e),this.turnOn())}},{key:"getCallBack",value:function(e){for(var t in this.list)if(this.list[t].id==e)return this.list[t].callbackFun;return null}},{key:"del",value:function(e){if(-1!=e)for(var t in this.list)if(this.list[t].id==e){this.list.splice(t,1);break}}},{key:"getDataById",value:function(e){for(var t in this.list)if(this.list[t].id==e)return this.list[t];return null}},{key:"loop",value:function(){var e=[];for(var t in this.list){var i=this.list[t];if(i.time<this.trytime)i.time++;else if(i.trycount++,i.time=0,i.trycount>i.tryCountMax)i.errFun(i),e.push(i.id);else{var n=i.paramlist;i.reSend&&i.reSend.apply(null,n),this.report.setDim(i.id,"trycount",i.trycount)}}for(var r in e)this.del(e[r]);0==this.list.length&&this.turnOff()}},{key:"turnOn",value:function(){var e=this;0==this.tickHandler&&(this.tickHandler=setInterval((function(){e.loop()}),1e3))}},{key:"turnOff",value:function(){clearInterval(this.tickHandler),this.tickHandler=0}}]),e}(),U=function(){function e(){s(this,e),this.index=0,this.MAX_MESSAGE_COUNT=1e3,this.cacheArr=[]}return l(e,[{key:"cache",value:function(e){var t=this.cacheArr.indexOf(e);return this.index>=this.MAX_MESSAGE_COUNT&&(this.index=0),this.cacheArr[this.index]=e,this.index++,-1!=t}}]),e}();function F(){}function O(){O.init.call(this)}function H(e){return void 0===e._maxListeners?O.defaultMaxListeners:e._maxListeners}function G(e,t,i,n){var r,a,o,s;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]):(a=e._events=new F,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),!o.warned&&(r=H(e))&&0<r&&o.length>r){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,"function"==typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=i,++e._eventsCount;return e}function V(e,t,i){var n=!1;function r(){e.removeListener(t,r),n||(n=!0,i.apply(e,arguments))}return r.listener=i,r}function W(e){var t=this._events;if(t){var i=t[e];if("function"==typeof i)return 1;if(i)return i.length}return 0}function q(e,t){for(var i=new Array(t);t--;)i[t]=e[t];return i}F.prototype=Object.create(null),(O.EventEmitter=O).usingDomains=!1,O.prototype.domain=void 0,O.prototype._events=void 0,O.prototype._maxListeners=void 0,O.defaultMaxListeners=10,O.init=function(){this.domain=null,O.usingDomains&&(void 0).active&&(void 0).Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new F,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},O.prototype.getMaxListeners=function(){return H(this)},O.prototype.emit=function(e,t,i,n){var r,a,o,s,c,l,u,d="error"===e;if(l=this._events)d=d&&null==l.error;else if(!d)return!1;if(u=this.domain,d){if(r=t,u)return(r=r||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,r.domain=u,r.domainThrown=!1,u.emit("error",r),!1;if(r instanceof Error)throw r;var p=new Error('Uncaught, unspecified "error" event. ('+r+")");throw p.context=r,p}if(!(a=l[e]))return!1;var h="function"==typeof a;switch(o=arguments.length){case 1:!function(e,t,i){if(t)e.call(i);else for(var n=e.length,r=q(e,n),a=0;a<n;++a)r[a].call(i)}(a,h,this);break;case 2:!function(e,t,i,n){if(t)e.call(i,n);else for(var r=e.length,a=q(e,r),o=0;o<r;++o)a[o].call(i,n)}(a,h,this,t);break;case 3:!function(e,t,i,n,r){if(t)e.call(i,n,r);else for(var a=e.length,o=q(e,a),s=0;s<a;++s)o[s].call(i,n,r)}(a,h,this,t,i);break;case 4:!function(e,t,i,n,r,a){if(t)e.call(i,n,r,a);else for(var o=e.length,s=q(e,o),c=0;c<o;++c)s[c].call(i,n,r,a)}(a,h,this,t,i,n);break;default:for(s=new Array(o-1),c=1;c<o;c++)s[c-1]=arguments[c];!function(e,t,i,n){if(t)e.apply(i,n);else for(var r=e.length,a=q(e,r),o=0;o<r;++o)a[o].apply(i,n)}(a,h,this,s)}return!0},O.prototype.on=O.prototype.addListener=function(e,t){return G(this,e,t,!1)},O.prototype.prependListener=function(e,t){return G(this,e,t,!0)},O.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,V(this,e,t)),this},O.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,V(this,e,t)),this},O.prototype.removeListener=function(e,t){var i,n,r,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(i=n[e]))return this;if(i===t||i.listener&&i.listener===t)0==--this._eventsCount?this._events=new F:(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,a=i.length;0<a--;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=i[a].listener,r=a;break}if(r<0)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new F,this;delete n[e]}else!function(e,t){for(var i=t,n=i+1,r=e.length;n<r;i+=1,n+=1)e[i]=e[n];e.pop()}(i,r);n.removeListener&&this.emit("removeListener",e,o||t)}return this},O.prototype.removeAllListeners=function(e){var t,i;if(!(i=this._events))return this;if(!i.removeListener)return 0===arguments.length?(this._events=new F,this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=new F:delete i[e]),this;if(0===arguments.length){for(var n,r=Object.keys(i),a=0;a<r.length;++a)"removeListener"!==(n=r[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new F,this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this},O.prototype.listeners=function(e){var t,i=this._events;return i&&(t=i[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(t):[]},O.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):W.call(e,t)},O.prototype.listenerCount=W,O.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var j=function(){return(y.config.abUA||y.config.ua).split("&")[0]||""},z=function(e){var t="";return e&&"object"===a(e)&&(t=Object.entries(e).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a,o,s=[],c=!0,l=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),i=t[0],n=t[1];return"".concat(i,".").concat(n)})).join(",")),t},Y=function(){function t(){var i,n,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0;return s(this,t),n=this,r=d(r=t),(i=h(n,e()?Reflect.construct(r,[],d(n).constructor):r.apply(n,void 0))).main=o,i.report=o.report,i.DEBUG_IP=a.DEBUG_IP||"testws.va.huya.com:80",i.DEFAULT_IP=a.DEFAULT_IP||"ws.api.huya.com",i.CDN_IP=a.CDN_IP||"cdnws.api.huya.com",i.WSS_DEBUG_IP=a.WSS_DEBUG_IP||"testws.va.huya.com:443",i.WSS_DEFAULT_IP=a.WSS_DEFAULT_IP||"wsapi.huya.com",i.WSS_CDN_IP=a.WSS_CDN_IP||"cdnws.api.huya.com",i.HTTP_IP=a.HTTP_IP||"cdnws.api.huya.com",i.HTTP_DEBUG_IP=a.HTTP_DEBUG_IP||"testws.va.huya.com",i.STORE_DNS=i.WSS_CDN_IP,i.config=a,i.config.uid=a.uid||0,i.guid=a.guid||"",i.config.appSrc=a.appSrc||"",i.connected=!1,i.ws=null,i.url="",i.wsType=a.wsType||0,i.listeners={},i.lockType=null,i.delayRemove={},i._pingTimer=0,i.isDoLaunch=!1,i.isHttps=-1<location.protocol.indexOf("https"),i.baseinfo="?baseinfo=default",i.wsBaseInfo="?baseinfo=default",i.extTafFunNameList=[],i.wsProtocol=!a.isDebug||i.isHttps?"wss://":"ws://",i.connectType=a.connectType||0,i.wsConnectTime=0,i.reConnectTimes=0,i.reconnectDecay=1.5,i.maxReconnectInterval=3e4,i.reconnectInterval=1e3,i.reconnectTimeId=0,i.reconnectMax=120,i.cloudGameIpList=[],i.signalCache=new U,i.wsurl="",i.wsIps=[],i.httpWs=[],i.serialConnect=a.serialConnect||0,i.serialTimeOut=2e3,M.log("config",a),M.log("G",y),i.ua=a.ua||"",B.setCookie("huya_ua",i.ua,365),i.creatUserId(),i.wsBaseInfo=i.setBaseinfo(!1,""),i.retry=new N(a,i.report),1==i.connectType?h(i):(a.isForeign&&(i.WSS_DEBUG_IP=a.WSS_DEBUG_IP||"testws.master.live:443",i.WSS_DEFAULT_IP=a.WSS_DEFAULT_IP||"wsapi.nimo.tv",i.WSS_CDN_IP=a.WSS_CDN_IP||"wsapi-global.nimo.tv",i.HTTP_IP=a.HTTP_IP||"wsapi.nimo.tv",i.HTTP_DEBUG_IP=a.HTTP_DEBUG_IP||"testws.master.live",i.STORE_DNS=i.WSS_DEFAULT_IP),i.on("1025305",(function(e){i.onWSRedirect(e)})),i)}var i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,O),l(t,[{key:"creatUserId",value:function(){this.userId=new b.UserId,this.userId.lUid=this.config.uid,this.userId.sGuid=this.guid,this.userId.sToken="",this.userId.sHuYaUA=this.ua,this.userId.sCookie=document.cookie,this.userId.sDeviceInfo=this.config.device||""}},{key:"start",value:function(){this.wsConnectTime=Date.now();try{this._testws=localStorage._testws}catch(e){}this._testws&&""!=this._testws||this.config.isDebug?this.connecting():this.testWsIp(),setTimeout(function(){this.wsIps.unshift(this.config.isDebug?this.CDN_IP:this.WSS_CDN_IP),this.connecting()}.bind(this),5e3)}},{key:"testWsIp",value:(i=n().mark((function e(t){var i,r,a,o,s,c,l,u,d,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t&&0<t.length?i=t:this.config.isDebug?(i=C.getIps(this.connectType),delete localStorage.wssips):(i=C.getDns(this.connectType),delete localStorage.wssdns)}catch(e){}0==(r=(i=i||[]).length)&&this.connecting(),a=!1,o=[],M.log("连接列表",i),s=function(e){var t=e.currentTarget,i=t.ip;t.onopen=t.onclose=t.onerror=void 0,a?(M.log("已经连上了关闭",t),this.wsIps.push(i),t.close()):(a=!0,this.url=this.wsProtocol+i,this.connecting(t),this.onopen(),M.log("连上了",t))},c=function(e){var t=e.currentTarget.ip;M.log("关闭",t,e),-1==o.indexOf(t)&&o.push(t),o.length!=r||a||1==this.connectType||this.connecting()},l=0;case 10:if(!(l<r)){e.next=35;break}if(u=i[l],d=this.wsProtocol+u+this.wsBaseInfo,(p=new WebSocket(d)).ip=u,M.log("开始连接",u),this.serialConnect)return e.prev=17,e.next=20,this.connectWebSocket(p,s.bind(this),c.bind(this));e.next=29;break;case 20:return e.abrupt("break",35);case 23:return e.prev=23,e.t0=e.catch(17),M.log("WebSocket连接失败",e.t0),e.abrupt("continue",32);case 27:e.next=32;break;case 29:p.onopen=s.bind(this),p.onclose=c.bind(this),p.onerror=c.bind(this);case 32:l++,e.next=10;break;case 35:case"end":return e.stop()}}),e,this,[[17,23]])})),r=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function s(e){o(a,n,r,s,c,"next",e)}function c(e){o(a,n,r,s,c,"throw",e)}s(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"connectWebSocket",value:function(e,t,i){var n=this;return new Promise((function(r,a){var o=setTimeout((function(){e.close(),a("连接超时")}),n.serialTimeOut),s=!(e.onopen=function(e){clearTimeout(o),t(e),r()});function c(e){s||(s=!0,i(e))}e.onerror=function(e){clearTimeout(o),c(e),M.log("ws.onerror",e),a("连接错误")},e.onclose=function(e){clearTimeout(o),c(e),M.log("ws.onclose",e),a("连接关闭")}}))}},{key:"connecting",value:function(e){if(!this.connected){if(M.log("connecting"),this.ws){this.releaseWs(this.ws);var t=this.url.replace(this.wsProtocol,"");1==this.wsType?this.wsIps.push(t):2==this.wsType&&this.httpWs.push(t)}if(e)this.ws=e,this.wsType=1;else{var i="",n="";try{n=localStorage._testws}catch(e){}n&&""!=n?(this.wsType=3,i=n):(this.wsType=0,i=this.config.isDebug?this.DEFAULT_IP:this.WSS_DEFAULT_IP,this.report.setCommonDim("iptype",2),this.config.isDebug?(this.wsType=4,i=this.isHttps?this.WSS_DEBUG_IP:this.DEBUG_IP,this.report.setCommonDim("iptype",1)):0<this.wsIps.length?(this.wsType=1,i=this.wsIps.shift(),this.WSS_CDN_IP==i?this.report.setCommonDim("iptype",5):this.report.setCommonDim("iptype",4)):0<this.httpWs.length&&(this.wsType=2,i=this.httpWs.shift())),this.url=this.wsProtocol+i,M.log("WebSocket,connet",this.url+this.wsBaseInfo),this.ws=new WebSocket(this.url+this.wsBaseInfo)}this.ws.onopen=this.onopen.bind(this),this.ws.onclose=this.onclose.bind(this),this.ws.onerror=this.onerror.bind(this),this.ws.onmessage=this.onmessage.bind(this)}}},{key:"releaseWs",value:function(e){if(e){M.log("===== releaseWs =====",e),clearInterval(this._pingTimer),this._pingTimer=0,e.onopen=e.onclose=e.onerror=e.onmessage=void 0;try{e.close()}catch(e){}}}},{key:"doLaunch",value:function(){if(!this.isDoLaunch){this.isDoLaunch=!0;var e=new b.WSLaunchReq;e.lUid=this.config.uid,e.sGuid=this.guid,e.sUA=this.ua,e.sAppSrc=this.config.appSrc,this.sendWup("launch","wsLaunch",e,this.onDoLaunch.bind(this))}}},{key:"onDoLaunch",value:function(e){this.guid!=e.sGuid&&(this.guid=e.sGuid,this.userId.sGuid=this.guid,this.sendWSUpdateUserInfoReq("",e.sGuid));var t=e.iDyeLevel;this.emit(D.DYE_LEVEL,{dyeLevel:t});var i=this.config.domain||"";B.setCookie("guid",e.sGuid,365,i,"/"),this.queryHttpDns(),this.emit(D.WEBSOCKET_DOLAUNCH,{guid:this.guid})}},{key:"queryHttpDns",value:function(){var e,t=this,i=new b.QueryHttpDnsReq;i.lUid=this.config.uid,i.sUA=this.ua,i.sAppSrc=this.config.appSrc,i.iIpType=1;var n=[this.STORE_DNS];(e=i.vDomain.value).push.apply(e,n),this.sendWupHttp("launch","queryHttpDns",i,-1,(function(e){t.onGueryHttpDns(e)}))}},{key:"onGueryHttpDns",value:function(e){if(!this.config.isDebug)for(var t in e.mDomain2Ip.value)if(t==this.STORE_DNS){var i=e.mDomain2Ip.value[t].vIp.value;C.storeDns(i,this.connectType);break}}},{key:"send",value:function(e){this.ws&&this.connected&&this.ws.send(e)}},{key:"onopen",value:function(){var e=this;if(this.wsurl=this.url.replace(this.wsProtocol,""),this.connected||0!=this.reConnectTimes||(this.wsConnectTime=Date.now()-this.wsConnectTime),M.log("onopen",this.wsurl),this.connected=!0,this.emit(D.WEBSOCKET_CONNECTED,{type:this.connectType}),this.emit(D.WS_CONNET_STATE,{connected:this.connected,type:"open",connectType:this.connectType}),clearInterval(this._pingTimer),this._pingTimer=setInterval((function(){e.sendHeartBeat()}),6e4),this.reConnectTimes=0,clearTimeout(this.reconnectTimeId),1!=this.connectType){this.doLaunch();var t=this.config.verifyToken;t?this.sendVerifyToken(t):this.sendVerifyCookie(),function(e){var t=y.config,i=t.APPID;if(!t.exp){if(y.mpExperiment)return M.log("getConfig 已经有AB配置信息就不再请求，直接更新"),e.updateUserExps(y.mpExperiment);var n=new b.GetConfigReq;Object.assign(n.tId,e.userId),n.tId.sHuYaUA=y.config.abUA||n.tId.sHuYaUA,n.sBizId=i.toLowerCase(),e.sendWupNew("mobileui","getConfig",n,b.GetConfigRsp).then((function(t){y.mpExperiment=t.mpExperiment.value,y.mpConfig=t.mpConfig.value,M.log("AB配置信息:",y.mpExperiment,y.mpConfig),e.updateUserExps(y.mpExperiment),e.emit(D.AB_CONFIG_DATA,{mpExperiment:y.mpExperiment,mpConfig:y.mpConfig}),function(){try{var e=y.config.uid,t=localStorage.mpExperimentData,i={};t&&(i=JSON.parse(t));var n=j(),r="".concat(n,":").concat(e),a=Object.keys(i);10<=a.length&&delete i[a[0]],i[r]=y.mpExperiment,localStorage.mpExperimentData=JSON.stringify(i)}catch(e){M.log("存储AB配置信息出错",e)}}()})).catch((function(e){M.log("获取AB配置信息出错",e)}))}}(this)}}},{key:"onclose",value:function(e){var t=this;if(this.connected=!1,this.isDoLaunch=!1,this.emit(D.WS_CONNET_STATE,{connected:this.connected,type:"close",code:e.code,reason:e.reason,connectType:this.connectType}),this.reConnectTimes++,this.reConnectTimes>this.reconnectMax)M.log("%c=== WebSocket重连次数超标 ===","font-size:120%");else{1==this.connectType&&(this.reconnectDecay=.1);var i=this.reconnectInterval*Math.pow(this.reconnectDecay,this.reConnectTimes),n=Math.min(i,this.maxReconnectInterval);clearTimeout(this.reconnectTimeId),this.reconnectTimeId=setTimeout((function(){t.reconnect(!0),M.log("%c=== WebSocket 重连"+t.reConnectTimes+"==="+t.wsurl,"font-size:120%")}),n)}}},{key:"reconnetWS",value:function(){this.reConnectTimes=0,this.isDoLaunch=!1,this.connecting()}},{key:"onerror",value:function(e){this.connected=!1,this.emit(D.WS_CONNET_STATE,{connected:this.connected,type:"error",connectType:this.connectType}),M.log("%c=== WebSocket Error ===","font-size:120%",e)}},{key:"sendHeartBeat",value:function(){var e=new b.WebSocketCommand;e.iCmdType=b.EWebSocketCommandType.EWSCmdC2S_HeartBeatReq;var t=new _.JceOutputStream;e.writeTo(t),this.send(t.getBuffer())}},{key:"onmessage",value:function(e){var t=this,i=C.getTime(),n=new FileReader;n.onload=function(){t.decodeTaf(n,i)},n.readAsArrayBuffer(e.data)}},{key:"decodeTaf",value:function(e,t){var i=e.result;try{1<localStorage.__wup&&_.Util.jcestream(i,32)}catch(e){}var n=C.getTime(),r=new _.JceInputStream(i),a=new b.WebSocketCommand;switch(a.readFrom(r),a.iCmdType){case b.EWebSocketCommandType.EWSCmd_RegisterRsp:r=new _.JceInputStream(a.vData.buffer);var o=new b.WSRegisterRsp;o.readFrom(r),this.emit("WSRegisterRsp",o);break;case b.EWebSocketCommandType.EWSCmdS2C_RegisterGroupRsp:r=new _.JceInputStream(a.vData.buffer);var s=new b.WSRegisterGroupRsp;s.readFrom(r),M.log("%c<<<<<<< %crspregisterGroup",M.logcss("#0000E3"),M.logcss("#D9006C"),s),this.emit(D.WS_REGISTER_GROUP_RSP,s),this.retry.del("group");break;case b.EWebSocketCommandType.EWSCmdS2C_UnRegisterGroupRsp:r=new _.JceInputStream(a.vData.buffer);var c=new b.WSUnRegisterGroupRsp;c.readFrom(r),M.log("%c<<<<<<< %crspunRegisterGroup",M.logcss("#0000E3"),M.logcss("#D9006C"),c),this.emit(D.WS_UNREGISTER_GROUP_RSP,c);break;case b.EWebSocketCommandType.EWSCmd_WupRsp:var l=new _.Wup,u=C.getTime();l.decode(a.vData.buffer);var d=C.getTime(),p=-1,h=!1;try{p=l.readInt32("")}catch(e){h=!0,M.log("获取返回值失败",e)}var f=l.iRequestId,m=l.sFuncName,v=l.sServantName;this.report.setField(f,"hysignal_response",t),this.report.setDim(f,"retcode",p),p<0?this.report.setDim(f,"success",2):this.report.setDim(f,"success",0),this.report.setField(f,"decode_response_begin",n),this.report.setField(f,"unipacket_decode_begin",u),this.report.setField(f,"unipacket_decode_end",d),this.fireExtTafData(0,m,a.vData.buffer);var g=x.WupMapping[m],y=this.retry.getCallBack(f),w={id:f,fn:m,cb:y};if(g){var S=new g;S.bcode=p;try{if(0<=p){var I=3==l.iVersion?l.newdata:l.data,T=this.getWupKey(I,h);this.report.setField(f,"unipacket_read_rsp_end"),"noKey"!=T&&l.readStruct(T,S,g)}}catch(e){return M.log("ConstEnum.SIGNAL_ERROR_READ_ERROR",e),w.code=E,void this.reportError(w)}this.report.setField(f,"decode_response_end"),0<f&&(S.iRequestId=f),M.log("%c<<<<<<< %crspWup:%c "+m,M.logcss("#0000E3"),M.logcss("black"),M.logcss("#0000E3"),v,S),this.report.setField(f,"join_dispatcher_thread"),this.report.setField(f,"dispatcher_thread_execute_time"),S.sdkcode=0,this.emit(0<f?m+f:m,S)}else y&&y({sdkcode:k,bcode:p}),this.report.clearData(f),this.retry.del(f);break;case b.EWebSocketCommandType.EWSCmdS2C_MsgPushReq:r=new _.JceInputStream(a.vData.buffer),(G=new b.WSPushMessage).readFrom(r);var A=G.iUri,R=G.lMsgId,P=G.sGroupId,L=this.signalCache.cache(R);if(R&&L)return void M.log("重复的消息id",R,P);r=new _.JceInputStream(G.sMsg.buffer);var B=x.UriMapping[G.iUri];if(B){var N=new B;N.readFrom(r),M.log("%c<<<<<<< %crspMsgPush, %curi="+A,M.logcss("#0000E3"),M.logcss("black"),M.logcss("#8600FF"),N),this.emit(A,N)}else M.log("收到未映射的 WSPushMessage，uri="+G.iUri);this.emit("origin:"+A,{data:G.sMsg.buffer,groupId:P,connectType:this.connectType}),this.emit(D.WS_URI_NOTICE,{uri:A,data:G.sMsg.buffer,groupId:P,connectType:this.connectType}),this.fireExtTafData(A,"",G.sMsg.buffer);break;case b.EWebSocketCommandType.EWSCmdS2C_HeartBeatRsp:break;case b.EWebSocketCommandType.EWSCmdS2C_VerifyCookieRsp:r=new _.JceInputStream(a.vData.buffer);var U=new b.WSVerifyCookieRsp;U.readFrom(r);var F=0==U.iValidate;this.emit(D.VERIFYCOOKIE_PASS,F),M.log("VerifyCookie校验"+(F?"通过！":"失败！"));break;case b.EWebSocketCommandType.EWSCmdS2C_VerifyHuyaTokenRsp:r=new _.JceInputStream(a.vData.buffer);var O=new b.WSVerifyHuyaTokenRsp;O.readFrom(r);var H=0==O.iValidate;this.emit(D.VERIFYTOKEN_PASS,H),M.log("verifyToken校验"+(H?"通过！":"失败！"));break;case b.EWebSocketCommandType.EWSCmdS2C_MsgPushReq_V2:var G;r=new _.JceInputStream(a.vData.buffer),(G=new b.WSPushMessage_V2).readFrom(r);for(var V=0,W=G.vMsgItem.value.length;V<W;V++){var q=G.vMsgItem.value[V],j=q.iUri,z=q.lMsgId,Y=x.UriMapping[j],$=G.sGroupId,J=this.signalCache.cache(z);if(z&&J)M.log("重复的消息id",z,$);else if(this.emit("origin:"+j,{data:q.sMsg.buffer,groupId:$,connectType:this.connectType}),this.emit(D.WS_URI_NOTICE,{uri:j,data:q.sMsg.buffer,groupId:$,connectType:this.connectType}),this.fireExtTafData(j,"",q.sMsg.buffer),Y){var K=new Y,Z=new _.JceInputStream(q.sMsg);K.readFrom(Z),M.log("%c<<<<<<< %crspMsgPushV2, %curi="+j,M.logcss("#0000E3"),M.logcss("black"),M.logcss("#8600FF"),K),this.emit(j,K)}else M.log("收到未映射的 WSPushMessage_V2 uri="+j)}break;case b.EWebSocketCommandType.EWSCmdS2C_CloudGamePush:r=new _.JceInputStream(a.vData.buffer);var X=new b.CloudGamePacket;X.readFrom(r),X.sRequestId,this.emit(D.CLOUD_GAME_DATA,X),M.log("%c<<<<<<< %ccloundGameData:",M.logcss("#0000E3"),M.logcss("black"),X);break;case b.EWebSocketCommandType.EWSCmdS2C_UpdateUserExpsRsp:r=new _.JceInputStream(a.vData.buffer);var Q=new b.WSUpdateUserExpsRsp;Q.readFrom(r),this.emit(D.WS_UPDATE_USER_EXPS_RSP,Q),M.log("WSUpdateUserExpsRsp",Q);break;default:M.log("%c<<<<<<< Not matched CmdType: "+a.iCmdType)}}},{key:"getWupKey",value:function(e,t){return e.get("tRsp")?"tRsp":t&&e.get("")?"":"noKey"}},{key:"onWSRedirect",value:function(e){var t=e.vRemoveIps.value;M.log("---onWSRedirect---"),M.log("vRemoveIps",t),M.log("this.wsurl",this.wsurl);for(var i=0;i<this.wsIps.length;i++)for(var n=0;n<t.length;n++)this.wsIps[i]==t[n]&&this.wsIps.splice(i,1),this.wsurl==t[n]&&this.reconnect();M.log("storeDns",this.wsIps),C.storeDns(this.wsIps,this.connectType)}},{key:"reconnect",value:function(e){e||(this.reConnectTimes=0),this.releaseWs(this.ws),this.ws=null,this.connected=!1,this.isDoLaunch=!1,1==this.connectType?this.connectIPList(this.cloudGameIpList):this.connecting()}},{key:"_sendWup",value:function(e,t,i,n,r,a){M.log("%c>>>>>>> %creqWup: %c"+t,M.logcss("#009100"),M.logcss("black"),M.logcss("#009100"),e,i),this.report.setDim(n,"path","/"+e+"/"+t),this.report.setDim(n,"channel","ws"),this.report.setDim(n,"ip",this.wsurl),this.report.setField(n,"unipacket_encode_begin");var o={id:n,fn:t,cb:r};try{var s=new _.Wup;if(a){var c=a.wupTimeout,l=a.wupContext;c&&s.setTimeOut(c),l&&Object.assign(s.context.value,l)}s.setServant(e),s.setFunc(t),s.setRequestId(n),s.writeStruct("tReq",i);var u=new b.WebSocketCommand;u.iCmdType=b.EWebSocketCommandType.EWSCmd_WupReq,u.vData=s.encode();var d=this.report.getTraceId(n);if(d){var p="".concat(d,":").concat(d,":").concat(0,":").concat(y.enableTrace);u.traceId=p}var h=new _.JceOutputStream;u.writeTo(h),this.report.setField(n,"unipacket_encode_end")}catch(e){return M.log(e),o.code=T,void this.reportError(o)}try{this.send(h.getBuffer())}catch(e){return M.log(e),o.code=I,void this.reportError(o)}this.report.setField(n,"hysignal_enqueue")}},{key:"sendWup",value:function(e,t,i,n,r,a,o){var s=this,c=3<arguments.length&&void 0!==n?n:null,l=4<arguments.length&&void 0!==r?r:-1,u=5<arguments.length&&void 0!==a?a:1,d=6<arguments.length&&void 0!==o?o:{},p=+new Date;"function"==typeof c&&this.once(0<l?"".concat(t).concat(l):t,(function(i){s.report.setField(l,"execute_end"),c&&c(i),s.sendReport(l),s.report.clearData(l),s.retry.del(l),s.reportAPI&&s.reportAPI({type:"reportApiTime",state:"end",servantName:e,funcName:t,startTime:p,endTime:+new Date,sdkcode:i.sdkcode,bcode:i.bcode})}));var h={id:l,reSend:function(e,t,i,n,r,a){s._sendWup(e,t,i,n,r,a)},servantName:e,funcName:t,data:i,tryCountMax:u,errFun:function(e){var t={id:e.id,fn:e.funcName,code:-1,cb:e.callbackFun};s.reportError(t)},callbackFun:c};this.retry.add(h),this._sendWup(e,t,i,l,c,d),this.reportAPI&&this.reportAPI({type:"reportApiTime",state:"start",servantName:e,funcName:t,startTime:p})}},{key:"sendRegisterGroup",value:function(e,t){var i=this;this._sendRegisterGroup(e,t);var n={id:"group",reSend:function(e,t){var n=1<arguments.length&&void 0!==t?t:"";i._sendRegisterGroup(e,n)},servantName:"group",funcName:"group",data:null,tryCountMax:2,errFun:this.sendRegisterGroupErr,callbackFun:null,paramlist:[e]};this.retry.add(n)}},{key:"_sendRegisterGroup",value:function(e,t){var i,n=new b.WSRegisterGroupReq;(i=n.vGroupId.value).push.apply(i,f(e)),n.sToken=t||"",M.log("%c>>>>>>> %creqRegisterGroup:",M.logcss("#009100"),M.logcss("#D26900"),n);var r=b.EWebSocketCommandType.EWSCmdC2S_RegisterGroupReq;this.sendWebSocketCommand(n,r)}},{key:"sendRegisterGroupErr",value:function(){M.log("进组重试超过次数")}},{key:"sendUnRegisterGroup",value:function(e){var t,i=new b.WSUnRegisterGroupReq;(t=i.vGroupId.value).push.apply(t,f(e)),M.log("%c>>>>>>> %creqUnRegisterGroup:",M.logcss("#009100"),M.logcss("#D26900"),i);var n=b.EWebSocketCommandType.EWSCmdC2S_UnRegisterGroupReq;this.sendWebSocketCommand(i,n),this.retry.del("group")}},{key:"sendWSUpdateUserInfoReq",value:function(e,t){M.log(">>>>>>>  sendWSUpdateUserInfoReq:",e,t);var i=new b.WSUpdateUserInfoReq;i.sAppSrc=e||this.config.appSrc,i.sGuid=t||this.guid;var n=b.EWebSocketCommandType.EWSCmdC2S_UpdateUserInfoReq;this.sendWebSocketCommand(i,n)}},{key:"sendVerifyCookie",value:function(){if(!(this.config.uid<=0)){var e=new b.WSVerifyCookieReq;e.lUid=this.config.uid,e.sGuid=this.guid,e.sUA=this.ua,e.bAutoRegisterUid=1,e.sAppSrc=this.config.appSrc,e.sCookie=document.cookie;var t=b.EWebSocketCommandType.EWSCmdC2S_VerifyCookieReq;this.sendWebSocketCommand(e,t),M.log("VerifyCookie:",e)}}},{key:"sendVerifyToken",value:function(e){var t=e.type,i=e.token,n=new b.WSVerifyHuyaTokenReq;n.tId.lUid=this.config.uid,n.tId.sGuid=this.guid,n.tId.sToken=i,n.tId.iTokenType=t,n.tId.sHuYaUA=this.ua,n.tId.sCookie=document.cookie,n.tId.sDeviceInfo=this.config.device||"",n.bAutoRegisterUid=1,n.sAppSrc=this.config.appSrc;var r=b.EWebSocketCommandType.EWSCmdC2S_VerifyHuyaTokenReq;this.sendWebSocketCommand(n,r),M.log("sendVerifyToken:",n)}},{key:"sendReport",value:function(e){if(-1!==e&&!(y.enableTrace<=0)){var t=new b.MetricDetailSet,i=new b.UserId;C.copy(i,this.userId),i.sHuYaUA=this.config.APPID.toLowerCase()+"&"+y.ver+"&signalsdk",t.tId=i,t.vMetricDetail.value.push(this.createDetailById(e)),M.log("sendReport",t),this.sendReportHttp("metric","reportDetailV2",t)}}},{key:"createDetailById",value:function(e){var t=new b.MetricDetail;t.sMetricName="hymtp.hyns.monitor.client",t.iTS=Date.now();var i=this.report.getFieldData(e),n=this.report.getDimData(e);return this.fillField(i,t.vFiled.value),this.fillDimension(n,t.vDimension.value),t}},{key:"fillField",value:function(e,t){if(e)for(var i in e){var n=new b.Field;n.sName=i,n.fValue=e[i],t.push(n)}}},{key:"fillDimension",value:function(e,t){for(var i in e){var n=new b.Dimension;n.sName=i,n.sValue=e[i],t.push(n)}}},{key:"sendDataMetric",value:function(e,t){var i=new b.MetricDetailSet,n=new b.UserId;C.copy(n,this.userId),t&&(n.sHuYaUA=t),i.tId=n;var r=Date.now();for(var a in e)i.vMetricDetail.value.push(this.createDetail(e[a],r));M.log("sendDataMetric",i),this.sendReportHttp("metric","reportDetailV2",i)}},{key:"createDetail",value:function(e,t){var i=new b.MetricDetail;return i.sMetricName=e.sMetricName,i.iTS=t,this.fillField(e.vField,i.vFiled.value),this.fillDimension(e.vDimension,i.vDimension.value),this.fillExLog(e.vExLog,i.vExLog.value),i}},{key:"fillExLog",value:function(e,t){this.fillDimension(e,t)}},{key:"rspDecode",value:function(e,t){var i=new _.Wup;i.decode(e);var n=x.WupMapping[i.sFuncName];if(n){var r=new n,a=3==i.iVersion?i.newdata:i.data,o=this.getWupKey(a);return i.readStruct(o,r,t),r}return null}},{key:"sendReportHttp",value:function(e,t,i){var n=new _.Wup;n.setServant(e),n.setFunc(t),n.writeStruct("tReq",i);var r=n.encode().getBuffer(),a=(new Date).getTime(),o=this.config.reportUrl||"https://statwup.huya.com";_.Util.ajax(o+"?timestamp="+a,r,(function(){}),(function(e){M.log("上报失败",e)}))}},{key:"sendExtWup",value:function(e){var t=e.buff,i=e.funcName;-1==this.extTafFunNameList.indexOf(i)&&this.extTafFunNameList.push(i),t&&this.send(t)}},{key:"fireExtTafData",value:function(e,t,i){(e||t&&-1!=this.extTafFunNameList.indexOf(t))&&this.emit(D.EXT_TAF_DATA,{uri:e,funcName:t,data:i})}},{key:"sendWupHttp",value:function(e,t,i,n,r,a){var o=this,s=+new Date,c={id:n,fn:t,cb:r},l=new _.Wup;if(a){var u=a.wupTimeout,d=a.wupContext;u&&l.setTimeOut(u),d&&Object.assign(l.context.value,d)}this.report.setDim(n,"path","/"+e+"/"+t),this.report.setField(n,"unipacket_encode_begin"),this.report.setDim(n,"channel","http");var p=this.config.isDebug?this.HTTP_DEBUG_IP:this.HTTP_IP;this.report.setDim(n,"ip",p);try{l.setServant(e),l.setFunc(t),l.setRequestId(n),l.writeStruct("tReq",i),M.log("%c>>>>>>> %c http reqWup: %c"+t,M.logcss("#009100"),M.logcss("black"),M.logcss("#009100"),e,i);var h=l.encode().getBuffer()}catch(i){return M.log("writeStruct错误",i),c.code=T,void this.reportError(c)}var f=(new Date).getTime(),m=this.report.getTraceId(n);m&&(m="".concat(m,":").concat(m,":").concat(0,":").concat(y.enableTrace)),this.baseinfo=this.setBaseinfo(!0,m);var v="https://".concat(p).concat(this.baseinfo);this.report.setField(n,"unipacket_encode_end"),this.report.setField(n,"hysignal_enqueue");try{_.Util.ajax(v+"&timestamp="+f,h,(function(i){var n,a,l,u=C.getTime();try{(n=new _.Wup).decode(i),l=C.getTime()}catch(i){return M.log("decodewup错误",i),c.code=-500,void o.reportError(c)}var d=!1;try{a=n.readInt32("")}catch(i){d=!0}var p=n.iRequestId,h=n.sFuncName,f=n.sServantName;o.report.setField(p,"hysignal_response",u),o.report.setDim(p,"retcode",a),a<0?o.report.setDim(p,"success",2):o.report.setDim(p,"success",0),o.report.setField(p,"decode_response_begin",u),o.report.setField(p,"unipacket_decode_begin",u),o.report.setField(p,"unipacket_decode_end",l);var m=x.WupMapping[h];if(m){var v=new m;v.bcode=a;try{if(0<=a){var g=3==n.iVersion?n.newdata:n.data,y=o.getWupKey(g,d);o.report.setField(p,"unipacket_read_rsp_end"),"noKey"!=y&&n.readStruct(y,v,m)}}catch(i){return M.log("readStruct错误",i),c.code=E,void o.reportError(c)}o.report.setField(p,"decode_response_end"),0<p&&(v.iRequestId=p),M.log("%c<<<<<<< %chttp rspWup:%c"+t,M.logcss("#0000E3"),M.logcss("black"),M.logcss("#0000E3"),f,v),o.report.setField(p,"join_dispatcher_thread"),o.report.setField(p,"dispatcher_thread_execute_time"),o.report.setField(p,"execute_end"),o.sendReport(p),v.sdkcode=0,r&&r(v),o.reportAPI&&o.reportAPI({type:"reportApiTime",state:"end",servantName:e,funcName:t,startTime:s,endTime:+new Date,sdkcode:0,bcode:a})}else r&&r({sdkcode:k,bcode:a}),o.report.clearData(p),o.retry.del(p)}),(function(i){c.code=-20003,o.reportError(c,i),M.log("http请求失败",e,t,i)})),this.reportAPI&&this.reportAPI({type:"reportApiTime",state:"start",servantName:e,funcName:t,startTime:s})}catch(i){M.log("http请求error",i),c.code=I,this.reportError(c)}}},{key:"reportError",value:function(e,t){var i=e.fn,n=e.id,r=e.code;this.report.setDim(n,"retcode",r),this.report.setDim(n,"success",1),this.report.setField(n,"execute_end"),this.sendReport(n),this.report.clearData(n),this.retry.del(n);var a=x.WupMapping[i],o={};a&&(o=new a),o.bcode=void 0===t?0:t,o.sdkcode=r,e.cb&&(e.cb(o),this.removeListener(i+n,e.cb))}},{key:"setBaseinfo",value:function(e,t){try{var i=this.makeBaseInfo(e,t);return M.log("baseinfo",i),i}catch(e){return M.log("setBaseinfo",e),"?baseinfo=default"}}},{key:"makeBaseInfo",value:function(e,t){var i=new b.WSConnectParaInfo;i.lUid=this.config.uid,i.sGuid=this.guid,i.sUA=this.ua,i.sAppSrc=this.config.appSrc,i.sExp=i.sExp||function(){if(y.mpExperiment)return M.log("getMpExpConfig 内存的",y.mpExperiment),z(y.mpExperiment);try{var e=localStorage.mpExperimentData;if(e){var t=JSON.parse(e),i=y.config.uid,n=j(),r=t["".concat(n,":").concat(i)];return M.log("getMpExpConfig 缓存的",r),z(r)}}catch(e){M.log("获取AB配置信息出错",e)}return""}()||"",e&&(0<this.config.uid&&(i.sCookie=document.cookie),t&&(i.sTraceId=t));var n=this.config.customHeaders;n&&"object"===a(n)&&C.copy(i.mCustomHeaders.value,n),M.log("makeBaseInfo isHttp info",e,i);var r=new _.JceOutputStream;i.writeTo(r);var o=r.getBuffer(),s=C.ab2str(o,!1),c=window.btoa(s);return"?baseinfo=".concat(encodeURIComponent(c))}},{key:"connectIPList",value:function(e){for(var t=[],i=0,n=(this.cloudGameIpList=e).length;i<n;i++){var r=e[i],a=r.host,o=r.ip,s=this.isHttps?"".concat(a):"".concat(o||a);t.push(s)}this.testWsIp(t)}},{key:"sendCloudGameReq",value:function(e){var t=b.EWebSocketCommandType.EWSCmdC2S_CloudGameReq;this.sendWebSocketCommand(e,t),M.log("%c>>>>>>> %csendCloudGameReq:",M.logcss("#009100"),M.logcss("black"),e)}},{key:"sendWebSocketCommand",value:function(e,t){var i=new _.JceOutputStream;e.writeTo(i);var n=new b.WebSocketCommand;n.iCmdType=t,n.vData=i.getBinBuffer(),i=new _.JceOutputStream,n.writeTo(i),this.send(i.getBuffer())}},{key:"clear",value:function(){this.releaseWs(this.ws),this.ws=null}},{key:"getCurrentWSUrl",value:function(){return this.wsurl}},{key:"setReportAPI",value:function(e){this.reportAPI=e}},{key:"sendWupNew",value:function(e,t,i,n,r,a){var o=this,s=4<arguments.length&&void 0!==r?r:1,c=5<arguments.length&&void 0!==a?a:{};return new Promise((function(r,a){var l=+new Date;x.WupMapping[t]=n;var u=y.getRequestId(),d=y.getTraceId();function p(e){var t=e.bcode,i=e.sdkcode;(t<0||i<0&&i!==k?a:r)(e)}o.report.setDim(u,"traceid",d),o.report.setDim(u,"spanid",d),o.report.setField(u,"execute");var h="".concat(t).concat(u);o.once(h,(function(i){o.report.setField(u,"execute_end"),o.sendReport(u),o.report.clearData(u),o.retry.del(u),o.reportAPI&&o.reportAPI({type:"reportApiTime",state:"end",servantName:e,funcName:t,startTime:l,endTime:+new Date,sdkcode:i.sdkcode,bcode:i.bcode}),p(i)}));var f={id:u,reSend:function(e,t,i,n,r,a){o._sendWup(e,t,i,n,r,a)},servantName:e,funcName:t,data:i,tryCountMax:s,errFun:function(e){var t={id:e.id,fn:e.funcName,code:-1,cb:e.callbackFun};o.reportError(t)},callbackFun:p};o.retry.add(f),o.connected?o._sendWup(e,t,i,u,p,c):o.sendWupHttp(e,t,i,u,p,c),o.reportAPI&&o.reportAPI({type:"reportApiTime",state:"start",servantName:e,funcName:t,startTime:l})}))}},{key:"updateUserExps",value:function(e){var t=this,i=new b.WSUpdateUserExpsReq;Object.assign(i.mExps.value,e);var n=b.EWebSocketCommandType.EWSCmdC2S_UpdateUserExpsReq;return this.sendWebSocketCommand(i,n),M.log("%c>>>>>>> %c updateUserExps:",M.logcss("#009100"),M.logcss("black"),i),new Promise((function(e,i){t.once(D.WS_UPDATE_USER_EXPS_RSP,(function(t){M.log("%c<<<<<<< %c updateUserExps",M.logcss("#0000E3"),M.logcss("#D9006C"),t),(0===t.iResCode?e:i)(t)}))}))}},{key:"removeListenerWrapper",value:function(e,t){null!=t&&"function"==typeof t?"function"==typeof this.removeListener?this.removeListener(e,t):"function"==typeof this.off&&this.off(e,t):console.warn("off ".concat(e," , callback no a function"))}}]),t}(),$=function(){function e(t){s(this,e),this.fieldsList={},this.dimsList={},this.dims={};var i=window.navigator&&window.navigator.connection&&window.navigator.connection.effectiveType;this.dims.appid=t.APPID.toLowerCase(),this.dims.platform="web",this.dims.schema="hysignal",this.dims.nettype=i||"",this.dims.osver=t.osver||"",this.dims.iptype="0",this.dims.device=t.device||"",this.dims.sguid=t.guid,this.dims.ns_version=y.ver,this.dims.ns_compat="0",this.dims.trycount=1,this.dims.prodenv=t.isDebug?"test":"prod"}return l(e,[{key:"setField",value:function(e,t,i){if(-1!=e){this.fieldsList[e]=this.fieldsList[e]||{};var n=this.fieldsList[e];n.ctime=n.ctime||C.getTime(),n.data=n.data||{};var r=i||C.getTime();n.data[t]=r-n.ctime,"execute"==t&&(n.begintime=r),"execute_end"==t&&(n.data.response_time=r-n.begintime),n.ctime=r}}},{key:"getFieldData",value:function(e){return this.fieldsList[e]?i({},this.fieldsList[e].data):{}}},{key:"setDim",value:function(e,t,n){this.dimsList[e]=this.dimsList[e]||i({},this.dims),this.dimsList[e][t]=n}},{key:"getTraceId",value:function(e){return this.dimsList[e]?this.dimsList[e].traceid:""}},{key:"getDimData",value:function(e){return this.dimsList[e]?i({},this.dimsList[e]):{}}},{key:"clearData",value:function(e){delete this.fieldsList[e],delete this.dimsList[e]}},{key:"setCommonDim",value:function(e,t){this.dims[e]=t}}]),e}(),J=function(){function e(t){var n=this;s(this,e);var r=i({},t)||{};M.log("初始化",r),r.guid=r.guid||B.getCookie("guid"),this.config=r,y.config=r,y.setEnableTrace(r),this.report=new $(r),this.tafHandlerList=[],this.tafHandler=new Y(r,this),r.noConnect||this.tafHandler.start(),this.tafHandlerList.push(this.tafHandler),this.wsLaunch=!1,this.queue=[],this.on(D.WEBSOCKET_DOLAUNCH,(function(){M.log("sendWup 缓存队列"),n.wsLaunch=!0,n.queue.forEach((function(e){return e()})),n.queue=[]})),this.inited=!0}return l(e,[{key:"bindWup",value:function(e){var t=this;return function(i){var n=i.funcName,r=i.resStruct;return t.registerWup(n,r),function(i){var r=i.data,a=i.callback,o=i.iRequestId;t.sendWup(e,n,r,a,o)}}}},{key:"sendWup",value:function(e,t,i,n,r,a){var o=4<arguments.length&&void 0!==r?r:1,s=5<arguments.length&&void 0!==a?a:{},c=y.getRequestId(),l=y.getTraceId();this.report.setDim(c,"traceid",l),this.report.setDim(c,"spanid",l),this.report.setField(c,"execute");var u={id:c,fn:t,cb:n};if(!this.inited)return u.code=-10,void this.tafHandler.reportError(u);try{this.tafHandler.connected?(M.log("sendWup",t),this.tafHandler.sendWup(e,t,i,n,c,o,s)):(M.log("sendWupHttp",t),this.tafHandler.sendWupHttp(e,t,i,c,n,s))}catch(e){u.code=-3,this.tafHandler.reportError(u),M.error("sendWup",e)}}},{key:"sendWupNew",value:function(e,t,i,n,r,a){var o=4<arguments.length&&void 0!==r?r:1,s=5<arguments.length&&void 0!==a?a:{};return this.tafHandler.sendWupNew(e,t,i,n,o,s)}},{key:"sendWupHttp",value:function(e,t,i,n){var r=y.getRequestId(),a=y.getTraceId();this.report.setDim(r,"traceid",a),this.report.setDim(r,"spanid",a),this.report.setField(r,"execute");var o={id:r,fn:t,cb:n};if(!this.inited)return o.code=-10,void this.tafHandler.reportError(o);this.tafHandler.sendWupHttp(e,t,i,y.iRequestId,n)}},{key:"registerUri",value:function(e,t){x.UriMapping[e+""]=t}},{key:"registerUriMap",value:function(e){for(var t in e){var i=e[t];x.UriMapping[t+""]=i}}},{key:"registerWup",value:function(e,t){x.WupMapping[e]=t}},{key:"registerWupMap",value:function(e){for(var t in e){var i=e[t];x.WupMapping[t]=i}}},{key:"on",value:function(e,t){this.tafHandlerList.forEach((function(i){i.on(e,t)}))}},{key:"off",value:function(e,t){this.tafHandlerList.forEach((function(i){i.removeListenerWrapper(e,t)}))}},{key:"has",value:function(e){return 0<this.tafHandler.listenerCount(e)}},{key:"sendRegisterGroup",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"";this.tafHandler.sendRegisterGroup(e,i)}},{key:"sendUnRegisterGroup",value:function(e){this.tafHandler.sendUnRegisterGroup(e)}},{key:"sendVerifyCookie",value:function(e,t,i){var n=2<arguments.length&&void 0!==i?i:"webh5&0.0.1&huya";this.tafHandler.sendVerifyCookie(e,t,n)}},{key:"reconnetWS",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,i=this.tafHandlerList.find((function(e){return e.connectType===t}));if(i)return i.reconnetWS()}},{key:"isWSConnected",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,i=this.tafHandlerList.find((function(e){return e.connectType===t}));return!!i&&i.connected}},{key:"isWSLaunch",value:function(){return this.wsLaunch}},{key:"sendWSUpdateUserInfoReq",value:function(e){this.tafHandler.sendWSUpdateUserInfoReq(e)}},{key:"getTaf",value:function(){return _}},{key:"getUserId",value:function(){return this.tafHandler.userId}},{key:"getTafProtocol",value:function(){return{HUYA:b,TafMx:x,Taf:_}}},{key:"rspDecode",value:function(e,t){return this.tafHandler.rspDecode(e,t)}},{key:"sendDataMetric",value:function(e,t){this.tafHandler.sendDataMetric(e,t)}},{key:"sendExtWup",value:function(e){this.tafHandler.sendExtWup(e)}},{key:"connectCloudGameWS",value:function(e){M.log("云游戏建连",e),this.cloudTaf&&this.clearCloudTaf();var t=i(i({},this.config),{},{connectType:1});return this.cloudTaf=new Y(t,this),this.cloudTaf.connectIPList(e),this.tafHandlerList.push(this.cloudTaf),this.cloudTaf}},{key:"clearCloudTaf",value:function(){var e=this.tafHandlerList.indexOf(this.cloudTaf);-1<e&&this.tafHandlerList.splice(e,1),this.cloudTaf.clear(),this.cloudTaf=null}},{key:"sendCloudGameReq",value:function(e){this.cloudTaf?this.cloudTaf.sendCloudGameReq(e):M.log("云游戏连接未创建")}},{key:"getCurrentWSUrl",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,i=this.tafHandlerList.find((function(e){return e.connectType===t}));return i?i.getCurrentWSUrl():""}},{key:"setReportAPI",value:function(e){this.tafHandler.setReportAPI(e)}},{key:"updateUserExps",value:function(e){return y.mpExperiment=e,this.tafHandler.updateUserExps(e)}}]),e}();return{HUYA:b,Taf:_,init:function(e){return new J(e)},events:D,utils:C,store:B,version:g}}()})),tt=G((function(e,t){e.exports=function(){function e(e,t,i){return t=d(t),h(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return!!e}()?Reflect.construct(t,i||[],d(e).constructor):t.apply(e,i))}function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(){n=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function d(e,t,i,n){var r=t&&t.prototype instanceof y?t:y,o=Object.create(r.prototype),s=new P(n||[]);return a(o,"_invoke",{value:C(e,i,s)}),o}function p(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="suspendedYield",m="executing",v="completed",g={};function y(){}function _(){}function w(){}var S={};u(S,s,(function(){return this}));var b=Object.getPrototypeOf,I=b&&b(b(L([])));I&&I!==i&&r.call(I,s)&&(S=I);var E=w.prototype=y.prototype=Object.create(S);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var i;a(this,"_invoke",{value:function(n,a){function o(){return new t((function(i,o){!function i(n,a,o,s){var c=p(e[n],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}(n,a,i,o)}))}return i=i?i.then(o,o):o()}})}function C(t,i,n){var r=h;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===v){if("throw"===a)throw o;return{value:e,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var c=x(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var l=p(t,i,n);if("normal"===l.type){if(r=n.done?v:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}function x(t,i){var n=i.method,r=t.iterator[n];if(r===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(r,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,g;var o=a.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return _.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,i,n,r,a){void 0===a&&(a=Promise);var o=new k(d(e,i,n,r),a);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),u(E,l,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,r){return s.type="throw",s.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),R(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;R(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:L(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,i,n,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void i(e)}s.done?t(c):Promise.resolve(c).then(n,r)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function l(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,i){return(t=r(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a,o,s=[],c=!0,l=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var y="1.4.5-beta.3",_={iRequestId:0};_.ver=y,_.enableTrace=0,_.config=null,_.mpExperiment=null,_.mpConfig=null,_.setEnableTrace=function(e){if(e.hasOwnProperty("enableTrace"))_.enableTrace=e.enableTrace;else{var t=Math.random()<.1;_.enableTrace=t?1:0}},_.getRequestId=function(){return++_.iRequestId},_.getTraceId=function(){return"xxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};var w={Wup:function(){this.iVersion=3,this.cPacketType=0,this.iMessageType=0,this.iRequestId=0,this.sServantName="",this.sFuncName="",this.sBuffer=new w.BinBuffer,this.iTimeout=0,this.context=new w.Map(new w.STRING,new w.STRING),this.status=new w.Map(new w.STRING,new w.STRING),this.data=new w.Map(new w.STRING,new w.Map(new w.STRING,new w.BinBuffer)),this.newdata=new w.Map(new w.STRING,new w.BinBuffer)}};w.Wup.prototype.setVersion=function(e){this.iVersion=e},w.Wup.prototype.getVersion=function(e){return this.iVersion},w.Wup.prototype.setServant=function(e){this.sServantName=e},w.Wup.prototype.setFunc=function(e){this.sFuncName=e},w.Wup.prototype.setRequestId=function(e){this.iRequestId=e||++this.iRequestId},w.Wup.prototype.getRequestId=function(){return this.iRequestId},w.Wup.prototype.setTimeOut=function(e){this.iTimeout=e},w.Wup.prototype.getTimeOut=function(){return this.iTimeout},w.Wup.prototype.writeTo=function(){var e=new w.JceOutputStream;return e.writeInt16(1,this.iVersion),e.writeInt8(2,this.cPacketType),e.writeInt32(3,this.iMessageType),e.writeInt32(4,this.iRequestId),e.writeString(5,this.sServantName),e.writeString(6,this.sFuncName),e.writeBytes(7,this.sBuffer),e.writeInt32(8,this.iTimeout),e.writeMap(9,this.context),e.writeMap(10,this.status),new w.BinBuffer(e.getBuffer())},w.Wup.prototype.encode=function(){var e=new w.JceOutputStream;3==this.iVersion?e.writeMap(0,this.newdata):e.writeMap(0,this.data),this.sBuffer=e.getBinBuffer();var t=new w.BinBuffer;t=this.writeTo();var i=new w.BinBuffer;return i.writeInt32(4+t.len),i.writeBytes(t),i},w.Wup.prototype.writeBoolean=function(e,t){var i=new w.JceOutputStream;if(i.writeBoolean(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.BOOLEAN;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new w.BinBuffer(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeInt8=function(e,t){var i=new w.JceOutputStream;if(i.writeInt8(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.CHAR;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new w.BinBuffer(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeInt16=function(e,t){var i=new w.JceOutputStream;if(i.writeInt16(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.SHORT;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeInt32=function(e,t){var i=new w.JceOutputStream;if(i.writeInt32(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.INT32;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeInt64=function(e,t){var i=new w.JceOutputStream;if(i.writeInt64(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.INT64;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeFloat=function(e,t){var i=new w.JceOutputStream;if(i.writeFloat(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.FLOAT;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeDouble=function(e,t){var i=new w.JceOutputStream;if(i.writeDouble(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.DOUBLE;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeString=function(e,t){var i=new w.JceOutputStream;if(i.writeString(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.TypeHelp.STRING;null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeVector=function(e,t){var i=new w.JceOutputStream;if(i.writeVector(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBinBuffer()));else{var n=this.data.get(e),r=t._className();null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeStruct=function(e,t){var i=new w.JceOutputStream;if(i.writeStruct(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e);null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(" ",new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeBytes=function(e,t){var i=new w.JceOutputStream;if(i.writeBytes(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e);null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put("vec",new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.writeMap=function(e,t){var i=new w.JceOutputStream;if(i.writeMap(0,t),3==this.iVersion)this.newdata.put(e,new w.BinBuffer(i.getBuffer()));else{var n=this.data.get(e),r=w.Util.getClassType(t);null==n&&(n=new w.Map(w.STRING,w.STRING)),n.put(r,new Uint8Array(i.getBuffer())),this.data.put(e,n)}},w.Wup.prototype.readFrom=function(e){this.iVersion=e.readInt16(1,!0),this.cPacketType=e.readInt8(2,!0),this.iMessageType=e.readInt32(3,!0),this.iRequestId=e.readInt32(4,!0),this.sServantName=e.readString(5,!0),this.sFuncName=e.readString(6,!0);try{localStorage.__wup&&console.info("%c@@@ "+this.sServantName+"."+this.sFuncName,"color:white;background:black;",this)}catch(e){}this.sBuffer=e.readBytes(7,!0),this.iTimeout=e.readInt32(8,!0),this.context=e.readMap(9,!0,new w.Map(new w.STRING,new w.STRING)),this.status=e.readMap(10,!0,new w.Map(new w.STRING,new w.STRING))},w.Wup.prototype.decode=function(e){var t=new w.JceInputStream(e);if(t.buf.vew.getInt32(t.buf.position)<4)throw Error("packet length too short");t.buf.position+=4,this.readFrom(t),t=new w.JceInputStream(this.sBuffer.getBuffer()),3==this.iVersion?(this.newdata.clear(),t.readMap(0,!0,this.newdata)):(this.data.clear(),t.readMap(0,!0,this.data))},w.Wup.prototype.readBoolean=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new w.JceInputStream(t.buffer).readBoolean(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.BOOLEAN,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r).readBoolean(0,!0,i)}return i},w.Wup.prototype.readInt8=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new w.JceInputStream(t.buffer).readInt8(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.CHAR,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r).readInt8(0,!0,i)}return i},w.Wup.prototype.readInt16=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=(a=new w.JceInputStream(t.buffer)).readInt16(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.SHORT,r=t.get(n),a=new w.JceInputStream(r);if(null==r)throw Error("UniAttribute not found type:"+n);i=a.readInt16(0,!0,i)}return i},w.Wup.prototype.readInt32=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new w.JceInputStream(t.buffer).readInt32(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.INT32,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r).readInt32(0,!0,i)}return i},w.Wup.prototype.readInt64=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new w.JceInputStream(t.buffer).readInt64(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.INT64,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r).readInt64(0,!0,i)}return i},w.Wup.prototype.readFloat=function(e){var t,i;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);i=new w.JceInputStream(t.buffer).readFloat(0,!0,i)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.FLOAT,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r).readFloat(0,!0,i)}return i},w.Wup.prototype.readDouble=function(e){var t;if(3==this.iVersion){if(null==(t=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);var i=new w.JceInputStream(t.buffer);def=i.readDouble(0,!0,def)}else{if(null==(t=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var n=w.TypeHelp.DOUBLE,r=t.get(n);if(null==r)throw Error("UniAttribute not found type:"+n);i=new w.JceInputStream(r),def=i.readDouble(0,!0,def)}return def},w.Wup.prototype.readVector=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new w.JceInputStream(n.buffer).readVector(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new w.JceInputStream(r).readVector(0,!0,t)}return t},w.Wup.prototype.readStruct=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new w.JceInputStream(n.buffer).readStruct(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new w.JceInputStream(r).readStruct(0,!0,t)}return t},w.Wup.prototype.readMap=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new w.JceInputStream(n.buffer).readMap(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new w.JceInputStream(r).readMap(0,!0,t)}return t},w.Wup.prototype.readBytes=function(e,t,i){var n;if(3==this.iVersion){if(null==(n=this.newdata.get(e)))throw Error("UniAttribute not found key:"+e);t=new w.JceInputStream(n.buffer).readBytes(0,!0,t)}else{if(null==(n=this.data.get(e)))throw Error("UniAttribute not found key:"+e);var r=n.get(i);if(null==r)throw Error("UniAttribute not found type:"+i);t=new w.JceInputStream(r).readBytes(0,!0,t)}return t},w.DataHelp={EN_INT8:0,EN_INT16:1,EN_INT32:2,EN_INT64:3,EN_FLOAT:4,EN_DOUBLE:5,EN_STRING1:6,EN_STRING4:7,EN_MAP:8,EN_LIST:9,EN_STRUCTBEGIN:10,EN_STRUCTEND:11,EN_ZERO:12,EN_SIMPLELIST:13},w.TypeHelp={BOOLEAN:"bool",CHAR:"char",SHORT:"short",INT32:"int32",INT64:"int64",FLOAT:"float",DOUBLE:"double",STRING:"string",VECTOR:"list<$t>",MAP:"map<$k, $v>"},w.BinBuffer=function(e){this.buf=null,this.vew=null,this.len=0,this.position=0,null!=e&&null!=e&&e instanceof w.BinBuffer&&(this.buf=e.buf,this.vew=new DataView(this.buf),this.len=e.length,this.position=e.position),null!=e&&null!=e&&(e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e))&&(this.buf=e,this.vew=new DataView(this.buf),this.len=this.vew.byteLength,this.position=0),this.__defineGetter__("length",(function(){return this.len})),this.__defineGetter__("buffer",(function(){return this.buf}))},w.BinBuffer.prototype._write=function(e,t,i){return e.writeBytes(t,i)},w.BinBuffer.prototype._read=function(e,t,i){return e.readBytes(t,!0,i)},w.BinBuffer.prototype._clone=function(){return new w.BinBuffer},w.BinBuffer.prototype.allocate=function(e){if(e=this.position+e,!(null!=this.buf&&this.buf.length>e)){var t=new ArrayBuffer(Math.max(256,2*e));null!=this.buf&&(new Uint8Array(t).set(new Uint8Array(this.buf)),this.buf=void 0),this.buf=t,this.vew=void 0,this.vew=new DataView(this.buf)}},w.BinBuffer.prototype.getBuffer=function(){var e=new ArrayBuffer(this.len);return new Uint8Array(e).set(new Uint8Array(this.buf,0,this.len)),e},w.BinBuffer.prototype.memset=function(e,t,i){this.allocate(i),new Uint8Array(this.buf).set(new Uint8Array(e,t,i),this.position)},w.BinBuffer.prototype.writeInt8=function(e){this.allocate(1),this.vew.setInt8(this.position,e),this.position+=1,this.len=this.position},w.BinBuffer.prototype.writeUInt8=function(e){this.allocate(1),this.vew.setUint8(this.position++,e),this.len=this.position},w.BinBuffer.prototype.writeInt16=function(e){this.allocate(2),this.vew.setInt16(this.position,e),this.position+=2,this.len=this.position},w.BinBuffer.prototype.writeUInt16=function(e){this.allocate(2),this.vew.setUint16(this.position,e),this.position+=2,this.len=this.position},w.BinBuffer.prototype.writeInt32=function(e){this.allocate(4),this.vew.setInt32(this.position,e),this.position+=4,this.len=this.position},w.BinBuffer.prototype.writeUInt32=function(e){this.allocate(4),this.vew.setUint32(this.position,e),this.position+=4,this.len=this.position},w.BinBuffer.prototype.writeInt64=function(e){if("string"==typeof e){this.allocate(8);for(var t=4294967296,i=0,n=0,r=(e=e.toLowerCase()).length,a=0;a<r;a++){var o=e.charCodeAt(a)-48;o>9&&(o-=39),i=10*i+o,n=10*n+Math.floor(i/t),i%=t}return this.vew.setUint32(this.position,n),this.vew.setUint32(this.position+4,i),this.position+=8,void(this.len=this.position)}this.allocate(8),this.vew.setUint32(this.position,parseInt(e/4294967296)),this.vew.setUint32(this.position+4,e%4294967296),this.position+=8,this.len=this.position},w.BinBuffer.prototype.writeFloat=function(e){this.allocate(4),this.vew.setFloat32(this.position,e),this.position+=4,this.len=this.position},w.BinBuffer.prototype.writeDouble=function(e){this.allocate(8),this.vew.setFloat64(this.position,e),this.position+=8,this.len=this.position},w.BinBuffer.prototype.writeString=function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));this.allocate(t.length),new Uint8Array(this.buf).set(new Uint8Array(t),this.position),this.position+=t.length,this.len=this.position},w.BinBuffer.prototype.writeBytes=function(e){0!=e.length&&null!=e.buf&&(this.allocate(e.length),new Uint8Array(this.buf).set(new Uint8Array(e.buf,0,e.length),this.position),this.position+=e.length,this.len=this.position)},w.BinBuffer.prototype.readInt8=function(){return this.vew.getInt8(this.position++)},w.BinBuffer.prototype.readInt16=function(){return this.position+=2,this.vew.getInt16(this.position-2)},w.BinBuffer.prototype.readInt32=function(){return this.position+=4,this.vew.getInt32(this.position-4)},w.BinBuffer.prototype.readUInt8=function(){return this.position+=1,this.vew.getUint8(this.position-1)},w.BinBuffer.prototype.readUInt16=function(){return this.position+=2,this.vew.getUint16(this.position-2)},w.BinBuffer.prototype.readUInt32=function(){return this.position+=4,this.vew.getUint32(this.position-4)};var S=Math.pow(2,53);function b(e){return"function"==typeof e?(new e)._className():e._className()}w.BinBuffer.prototype.readInt64=function(){var e=this.vew.getUint32(this.position),t=this.vew.getUint32(this.position+4);this.position+=8;var i=4294967296*e+t;if(i<S)return i;for(var n,r,a,o="",s=Math.pow(2,32);0!=e||0!=t;)o=(r=(a=(n=e%10)*s+t)%10).toString(10)+o,e=(e-n)/10,t=(a-r)/10;return o},w.BinBuffer.prototype.readFloat=function(){var e=this.vew.getFloat32(this.position);return this.position+=4,e},w.BinBuffer.prototype.readDouble=function(){var e=this.vew.getFloat64(this.position);return this.position+=8,e},w.BinBuffer.prototype.readString=function(e){for(var t=[],i=0;i<e;i++)t.push(String.fromCharCode(this.vew.getUint8(this.position++)));var n=t.join("");try{n=decodeURIComponent(escape(n))}catch(e){}return n},w.BinBuffer.prototype.readBytes=function(e){var t=new w.BinBuffer;return t.allocate(e),t.memset(this.buf,this.position,e),t.position=0,t.len=e,this.position=this.position+e,t},w.JceOutputStream=function(){this.buf=new w.BinBuffer,this.getBinBuffer=function(){return this.buf},this.getBuffer=function(){return this.buf.getBuffer()}},w.JceOutputStream.prototype.writeTo=function(e,t){e<15?this.buf.writeUInt8(e<<4&240|t):this.buf.writeUInt16((240|t)<<8|e)},w.JceOutputStream.prototype.writeBoolean=function(e,t){this.writeInt8(e,1==t?1:0)},w.JceOutputStream.prototype.writeInt8=function(e,t){0==t?this.writeTo(e,w.DataHelp.EN_ZERO):(this.writeTo(e,w.DataHelp.EN_INT8),this.buf.writeInt8(t))},w.JceOutputStream.prototype.writeInt16=function(e,t){t>=-128&&t<=127?this.writeInt8(e,t):(this.writeTo(e,w.DataHelp.EN_INT16),this.buf.writeInt16(t))},w.JceOutputStream.prototype.writeInt32=function(e,t){t>=-32768&&t<=32767?this.writeInt16(e,t):(this.writeTo(e,w.DataHelp.EN_INT32),this.buf.writeInt32(t))},w.JceOutputStream.prototype.writeInt64=function(e,t){t>=-2147483648&&t<=2147483647?this.writeInt32(e,t):(this.writeTo(e,w.DataHelp.EN_INT64),this.buf.writeInt64(t))},w.JceOutputStream.prototype.writeUInt8=function(e,t){this.writeInt16(e,t)},w.JceOutputStream.prototype.writeUInt16=function(e,t){this.writeInt32(e,t)},w.JceOutputStream.prototype.writeUInt32=function(e,t){this.writeInt64(e,t)},w.JceOutputStream.prototype.writeFloat=function(e,t){0==t?this.writeTo(e,w.DataHelp.EN_ZERO):(this.writeTo(e,w.DataHelp.EN_FLOAT),this.buf.writeFloat(t))},w.JceOutputStream.prototype.writeDouble=function(e,t){0==t?this.writeTo(e,w.DataHelp.EN_ZERO):(this.writeTo(e,w.DataHelp.EN_DOUBLE),this.buf.writeDouble(t))},w.JceOutputStream.prototype.writeStruct=function(e,t){if(null==t.writeTo)throw Error("not defined writeTo Function");this.writeTo(e,w.DataHelp.EN_STRUCTBEGIN),t.writeTo(this),this.writeTo(0,w.DataHelp.EN_STRUCTEND)},w.JceOutputStream.prototype.writeString=function(e,t){var i=t;try{i=unescape(encodeURIComponent(i))}catch(e){}i.length>255?(this.writeTo(e,w.DataHelp.EN_STRING4),this.buf.writeUInt32(i.length)):(this.writeTo(e,w.DataHelp.EN_STRING1),this.buf.writeUInt8(i.length)),this.buf.writeString(i)},w.JceOutputStream.prototype.writeBytes=function(e,t){this.writeTo(e,w.DataHelp.EN_SIMPLELIST),this.writeTo(0,w.DataHelp.EN_INT8),this.writeInt32(0,t.length),this.buf.writeBytes(t)},w.JceOutputStream.prototype.writeVector=function(e,t){var i=t.value.length;this.writeTo(e,w.DataHelp.EN_LIST),this.writeInt32(0,i);for(var n=0;n<i;n++)("function"==typeof t.proto?new t.proto:t.proto)._write(this,0,t.value[n])},w.JceOutputStream.prototype.writeMap=function(e,t){for(var i in this.writeTo(e,w.DataHelp.EN_MAP),this.writeInt32(0,t.size()),t.value){var n="function"==typeof t.kproto?new t.kproto:t.kproto,r="function"==typeof t.vproto?new t.vproto:t.vproto;n._write(this,0,i),r._write(this,1,t.value[i])}},w.JceInputStream=function(e){this.buf=new w.BinBuffer(e)},w.JceInputStream.prototype.readFrom=function(){var e=this.buf.readUInt8(),t=(240&e)>>4,i=15&e;return t>=15&&(t=this.buf.readUInt8()),{tag:t,type:i}},w.JceInputStream.prototype.peekFrom=function(){var e=this.buf.position,t=this.readFrom();return this.buf.position=e,{tag:t.tag,type:t.type,size:t.tag>=15?2:1}},w.JceInputStream.prototype.skipField=function(e){switch(e){case w.DataHelp.EN_INT8:this.buf.position+=1;break;case w.DataHelp.EN_INT16:this.buf.position+=2;break;case w.DataHelp.EN_INT32:this.buf.position+=4;break;case w.DataHelp.EN_INT64:this.buf.position+=8;break;case w.DataHelp.EN_STRING1:var t=this.buf.readUInt8();this.buf.position+=t;break;case w.DataHelp.EN_STRING4:var i=this.buf.readInt32();this.buf.position+=i;break;case w.DataHelp.EN_STRUCTBEGIN:this.skipToStructEnd();break;case w.DataHelp.EN_STRUCTEND:case w.DataHelp.EN_ZERO:break;case w.DataHelp.EN_MAP:for(var n=this.readInt32(0,!0),r=0;r<2*n;++r){var a=this.readFrom();this.skipField(a.type)}break;case w.DataHelp.EN_SIMPLELIST:if((a=this.readFrom()).type!=w.DataHelp.EN_INT8)throw Error("skipField with invalid type, type value: "+e+","+a.type);t=this.readInt32(0,!0),this.buf.position+=t;break;case w.DataHelp.EN_LIST:for(n=this.readInt32(0,!0),r=0;r<n;++r)a=this.readFrom(),this.skipField(a.type);break;case w.DataHelp.EN_FLOAT:this.buf.position+=4;break;case w.DataHelp.EN_DOUBLE:this.buf.position+=8;break;default:throw new Error("skipField with invalid type, type value: "+e)}},w.JceInputStream.prototype.skipToStructEnd=function(){for(;;){var e=this.readFrom();if(this.skipField(e.type),e.type==w.DataHelp.EN_STRUCTEND)return}},w.JceInputStream.prototype.skipToTag=function(e,t){for(;this.buf.position<this.buf.length;){var i=this.peekFrom();if(e<=i.tag||i.type==w.DataHelp.EN_STRUCTEND)return i.type!=w.DataHelp.EN_STRUCTEND&&e==i.tag;this.buf.position+=i.size,this.skipField(i.type)}if(t)throw Error("require field not exist, tag:"+e);return!1},w.JceInputStream.prototype.readBoolean=function(e,t,i){return 1==this.readInt8(e,t,i)},w.JceInputStream.prototype.readInt8=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_INT8:return this.buf.readInt8()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readInt16=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_INT8:return this.buf.readInt8();case w.DataHelp.EN_INT16:return this.buf.readInt16()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readInt32=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_INT8:return this.buf.readInt8();case w.DataHelp.EN_INT16:return this.buf.readInt16();case w.DataHelp.EN_INT32:return this.buf.readInt32()}throw Error("read int8 type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readInt64=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_INT8:return this.buf.readInt8();case w.DataHelp.EN_INT16:return this.buf.readInt16();case w.DataHelp.EN_INT32:return this.buf.readInt32();case w.DataHelp.EN_INT64:return this.buf.readInt64()}throw Error("read int64 type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readFloat=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_FLOAT:return this.buf.readFloat()}throw Error("read float type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readDouble=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();switch(n.type){case w.DataHelp.EN_ZERO:return 0;case w.DataHelp.EN_DOUBLE:return this.buf.readDouble()}throw Error("read double type mismatch, tag:"+e+", get type:"+n.type)},w.JceInputStream.prototype.readUInt8=function(e,t,i){return this.readInt16(e,t,i)},w.JceInputStream.prototype.readUInt16=function(e,t,i){return this.readInt32(e,t,i)},w.JceInputStream.prototype.readUInt32=function(e,t,i){return this.readInt64(e,t,i)},w.JceInputStream.prototype.readStruct=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=w.DataHelp.EN_STRUCTBEGIN)throw Error("read struct type mismatch, tag: "+e+", get type:"+n.type);return i.readFrom(this),this.skipToStructEnd(),i},w.JceInputStream.prototype.readString=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==w.DataHelp.EN_STRING1)return this.buf.readString(this.buf.readUInt8());if(n.type==w.DataHelp.EN_STRING4)return this.buf.readString(this.buf.readUInt32());throw Error("read 'string' type mismatch, tag: "+e+", get type: "+n.type+".")},w.JceInputStream.prototype.readString2=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==w.DataHelp.EN_STRING1)return this.buf.readBytes(this.buf.readUInt8());if(n.type==w.DataHelp.EN_STRING4)return this.buf.readBytes(this.buf.readUInt32());throw Error("read 'string' type mismatch, tag: "+e+", get type: "+n.type+".")},w.JceInputStream.prototype.readBytes=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type==w.DataHelp.EN_SIMPLELIST){var r=this.readFrom();if(r.type!=w.DataHelp.EN_INT8)throw Error("type mismatch, tag:"+e+",type:"+n.type+","+r.type);if((a=this.readInt32(0,!0))<0)throw Error("invalid size, tag:"+e+",type:"+n.type+","+r.type);return this.buf.readBytes(a)}if(n.type==w.DataHelp.EN_LIST){var a=this.readInt32(0,!0);return this.buf.readBytes(a)}throw Error("type mismatch, tag:"+e+",type:"+n.type)},w.JceInputStream.prototype.readVector=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=w.DataHelp.EN_LIST)throw Error("read 'vector' type mismatch, tag: "+e+", get type: "+n.type);var r=this.readInt32(0,!0);if(r<0)throw Error("invalid size, tag: "+e+", type: "+n.type+", size: "+r);for(var a=0;a<r;++a){var o="function"==typeof i.proto?new i.proto:i.proto;i.value.push(o._read(this,0,o._clone()))}return i},w.JceInputStream.prototype.readMap=function(e,t,i){if(0==this.skipToTag(e,t))return i;var n=this.readFrom();if(n.type!=w.DataHelp.EN_MAP)throw Error("read 'map' type mismatch, tag: "+e+", get type: "+n.type);var r=this.readInt32(0,!0);if(r<0)throw Error("invalid map, tag: "+e+", size: "+r);for(var a=0;a<r;a++){var o="function"==typeof i.kproto?new i.kproto:i.kproto,s="function"==typeof i.vproto?new i.vproto:i.vproto,c=o._read(this,0,o._clone()),l=s._read(this,1,s._clone());i.put(c,l)}return i},w.Util=w.Util||{},w.Util.jcestream=function(e,t){if(null!=e&&null!=e){if(e instanceof ArrayBuffer){for(var i=new Uint8Array(e),n="",r=0;r<i.length;r++)n+=(i[r]>15?"":"0")+i[r].toString(16);var a=n.toUpperCase();return console.log(a),a}console.log("Taf.Util.jcestream::value is not ArrayBuffer")}else console.log("Taf.Util.jcestream::value is null or undefined")},w.Util.str2ab=function(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;++t)n[t]=e.charCodeAt(t);return new Uint8Array(n).buffer},w.Util.ajax=function(e,t,i,n){var r=new XMLHttpRequest;r.overrideMimeType("text/plain; charset=x-user-defined"),r.addEventListener("readystatechange",(function e(){4===r.readyState&&(200===r.status||304===r.status?i(w.Util.str2ab(r.response)):n(r.status),r.removeEventListener("readystatechange",e),r=void 0)})),r.open("post",e),r.send(t)},w.INT8=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt8(t,i)},this._read=function(e,t,i){return e.readInt8(t,!0,i)},this._className=function(){return w.CHAR}},w.INT16=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt16(t,i)},this._read=function(e,t,i){return e.readInt16(t,!0,i)},this._className=function(){return w.SHORT}},w.INT32=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)},this._className=function(){return w.INT32}},w.INT64=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt64(t,i)},this._read=function(e,t,i){return e.readInt64(t,!0,i)},this._className=function(){return w.INT64}},w.UINT8=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt16(t,i)},this._read=function(e,t,i){return e.readInt16(t,!0,i)},this._className=function(){return w.SHORT}},w.UInt16=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)},this._className=function(){return w.INT32}},w.UInt32=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt64(t,i)},this._read=function(e,t,i){return e.readInt64(t,!0,i)},this._className=function(){return w.INT64}},w.Float=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeFloat(t,i)},this._read=function(e,t,i){return e.readFloat(t,!0,i)},this._className=function(){return w.FLOAT}},w.Double=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeDouble(t,i)},this._read=function(e,t,i){return e.readDouble(t,!0,i)},this._className=function(){return w.DOUBLE}},w.STRING=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeString(t,i)},this._read=function(e,t,i){return e.readString(t,!0,i)},this._className=function(){return w.STRING}},w.BOOLEAN=function(){this._clone=function(){return!1},this._write=function(e,t,i){return e.writeBoolean(t,i)},this._read=function(e,t,i){return e.readBoolean(t,!0,i)},this._className=function(){return w.BOOLEAN}},w.ENUM=function(){this._clone=function(){return 0},this._write=function(e,t,i){return e.writeInt32(t,i)},this._read=function(e,t,i){return e.readInt32(t,!0,i)}},w.Vector=function(e){this.proto=e,this.value=[]},w.Vector.prototype._clone=function(){return new w.Vector("function"==typeof this.proto?new this.proto:this.proto)},w.Vector.prototype._write=function(e,t,i){return e.writeVector(t,i)},w.Vector.prototype._read=function(e,t,i){return e.readVector(t,!0,i)},w.Vector.prototype._className=function(){var e=b(this.proto);return w.TypeHelp.VECTOR.replace("$t",e)},w.Map=function(e,t){this.kproto=e,this.vproto=t,this.value=new Object},w.Map.prototype._clone=function(){var e="function"==typeof this.kproto?new this.kproto:this.kproto,t="function"==typeof this.vproto?new this.vproto:this.vproto;return new w.Map(e,t)},w.Map.prototype._write=function(e,t,i){return e.writeMap(t,i)},w.Map.prototype._read=function(e,t,i){return e.readMap(t,!0,i)},w.Map.prototype.put=function(e,t){this.value[e]=t},w.Map.prototype.get=function(e){return this.value[e]},w.Map.prototype.remove=function(e){delete this.value[e]},w.Map.prototype.clear=function(){this.value=new Object},w.Map.prototype.size=function(){var e=0;for(var t in this.value)e++;return e},w.Map.prototype._className=function(){var e=b(this.kproto),t=b(this.vproto);return w.TypeHelp.Map.replace("$k",e).replace("$v",t)};var I={EWebSocketCommandType:{EWSCmd_NULL:0,EWSCmd_RegisterReq:1,EWSCmd_RegisterRsp:2,EWSCmd_WupReq:3,EWSCmd_WupRsp:4,EWSCmdC2S_HeartBeat:5,EWSCmdS2C_HeartBeatAck:6,EWSCmdS2C_MsgPushReq:7,EWSCmdC2S_DeregisterReq:8,EWSCmdS2C_DeRegisterRsp:9,EWSCmdC2S_VerifyCookieReq:10,EWSCmdS2C_VerifyCookieRsp:11,EWSCmdC2S_VerifyHuyaTokenReq:12,EWSCmdS2C_VerifyHuyaTokenRsp:13,EWSCmdC2S_UNVerifyReq:14,EWSCmdS2C_UNVerifyRsp:15,EWSCmdC2S_RegisterGroupReq:16,EWSCmdS2C_RegisterGroupRsp:17,EWSCmdC2S_UnRegisterGroupReq:18,EWSCmdS2C_UnRegisterGroupRsp:19,EWSCmdC2S_HeartBeatReq:20,EWSCmdS2C_HeartBeatRsp:21,EWSCmdS2C_MsgPushReq_V2:22,EWSCmdC2S_UpdateUserExpsReq:23,EWSCmdS2C_UpdateUserExpsRsp:24,EWSCmdC2S_WSHistoryMsgReq:25,EWSCmdS2C_WSHistoryMsgRsp:26,EWSCmdS2C_EnterP2P:27,EWSCmdS2C_EnterP2PAck:28,EWSCmdS2C_ExitP2P:29,EWSCmdS2C_ExitP2PAck:30,EWSCmdC2S_SyncGroupReq:31,EWSCmdS2C_SyncGroupRsp:32,EWSCmdC2S_UpdateUserInfoReq:33,EWSCmdS2C_UpdateUserInfoRsp:34,EWSCmdC2S_MsgAckReq:35,EWSCmdS2C_MsgAckRsp:36,EWSCmdC2S_CloudGameReq:37,EWSCmdS2C_CloudGamePush:38,EWSCmdS2C_CloudGameRsp:39,EWSCmdS2C_RpcReq:40,EWSCmdC2S_RpcRsp:41,EWSCmdS2C_RpcRspRsp:42,EWSCmdC2S_GetStunPortReq:101,EWSCmdS2C_GetStunPortRsp:102,EWSCmdC2S_WebRTCOfferReq:103,EWSCmdS2C_WebRTCOfferRsp:104,EWSCmdC2S_SignalUpgradeReq:105,EWSCmdS2C_SignalUpgradeRsp:106},ELiveSource:{PC_YY:0,PC_HUYA:1,MOBILE_HUYA:2,WEB_HUYA:3},EGender:{MALE:0,FEMALE:1},TemplateType:{PRIMARY:1,RECEPTION:2},EStreamLineType:{STREAM_LINE_OLD_YY:0,STREAM_LINE_WS:1,STREAM_LINE_NEW_YY:2,STREAM_LINE_AL:3,STREAM_LINE_HUYA:4,STREAM_LINE_TX:5,STREAM_LINE_CDN:8,STREAM_LINE_HW:6,STREAM_LINE_BD:7,STREAM_LINE_GG:9,STREAM_LINE_CF:10,STREAM_LINE_QUICK_HUYA:99},eUserOperation:{USER_IN:1,USER_OUT:2,USER_MOVE:3},WebSocketCommand:function(){this.iCmdType=0,this.vData=new w.BinBuffer,this.lRequestId=0,this.traceId="",this.iEncryptType=0,this.lTime=0,this.sMD5=""}};I.WebSocketCommand.prototype._clone=function(){return new I.WebSocketCommand},I.WebSocketCommand.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WebSocketCommand.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WebSocketCommand.prototype.writeTo=function(e){e.writeInt32(0,this.iCmdType),e.writeBytes(1,this.vData),e.writeInt64(2,this.lRequestId),e.writeString(3,this.traceId),e.writeInt32(4,this.iEncryptType),e.writeInt64(5,this.lTime),e.writeString(6,this.sMD5)},I.WebSocketCommand.prototype.readFrom=function(e){this.iCmdType=e.readInt32(0,!1,this.iCmdType),this.vData=e.readBytes(1,!1,this.vData),this.lRequestId=e.readInt64(2,!1,this.lRequestId),this.traceId=e.readString(3,!1,this.traceId),this.iEncryptType=e.readInt32(4,!1,this.iEncryptType),this.lTime=e.readInt64(5,!1,this.lTime),this.sMD5=e.readString(6,!1,this.sMD5)},I.WSRegisterRsp=function(){this.iResCode=0,this.lRequestId=0,this.sMessage="",this.sBCConnHost=""},I.WSRegisterRsp.prototype._clone=function(){return new I.WSRegisterRsp},I.WSRegisterRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSRegisterRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSRegisterRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.lRequestId=e.readInt64(1,!1,this.lRequestId),this.sMessage=e.readString(2,!1,this.sMessage),this.sBCConnHost=e.readString(3,!1,this.sBCConnHost)},I.WSPushMessage=function(){this.ePushType=0,this.iUri=0,this.sMsg=new w.BinBuffer,this.iProtocolType=0,this.sGroupId="",this.lMsgId=0,this.iMsgTag=0},I.WSPushMessage.prototype._clone=function(){return new I.WSPushMessage},I.WSPushMessage.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSPushMessage.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSPushMessage.prototype.writeTo=function(e){e.writeInt32(0,this.ePushType),e.writeInt64(1,this.iUri),e.writeBytes(2,this.sMsg),e.writeInt32(3,this.iProtocolType),e.writeString(4,this.sGroupId),e.writeInt64(5,this.lMsgId),e.writeInt32(6,this.iMsgTag)},I.WSPushMessage.prototype.readFrom=function(e){this.ePushType=e.readInt32(0,!1,this.ePushType),this.iUri=e.readInt64(1,!1,this.iUri),this.sMsg=e.readBytes(2,!1,this.sMsg),this.iProtocolType=e.readInt32(3,!1,this.iProtocolType),this.sGroupId=e.readString(4,!1,this.sGroupId),this.lMsgId=e.readInt64(5,!1,this.lMsgId),this.iMsgTag=e.readInt32(6,!1,this.iMsgTag)},I.WSUserInfo=function(){this.lUid=0,this.bAnonymous=!0,this.sGuid="",this.sToken="",this.lTid=0,this.lSid=0,this.lGroupId=0,this.lGroupType=0,this.sAppId="",this.sUA=""},I.WSUserInfo.prototype._clone=function(){return new I.WSUserInfo},I.WSUserInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUserInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUserInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeBoolean(1,this.bAnonymous),e.writeString(2,this.sGuid),e.writeString(3,this.sToken),e.writeInt64(4,this.lTid),e.writeInt64(5,this.lSid),e.writeInt64(6,this.lGroupId),e.writeInt64(7,this.lGroupType),e.writeString(8,this.sAppId),e.writeString(9,this.sUA)},I.WSUserInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.bAnonymous=e.readBoolean(1,!1,this.bAnonymous),this.sGuid=e.readString(2,!1,this.sGuid),this.sToken=e.readString(3,!1,this.sToken),this.lTid=e.readInt64(4,!1,this.lTid),this.lSid=e.readInt64(5,!1,this.lSid),this.lGroupId=e.readInt64(6,!1,this.lGroupId),this.lGroupType=e.readInt64(7,!1,this.lGroupType),this.sAppId=e.readString(8,!1,this.sAppId),this.sUA=e.readString(9,!1,this.sUA)},I.WSVerifyCookieReq=function(){this.lUid=0,this.sUA="",this.sCookie="",this.sGuid="",this.bAutoRegisterUid=0,this.sAppSrc=""},I.WSVerifyCookieReq.prototype._clone=function(){return new I.WSVerifyCookieReq},I.WSVerifyCookieReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSVerifyCookieReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSVerifyCookieReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sUA),e.writeString(2,this.sCookie),e.writeString(3,this.sGuid),e.writeInt32(4,this.bAutoRegisterUid),e.writeString(5,this.sAppSrc)},I.WSVerifyCookieRsp=function(){this.iValidate=0},I.WSVerifyCookieRsp.prototype._clone=function(){return new I.WSVerifyCookieRsp},I.WSVerifyCookieRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSVerifyCookieRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSVerifyCookieRsp.prototype.readFrom=function(e){this.iValidate=e.readInt32(0,!1,this.iValidate)},I.WSVerifyHuyaTokenReq=function(){this.tId=new I.UserId,this.bAutoRegisterUid=0,this.sAppSrc=""},I.WSVerifyHuyaTokenReq.prototype._clone=function(){return new I.WSVerifyHuyaTokenReq},I.WSVerifyHuyaTokenReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSVerifyHuyaTokenReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSVerifyHuyaTokenReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.bAutoRegisterUid),e.writeString(2,this.sAppSrc)},I.WSVerifyHuyaTokenRsp=function(){this.iValidate=0},I.WSVerifyHuyaTokenRsp.prototype._clone=function(){return new I.WSVerifyHuyaTokenRsp},I.WSVerifyHuyaTokenRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSVerifyHuyaTokenRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSVerifyHuyaTokenRsp.prototype.readFrom=function(e){this.iValidate=e.readInt32(0,!1,this.iValidate)},I.UserId=function(){this.lUid=0,this.sGuid="",this.sToken="",this.sHuYaUA="",this.sCookie="",this.iTokenType=0,this.sDeviceInfo="",this.sQIMEI=""},I.UserId.prototype._clone=function(){return new I.UserId},I.UserId.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.UserId.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.UserId.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sToken),e.writeString(3,this.sHuYaUA),e.writeString(4,this.sCookie),e.writeInt32(5,this.iTokenType),e.writeString(6,this.sDeviceInfo),e.writeString(7,this.sQIMEI)},I.UserId.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sToken=e.readString(2,!1,this.sToken),this.sHuYaUA=e.readString(3,!1,this.sHuYaUA),this.sCookie=e.readString(4,!1,this.sCookie),this.iTokenType=e.readInt32(5,!1,this.iTokenType),this.sDeviceInfo=e.readString(6,!1,this.sDeviceInfo),this.sQIMEI=e.readString(7,!1,this.sQIMEI)},I.WSRegisterGroupReq=function(){this.vGroupId=new w.Vector(new w.STRING),this.sToken=""},I.WSRegisterGroupReq.prototype._clone=function(){return new I.WSRegisterGroupReq},I.WSRegisterGroupReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSRegisterGroupReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSRegisterGroupReq.prototype.writeTo=function(e){e.writeVector(0,this.vGroupId),e.writeString(1,this.sToken)},I.WSRegisterGroupRsp=function(){this.iResCode=0,this.vSupportP2PGroupId=new w.Vector(new w.STRING)},I.WSRegisterGroupRsp.prototype._clone=function(){return new I.WSRegisterGroupRsp},I.WSRegisterGroupRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSRegisterGroupRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSRegisterGroupRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.vSupportP2PGroupId=e.readVector(1,!1,this.vSupportP2PGroupId)},I.WSUpdateUserInfoReq=function(){this.sAppSrc="",this.sGuid="",this.iReportMsgIdRatio=0,this.iSupportAck=0,this.tWSMsgStatInfo=new I.WSMsgStatInfo,this.mCustomHeader=new w.Map(new w.STRING,new w.STRING),this.iMsgDegradeLevel=0},I.WSUpdateUserInfoReq.prototype._clone=function(){return new I.WSUpdateUserInfoReq},I.WSUpdateUserInfoReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUpdateUserInfoReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUpdateUserInfoReq.prototype.writeTo=function(e){e.writeString(0,this.sAppSrc),e.writeString(1,this.sGuid),e.writeInt32(2,this.iReportMsgIdRatio),e.writeInt32(3,this.iSupportAck),e.writeStruct(6,this.tWSMsgStatInfo),e.writeMap(7,this.mCustomHeader),e.writeInt32(8,this.iMsgDegradeLevel)},I.WSUpdateUserInfoRsp=function(){this.iResCode=0,this.iSupportAckMsgStat=0},I.WSUpdateUserInfoRsp.prototype._clone=function(){return new I.WSUpdateUserInfoRsp},I.WSUpdateUserInfoRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUpdateUserInfoRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUpdateUserInfoRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode),this.iSupportAckMsgStat=e.readInt32(1,!1,this.iSupportAckMsgStat)},I.WSMsgStatInfo=function(){this.mSignalPushUriCount=new w.Map(new w.STRING,new w.Map(new w.INT64,new w.INT32)),this.mP2pPushUriCount=new w.Map(new w.STRING,new w.Map(new w.INT64,new w.INT32)),this.iSupportAckMsgStat=0},I.WSMsgStatInfo.prototype._clone=function(){return new I.WSMsgStatInfo},I.WSMsgStatInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSMsgStatInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSMsgStatInfo.prototype.writeTo=function(e){e.writeMap(0,this.mSignalPushUriCount),e.writeMap(1,this.mP2pPushUriCount),e.writeInt32(3,this.iSupportAckMsgStat)},I.WSMsgStatInfo.prototype.readFrom=function(e){this.mSignalPushUriCount=e.readMap(0,!1,this.mSignalPushUriCount),this.mP2pPushUriCount=e.readMap(1,!1,this.mP2pPushUriCount),this.iSupportAckMsgStat=e.readInt32(3,!1,this.iSupportAckMsgStat)},I.WSRedirect=function(){this.vRemoveIps=new w.Vector(new w.STRING),this.sRedirectIp=""},I.WSRedirect.prototype._clone=function(){return new I.WSRedirect},I.WSRedirect.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSRedirect.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSRedirect.prototype.writeTo=function(e){e.writeVector(0,this.vRemoveIps),e.writeString(1,this.sRedirectIp)},I.WSRedirect.prototype.readFrom=function(e){this.vRemoveIps=e.readVector(0,!1,this.vRemoveIps),this.sRedirectIp=e.readString(1,!1,this.sRedirectIp)},I.WSPushMessage_V2=function(){this.sGroupId="",this.vMsgItem=new w.Vector(new I.WSMsgItem)},I.WSPushMessage_V2.prototype._clone=function(){return new I.WSPushMessage_V2},I.WSPushMessage_V2.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSPushMessage_V2.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSPushMessage_V2.prototype.writeTo=function(e){e.writeString(0,this.sGroupId),e.writeVector(1,this.vMsgItem)},I.WSPushMessage_V2.prototype.readFrom=function(e){this.sGroupId=e.readString(0,!1,this.sGroupId),this.vMsgItem=e.readVector(1,!1,this.vMsgItem)},I.WSMsgItem=function(){this.iUri=0,this.sMsg=new w.BinBuffer,this.lMsgId=0},I.WSMsgItem.prototype._clone=function(){return new I.WSMsgItem},I.WSMsgItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSMsgItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSMsgItem.prototype.writeTo=function(e){e.writeInt64(0,this.iUri),e.writeBytes(1,this.sMsg),e.writeInt64(2,this.lMsgId)},I.WSMsgItem.prototype.readFrom=function(e){this.iUri=e.readInt64(0,!1,this.iUri),this.sMsg=e.readBytes(1,!1,this.sMsg),this.lMsgId=e.readInt64(2,!1,this.lMsgId)},I.LiveLaunchReq=function(){this.tId=new I.UserId,this.tLiveUB=new I.LiveUserbase,this.bSupportDomain=0},I.LiveLaunchReq.prototype._clone=function(){return new I.LiveLaunchReq},I.LiveLaunchReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.LiveLaunchReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.LiveLaunchReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeStruct(1,this.tLiveUB),e.writeInt32(2,this.bSupportDomain)},I.LiveLaunchRsp=function(){this.sGuid="",this.iTime=0,this.vProxyList=new w.Vector(new I.LiveProxyValue),this.eAccess=0,this.sClientIp=""},I.LiveLaunchRsp.prototype._clone=function(){return new I.LiveLaunchRsp},I.LiveLaunchRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.LiveLaunchRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.LiveLaunchRsp.prototype.readFrom=function(e){this.sGuid=e.readString(0,!1,this.sGuid),this.iTime=e.readInt32(1,!1,this.iTime),this.vProxyList=e.readVector(2,!1,this.vProxyList),this.eAccess=e.readInt32(3,!1,this.eAccess),this.sClientIp=e.readString(4,!1,this.sClientIp)},I.LiveProxyValue=function(){this.eProxyType=0,this.sProxy=new w.Vector(new w.STRING)},I.LiveProxyValue.prototype._clone=function(){return new I.LiveProxyValue},I.LiveProxyValue.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.LiveProxyValue.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.LiveProxyValue.prototype.writeTo=function(e){e.writeInt32(0,this.eProxyType),e.writeVector(1,this.sProxy)},I.LiveProxyValue.prototype.readFrom=function(e){this.eProxyType=e.readInt32(0,!1,this.eProxyType),this.sProxy=e.readVector(1,!1,this.sProxy)},I.WSLaunchReq=function(){this.lUid=0,this.sGuid="",this.sUA="",this.sAppSrc="",this.tDeviceInfo=new I.WSDeviceInfo},I.WSLaunchReq.prototype._clone=function(){return new I.WSLaunchReq},I.WSLaunchReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSLaunchReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSLaunchReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sUA),e.writeString(3,this.sAppSrc),e.writeStruct(4,this.tDeviceInfo)},I.WSLaunchRsp=function(){this.sGuid="",this.sClientIp="",this.iDyeLevel=0},I.WSLaunchRsp.prototype._clone=function(){return new I.WSLaunchRsp},I.WSLaunchRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSLaunchRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSLaunchRsp.prototype.readFrom=function(e){this.sGuid=e.readString(0,!1,this.sGuid),this.sClientIp=e.readString(1,!1,this.sClientIp),this.iDyeLevel=e.readInt32(2,!1,this.iDyeLevel)},I.WSDeviceInfo=function(){this.sIMEI="",this.sAPN="",this.sNetType="",this.sDeviceId="",this.sMId=""},I.WSDeviceInfo.prototype._clone=function(){return new I.WSDeviceInfo},I.WSDeviceInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSDeviceInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSDeviceInfo.prototype.writeTo=function(e){e.writeString(0,this.sIMEI),e.writeString(1,this.sAPN),e.writeString(2,this.sNetType),e.writeString(3,this.sDeviceId),e.writeString(4,this.sMId)},I.WSDeviceInfo.prototype.readFrom=function(e){this.sIMEI=e.readString(0,!1,this.sIMEI),this.sAPN=e.readString(1,!1,this.sAPN),this.sNetType=e.readString(2,!1,this.sNetType),this.sDeviceId=e.readString(3,!1,this.sDeviceId),this.sMId=e.readString(4,!1,this.sMId)},I.QueryHttpDnsReq=function(){this.lUid=0,this.sUA="",this.vDomain=new w.Vector(new w.STRING),this.sAppSrc="",this.sClientIp="",this.iIpStack=0,this.iIpType=0},I.QueryHttpDnsReq.prototype._clone=function(){return new I.QueryHttpDnsReq},I.QueryHttpDnsReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.QueryHttpDnsReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.QueryHttpDnsReq.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sUA),e.writeVector(2,this.vDomain),e.writeString(3,this.sAppSrc),e.writeString(4,this.sClientIp),e.writeInt32(5,this.iIpStack),e.writeInt32(6,this.iIpType)},I.QueryHttpDnsRsp=function(){this.mDomain2Ip=new w.Map(new w.STRING,new I.HttpDnsItem),this.iEnvType=0},I.QueryHttpDnsRsp.prototype._clone=function(){return new I.QueryHttpDnsRsp},I.QueryHttpDnsRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.QueryHttpDnsRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.QueryHttpDnsRsp.prototype.readFrom=function(e){this.mDomain2Ip=e.readMap(0,!1,this.mDomain2Ip),this.iEnvType=e.readInt32(1,!1,this.iEnvType)},I.HttpDnsItem=function(){this.vIp=new w.Vector(new w.STRING),this.iExpireTime=0,this.vIpv6=new w.Vector(new w.STRING)},I.HttpDnsItem.prototype._clone=function(){return new I.HttpDnsItem},I.HttpDnsItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.HttpDnsItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.HttpDnsItem.prototype.writeTo=function(e){e.writeVector(0,this.vIp),e.writeInt64(1,this.iExpireTime),e.writeVector(2,this.vIpv6)},I.HttpDnsItem.prototype.readFrom=function(e){this.vIp=e.readVector(0,!1,this.vIp),this.iExpireTime=e.readInt64(1,!1,this.iExpireTime),this.vIpv6=e.readVector(2,!1,this.vIpv6)},I.MetricDetailSet=function(){this.tId=new I.UserId,this.vMetricDetail=new w.Vector(new I.MetricDetail)},I.MetricDetailSet.prototype._clone=function(){return new I.MetricDetailSet},I.MetricDetailSet.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.MetricDetailSet.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.MetricDetailSet.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeVector(1,this.vMetricDetail)},I.MetricDetailSet.prototype.readFrom=function(e){this.tId=e.readStruct(0,!0,this.tId),this.vMetricDetail=e.readVector(1,!0,this.vMetricDetail)},I.MetricDetail=function(){this.sMetricName="",this.iTS=0,this.vDimension=new w.Vector(new I.Dimension),this.vFiled=new w.Vector(new I.Field),this.vExLog=new w.Vector(new I.Dimension)},I.MetricDetail.prototype._clone=function(){return new I.MetricDetail},I.MetricDetail.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.MetricDetail.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.MetricDetail.prototype.writeTo=function(e){e.writeString(0,this.sMetricName),e.writeInt64(1,this.iTS),e.writeVector(2,this.vDimension),e.writeVector(3,this.vFiled),e.writeVector(4,this.vExLog)},I.MetricDetail.prototype.readFrom=function(e){this.sMetricName=e.readString(0,!0,this.sMetricName),this.iTS=e.readInt64(1,!1,this.iTS),this.vDimension=e.readVector(2,!1,this.vDimension),this.vFiled=e.readVector(3,!1,this.vFiled),this.vExLog=e.readVector(4,!1,this.vExLog)},I.Field=function(){this.sName="",this.fValue=0},I.Field.prototype._clone=function(){return new I.Field},I.Field.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.Field.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.Field.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeDouble(1,this.fValue)},I.Field.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.fValue=e.readDouble(1,!1,this.fValue)},I.Dimension=function(){this.sName="",this.sValue=""},I.Dimension.prototype._clone=function(){return new I.Dimension},I.Dimension.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.Dimension.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.Dimension.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeString(1,this.sValue)},I.Dimension.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.sValue=e.readString(1,!1,this.sValue)},I.WSUnRegisterGroupReq=function(){this.vGroupId=new w.Vector(new w.STRING)},I.WSUnRegisterGroupReq.prototype._clone=function(){return new I.WSUnRegisterGroupReq},I.WSUnRegisterGroupReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUnRegisterGroupReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUnRegisterGroupReq.prototype.writeTo=function(e){e.writeVector(0,this.vGroupId)},I.WSUnRegisterGroupRsp=function(){this.iResCode=0},I.WSUnRegisterGroupRsp.prototype._clone=function(){return new I.WSUnRegisterGroupRsp},I.WSUnRegisterGroupRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUnRegisterGroupRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUnRegisterGroupRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode)},I.WSConnectParaInfo=function(){this.lUid=0,this.sGuid="",this.sUA="",this.sAppSrc="",this.sMid="",this.sExp="",this.iTokenType=0,this.sToken="",this.sCookie="",this.sTraceId="",this.mCustomHeaders=new w.Map(new w.STRING,new w.STRING)},I.WSConnectParaInfo.prototype._clone=function(){return new I.WSConnectParaInfo},I.WSConnectParaInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSConnectParaInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSConnectParaInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sUA),e.writeString(3,this.sAppSrc),e.writeString(4,this.sMid),e.writeString(5,this.sExp),e.writeInt32(6,this.iTokenType),e.writeString(7,this.sToken),e.writeString(8,this.sCookie),e.writeString(9,this.sTraceId),e.writeMap(10,this.mCustomHeaders)},I.WSConnectParaInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sUA=e.readString(2,!1,this.sUA),this.sAppSrc=e.readString(3,!1,this.sAppSrc),this.sMid=e.readString(4,!1,this.sMid),this.sExp=e.readString(5,!1,this.sExp),this.iTokenType=e.readInt32(6,!1,this.iTokenType),this.sToken=e.readString(7,!1,this.sToken),this.sCookie=e.readString(8,!1,this.sCookie),this.sTraceId=e.readString(9,!1,this.sTraceId),this.mCustomHeaders=e.readMap(10,!1,this.mCustomHeaders)},I.CloudGamePacket=function(){this.sToken="",this.sCommand="",this.packetBytes=new w.BinBuffer,this.sRequestId=""},I.CloudGamePacket.prototype._clone=function(){return new I.CloudGamePacket},I.CloudGamePacket.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.CloudGamePacket.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.CloudGamePacket.prototype.writeTo=function(e){e.writeString(0,this.sToken),e.writeString(1,this.sCommand),e.writeBytes(2,this.packetBytes),e.writeString(3,this.sRequestId)},I.CloudGamePacket.prototype.readFrom=function(e){this.sToken=e.readString(0,!1,this.sToken),this.sCommand=e.readString(1,!1,this.sCommand),this.packetBytes=e.readBytes(2,!1,this.packetBytes),this.sRequestId=e.readString(3,!1,this.sRequestId)},I.WSUpdateUserExpsReq=function(){this.mExps=new w.Map(new w.STRING,new w.STRING)},I.WSUpdateUserExpsReq.prototype._clone=function(){return new I.WSUpdateUserExpsReq},I.WSUpdateUserExpsReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUpdateUserExpsReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUpdateUserExpsReq.prototype.writeTo=function(e){e.writeMap(0,this.mExps)},I.WSUpdateUserExpsRsp=function(){this.iResCode=0},I.WSUpdateUserExpsRsp.prototype._clone=function(){return new I.WSUpdateUserExpsRsp},I.WSUpdateUserExpsRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.WSUpdateUserExpsRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.WSUpdateUserExpsRsp.prototype.readFrom=function(e){this.iResCode=e.readInt32(0,!1,this.iResCode)},I.GetConfigReq=function(){this.tId=new I.UserId,this.mpVariable=new w.Map(new w.STRING,new w.STRING),this.sBizId="",this.sNamespace=new w.Vector(new w.STRING)},I.GetConfigReq.prototype._clone=function(){return new I.GetConfigReq},I.GetConfigReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.GetConfigReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.GetConfigReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeMap(1,this.mpVariable),e.writeString(2,this.sBizId),e.writeVector(3,this.sNamespace)},I.GetConfigReq.prototype.readFrom=function(e){this.tId=e.readStruct(0,!1,this.tId),this.mpVariable=e.readMap(1,!1,this.mpVariable),this.sBizId=e.readString(2,!1,this.sBizId),this.sNamespace=e.readVector(3,!1,this.sNamespace)},I.GetConfigRsp=function(){this.mpConfig=new w.Map(new w.STRING,new w.STRING),this.mpExperiment=new w.Map(new w.STRING,new w.STRING)},I.GetConfigRsp.prototype._clone=function(){return new I.GetConfigRsp},I.GetConfigRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},I.GetConfigRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},I.GetConfigRsp.prototype.writeTo=function(e){e.writeMap(0,this.mpConfig),e.writeMap(1,this.mpExperiment)},I.GetConfigRsp.prototype.readFrom=function(e){this.mpConfig=e.readMap(0,!1,this.mpConfig),this.mpExperiment=e.readMap(1,!1,this.mpExperiment)};var E=0,T=1,k=2,C=-1,x=-3,A=-10,R=-500,P=-10092,L=-10504,M=-20001,D=-20002,B=-20003,N={storeDns:function(e,t){for(var i="",n=this.getIpsKey(!0),r=e.join("|").toLocaleLowerCase(),a=0,o=r.length;a<o;a++){var s=n[r.charAt(a)],c=Math.random()*s.length>>0;i+=s.charAt(c)}try{localStorage["wssdns".concat(t)]=i}catch(e){}},getDns:function(e){var t="";try{t=localStorage["wssdns".concat(e)]}catch(e){}if(!t)return[];for(var i="",n=this.getIpsKey(!1),r=0,a=t.length;r<a;r++)i+=n[t.charAt(r)];return i.split("|")},storeIps:function(e,t){for(var i="",n=this.getIpsKey(!0),r=e.join("|").toLocaleLowerCase(),a=0,o=r.length;a<o;a++){var s=n[r.charAt(a)],c=Math.random()*s.length>>0;i+=s.charAt(c)}try{localStorage["wssips".concat(t)]=i}catch(e){}},getIps:function(e){var t="";try{t=localStorage["wssips".concat(e)]}catch(e){}if(!t)return[];for(var i="",n=this.getIpsKey(!1),r=0,a=t.length;r<a;r++)i+=n[t.charAt(r)];return i.split("|")},getIpsKey:function(e){for(var t=["-",".",":","|"],i="_N1Y%/ny^6?Mi7|wCe#$VmT=.GBut]3L*f<acX2Eop>d}WqKPQ@r;zx!s`(:IHFRZ~[A{Jb-O&D)v0Ukj95,8lg+h4S",n={},r=0;r<40;r++){var a=r<11?3:2,o=i.substr(0,a);i=i.substr(a);var s=r+"";if(r>13?s=String.fromCharCode(r+83):r>9&&(s=t[r-10]),e)n[s]=o;else for(var c=0;c<o.length;c++)n[o.charAt(c)]=s}return n},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},parseQueryString:function(e){for(var t=/([^\?\=\&]+)\=([^\?\=\&]*)/g,i={};t.exec(e);)i[RegExp.$1]=RegExp.$2;return i},ab2str:function(e,t){for(var i=new DataView(e),n=i.byteLength,r=0,a=[],o=0;o<n;o++)a.push(String.fromCharCode(i.getUint8(r++)));var s=a.join("");if(t)try{s=decodeURIComponent(escape(s))}catch(e){}return s},copy:function(e,t){for(var i in t)e[i]=t[i];return e},getTime:function(){return performance&&performance.now()||Date.now()}},U={};U.UriMapping=i(i({},U.UriMapping),{},{1025305:I.WSRedirect}),U.WupMapping=i(i({},U.WupMapping),{},{wsLaunch:I.WSLaunchRsp,queryHttpDns:I.QueryHttpDnsRsp});var F=99;function O(){try{var e=Number(localStorage._logLevel);isNaN(e)||(F=e)}catch(e){console.log(e)}}function H(e,t){var i=e.toString().length,n=Math.max(0,t-i);return"0".repeat(n)+e}function G(){var e=new Date,t=e.getFullYear(),i=H(e.getMonth()+1,2),n=H(e.getDate(),2),r=H(e.getHours(),2),a=H(e.getMinutes(),2),o=H(e.getSeconds(),2),s=H(e.getMilliseconds(),3);return"".concat(t,"-").concat(i,"-").concat(n," ").concat(r,":").concat(a,":").concat(o,".").concat(s," ")}O();var V={_data:[],_length:0,init:O,debug:function(){var e=G(),t=Array.prototype.slice.call(arguments);t[0]=e+t[0],F<=-1&&console.log.apply(console,t)},log:function(e){var t=G(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],F<=0&&console.log.apply(console,i),V.record(i,"log")},info:function(e){var t=G(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],F<=1&&console.info.apply(console,i),V.record(i,"info")},warn:function(e){var t=G(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],F<=2&&console.warn.apply(console,i),V.record(i,"warn")},error:function(e){var t=G(),i=Array.prototype.slice.call(arguments);i[0]=t+i[0],F<=3&&console.error.apply(console,i),V.record(i,"error")},group:function(e){var t=G(),i=Array.prototype.slice.call(arguments);if(i[0]=t+i[0],F<=1){var n=console.groupCollapsed||console.group||console.log;n.apply(console,i)}V.record(i,"group")},groupEnd:function(){console.groupEnd&&console.groupEnd.apply(console)},setLevel:function(e){e!=F&&(console.log(G()+" set log level from "+F+" to "+e),F=e)},getLevel:function(){return F},record:function(e,t){1100===V._length&&(V._data.splice(0,100),V._length=1e3);var i=0,n=(e.shift()||"").toString();for(n=n.replace(/\%c/gi,(function(e,t){return i++,""}));i--&&e.length;)e.shift();for(var r=0,o=e.length;r<o;r++)"object"==a(e[r])&&(e[r]="");e.unshift(n);var s=e.join(" ");V._length++,V._data.push("[".concat(t,"]").concat(s))},getLog:function(){return V._data},logcss:function(e){return"color:"+e+";font-weight:900"}},W={WEBSOCKET_CONNECTED:"WEBSOCKET_CONNECTED",WEBSOCKET_DOLAUNCH:"WEBSOCKET_DOLAUNCH",DYE_LEVEL:"DYE_LEVEL",VERIFYCOOKIE_PASS:"VERIFYCOOKIE_PASS",VERIFYTOKEN_PASS:"VERIFYTOKEN_PASS",WS_REGISTER_GROUP_RSP:"WS_REGISTER_GROUP_RSP",WS_UNREGISTER_GROUP_RSP:"WS_UNREGISTER_GROUP_RSP",WS_UPDATE_USER_EXPS_RSP:"WS_UPDATE_USER_EXPS_RSP",WS_CONNET_STATE:"WS_CONNET_STATE",WS_URI_NOTICE:"WS_URI_NOTICE",EXT_TAF_DATA:"extTafData",CLOUD_GAME_DATA:"CLOUD_GAME_DATA",AB_CONFIG_DATA:"ABCONFIG_DATA"},q={setCookie:function(e,t,i,n,r){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var o=e+"="+t+"; expires="+a.toUTCString();n&&(o+="; domain="+n),r&&(o+="; path="+r),document.cookie=o},getCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0,r=i.length;n<r;n++){var a=i[n].trim();if(0==a.indexOf(t))return a.substr(t.length)}return""},clearCookie:function(e){setCookie(e,"",-1)}},j=function(){function e(t,i){s(this,e),this.list=[],this.tickHandler=0,this.trytime=t.tryTime||8,this.report=i}return l(e,[{key:"add",value:function(e){-1!=e.id&&(e.trycount=1,e.time=0,e.paramlist=e.paramlist||[e.servantName,e.funcName,e.data,e.id,e.callbackFun],this.list.push(e),this.turnOn())}},{key:"getCallBack",value:function(e){for(var t in this.list)if(this.list[t].id==e)return this.list[t].callbackFun;return null}},{key:"del",value:function(e){if(-1!=e)for(var t in this.list)if(this.list[t].id==e){this.list.splice(t,1);break}}},{key:"getDataById",value:function(e){for(var t in this.list)if(this.list[t].id==e)return this.list[t];return null}},{key:"loop",value:function(){var e=[];for(var t in this.list){var i=this.list[t];if(i.time<this.trytime)i.time++;else if(i.trycount++,i.time=0,i.trycount>i.tryCountMax)i.errFun(i),e.push(i.id);else{var n=i.paramlist;i.reSend&&i.reSend.apply(null,n),this.report.setDim(i.id,"trycount",i.trycount)}}for(var r in e)this.del(e[r]);0==this.list.length&&this.turnOff()}},{key:"turnOn",value:function(){var e=this;0==this.tickHandler&&(this.tickHandler=setInterval((function(){e.loop()}),1e3))}},{key:"turnOff",value:function(){clearInterval(this.tickHandler),this.tickHandler=0}}]),e}(),z=function(){function e(){s(this,e),this.index=0,this.MAX_MESSAGE_COUNT=1e3,this.cacheArr=[]}return l(e,[{key:"cache",value:function(e){var t=this.cacheArr.indexOf(e);return this.index>=this.MAX_MESSAGE_COUNT&&(this.index=0),this.cacheArr[this.index]=e,this.index++,-1!=t}}]),e}();function Y(){}function $(){$.init.call(this)}function J(e){return void 0===e._maxListeners?$.defaultMaxListeners:e._maxListeners}function K(e,t,i){if(t)e.call(i);else for(var n=e.length,r=re(e,n),a=0;a<n;++a)r[a].call(i)}function Z(e,t,i,n){if(t)e.call(i,n);else for(var r=e.length,a=re(e,r),o=0;o<r;++o)a[o].call(i,n)}function X(e,t,i,n,r){if(t)e.call(i,n,r);else for(var a=e.length,o=re(e,a),s=0;s<a;++s)o[s].call(i,n,r)}function Q(e,t,i,n,r,a){if(t)e.call(i,n,r,a);else for(var o=e.length,s=re(e,o),c=0;c<o;++c)s[c].call(i,n,r,a)}function ee(e,t,i,n){if(t)e.apply(i,n);else for(var r=e.length,a=re(e,r),o=0;o<r;++o)a[o].apply(i,n)}function te(e,t,i,n){var r,a,o;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]):(a=e._events=new Y,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),!o.warned&&(r=J(e))&&r>0&&o.length>r){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(s)}}else o=a[t]=i,++e._eventsCount;return e}function ie(e,t,i){var n=!1;function r(){e.removeListener(t,r),n||(n=!0,i.apply(e,arguments))}return r.listener=i,r}function ne(e){var t=this._events;if(t){var i=t[e];if("function"==typeof i)return 1;if(i)return i.length}return 0}function re(e,t){for(var i=new Array(t);t--;)i[t]=e[t];return i}Y.prototype=Object.create(null),($.EventEmitter=$).usingDomains=!1,$.prototype.domain=void 0,$.prototype._events=void 0,$.prototype._maxListeners=void 0,$.defaultMaxListeners=10,$.init=function(){this.domain=null,$.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Y,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},$.prototype.getMaxListeners=function(){return J(this)},$.prototype.emit=function(e){var t,i,n,r,a,o,s,c="error"===e;if(o=this._events)c=c&&null==o.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(i=o[e]))return!1;var u="function"==typeof i;switch(n=arguments.length){case 1:K(i,u,this);break;case 2:Z(i,u,this,arguments[1]);break;case 3:X(i,u,this,arguments[1],arguments[2]);break;case 4:Q(i,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(n-1),a=1;a<n;a++)r[a-1]=arguments[a];ee(i,u,this,r)}return!0},$.prototype.addListener=function(e,t){return te(this,e,t,!1)},$.prototype.on=$.prototype.addListener,$.prototype.prependListener=function(e,t){return te(this,e,t,!0)},$.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,ie(this,e,t)),this},$.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,ie(this,e,t)),this},$.prototype.removeListener=function(e,t){var i,n,r,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(i=n[e]))return this;if(i===t||i.listener&&i.listener===t)0==--this._eventsCount?this._events=new Y:(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,a=i.length;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=i[a].listener,r=a;break}if(r<0)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new Y,this;delete n[e]}else!function(e,t){for(var i=t,n=i+1,r=e.length;n<r;i+=1,n+=1)e[i]=e[n];e.pop()}(i,r);n.removeListener&&this.emit("removeListener",e,o||t)}return this},$.prototype.removeAllListeners=function(e){var t,i;if(!(i=this._events))return this;if(!i.removeListener)return 0===arguments.length?(this._events=new Y,this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=new Y:delete i[e]),this;if(0===arguments.length){for(var n,r=Object.keys(i),a=0;a<r.length;++a)"removeListener"!==(n=r[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Y,this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},$.prototype.listeners=function(e){var t,i=this._events;return i&&(t=i[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(t):[]},$.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ne.call(e,t)},$.prototype.listenerCount=ne,$.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ae=function e(){try{var t=_.config.uid,i=localStorage.mpExperimentData,n={};i&&(n=JSON.parse(i));var r=oe(),a="".concat(r,":").concat(t),o=Object.keys(n);o.length>=10&&delete n[o[0]],n[a]=_.mpExperiment,localStorage.mpExperimentData=JSON.stringify(n)}catch(e){V.log("存储AB配置信息出错",e)}},oe=function(){return(_.config.abUA||_.config.ua).split("&")[0]||""},se=function(e){var t="";return e&&"object"===a(e)&&(t=Object.entries(e).map((function(e){var t=f(e,2),i=t[0],n=t[1];return"".concat(i,".").concat(n)})).join(",")),t},ce=function(t){function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return s(this,i),(t=e(this,i)).main=r,t.report=r.report,t.DEBUG_IP=n.DEBUG_IP||"testws.va.huya.com:80",t.DEFAULT_IP=n.DEFAULT_IP||"ws.api.huya.com",t.CDN_IP=n.CDN_IP||"cdnws.api.huya.com",t.WSS_DEBUG_IP=n.WSS_DEBUG_IP||"testws.va.huya.com:443",t.WSS_DEFAULT_IP=n.WSS_DEFAULT_IP||"wsapi.huya.com",t.WSS_CDN_IP=n.WSS_CDN_IP||"cdnws.api.huya.com",t.HTTP_IP=n.HTTP_IP||"cdnws.api.huya.com",t.HTTP_DEBUG_IP=n.HTTP_DEBUG_IP||"testws.va.huya.com",t.STORE_DNS=t.WSS_CDN_IP,t.config=n,t.config.uid=n.uid||0,t.guid=n.guid||"",t.config.appSrc=n.appSrc||"",t.connected=!1,t.ws=null,t.url="",t.wsType=n.wsType||0,t.listeners={},t.lockType=null,t.delayRemove={},t._pingTimer=0,t.isDoLaunch=!1,t.isHttps=location.protocol.indexOf("https")>-1,t.baseinfo="?baseinfo=default",t.wsBaseInfo="?baseinfo=default",t.extTafFunNameList=[],t.wsProtocol=!n.isDebug||t.isHttps?"wss://":"ws://",t.connectType=n.connectType||0,t.wsConnectTime=0,t.reConnectTimes=0,t.reconnectDecay=1.5,t.maxReconnectInterval=3e4,t.reconnectInterval=1e3,t.reconnectTimeId=0,t.reconnectMax=120,t.cloudGameIpList=[],t.signalCache=new z,t.wsurl="",t.wsIps=[],t.httpWs=[],t.serialConnect=n.serialConnect||0,t.serialTimeOut=2e3,V.log("config",n),V.log("G",_),t.ua=n.ua||"",q.setCookie("huya_ua",t.ua,365),t.creatUserId(),t.wsBaseInfo=t.setBaseinfo(!1,""),t.retry=new j(n,t.report),1==t.connectType?h(t):(n.isForeign&&(t.WSS_DEBUG_IP=n.WSS_DEBUG_IP||"testws.master.live:443",t.WSS_DEFAULT_IP=n.WSS_DEFAULT_IP||"wsapi.nimo.tv",t.WSS_CDN_IP=n.WSS_CDN_IP||"wsapi-global.nimo.tv",t.HTTP_IP=n.HTTP_IP||"wsapi.nimo.tv",t.HTTP_DEBUG_IP=n.HTTP_DEBUG_IP||"testws.master.live",t.STORE_DNS=t.WSS_DEFAULT_IP),t.on("1025305",(function(e){t.onWSRedirect(e)})),t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,t),l(i,[{key:"creatUserId",value:function(){this.userId=new I.UserId,this.userId.lUid=this.config.uid,this.userId.sGuid=this.guid,this.userId.sToken="",this.userId.sHuYaUA=this.ua,this.userId.sCookie=document.cookie,this.userId.sDeviceInfo=this.config.device||""}},{key:"start",value:function(){this.wsConnectTime=Date.now();try{this._testws=localStorage._testws}catch(e){}this._testws&&""!=this._testws?this.connecting():this.config.isDebug?this.connecting():this.testWsIp(),setTimeout(function(){this.wsIps.unshift(this.config.isDebug?this.CDN_IP:this.WSS_CDN_IP),this.connecting()}.bind(this),5e3)}},{key:"testWsIp",value:function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var a=e.apply(t,i);function s(e){o(a,n,r,s,c,"next",e)}function c(e){o(a,n,r,s,c,"throw",e)}s(void 0)}))}}(n().mark((function e(t){var i,r,a,o,s,c,l,u,d,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t&&t.length>0?i=t:this.config.isDebug?(i=N.getIps(this.connectType),delete localStorage.wssips):(i=N.getDns(this.connectType),delete localStorage.wssdns)}catch(e){}0==(r=(i=i||[]).length)&&this.connecting(),a=!1,o=[],V.log("连接列表",i),s=function(e){var t=e.currentTarget,i=t.ip;t.onopen=t.onclose=t.onerror=void 0,a?(V.log("已经连上了关闭",t),this.wsIps.push(i),t.close()):(a=!0,this.url=this.wsProtocol+i,this.connecting(t),this.onopen(),V.log("连上了",t))},c=function(e){var t=e.currentTarget.ip;V.log("关闭",t,e),-1==o.indexOf(t)&&o.push(t),o.length!=r||a||1==this.connectType||this.connecting()},l=0;case 10:if(!(l<r)){e.next=35;break}if(u=i[l],d=this.wsProtocol+u+this.wsBaseInfo,(p=new WebSocket(d)).ip=u,V.log("开始连接",u),!this.serialConnect){e.next=29;break}return e.prev=17,e.next=20,this.connectWebSocket(p,s.bind(this),c.bind(this));case 20:return e.abrupt("break",35);case 23:return e.prev=23,e.t0=e.catch(17),V.log("WebSocket连接失败",e.t0),e.abrupt("continue",32);case 27:e.next=32;break;case 29:p.onopen=s.bind(this),p.onclose=c.bind(this),p.onerror=c.bind(this);case 32:l++,e.next=10;break;case 35:case"end":return e.stop()}}),e,this,[[17,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connectWebSocket",value:function(e,t,i){var n=this;return new Promise((function(r,a){var o=setTimeout((function(){e.close(),a("连接超时")}),n.serialTimeOut);e.onopen=function(e){clearTimeout(o),t(e),r()};var s=!1;function c(e){s||(s=!0,i(e))}e.onerror=function(e){clearTimeout(o),c(e),V.log("ws.onerror",e),a("连接错误")},e.onclose=function(e){clearTimeout(o),c(e),V.log("ws.onclose",e),a("连接关闭")}}))}},{key:"connecting",value:function(e){if(!this.connected){if(V.log("connecting"),this.ws){this.releaseWs(this.ws);var t=this.url.replace(this.wsProtocol,"");1==this.wsType?this.wsIps.push(t):2==this.wsType&&this.httpWs.push(t)}if(e)this.ws=e,this.wsType=1;else{var i="",n="";try{n=localStorage._testws}catch(e){}n&&""!=n?(this.wsType=3,i=n):(this.wsType=0,i=this.config.isDebug?this.DEFAULT_IP:this.WSS_DEFAULT_IP,this.report.setCommonDim("iptype",2),this.config.isDebug?(this.wsType=4,i=this.isHttps?this.WSS_DEBUG_IP:this.DEBUG_IP,this.report.setCommonDim("iptype",1)):this.wsIps.length>0?(this.wsType=1,i=this.wsIps.shift(),this.WSS_CDN_IP==i?this.report.setCommonDim("iptype",5):this.report.setCommonDim("iptype",4)):this.httpWs.length>0&&(this.wsType=2,i=this.httpWs.shift())),this.url=this.wsProtocol+i,V.log("WebSocket,connet",this.url+this.wsBaseInfo),this.ws=new WebSocket(this.url+this.wsBaseInfo)}this.ws.onopen=this.onopen.bind(this),this.ws.onclose=this.onclose.bind(this),this.ws.onerror=this.onerror.bind(this),this.ws.onmessage=this.onmessage.bind(this)}}},{key:"releaseWs",value:function(e){if(e){V.log("===== releaseWs =====",e),clearInterval(this._pingTimer),this._pingTimer=0,e.onopen=e.onclose=e.onerror=e.onmessage=void 0;try{e.close()}catch(e){}}}},{key:"doLaunch",value:function(){if(!this.isDoLaunch){this.isDoLaunch=!0;var e=new I.WSLaunchReq;e.lUid=this.config.uid,e.sGuid=this.guid,e.sUA=this.ua,e.sAppSrc=this.config.appSrc,this.sendWup("launch","wsLaunch",e,this.onDoLaunch.bind(this))}}},{key:"onDoLaunch",value:function(e){this.guid!=e.sGuid&&(this.guid=e.sGuid,this.userId.sGuid=this.guid,this.sendWSUpdateUserInfoReq("",e.sGuid));var t=e.iDyeLevel;this.emit(W.DYE_LEVEL,{dyeLevel:t});var i=this.config.domain||"";q.setCookie("guid",e.sGuid,365,i,"/"),this.queryHttpDns(),this.emit(W.WEBSOCKET_DOLAUNCH,{guid:this.guid})}},{key:"queryHttpDns",value:function(){var e,t=this,i=new I.QueryHttpDnsReq;i.lUid=this.config.uid,i.sUA=this.ua,i.sAppSrc=this.config.appSrc,i.iIpType=1;var n=[this.STORE_DNS];(e=i.vDomain.value).push.apply(e,n),this.sendWupHttp("launch","queryHttpDns",i,-1,(function(e){t.onGueryHttpDns(e)}))}},{key:"onGueryHttpDns",value:function(e){if(!this.config.isDebug)for(var t in e.mDomain2Ip.value)if(t==this.STORE_DNS){var i=e.mDomain2Ip.value[t].vIp.value;N.storeDns(i,this.connectType);break}}},{key:"send",value:function(e){this.ws&&this.connected&&this.ws.send(e)}},{key:"onopen",value:function(){var e=this;if(this.wsurl=this.url.replace(this.wsProtocol,""),this.connected||0!=this.reConnectTimes||(this.wsConnectTime=Date.now()-this.wsConnectTime),V.log("onopen",this.wsurl),this.connected=!0,this.emit(W.WEBSOCKET_CONNECTED,{type:this.connectType}),this.emit(W.WS_CONNET_STATE,{connected:this.connected,type:"open",connectType:this.connectType}),clearInterval(this._pingTimer),this._pingTimer=setInterval((function(){e.sendHeartBeat()}),6e4),this.reConnectTimes=0,clearTimeout(this.reconnectTimeId),1!=this.connectType){this.doLaunch();var t=this.config.verifyToken;t?this.sendVerifyToken(t):this.sendVerifyCookie(),function(e){var t=_.config,i=t.APPID;if(!t.exp){if(_.mpExperiment)return V.log("getConfig 已经有AB配置信息就不再请求，直接更新"),void e.updateUserExps(_.mpExperiment);var n=new I.GetConfigReq;Object.assign(n.tId,e.userId),n.tId.sHuYaUA=_.config.abUA||n.tId.sHuYaUA,n.sBizId=i.toLowerCase(),e.sendWupNew("mobileui","getConfig",n,I.GetConfigRsp).then((function(t){_.mpExperiment=t.mpExperiment.value,_.mpConfig=t.mpConfig.value,V.log("AB配置信息:",_.mpExperiment,_.mpConfig),e.updateUserExps(_.mpExperiment),e.emit(W.AB_CONFIG_DATA,{mpExperiment:_.mpExperiment,mpConfig:_.mpConfig}),ae()})).catch((function(e){V.log("获取AB配置信息出错",e)}))}}(this)}}},{key:"onclose",value:function(e){var t=this;if(this.connected=!1,this.isDoLaunch=!1,this.emit(W.WS_CONNET_STATE,{connected:this.connected,type:"close",code:e.code,reason:e.reason,connectType:this.connectType}),this.reConnectTimes++,this.reConnectTimes>this.reconnectMax)V.log("%c=== WebSocket重连次数超标 ===","font-size:120%");else{1==this.connectType&&(this.reconnectDecay=.1);var i=this.reconnectInterval*Math.pow(this.reconnectDecay,this.reConnectTimes),n=Math.min(i,this.maxReconnectInterval);clearTimeout(this.reconnectTimeId),this.reconnectTimeId=setTimeout((function(){t.reconnect(!0),V.log("%c=== WebSocket 重连"+t.reConnectTimes+"==="+t.wsurl,"font-size:120%")}),n)}}},{key:"reconnetWS",value:function(){this.reConnectTimes=0,this.isDoLaunch=!1,this.connecting()}},{key:"onerror",value:function(e){this.connected=!1,this.emit(W.WS_CONNET_STATE,{connected:this.connected,type:"error",connectType:this.connectType}),V.log("%c=== WebSocket Error ===","font-size:120%",e)}},{key:"sendHeartBeat",value:function(){var e=new I.WebSocketCommand;e.iCmdType=I.EWebSocketCommandType.EWSCmdC2S_HeartBeatReq;var t=new w.JceOutputStream;e.writeTo(t),this.send(t.getBuffer())}},{key:"onmessage",value:function(e){var t=this,i=N.getTime(),n=new FileReader;n.onload=function(){t.decodeTaf(n,i)},n.readAsArrayBuffer(e.data)}},{key:"decodeTaf",value:function e(t,i){var n=t.result;try{localStorage.__wup>1&&w.Util.jcestream(n,32)}catch(e){}var r=N.getTime(),a=new w.JceInputStream(n),o=new I.WebSocketCommand;switch(o.readFrom(a),o.iCmdType){case I.EWebSocketCommandType.EWSCmd_RegisterRsp:a=new w.JceInputStream(o.vData.buffer);var s=new I.WSRegisterRsp;s.readFrom(a),this.emit("WSRegisterRsp",s);break;case I.EWebSocketCommandType.EWSCmdS2C_RegisterGroupRsp:a=new w.JceInputStream(o.vData.buffer);var c=new I.WSRegisterGroupRsp;c.readFrom(a),V.log("%c<<<<<<< %crspregisterGroup",V.logcss("#0000E3"),V.logcss("#D9006C"),c),this.emit(W.WS_REGISTER_GROUP_RSP,c),this.retry.del("group");break;case I.EWebSocketCommandType.EWSCmdS2C_UnRegisterGroupRsp:a=new w.JceInputStream(o.vData.buffer);var l=new I.WSUnRegisterGroupRsp;l.readFrom(a),V.log("%c<<<<<<< %crspunRegisterGroup",V.logcss("#0000E3"),V.logcss("#D9006C"),l),this.emit(W.WS_UNREGISTER_GROUP_RSP,l);break;case I.EWebSocketCommandType.EWSCmd_WupRsp:var u=new w.Wup,d=N.getTime();u.decode(o.vData.buffer);var p=N.getTime(),h=-1,f=!1;try{h=u.readInt32("")}catch(e){f=!0,V.log("获取返回值失败",e)}var m=u.iRequestId,v=u.sFuncName,g=u.sServantName;this.report.setField(m,"hysignal_response",i),this.report.setDim(m,"retcode",h),h<0?this.report.setDim(m,"success",k):this.report.setDim(m,"success",E),this.report.setField(m,"decode_response_begin",r),this.report.setField(m,"unipacket_decode_begin",d),this.report.setField(m,"unipacket_decode_end",p),this.fireExtTafData(0,v,o.vData.buffer);var y=U.WupMapping[v],_=this.retry.getCallBack(m),S={id:m,fn:v,cb:_};if(y){var b=new y;b.bcode=h;try{if(h>=0){var T=3==u.iVersion?u.newdata:u.data,C=this.getWupKey(T,f);this.report.setField(m,"unipacket_read_rsp_end"),"noKey"!=C&&u.readStruct(C,b,y)}}catch(e){return V.log("ConstEnum.SIGNAL_ERROR_READ_ERROR",e),S.code=L,void this.reportError(S)}this.report.setField(m,"decode_response_end"),m>0&&(b.iRequestId=m),V.log("%c<<<<<<< %crspWup:%c "+v,V.logcss("#0000E3"),V.logcss("black"),V.logcss("#0000E3"),g,b),this.report.setField(m,"join_dispatcher_thread"),this.report.setField(m,"dispatcher_thread_execute_time"),b.sdkcode=0,this.emit(m>0?v+m:v,b)}else _&&_({sdkcode:D,bcode:h}),this.report.clearData(m),this.retry.del(m);break;case I.EWebSocketCommandType.EWSCmdS2C_MsgPushReq:a=new w.JceInputStream(o.vData.buffer),(q=new I.WSPushMessage).readFrom(a);var x=q.iUri,A=q.lMsgId,R=q.sGroupId,P=this.signalCache.cache(A);if(A&&P)return void V.log("重复的消息id",A,R);a=new w.JceInputStream(q.sMsg.buffer);var M=U.UriMapping[q.iUri];if(M){var B=new M;B.readFrom(a),V.log("%c<<<<<<< %crspMsgPush, %curi="+x,V.logcss("#0000E3"),V.logcss("black"),V.logcss("#8600FF"),B),this.emit(x,B)}else V.log("收到未映射的 WSPushMessage，uri="+q.iUri);this.emit("origin:"+x,{data:q.sMsg.buffer,groupId:R,connectType:this.connectType}),this.emit(W.WS_URI_NOTICE,{uri:x,data:q.sMsg.buffer,groupId:R,connectType:this.connectType}),this.fireExtTafData(x,"",q.sMsg.buffer);break;case I.EWebSocketCommandType.EWSCmdS2C_HeartBeatRsp:break;case I.EWebSocketCommandType.EWSCmdS2C_VerifyCookieRsp:a=new w.JceInputStream(o.vData.buffer);var F=new I.WSVerifyCookieRsp;F.readFrom(a);var O=0==F.iValidate;this.emit(W.VERIFYCOOKIE_PASS,O),V.log("VerifyCookie校验"+(O?"通过！":"失败！"));break;case I.EWebSocketCommandType.EWSCmdS2C_VerifyHuyaTokenRsp:a=new w.JceInputStream(o.vData.buffer);var H=new I.WSVerifyHuyaTokenRsp;H.readFrom(a);var G=0==H.iValidate;this.emit(W.VERIFYTOKEN_PASS,G),V.log("verifyToken校验"+(G?"通过！":"失败！"));break;case I.EWebSocketCommandType.EWSCmdS2C_MsgPushReq_V2:var q;a=new w.JceInputStream(o.vData.buffer),(q=new I.WSPushMessage_V2).readFrom(a);for(var j=0,z=q.vMsgItem.value.length;j<z;j++){var Y=q.vMsgItem.value[j],$=Y.iUri,J=Y.lMsgId,K=U.UriMapping[$],Z=q.sGroupId,X=this.signalCache.cache(J);if(J&&X)V.log("重复的消息id",J,Z);else if(this.emit("origin:"+$,{data:Y.sMsg.buffer,groupId:Z,connectType:this.connectType}),this.emit(W.WS_URI_NOTICE,{uri:$,data:Y.sMsg.buffer,groupId:Z,connectType:this.connectType}),this.fireExtTafData($,"",Y.sMsg.buffer),K){var Q=new K,ee=new w.JceInputStream(Y.sMsg);Q.readFrom(ee),V.log("%c<<<<<<< %crspMsgPushV2, %curi="+$,V.logcss("#0000E3"),V.logcss("black"),V.logcss("#8600FF"),Q),this.emit($,Q)}else V.log("收到未映射的 WSPushMessage_V2 uri="+$)}break;case I.EWebSocketCommandType.EWSCmdS2C_CloudGamePush:a=new w.JceInputStream(o.vData.buffer);var te=new I.CloudGamePacket;te.readFrom(a),te.sRequestId,this.emit(W.CLOUD_GAME_DATA,te),V.log("%c<<<<<<< %ccloundGameData:",V.logcss("#0000E3"),V.logcss("black"),te);break;case I.EWebSocketCommandType.EWSCmdS2C_UpdateUserExpsRsp:a=new w.JceInputStream(o.vData.buffer);var ie=new I.WSUpdateUserExpsRsp;ie.readFrom(a),this.emit(W.WS_UPDATE_USER_EXPS_RSP,ie),V.log("WSUpdateUserExpsRsp",ie);break;default:V.log("%c<<<<<<< Not matched CmdType: "+o.iCmdType)}}},{key:"getWupKey",value:function(e,t){return e.get("tRsp")?"tRsp":t&&e.get("")?"":"noKey"}},{key:"onWSRedirect",value:function(e){var t=e.vRemoveIps.value;V.log("---onWSRedirect---"),V.log("vRemoveIps",t),V.log("this.wsurl",this.wsurl);for(var i=0;i<this.wsIps.length;i++)for(var n=0;n<t.length;n++)this.wsIps[i]==t[n]&&this.wsIps.splice(i,1),this.wsurl==t[n]&&this.reconnect();V.log("storeDns",this.wsIps),N.storeDns(this.wsIps,this.connectType)}},{key:"reconnect",value:function(e){e||(this.reConnectTimes=0),this.releaseWs(this.ws),this.ws=null,this.connected=!1,this.isDoLaunch=!1,1==this.connectType?this.connectIPList(this.cloudGameIpList):this.connecting()}},{key:"_sendWup",value:function e(t,i,n,r,a,o){V.log("%c>>>>>>> %creqWup: %c"+i,V.logcss("#009100"),V.logcss("black"),V.logcss("#009100"),t,n),this.report.setDim(r,"path","/"+t+"/"+i),this.report.setDim(r,"channel","ws"),this.report.setDim(r,"ip",this.wsurl),this.report.setField(r,"unipacket_encode_begin");var s={id:r,fn:i,cb:a};try{var c=new w.Wup;if(o){var l=o.wupTimeout,u=o.wupContext;l&&c.setTimeOut(l),u&&Object.assign(c.context.value,u)}c.setServant(t),c.setFunc(i),c.setRequestId(r),c.writeStruct("tReq",n);var d=new I.WebSocketCommand;d.iCmdType=I.EWebSocketCommandType.EWSCmd_WupReq,d.vData=c.encode();var p=this.report.getTraceId(r);if(p){var h="".concat(p,":").concat(p,":").concat(0,":").concat(_.enableTrace);d.traceId=h}var f=new w.JceOutputStream;d.writeTo(f),this.report.setField(r,"unipacket_encode_end")}catch(e){return V.log(e),s.code=M,void this.reportError(s)}try{this.send(f.getBuffer())}catch(e){return V.log(e),s.code=P,void this.reportError(s)}this.report.setField(r,"hysignal_enqueue")}},{key:"sendWup",value:function(e,t,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=+new Date;if("function"==typeof r){var l=function(i){n.report.setField(a,"execute_end"),r&&r(i),n.sendReport(a),n.report.clearData(a),n.retry.del(a),n.reportAPI&&n.reportAPI({type:"reportApiTime",state:"end",servantName:e,funcName:t,startTime:c,endTime:+new Date,sdkcode:i.sdkcode,bcode:i.bcode})};this.once(a>0?"".concat(t).concat(a):t,l)}var u={id:a,reSend:function(e,t,i,r,a,o){n._sendWup(e,t,i,r,a,o)},servantName:e,funcName:t,data:i,tryCountMax:o,errFun:function(e){var t={id:e.id,fn:e.funcName,code:C,cb:e.callbackFun};n.reportError(t)},callbackFun:r};this.retry.add(u),this._sendWup(e,t,i,a,r,s),this.reportAPI&&this.reportAPI({type:"reportApiTime",state:"start",servantName:e,funcName:t,startTime:c})}},{key:"sendRegisterGroup",value:function(e,t){var i=this;this._sendRegisterGroup(e,t);var n={id:"group",reSend:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i._sendRegisterGroup(e,t)},servantName:"group",funcName:"group",data:null,tryCountMax:2,errFun:this.sendRegisterGroupErr,callbackFun:null,paramlist:[e]};this.retry.add(n)}},{key:"_sendRegisterGroup",value:function(e,t){var i,n=new I.WSRegisterGroupReq;(i=n.vGroupId.value).push.apply(i,m(e)),n.sToken=t||"",V.log("%c>>>>>>> %creqRegisterGroup:",V.logcss("#009100"),V.logcss("#D26900"),n);var r=I.EWebSocketCommandType.EWSCmdC2S_RegisterGroupReq;this.sendWebSocketCommand(n,r)}},{key:"sendRegisterGroupErr",value:function(){V.log("进组重试超过次数")}},{key:"sendUnRegisterGroup",value:function(e){var t,i=new I.WSUnRegisterGroupReq;(t=i.vGroupId.value).push.apply(t,m(e)),V.log("%c>>>>>>> %creqUnRegisterGroup:",V.logcss("#009100"),V.logcss("#D26900"),i);var n=I.EWebSocketCommandType.EWSCmdC2S_UnRegisterGroupReq;this.sendWebSocketCommand(i,n),this.retry.del("group")}},{key:"sendWSUpdateUserInfoReq",value:function(e,t){V.log(">>>>>>>  sendWSUpdateUserInfoReq:",e,t);var i=new I.WSUpdateUserInfoReq;i.sAppSrc=e||this.config.appSrc,i.sGuid=t||this.guid;var n=I.EWebSocketCommandType.EWSCmdC2S_UpdateUserInfoReq;this.sendWebSocketCommand(i,n)}},{key:"sendVerifyCookie",value:function(){if(!(this.config.uid<=0)){var e=new I.WSVerifyCookieReq;e.lUid=this.config.uid,e.sGuid=this.guid,e.sUA=this.ua,e.bAutoRegisterUid=1,e.sAppSrc=this.config.appSrc,e.sCookie=document.cookie;var t=I.EWebSocketCommandType.EWSCmdC2S_VerifyCookieReq;this.sendWebSocketCommand(e,t),V.log("VerifyCookie:",e)}}},{key:"sendVerifyToken",value:function(e){var t=e.type,i=e.token,n=new I.WSVerifyHuyaTokenReq;n.tId.lUid=this.config.uid,n.tId.sGuid=this.guid,n.tId.sToken=i,n.tId.iTokenType=t,n.tId.sHuYaUA=this.ua,n.tId.sCookie=document.cookie,n.tId.sDeviceInfo=this.config.device||"",n.bAutoRegisterUid=1,n.sAppSrc=this.config.appSrc;var r=I.EWebSocketCommandType.EWSCmdC2S_VerifyHuyaTokenReq;this.sendWebSocketCommand(n,r),V.log("sendVerifyToken:",n)}},{key:"sendReport",value:function(e){if(-1!==e&&!(_.enableTrace<=0)){var t=new I.MetricDetailSet,i=new I.UserId;N.copy(i,this.userId),i.sHuYaUA=this.config.APPID.toLowerCase()+"&"+_.ver+"&signalsdk",t.tId=i,t.vMetricDetail.value.push(this.createDetailById(e)),V.log("sendReport",t),this.sendReportHttp("metric","reportDetailV2",t)}}},{key:"createDetailById",value:function(e){var t=new I.MetricDetail;t.sMetricName="hymtp.hyns.monitor.client",t.iTS=Date.now();var i=this.report.getFieldData(e),n=this.report.getDimData(e);return this.fillField(i,t.vFiled.value),this.fillDimension(n,t.vDimension.value),t}},{key:"fillField",value:function(e,t){if(e)for(var i in e){var n=new I.Field;n.sName=i,n.fValue=e[i],t.push(n)}}},{key:"fillDimension",value:function(e,t){for(var i in e){var n=new I.Dimension;n.sName=i,n.sValue=e[i],t.push(n)}}},{key:"sendDataMetric",value:function(e,t){var i=new I.MetricDetailSet,n=new I.UserId;N.copy(n,this.userId),t&&(n.sHuYaUA=t),i.tId=n;var r=Date.now();for(var a in e)i.vMetricDetail.value.push(this.createDetail(e[a],r));V.log("sendDataMetric",i),this.sendReportHttp("metric","reportDetailV2",i)}},{key:"createDetail",value:function(e,t){var i=new I.MetricDetail;return i.sMetricName=e.sMetricName,i.iTS=t,this.fillField(e.vField,i.vFiled.value),this.fillDimension(e.vDimension,i.vDimension.value),this.fillExLog(e.vExLog,i.vExLog.value),i}},{key:"fillExLog",value:function(e,t){this.fillDimension(e,t)}},{key:"rspDecode",value:function(e,t){var i=new w.Wup;i.decode(e);var n=U.WupMapping[i.sFuncName];if(n){var r=new n,a=3==i.iVersion?i.newdata:i.data,o=this.getWupKey(a);return i.readStruct(o,r,t),r}return null}},{key:"sendReportHttp",value:function(e,t,i){var n=new w.Wup;n.setServant(e),n.setFunc(t),n.writeStruct("tReq",i);var r=n.encode().getBuffer(),a=(new Date).getTime(),o=this.config.reportUrl||"https://statwup.huya.com";w.Util.ajax(o+"?timestamp="+a,r,(function(){}),(function(e){V.log("上报失败",e)}))}},{key:"sendExtWup",value:function(e){var t=e.buff,i=e.funcName;-1==this.extTafFunNameList.indexOf(i)&&this.extTafFunNameList.push(i),t&&this.send(t)}},{key:"fireExtTafData",value:function(e,t,i){(e||t&&-1!=this.extTafFunNameList.indexOf(t))&&this.emit(W.EXT_TAF_DATA,{uri:e,funcName:t,data:i})}},{key:"sendWupHttp",value:function e(t,i,n,r,a,o){var s=this,c=+new Date,l={id:r,fn:i,cb:a},u=new w.Wup;if(o){var d=o.wupTimeout,p=o.wupContext;d&&u.setTimeOut(d),p&&Object.assign(u.context.value,p)}this.report.setDim(r,"path","/"+t+"/"+i),this.report.setField(r,"unipacket_encode_begin"),this.report.setDim(r,"channel","http");var h=this.config.isDebug?this.HTTP_DEBUG_IP:this.HTTP_IP;this.report.setDim(r,"ip",h);try{u.setServant(t),u.setFunc(i),u.setRequestId(r),u.writeStruct("tReq",n),V.log("%c>>>>>>> %c http reqWup: %c"+i,V.logcss("#009100"),V.logcss("black"),V.logcss("#009100"),t,n);var f=u.encode().getBuffer()}catch(e){return V.log("writeStruct错误",e),l.code=M,void this.reportError(l)}var m=(new Date).getTime(),v=this.report.getTraceId(r);v&&(v="".concat(v,":").concat(v,":").concat(0,":").concat(_.enableTrace)),this.baseinfo=this.setBaseinfo(!0,v);var g="https://".concat(h).concat(this.baseinfo);this.report.setField(r,"unipacket_encode_end"),this.report.setField(r,"hysignal_enqueue");try{w.Util.ajax(g+"&timestamp="+m,f,(function(e){var n,r,o,u=N.getTime();try{(n=new w.Wup).decode(e),o=N.getTime()}catch(e){return V.log("decodewup错误",e),l.code=R,void s.reportError(l)}var d=!1;try{r=n.readInt32("")}catch(e){d=!0}var p=n,h=p.iRequestId,f=p.sFuncName,m=p.sServantName;s.report.setField(h,"hysignal_response",u),s.report.setDim(h,"retcode",r),r<0?s.report.setDim(h,"success",k):s.report.setDim(h,"success",E),s.report.setField(h,"decode_response_begin",u),s.report.setField(h,"unipacket_decode_begin",u),s.report.setField(h,"unipacket_decode_end",o);var v=U.WupMapping[f];if(v){var g=new v;g.bcode=r;try{if(r>=0){var y=3==n.iVersion?n.newdata:n.data,_=s.getWupKey(y,d);s.report.setField(h,"unipacket_read_rsp_end"),"noKey"!=_&&n.readStruct(_,g,v)}}catch(e){return V.log("readStruct错误",e),l.code=L,void s.reportError(l)}s.report.setField(h,"decode_response_end"),h>0&&(g.iRequestId=h),V.log("%c<<<<<<< %chttp rspWup:%c"+i,V.logcss("#0000E3"),V.logcss("black"),V.logcss("#0000E3"),m,g),s.report.setField(h,"join_dispatcher_thread"),s.report.setField(h,"dispatcher_thread_execute_time"),s.report.setField(h,"execute_end"),s.sendReport(h),g.sdkcode=0,a&&a(g),s.reportAPI&&s.reportAPI({type:"reportApiTime",state:"end",servantName:t,funcName:i,startTime:c,endTime:+new Date,sdkcode:0,bcode:r})}else a&&a({sdkcode:D,bcode:r}),s.report.clearData(h),s.retry.del(h)}),(function(e){l.code=B,s.reportError(l,e),V.log("http请求失败",t,i,e)})),this.reportAPI&&this.reportAPI({type:"reportApiTime",state:"start",servantName:t,funcName:i,startTime:c})}catch(e){V.log("http请求error",e),l.code=P,this.reportError(l)}}},{key:"reportError",value:function(e,t){var i=e.fn,n=e.id,r=e.code;this.report.setDim(n,"retcode",r),this.report.setDim(n,"success",T),this.report.setField(n,"execute_end"),this.sendReport(n),this.report.clearData(n),this.retry.del(n);var a=U.WupMapping[i],o={};a&&(o=new a),o.bcode=void 0===t?0:t,o.sdkcode=r,e.cb&&(e.cb(o),this.removeListener(i+n,e.cb))}},{key:"setBaseinfo",value:function e(t,i){try{var n=this.makeBaseInfo(t,i);return V.log("baseinfo",n),n}catch(e){return V.log("setBaseinfo",e),"?baseinfo=default"}}},{key:"makeBaseInfo",value:function(e,t){var i=new I.WSConnectParaInfo;i.lUid=this.config.uid,i.sGuid=this.guid,i.sUA=this.ua,i.sAppSrc=this.config.appSrc,i.sExp=i.sExp||function e(){if(_.mpExperiment)return V.log("getMpExpConfig 内存的",_.mpExperiment),se(_.mpExperiment);try{var t=localStorage.mpExperimentData;if(t){var i=JSON.parse(t),n=_.config.uid,r=oe(),a=i["".concat(r,":").concat(n)];return V.log("getMpExpConfig 缓存的",a),se(a)}}catch(e){V.log("获取AB配置信息出错",e)}return""}()||"",e&&(this.config.uid>0&&(i.sCookie=document.cookie),t&&(i.sTraceId=t));var n=this.config.customHeaders;n&&"object"===a(n)&&N.copy(i.mCustomHeaders.value,n),V.log("makeBaseInfo isHttp info",e,i);var r=new w.JceOutputStream;i.writeTo(r);var o=r.getBuffer(),s=N.ab2str(o,!1),c=window.btoa(s);return"?baseinfo=".concat(encodeURIComponent(c))}},{key:"connectIPList",value:function(e){this.cloudGameIpList=e;for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i],a=r.host,o=r.ip,s=this.isHttps?"".concat(a):"".concat(o||a);t.push(s)}this.testWsIp(t)}},{key:"sendCloudGameReq",value:function(e){var t=I.EWebSocketCommandType.EWSCmdC2S_CloudGameReq;this.sendWebSocketCommand(e,t),V.log("%c>>>>>>> %csendCloudGameReq:",V.logcss("#009100"),V.logcss("black"),e)}},{key:"sendWebSocketCommand",value:function(e,t){var i=new w.JceOutputStream;e.writeTo(i);var n=new I.WebSocketCommand;n.iCmdType=t,n.vData=i.getBinBuffer(),i=new w.JceOutputStream,n.writeTo(i),this.send(i.getBuffer())}},{key:"clear",value:function(){this.releaseWs(this.ws),this.ws=null}},{key:"getCurrentWSUrl",value:function(){return this.wsurl}},{key:"setReportAPI",value:function(e){this.reportAPI=e}},{key:"sendWupNew",value:function(e,t,i,n){var r=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return new Promise((function(s,c){var l=+new Date;U.WupMapping[t]=n;var u=_.getRequestId(),d=_.getTraceId();r.report.setDim(u,"traceid",d),r.report.setDim(u,"spanid",d),r.report.setField(u,"execute");var p=function(e){var t=e.bcode,i=e.sdkcode;t<0||i<0&&i!==D?c(e):s(e)},h="".concat(t).concat(u);r.once(h,(function(i){r.report.setField(u,"execute_end"),r.sendReport(u),r.report.clearData(u),r.retry.del(u),r.reportAPI&&r.reportAPI({type:"reportApiTime",state:"end",servantName:e,funcName:t,startTime:l,endTime:+new Date,sdkcode:i.sdkcode,bcode:i.bcode}),p(i)}));var f={id:u,reSend:function(e,t,i,n,a,o){r._sendWup(e,t,i,n,a,o)},servantName:e,funcName:t,data:i,tryCountMax:a,errFun:function(e){var t={id:e.id,fn:e.funcName,code:C,cb:e.callbackFun};r.reportError(t)},callbackFun:p};r.retry.add(f),r.connected?r._sendWup(e,t,i,u,p,o):r.sendWupHttp(e,t,i,u,p,o),r.reportAPI&&r.reportAPI({type:"reportApiTime",state:"start",servantName:e,funcName:t,startTime:l})}))}},{key:"updateUserExps",value:function(e){var t=this,i=new I.WSUpdateUserExpsReq;Object.assign(i.mExps.value,e);var n=I.EWebSocketCommandType.EWSCmdC2S_UpdateUserExpsReq;return this.sendWebSocketCommand(i,n),V.log("%c>>>>>>> %c updateUserExps:",V.logcss("#009100"),V.logcss("black"),i),new Promise((function(e,i){t.once(W.WS_UPDATE_USER_EXPS_RSP,(function(t){V.log("%c<<<<<<< %c updateUserExps",V.logcss("#0000E3"),V.logcss("#D9006C"),t),0===t.iResCode?e(t):i(t)}))}))}},{key:"removeListenerWrapper",value:function(e,t){null!=t&&"function"==typeof t?"function"==typeof this.removeListener?this.removeListener(e,t):"function"==typeof this.off&&this.off(e,t):console.warn("off ".concat(e," , callback no a function"))}}]),i}($),le=function(){function e(t){s(this,e),this.fieldsList={},this.dimsList={},this.dims={};var i=window.navigator&&window.navigator.connection&&window.navigator.connection.effectiveType;this.dims.appid=t.APPID.toLowerCase(),this.dims.platform="web",this.dims.schema="hysignal",this.dims.nettype=i||"",this.dims.osver=t.osver||"",this.dims.iptype="0",this.dims.device=t.device||"",this.dims.sguid=t.guid,this.dims.ns_version=_.ver,this.dims.ns_compat="0",this.dims.trycount=1,this.dims.prodenv=t.isDebug?"test":"prod"}return l(e,[{key:"setField",value:function(e,t,i){if(-1!=e){this.fieldsList[e]=this.fieldsList[e]||{};var n=this.fieldsList[e];n.ctime=n.ctime||N.getTime(),n.data=n.data||{};var r=i||N.getTime();n.data[t]=r-n.ctime,"execute"==t&&(n.begintime=r),"execute_end"==t&&(n.data.response_time=r-n.begintime),n.ctime=r}}},{key:"getFieldData",value:function(e,t){return this.fieldsList[e]?i({},this.fieldsList[e].data):{}}},{key:"setDim",value:function(e,t,n){this.dimsList[e]=this.dimsList[e]||i({},this.dims),this.dimsList[e][t]=n}},{key:"getTraceId",value:function(e){return this.dimsList[e]?this.dimsList[e].traceid:""}},{key:"getDimData",value:function(e){return this.dimsList[e]?i({},this.dimsList[e]):{}}},{key:"clearData",value:function(e){delete this.fieldsList[e],delete this.dimsList[e]}},{key:"setCommonDim",value:function(e,t){this.dims[e]=t}}]),e}(),ue=function(){function e(t){var n=this;s(this,e);var r=i({},t)||{};V.log("初始化",r),r.guid=r.guid||q.getCookie("guid"),this.config=r,_.config=r,_.setEnableTrace(r),this.report=new le(r),this.tafHandlerList=[],this.tafHandler=new ce(r,this),r.noConnect||this.tafHandler.start(),this.tafHandlerList.push(this.tafHandler),this.wsLaunch=!1,this.queue=[],this.on(W.WEBSOCKET_DOLAUNCH,(function(){V.log("sendWup 缓存队列"),n.wsLaunch=!0,n.queue.forEach((function(e){return e()})),n.queue=[]})),this.inited=!0}return l(e,[{key:"bindWup",value:function(e){var t=this;return function(i){var n=i.funcName,r=i.resStruct;return t.registerWup(n,r),function(i){var r=i.data,a=i.callback,o=i.iRequestId;t.sendWup(e,n,r,a,o)}}}},{key:"sendWup",value:function e(t,i,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=_.getRequestId(),c=_.getTraceId();this.report.setDim(s,"traceid",c),this.report.setDim(s,"spanid",c),this.report.setField(s,"execute");var l={id:s,fn:i,cb:r};if(!this.inited)return l.code=A,void this.tafHandler.reportError(l);try{this.tafHandler.connected?(V.log("sendWup",i),this.tafHandler.sendWup(t,i,n,r,s,a,o)):(V.log("sendWupHttp",i),this.tafHandler.sendWupHttp(t,i,n,s,r,o))}catch(e){l.code=x,this.tafHandler.reportError(l),V.error("sendWup",e)}}},{key:"sendWupNew",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return this.tafHandler.sendWupNew(e,t,i,n,r,a)}},{key:"sendWupHttp",value:function(e,t,i,n){var r=_.getRequestId(),a=_.getTraceId();this.report.setDim(r,"traceid",a),this.report.setDim(r,"spanid",a),this.report.setField(r,"execute");var o={id:r,fn:t,cb:n};if(!this.inited)return o.code=A,void this.tafHandler.reportError(o);this.tafHandler.sendWupHttp(e,t,i,_.iRequestId,n)}},{key:"registerUri",value:function(e,t){U.UriMapping[e+""]=t}},{key:"registerUriMap",value:function(e){for(var t in e){var i=e[t];U.UriMapping[t+""]=i}}},{key:"registerWup",value:function(e,t){U.WupMapping[e]=t}},{key:"registerWupMap",value:function(e){for(var t in e){var i=e[t];U.WupMapping[t]=i}}},{key:"on",value:function(e,t){this.tafHandlerList.forEach((function(i){i.on(e,t)}))}},{key:"off",value:function(e,t){this.tafHandlerList.forEach((function(i){i.removeListenerWrapper(e,t)}))}},{key:"has",value:function(e){return this.tafHandler.listenerCount(e)>0}},{key:"sendRegisterGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.tafHandler.sendRegisterGroup(e,t)}},{key:"sendUnRegisterGroup",value:function(e){this.tafHandler.sendUnRegisterGroup(e)}},{key:"sendVerifyCookie",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webh5&0.0.1&huya";this.tafHandler.sendVerifyCookie(e,t,i)}},{key:"reconnetWS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tafHandlerList.find((function(t){return t.connectType===e}));if(t)return t.reconnetWS()}},{key:"isWSConnected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tafHandlerList.find((function(t){return t.connectType===e}));return!!t&&t.connected}},{key:"isWSLaunch",value:function(){return this.wsLaunch}},{key:"sendWSUpdateUserInfoReq",value:function(e){this.tafHandler.sendWSUpdateUserInfoReq(e)}},{key:"getTaf",value:function(){return w}},{key:"getUserId",value:function(){return this.tafHandler.userId}},{key:"getTafProtocol",value:function(){return{HUYA:I,TafMx:U,Taf:w}}},{key:"rspDecode",value:function(e,t){return this.tafHandler.rspDecode(e,t)}},{key:"sendDataMetric",value:function(e,t){this.tafHandler.sendDataMetric(e,t)}},{key:"sendExtWup",value:function(e){this.tafHandler.sendExtWup(e)}},{key:"connectCloudGameWS",value:function(e){V.log("云游戏建连",e),this.cloudTaf&&this.clearCloudTaf();var t=i(i({},this.config),{},{connectType:1});return this.cloudTaf=new ce(t,this),this.cloudTaf.connectIPList(e),this.tafHandlerList.push(this.cloudTaf),this.cloudTaf}},{key:"clearCloudTaf",value:function(){var e=this.tafHandlerList.indexOf(this.cloudTaf);e>-1&&this.tafHandlerList.splice(e,1),this.cloudTaf.clear(),this.cloudTaf=null}},{key:"sendCloudGameReq",value:function(e){this.cloudTaf?this.cloudTaf.sendCloudGameReq(e):V.log("云游戏连接未创建")}},{key:"getCurrentWSUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tafHandlerList.find((function(t){return t.connectType===e}));return t?t.getCurrentWSUrl():""}},{key:"setReportAPI",value:function(e){this.tafHandler.setReportAPI(e)}},{key:"updateUserExps",value:function(e){return _.mpExperiment=e,this.tafHandler.updateUserExps(e)}}]),e}();return{HUYA:I,Taf:w,init:function(e){return new ue(e)},events:W,utils:N,store:q,version:y}}()})),it=G((function(e){e.exports=tt}));function nt(){this.userAgent=navigator.userAgent.toLowerCase()}function rt(){this.userAgent=navigator.userAgent.toLowerCase()}new(nt.prototype.getQueryString=function(e,t){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),null!==(e=(t||window.location.search).substr(1).match(e))?e[2]:null},nt.prototype.isIframeLoaded=function(){try{return window.self!==window.top&&/www.huya.com/.test(document.referrer)}catch(e){return!0}},nt.prototype.isAndroid=function(){return/android/i.test(this.userAgent)},nt.prototype.isIOS=function(){return/iphone|ipad|ipod/i.test(this.userAgent)},nt.prototype.isWeChat=function(){return/micromessenger/i.test(this.userAgent)},nt.prototype.isMobile=function(){return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(this.userAgent)},nt.prototype.isHuyaApp=function(){var e=/huya/.test(this.userAgent);return this.isMobile()&&e&&!this.isHuyaZs()},nt.prototype.isHuyaPc=function(){return/huya-pc/.test(this.userAgent)},nt.prototype.isHuyaPcAnchor=function(){return/hyanchor/.test(this.userAgent)},nt.prototype.isHuyaMainWeb=function(){var e=!!this.getQueryString("webTTProvidedData"),t=this.isIframeLoaded();return e||t},nt.prototype.isHuyaZs=function(){var e=/zs/.test(this.userAgent);return this.isMobile()&&e},nt);var at=new(rt.prototype.getQueryString=function(e,t){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),null!==(e=(t||window.location.search).substr(1).match(e))?e[2]:null},rt.prototype.isIframeLoaded=function(){try{return window.self!==window.top&&/www.huya.com/.test(document.referrer)}catch(e){return!0}},rt.prototype.isAndroid=function(){return/android/i.test(this.userAgent)},rt.prototype.isIOS=function(){return/iphone|ipad|ipod/i.test(this.userAgent)},rt.prototype.isWeChat=function(){return/micromessenger/i.test(this.userAgent)},rt.prototype.isMobile=function(){return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(this.userAgent)},rt.prototype.isHuyaApp=function(){var e=/huya/.test(this.userAgent);return this.isMobile()&&e&&!this.isHuyaZs()},rt.prototype.isHuyaPc=function(){return/huya-pc/.test(this.userAgent)},rt.prototype.isHuyaPcAnchor=function(){return/hyanchor/.test(this.userAgent)},rt.prototype.isHuyaMainWeb=function(){var e=!!this.getQueryString("webTTProvidedData"),t=this.isIframeLoaded();return e||t},rt.prototype.isHuyaZs=function(){var e=/zs/.test(this.userAgent);return this.isMobile()&&e},rt),ot=G((function(e){e.exports=at})),st=G((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.freeze({__proto__:null,get HYGift(){return Pn},get HYLive(){return Fn},get HYLivingRoomActivity(){return Hn},get HYRouter(){return Zn},get HYReport(){return Or},get HYUserInfo(){return er},get HYLogin(){return rr},get loginSuccess(){return tr},get loginFailed(){return ir},get kickOff(){return nr},get HYDevice(){return vn},get HYPortraitActivity(){return or},get HYLandscapeActivity(){return Fr},get HYNativeEventCenter(){return yr},get HYEventCenter(){return _r},get HYCache(){return Tr},get HYDiskConfig(){return kr},get HYTipOff(){return Cr},get HYSubscribe(){return Lr},get HYFeedBack(){return Mr},get HYDownload(){return Nr},get HYShare(){return Pr},get HYToast(){return Er},get HYLog(){return oi},get HYDataCenter(){return wi},get NativeModules(){return ai},get Utils(){return p},get Browser(){return u},get generateCommonAPI(){return en},get kKWJSSdkEventIdApp(){return Un},get installApkEventChanged(){return Br},get activityWindowSizeChanged(){return On},get willResignActive(){return pn},get didBecomeActive(){return hn},get networkChanged(){return fn},get screenRecordChanged(){return mn},get PlatformCompat(){return Rn},get CrossDomain(){return Zi},get HUYASdk(){return Na},get HYAAID(){return Hr},get HYAd(){return Gr},get HYAdReport(){return Vr},get audioRecordEnd(){return Wr},get HYAudioRecord(){return qr},get HYAuth(){return jr},get HYAuthorization(){return zr},get HYCommodity(){return Yr},get HYDynamicConfig(){return $r},get HYFreeFlow(){return Jr},get HYInteraction(){return Kr},get HYLiveFilmVip(){return Zr},get HYLiveTreasureBox(){return Xr},get HYNestedScroll(){return Qr},get HYPanel(){return ea},get HYPay(){return ta},get HYPlayer(){return ia},get HYSaveInAlbum(){return na},get TAP_BACK(){return ra},get HYSettingBack(){return aa},get HYSettingsData(){return oa},get HYStatistic(){return sa},get HYSuperFans(){return ca},get HYTeamMedal(){return la},get HYThirdCall(){return da},get HYUdb(){return pa},get HYUI(){return ha},get HYWebCalendar(){return fa},get HYWebGameReserve(){return ma},get HYWebPersonal(){return va},get HYWebShortcut(){return ga},get HYWebView(){return ya},get onAppear(){return _a},get onDisappear(){return wa},get HYWebViewLifeCycle(){return Sa},get HYWup(){return Aa},get transmit(){return Ra},get transmitWup(){return Pa},get HYYouth(){return La},get HYBusinessWidget(){return Ma},get HYWebAccompanyMsgFloatBall(){return Da},get HYPCAnchor(){return Ba}}),n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(i[r[n]]=e[r[n]]);return i}function a(e,t,i,n){return new(i=i||Promise)((function(r,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,s)}c((n=n.apply(e,t||[])).next())}))}function o(e,t){var i,n,r,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function c(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var u={versions:{trident:-1<(jt=navigator.userAgent).indexOf("Trident"),webKit:-1<jt.indexOf("AppleWebKit"),gecko:-1<jt.indexOf("Gecko")&&-1==jt.indexOf("KHTML"),mobile:!!jt.match(/AppleWebKit.*Mobile.*/),ios:!!jt.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<jt.indexOf("Android")||-1<jt.indexOf("Adr"),iPhone:-1<jt.indexOf("iPhone"),iPad:-1<jt.indexOf("iPad"),webApp:-1==jt.indexOf("Safari"),weixin:-1<jt.indexOf("MicroMessenger"),qq:" qq"==jt.match(/\sQQ/i),pcAnchor:/pc_exe_template/i.test(jt),pcLive:/huya-pc/i.test(jt)},language:(navigator.browserLanguage||navigator.language).toLowerCase()};function d(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer}var p={arrayBufferToBase64:function(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,r=0;r<n;r++)t+=String.fromCharCode(i[r]);return window.btoa(t)},base64ToArrayBuffer:d,base64ToBlob:function(e){return e=d(e),new Blob([e])},getParameterByName:function(e,t){return t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&"),(t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t))?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},shallowExtend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},versionCompare:function(e,t){if((e=e||"0.0.0")==(t=t||"0.0.0"))return 0;for(var i=e.split("."),n=t.split("."),r=Math.max(i.length,n.length),a=0;a<r;a++){var o=parseInt(i[a]),s=parseInt(n[a]);if(s<o)return 1;if(o<s)return-1}return 0},appendQueryString:function(e,t){for(var i in e=e||"",t)t[i]&&(e+="&"+i+"="+t[i]);return e}};function h(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(){m=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,n=Object.defineProperty||function(e,t,i){e[t]=i.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(t){c=function(e,t,i){return e[t]=i}}function l(e,t,i,r){var a,o,s,c;return t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new b(r||[]),n(t,"_invoke",{value:(a=e,o=i,s=r,c="suspendedStart",function(e,t){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===e)throw t;return{value:void 0,done:!0}}for(s.method=e,s.arg=t;;){var i=s.delegate;if(i){var n=function e(t,i){var n,r=i.method;return void 0===(n=t.iterator[r])?(i.delegate=null,"throw"===r&&t.iterator.return&&(i.method="return",i.arg=void 0,e(t,i),"throw"===i.method)||"return"!==r&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d):"throw"===(n=u(n,t.iterator,i.arg)).type?(i.method="throw",i.arg=n.arg,i.delegate=null,d):(n=n.arg)?n.done?(i[t.resultName]=n.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,d):n:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,d)}(i,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(a,o,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),t}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var v={};c(v,a,(function(){return this})),(r=(r=Object.getPrototypeOf)&&r(r(I([]))))&&r!==t&&i.call(r,a)&&(v=r);var g=f.prototype=p.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;n(this,"_invoke",{value:function(n,a){function o(){return new t((function(r,o){!function n(r,a,o,s){if("throw"!==(r=u(e[r],e,a)).type){var c=r.arg;return(a=c.value)&&"object"==typeof a&&i.call(a,"__await")?t.resolve(a.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(a).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(r.arg)}(n,a,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){if(t=e[a])return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t,n=-1;return(t=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}}return{next:E}}function E(){return{value:void 0,done:!0}}return n(g,"constructor",{value:h.prototype=f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new _(l(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),c(g,s,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,i=Object(e),n=[];for(t in i)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=I,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(i,n){return o.type="throw",o.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),S(i),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n,r=i.completion;return"throw"===r.type&&(n=r.arg,S(i)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:I(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,i,n,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void i(e)}s.done?t(c):Promise.resolve(c).then(n,r)}function y(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var a=e.apply(t,i);function o(e){g(a,n,r,o,s,"next",e)}function s(e){g(a,n,r,o,s,"throw",e)}o(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function S(e,t,i){return t&&w(e.prototype,t),i&&w(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,i){return(t=N(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function C(e,t,i){return(C=k()?Reflect.construct.bind():function(e,t,i){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),i&&T(n,i.prototype),n}).apply(null,arguments)}function x(e){var t="function"==typeof Map?new Map:void 0;return(x=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return C(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),T(n,e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){var t=k();return function(){var i,n=E(e);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,t?(i=E(this).constructor,Reflect.construct(n,arguments,i)):n.apply(this,arguments))}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a,o,s=[],c=!0,l=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return D(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function B(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=M(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function N(e){return"symbol"==typeof(e=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=typeof(t=i.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"))?e:String(e)}("undefined"!=typeof window?window:void 0!==O?O:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"1.9.4"};var U=function(){try{return(window.top&&window.self!=window.top&&window.top.KiwiJSBridge?window.top:window).KiwiJSBridge}catch(e){return window.KiwiJSBridge}},F=(S(H,[{key:"messageQueue",value:function(){return this._messageQueue}},{key:"clear",value:function(){this._messageQueue=[]}},{key:"pushCallMsg",value:function(e,t,i,n){this._messageQueue.push({type:"call",module:e,func:t,options:i,params:n})}},{key:"pushOnMsg",value:function(e,t,i,n){this._messageQueue.push({type:"on",module:e,eventId:t,params:i,callback:n})}},{key:"pushOffMsg",value:function(e,t,i,n){this._messageQueue.push({type:"off",module:e,eventId:t,params:i,callback:n})}}]),H);function H(){_(this,H),this._messageQueue=[]}function G(){_(this,G),this._messageQueue=new F}var V=new(S(G,[{key:"invoke",value:function(e,t,i){t.usePostMessageByDefault=!0,t.useProcolByDefault=!1,t.useContextByDefault=!1,U()?U().call(e,t,function(t){this.handleResponse(e,t,i)}.bind(this)):this._messageQueue.pushCallMsg(void 0,e,t,i)}},{key:"on",value:function(e,t,i){U()?U().on(e,t,i):this._messageQueue.pushOnMsg(void 0,e,t,i)}},{key:"off",value:function(e,t,i){U()?U().off(e,t,i):this._messageQueue.pushOffMsg(void 0,e,t,i)}},{key:"invokeWithModule",value:function(e,t,i,n){U()?U().callWithModule(e,t,i,n):this._messageQueue.pushCallMsg(e,t,i,{callback:n})}},{key:"invokeWithModuleSync",value:function(e,t,i){return U()?U().callWithModuleSync(e,t,i):{errorCode:-1,data:"bridge is not inject."}}},{key:"onWithModule",value:function(e,t,i,n){U()?U().onWithModule(e,t,i,n):this._messageQueue.pushOnMsg(e,t,i,n)}},{key:"offWithModule",value:function(e,t,i,n){U()?U().offWithModule(e,t,i,n):this._messageQueue.pushOffMsg(e,t,i,n)}},{key:"handleQueuedMessage",value:function(){var e=this;this._messageQueue.messageQueue().forEach((function(t){"call"===t.type?t.module?U().callWithModule(t.module,t.func,t.options,t.params.callback):U().call(t.func,t.options,function(e){this.handleResponse(t.func,e,t.params)}.bind(e)):"on"===t.type?t.module?U().onWithModule(t.module,t.eventId,t.params,t.callback):U().on(t.eventId,t.params,t.callback):"off"===t.type&&(t.module?U().offWithModule(t.moduleName,t.eventId,t.params,t.callback):U().off(t.eventId,t.params,t.callback))})),this._messageQueue.clear()}},{key:"handleResponse",value:function(e,t,i){if(i){switch(!u.versions.android||U()&&U().isNewBridge||t.udbToken&&t.udbToken.length&&(t.udbToken=encodeURIComponent(t.udbToken)),t.status){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}}}]),G),W="__HUYAJSBridgeIframe_DomReady";function q(){var e=document.createElement("iframe");e.id=W,e.style.display="none",document.documentElement.appendChild(e),e.src="kiwi://DOMContentLoaded"}function j(){V.handleQueuedMessage(),U().call("ready",{usePostMessageByDefault:!0},(function(){})),setTimeout((function(){var e;(e=document.getElementById(W))&&document.documentElement.removeChild(e)}),1e3)}function z(e){U()?e():document.addEventListener&&document.addEventListener("KiwiWebViewJavascriptBridgeReady",e,!1)}function Y(){var e=window.onerror;e||(window.onerror=function(t,i,n){var r="error:"+(t=t||"")+"\n";return r+="URL:"+(i=i||"")+"\n",r+="Line:"+(n=n||"")+"\n",window.fnError&&window.fnError(t,i,n),U().call("onerror",{errorInfo:r,usePostMessageByDefault:!0},(function(){})),e&&e.apply(this,arguments),!1})}var $={version:"1.0.0",usePostMessageByDefault:!0,useProcolByDefault:!1,useContextByDefault:!1,EVENT_ID:{},CONST_TYPE:{},Browser:u,Utils:p,bridge:V,JSBridge:V,exportApi:function(e){p.shallowExtend($,e)},exportEventID:function(e){p.shallowExtend($.EVENT_ID,e)},exportConstType:function(e){p.shallowExtend($.CONST_TYPE,e)},log:function(e){V.invoke("log",{msg:e})},ready:function(e){z(e)},handleResponse:V.handleResponse.bind(V),wupRequstMap:{},uniqueWupRequstId:0},J={isTestEnv:-1!==window.location.origin.indexOf("test"),redirectUrl:void 0,outerHandle:void 0,errorHandle:void 0,platformOverride:void 0,tafApiConfig:null,useCrossDomainApi:!1},K={config:function(e){J=Object.assign(J,e||{})},getConfig:function(){return J},isInHuyaApp:function(){return Boolean(U())},ACTIVITY_EVENT_ID:{ACTIVITY_WINDOW_SIZE_CHANGED:"ACTIVITY_WINDOW_SIZE_CHANGED"}};void 0!==$&&(null!=$&&$.exportEventID({VIEW_DISAPPEAR:"VIEW_DISAPPEAR",VIEW_APPEAR:"VIEW_APPEAR",WILL_RESIGN_ACTIVE:"WILL_RESIGN_ACTIVE",DID_BECOME_ACTIVE:"DID_BECOME_ACTIVE",NETWORK_CHANGED:"NETWORK_CHANGED",AUDIO_RECORD_END:"AUDIO_RECORD_END",ACTIVITY_WINDOW_SIZE_CHANGED:"ACTIVITY_WINDOW_SIZE_CHANGED",INSTALL_APK_EVENT_CHANGED:"INSTALL_APK_EVENT_CHANGED",kKWJSSdkEventIdApp:"kKWJSSdkEventIdApp",TRANSMIT:"transmit",WUP_TRANSMIT:"transmitWup",CHANNEL:"channelEvent",SCREEN_RECORD_CHANGED:"SCREEN_RECORD_CHANGED",NATIVE_INSTALLER:"INSTALL_APK_EVENT_CHANGED",LOGIN_SUCCESS:"loginSuccess",LOGIN_FAILED:"loginFailed",KICK_OFF:"kickOff",loginSuccess:"loginSuccess",loginFailed:"loginFailed",kickOff:"kickOff"}),null!=$&&$.exportConstType({Privileges_Type:{Open:1,Renew:2}}),null!=$&&$.exportApi(K));var Z,X,Q={APP_NAME:{GAME_IOS:"hyassist4game-ios",GAME_ANDROID:"game-adr",LIVE_IOS:"live-ios",LIVE_ANDROID:"live-adr",IOS:"kiwi-ios",ANDROID:"kiwi-android",HARMONY:"kiwi-harmony",Pitaya:"ios_pitaya",Pitaya_ANDROID:"adr_pitaya"},isHuyaApp:function(e){return e==this.APP_NAME.IOS||e==this.APP_NAME.ANDROID||e==this.APP_NAME.HARMONY},isPitayaApp:function(e){return e==this.APP_NAME.Pitaya||e==this.APP_NAME.Pitaya_ANDROID},isHuyaLive:function(e){return e==this.APP_NAME.LIVE_IOS||e==this.APP_NAME.LIVE_ANDROID},isHuyaGame:function(e){return e==this.APP_NAME.GAME_IOS||e==this.APP_NAME.GAME_ANDROID}};(X=Z=Z||{}).assertEqual=function(e){return e},X.assertIs=function(e){},X.assertNever=function(e){throw new Error},X.arrayToEnum=function(e){var t={},i=B(e);try{for(i.s();!(n=i.n()).done;){var n=n.value;t[n]=n}}catch(e){i.e(e)}finally{i.f()}return t},X.getValidEnumValues=function(e){var t={},i=B(X.objectKeys(e).filter((function(t){return"number"!=typeof e[e[t]]})));try{for(i.s();!(n=i.n()).done;){var n=n.value;t[n]=e[n]}}catch(t){i.e(t)}finally{i.f()}return X.objectValues(t)},X.objectValues=function(e){return X.objectKeys(e).map((function(t){return e[t]}))},X.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},X.find=function(e,t){var i=B(e);try{for(i.s();!(n=i.n()).done;){var n=n.value;if(t(n))return n}}catch(e){i.e(e)}finally{i.f()}},X.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},X.joinValues=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},X.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t};var ee=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),te=function(e){switch(v(e)){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(e)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"object":return Array.isArray(e)?ee.array:null===e?ee.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ee.promise:"undefined"!=typeof Map&&e instanceof Map?ee.map:"undefined"!=typeof Set&&e instanceof Set?ee.set:"undefined"!=typeof Date&&e instanceof Date?ee.date:ee.object;default:return ee.unknown}},ie=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),ne=function(){I(t,x(Error));var e=R(t);function t(i){var n;_(this,t),(n=e.call(this)).issues=[],n.addIssue=function(e){n.issues=[].concat(L(n.issues),[e])},n.addIssues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];n.issues=[].concat(L(n.issues),L(e))};var r=(this instanceof t?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(A(n),r):n.__proto__=r,n.name="ZodError",n.issues=i,n}return S(t,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},i={_errors:[]};return function e(n){var r,a=B(n.issues);try{for(a.s();!(r=a.n()).done;){var o=r.value;if("invalid_union"===o.code)o.unionErrors.map(e);else if("invalid_return_type"===o.code)e(o.returnTypeError);else if("invalid_arguments"===o.code)e(o.argumentsError);else if(0===o.path.length)i._errors.push(t(o));else for(var s=i,c=0;c<o.path.length;){var l=o.path[c];c===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(o))):s[l]=s[l]||{_errors:[]},s=s[l],c++}}}catch(e){a.e(e)}finally{a.f()}}(this),i}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(e){var t=0<arguments.length&&void 0!==e?e:function(e){return e.message},i={},n=[],r=B(this.issues);try{for(r.s();!(a=r.n()).done;){var a=a.value;0<a.path.length?(i[a.path[0]]=i[a.path[0]]||[],i[a.path[0]].push(t(a))):n.push(t(a))}}catch(e){r.e(e)}finally{r.f()}return{formErrors:n,fieldErrors:i}}},{key:"formErrors",get:function(){return this.flatten()}}]),t}();ne.create=function(e){return new ne(e)};var re=function(e,t){var i;switch(e.code){case ie.invalid_type:i=e.received===ee.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case ie.invalid_literal:i="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Z.jsonStringifyReplacer));break;case ie.unrecognized_keys:i="Unrecognized key(s) in object: ".concat(Z.joinValues(e.keys,", "));break;case ie.invalid_union:i="Invalid input";break;case ie.invalid_union_discriminator:i="Invalid discriminator value. Expected ".concat(Z.joinValues(e.options));break;case ie.invalid_enum_value:i="Invalid enum value. Expected ".concat(Z.joinValues(e.options),", received '").concat(e.received,"'");break;case ie.invalid_arguments:i="Invalid function arguments";break;case ie.invalid_return_type:i="Invalid function return type";break;case ie.invalid_date:i="Invalid date";break;case ie.invalid_string:"object"===v(e.validation)?"startsWith"in e.validation?i='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?i='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Z.assertNever(e.validation):i="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case ie.too_small:i="array"===e.type?"Array must contain ".concat(e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be greater than ".concat(e.inclusive?"or equal to ":"").concat(e.minimum):"date"===e.type?"Date must be greater than ".concat(e.inclusive?"or equal to ":"").concat(new Date(e.minimum)):"Invalid input";break;case ie.too_big:i="array"===e.type?"Array must contain ".concat(e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be less than ".concat(e.inclusive?"or equal to ":"").concat(e.maximum):"date"===e.type?"Date must be smaller than ".concat(e.inclusive?"or equal to ":"").concat(new Date(e.maximum)):"Invalid input";break;case ie.custom:i="Invalid input";break;case ie.invalid_intersection_types:i="Intersection results could not be merged";break;case ie.not_multiple_of:i="Number must be a multiple of ".concat(e.multipleOf);break;default:i=t.defaultError,Z.assertNever(e)}return{message:i}},ae=re,oe=function(e){var t,i=e.data,n=e.path,r=e.errorMaps,a=(e=e.issueData,n=[].concat(L(n),L(e.path||[])),f(f({},e),{},{path:n})),o="",s=B(r.filter((function(e){return!!e})).slice().reverse());try{for(s.s();!(t=s.n()).done;)o=(0,t.value)(a,{data:i,defaultError:o}).message}catch(e){s.e(e)}finally{s.f()}return f(f({},e),{},{path:n,message:e.message||o})};function se(e,t){t=oe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ae,re].filter((function(e){return!!e}))}),e.common.issues.push(t)}var ce,le=(S(ue,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var i=[],n=B(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;if("aborted"===r.status)return ge;"dirty"===r.status&&e.dirty(),i.push(r.value)}}catch(e){n.e(e)}finally{n.f()}return{status:e.value,value:i}}},{key:"mergeObjectAsync",value:(ce=y(m().mark((function e(t,i){var n,r,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=B(i),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=17;break}return o=a.value,e.t0=n,e.next=9,o.key;case 9:return e.t1=e.sent,e.next=12,o.value;case 12:e.t2=e.sent,e.t3={key:e.t1,value:e.t2},e.t0.push.call(e.t0,e.t3);case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t4=e.catch(2),r.e(e.t4);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",ue.mergeObjectSync(t,n));case 26:case"end":return e.stop()}}),e,null,[[2,19,22,25]])}))),function(e,t){return ce.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var i={},n=B(t);try{for(n.s();!(o=n.n()).done;){var r=o.value,a=r.key,o=r.value;if("aborted"===a.status)return ge;if("aborted"===o.status)return ge;"dirty"===a.status&&e.dirty(),"dirty"===o.status&&e.dirty(),void 0===o.value&&!r.alwaysSet||(i[a.value]=o.value)}}catch(e){n.e(e)}finally{n.f()}return{status:e.value,value:i}}}]),ue);function ue(){_(this,ue),this.value="valid"}function de(e){return{status:"valid",value:e}}function pe(e){return"aborted"===e.status}function he(e){return"dirty"===e.status}function fe(e){return"valid"===e.status}function me(e){return void 0!==("undefined"==typeof Promise?"undefined":v(Promise))&&e instanceof Promise}var ve,ge=Object.freeze({status:"aborted"});(Dn=ve=ve||{}).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},Dn.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var ye=(S(_e,[{key:"path",get:function(){return this._path.concat(this._key)}}]),_e);function _e(e,t,i,n){_(this,_e),this.parent=e,this.data=t,this._path=i,this._key=n}function we(e,t){if(fe(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new ne(e.common.issues)}}function Se(e){if(!e)return{};var t=e.errorMap,i=e.invalid_type_error,n=e.required_error;if(e=e.description,t&&(i||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:e}:{errorMap:function(e,t){return"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=i?i:t.defaultError}},description:e}}var be,Ie,Ee=(S(Te,[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return te(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:te(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new le,ctx:{common:e.parent.common,data:e.data,parsedType:te(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){if(me(e=this._parse(e)))throw new Error("Synchronous parse encountered promise.");return e}},{key:"_parseAsync",value:function(e){return e=this._parse(e),Promise.resolve(e)}},{key:"parse",value:function(e,t){if((t=this.safeParse(e,t)).success)return t.data;throw t.error}},{key:"safeParse",value:function(e,t){var i;return we(t={common:{issues:[],async:null!==(i=null==t?void 0:t.async)&&void 0!==i&&i,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:te(e)},e=this._parseSync({data:e,path:t.path,parent:t}))}},{key:"parseAsync",value:(Ie=y(m().mark((function e(t,i){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,i);case 2:if((n=e.sent).success)return e.abrupt("return",n.data);e.next=5;break;case 5:throw n.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return Ie.apply(this,arguments)})},{key:"safeParseAsync",value:(be=y(m().mark((function e(t,i){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={common:{issues:[],contextualErrorMap:null==i?void 0:i.errorMap,async:!0},path:(null==i?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:te(t)},r=this._parse({data:t,path:[],parent:n}),e.next=4,me(r)?r:Promise.resolve(r);case 4:return r=e.sent,e.abrupt("return",we(n,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return be.apply(this,arguments)})},{key:"refine",value:function(e,t){return this._refinement((function(i,n){function r(){return n.addIssue(f({code:ie.custom},"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(i):t))}var a=e(i);return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return!!e||(r(),!1)})):!!a||(r(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(i,n){return!!e(i)||(n.addIssue("function"==typeof t?t(i,n):t),!1)}))}},{key:"_refinement",value:function(e){return new rt({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"optional",value:function(){return at.create(this)}},{key:"nullable",value:function(){return ot.create(this)}},{key:"nullish",value:function(){return this.optional().nullable()}},{key:"array",value:function(){return Ge.create(this)}},{key:"promise",value:function(){return nt.create(this)}},{key:"or",value:function(e){return qe.create([this,e])}},{key:"and",value:function(e){return ze.create(this,e)}},{key:"transform",value:function(e){return new rt({schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}})}},{key:"default",value:function(e){return new st({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:ut.ZodDefault})}},{key:"brand",value:function(){return new pt(f({typeName:ut.ZodBranded,type:this},Se(void 0)))}},{key:"describe",value:function(e){return new this.constructor(f(f({},this._def),{},{description:e}))}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]),Te);function Te(e){_(this,Te),this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}var ke=/^c[^\s-]{8,}$/i,Ce=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,xe=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Ae=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments))._regex=function(e,t,n){return i.refinement((function(t){return e.test(t)}),f({validation:t,code:ie.invalid_string},ve.errToObj(n)))},i.nonempty=function(e){return i.min(1,ve.errToObj(e))},i.trim=function(){return new t(f(f({},i._def),{},{checks:[].concat(L(i._def.checks),[{kind:"trim"}])}))},i}return S(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ee.string){var t=this._getOrReturnCtx(e);return se(t,{code:ie.invalid_type,expected:ee.string,received:t.parsedType}),ge}var i=new le,n=void 0,r=B(this._def.checks);try{for(r.s();!(a=r.n()).done;){var a=a.value;if("min"===a.kind)e.data.length<a.value&&(se(n=this._getOrReturnCtx(e,n),{code:ie.too_small,minimum:a.value,type:"string",inclusive:!0,message:a.message}),i.dirty());else if("max"===a.kind)e.data.length>a.value&&(se(n=this._getOrReturnCtx(e,n),{code:ie.too_big,maximum:a.value,type:"string",inclusive:!0,message:a.message}),i.dirty());else if("email"===a.kind)xe.test(e.data)||(se(n=this._getOrReturnCtx(e,n),{validation:"email",code:ie.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)Ce.test(e.data)||(se(n=this._getOrReturnCtx(e,n),{validation:"uuid",code:ie.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)ke.test(e.data)||(se(n=this._getOrReturnCtx(e,n),{validation:"cuid",code:ie.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){se(n=this._getOrReturnCtx(e,n),{validation:"url",code:ie.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(se(n=this._getOrReturnCtx(e,n),{validation:"regex",code:ie.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?e.data=e.data.trim():"startsWith"===a.kind?e.data.startsWith(a.value)||(se(n=this._getOrReturnCtx(e,n),{code:ie.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(se(n=this._getOrReturnCtx(e,n),{code:ie.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):Z.assertNever(a)}}catch(t){r.e(t)}finally{r.f()}return{status:i.value,value:e.data}}},{key:"_addCheck",value:function(e){return new t(f(f({},this._def),{},{checks:[].concat(L(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(f({kind:"email"},ve.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(f({kind:"url"},ve.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(f({kind:"uuid"},ve.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(f({kind:"cuid"},ve.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(f({kind:"regex",regex:e},ve.errToObj(t)))}},{key:"startsWith",value:function(e,t){return this._addCheck(f({kind:"startsWith",value:e},ve.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(f({kind:"endsWith",value:e},ve.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(f({kind:"min",value:e},ve.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(f({kind:"max",value:e},ve.errToObj(t)))}},{key:"length",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"minLength",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"min"===i.kind&&(null===e||i.value>e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"maxLength",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return e}}]),t}();Ae.create=function(e){return new Ae(f({checks:[],typeName:ut.ZodString},Se(e)))};var Re=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments)).min=i.gte,i.max=i.lte,i.step=i.multipleOf,i}return S(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ee.number){var t=this._getOrReturnCtx(e);return se(t,{code:ie.invalid_type,expected:ee.number,received:t.parsedType}),ge}var i,n,r,a,o=void 0,s=new le,c=B(this._def.checks);try{for(c.s();!(a=c.n()).done;){var l=a.value;"int"===l.kind?Z.isInteger(e.data)||(se(o=this._getOrReturnCtx(e,o),{code:ie.invalid_type,expected:"integer",received:"float",message:l.message}),s.dirty()):"min"===l.kind?(l.inclusive?e.data<l.value:e.data<=l.value)&&(se(o=this._getOrReturnCtx(e,o),{code:ie.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,message:l.message}),s.dirty()):"max"===l.kind?(l.inclusive?e.data>l.value:e.data>=l.value)&&(se(o=this._getOrReturnCtx(e,o),{code:ie.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,message:l.message}),s.dirty()):"multipleOf"===l.kind?0!=(i=e.data,n=l.value,a=void 0,r=(i.toString().split(".")[1]||"").length,a=(a=(n.toString().split(".")[1]||"").length)<r?r:a,parseInt(i.toFixed(a).replace(".",""))%parseInt(n.toFixed(a).replace(".",""))/Math.pow(10,a))&&(se(o=this._getOrReturnCtx(e,o),{code:ie.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):Z.assertNever(l)}}catch(e){c.e(e)}finally{c.f()}return{status:s.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,ve.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,ve.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,ve.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,ve.toString(t))}},{key:"setLimit",value:function(e,i,n,r){return new t(f(f({},this._def),{},{checks:[].concat(L(this._def.checks),[{kind:e,value:i,inclusive:n,message:ve.toString(r)}])}))}},{key:"_addCheck",value:function(e){return new t(f(f({},this._def),{},{checks:[].concat(L(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:ve.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(t)})}},{key:"minValue",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"min"===i.kind&&(null===e||i.value>e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"maxValue",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))}}]),t}();Re.create=function(e){return new Re(f({checks:[],typeName:ut.ZodNumber},Se(e)))};var Pe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.bigint?de(e.data):(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.bigint,received:e.parsedType}),ge)}}]),t}();Pe.create=function(e){return new Pe(f({typeName:ut.ZodBigInt},Se(e)))};var Le=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.boolean?de(e.data):(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.boolean,received:e.parsedType}),ge)}}]),t}();Le.create=function(e){return new Le(f({typeName:ut.ZodBoolean},Se(e)))};var Me=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){if(this._getType(e)!==ee.date){var t=this._getOrReturnCtx(e);return se(t,{code:ie.invalid_type,expected:ee.date,received:t.parsedType}),ge}if(isNaN(e.data.getTime()))return se(this._getOrReturnCtx(e),{code:ie.invalid_date}),ge;var i=new le,n=void 0,r=B(this._def.checks);try{for(r.s();!(a=r.n()).done;){var a=a.value;"min"===a.kind?e.data.getTime()<a.value&&(se(n=this._getOrReturnCtx(e,n),{code:ie.too_small,message:a.message,inclusive:!0,minimum:a.value,type:"date"}),i.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(se(n=this._getOrReturnCtx(e,n),{code:ie.too_big,message:a.message,inclusive:!0,maximum:a.value,type:"date"}),i.dirty()):Z.assertNever(a)}}catch(e){r.e(e)}finally{r.f()}return{status:i.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(f(f({},this._def),{},{checks:[].concat(L(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(t)})}},{key:"minDate",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"min"===i.kind&&(null===e||i.value>e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return null!=e?new Date(e):null}},{key:"maxDate",get:function(){var e=null,t=B(this._def.checks);try{for(t.s();!(i=t.n()).done;){var i=i.value;"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}}catch(e){t.e(e)}finally{t.f()}return null!=e?new Date(e):null}}]),t}();Me.create=function(e){return new Me(f({checks:[],typeName:ut.ZodDate},Se(e)))};var De=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.undefined?de(e.data):(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.undefined,received:e.parsedType}),ge)}}]),t}();De.create=function(e){return new De(f({typeName:ut.ZodUndefined},Se(e)))};var Be=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.null?de(e.data):(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.null,received:e.parsedType}),ge)}}]),t}();Be.create=function(e){return new Be(f({typeName:ut.ZodNull},Se(e)))};var Ne=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments))._any=!0,i}return S(t,[{key:"_parse",value:function(e){return de(e.data)}}]),t}();Ne.create=function(e){return new Ne(f({typeName:ut.ZodAny},Se(e)))};var Ue=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments))._unknown=!0,i}return S(t,[{key:"_parse",value:function(e){return de(e.data)}}]),t}();Ue.create=function(e){return new Ue(f({typeName:ut.ZodUnknown},Se(e)))};var Fe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.never,received:e.parsedType}),ge}}]),t}();Fe.create=function(e){return new Fe(f({typeName:ut.ZodNever},Se(e)))};var Oe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.undefined?de(e.data):(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.void,received:e.parsedType}),ge)}}]),t}();Oe.create=function(e){return new Oe(f({typeName:ut.ZodVoid},Se(e)))};var He,Ge=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=(e=this._processInputParams(e)).ctx,i=e.status,n=this._def;return t.parsedType!==ee.array?(se(t,{code:ie.invalid_type,expected:ee.array,received:t.parsedType}),ge):(null!==n.minLength&&t.data.length<n.minLength.value&&(se(t,{code:ie.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,message:n.minLength.message}),i.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(se(t,{code:ie.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,message:n.maxLength.message}),i.dirty()),t.common.async?Promise.all(t.data.map((function(e,i){return n.type._parseAsync(new ye(t,e,t.path,i))}))).then((function(e){return le.mergeArray(i,e)})):(e=t.data.map((function(e,i){return n.type._parseSync(new ye(t,e,t.path,i))})),le.mergeArray(i,e)))}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,i){return new t(f(f({},this._def),{},{minLength:{value:e,message:ve.toString(i)}}))}},{key:"max",value:function(e,i){return new t(f(f({},this._def),{},{maxLength:{value:e,message:ve.toString(i)}}))}},{key:"length",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),t}();Ge.create=function(e,t){return new Ge(f({type:e,minLength:null,maxLength:null,typeName:ut.ZodArray},Se(t)))},(He||(He={})).mergeShapes=function(e,t){return f(f({},e),t)};var Ve=function(e){return function(t){return new We(f(f({},e),{},{shape:function(){return f(f({},e.shape()),t)}}))}},We=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments))._cached=null,i.nonstrict=i.passthrough,i.augment=Ve(i._def),i.extend=Ve(i._def),i}return S(t,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=Z.objectKeys(e);return this._cached={shape:e,keys:t}}},{key:"_parse",value:function(e){if(this._getType(e)!==ee.object){var t=this._getOrReturnCtx(e);return se(t,{code:ie.invalid_type,expected:ee.object,received:t.parsedType}),ge}var i=(e=this._processInputParams(e)).status,n=e.ctx,r=(e=this._getCached()).shape,a=e.keys,o=[];if(!(this._def.catchall instanceof Fe&&"strip"===this._def.unknownKeys))for(var s in n.data)a.includes(s)||o.push(s);var c=[],l=B(a);try{for(l.s();!(p=l.n()).done;){var u=p.value,d=r[u],p=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ye(n,p,n.path,u)),alwaysSet:u in n.data})}}catch(e){l.e(e)}finally{l.f()}if(this._def.catchall instanceof Fe){if("passthrough"===(e=this._def.unknownKeys)){var h=B(o);try{for(h.s();!(f=h.n()).done;){var f=f.value;c.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}})}}catch(e){h.e(e)}finally{h.f()}}else if("strict"===e)0<o.length&&(se(n,{code:ie.unrecognized_keys,keys:o}),i.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var v=this._def.catchall,g=B(o);try{for(g.s();!(w=g.n()).done;){var _=w.value,w=n.data[_];c.push({key:{status:"valid",value:_},value:v._parse(new ye(n,w,n.path,_)),alwaysSet:_ in n.data})}}catch(e){g.e(e)}finally{g.f()}}return n.common.async?Promise.resolve().then(y(m().mark((function e(){var t,i,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],i=B(c),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=19;break}return n=r.value,e.next=8,n.key;case 8:return r=e.sent,e.t0=t,e.t1=r,e.next=13,n.value;case 13:e.t2=e.sent,e.t3=n.alwaysSet,e.t4={key:e.t1,value:e.t2,alwaysSet:e.t3},e.t0.push.call(e.t0,e.t4);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t5=e.catch(2),i.e(e.t5);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})))).then((function(e){return le.mergeObjectSync(i,e)})):le.mergeObjectSync(i,c)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var i=this;return ve.errToObj,new t(f(f({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(t,n){var r,a;return n=null!==(a=null===(r=(a=i._def).errorMap)||void 0===r?void 0:r.call(a,t,n).message)&&void 0!==a?a:n.defaultError,"unrecognized_keys"===t.code?{message:null!==(t=ve.errToObj(e).message)&&void 0!==t?t:n}:{message:n}}}:{}))}},{key:"strip",value:function(){return new t(f(f({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new t(f(f({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"setKey",value:function(e,t){return this.augment(b({},e,t))}},{key:"merge",value:function(e){var i=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return He.mergeShapes(i._def.shape(),e._def.shape())},typeName:ut.ZodObject})}},{key:"catchall",value:function(e){return new t(f(f({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var i=this,n={};return Z.objectKeys(e).map((function(e){i.shape[e]&&(n[e]=i.shape[e])})),new t(f(f({},this._def),{},{shape:function(){return n}}))}},{key:"omit",value:function(e){var i=this,n={};return Z.objectKeys(this.shape).map((function(t){-1===Z.objectKeys(e).indexOf(t)&&(n[t]=i.shape[t])})),new t(f(f({},this._def),{},{shape:function(){return n}}))}},{key:"deepPartial",value:function(){return function e(t){if(t instanceof We){var i,n={};for(i in t.shape){var r=t.shape[i];n[i]=at.create(e(r))}return new We(f(f({},t._def),{},{shape:function(){return n}}))}return t instanceof Ge?Ge.create(e(t.element)):t instanceof at?at.create(e(t.unwrap())):t instanceof ot?ot.create(e(t.unwrap())):t instanceof Ye?Ye.create(t.items.map(e)):t}(this)}},{key:"partial",value:function(e){var i,n=this,r={};if(e)return Z.objectKeys(this.shape).map((function(t){-1===Z.objectKeys(e).indexOf(t)?r[t]=n.shape[t]:r[t]=n.shape[t].optional()})),new t(f(f({},this._def),{},{shape:function(){return r}}));for(i in this.shape){var a=this.shape[i];r[i]=a.optional()}return new t(f(f({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(){var e,i={};for(e in this.shape){for(var n=this.shape[e];n instanceof at;)n=n._def.innerType;i[e]=n}return new t(f(f({},this._def),{},{shape:function(){return i}}))}},{key:"keyof",value:function(){return et(Z.objectKeys(this.shape))}}]),t}();We.create=function(e,t){return new We(f({shape:function(){return e},unknownKeys:"strip",catchall:Fe.create(),typeName:ut.ZodObject},Se(t)))},We.strictCreate=function(e,t){return new We(f({shape:function(){return e},unknownKeys:"strict",catchall:Fe.create(),typeName:ut.ZodObject},Se(t)))},We.lazycreate=function(e,t){return new We(f({shape:e,unknownKeys:"strip",catchall:Fe.create(),typeName:ut.ZodObject},Se(t)))};var qe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(e=this._def.options,t.common.async)return Promise.all(e.map((s=y(m().mark((function e(i){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f(f({},t),{},{common:f(f({},t.common),{},{issues:[]}),parent:null}),e.next=3,i._parseAsync({data:t.data,path:t.path,parent:n});case 3:return e.t0=e.sent,e.t1=n,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}))).then((function(e){var i=B(e);try{for(i.s();!(n=i.n()).done;){var n=n.value;if("valid"===n.result.status)return n.result}}catch(e){i.e(e)}finally{i.f()}var r=B(e);try{for(r.s();!(a=r.n()).done;){var a,o=a.value;if("dirty"===o.result.status)return(a=t.common.issues).push.apply(a,L(o.ctx.common.issues)),o.result}}catch(e){r.e(e)}finally{r.f()}return e=e.map((function(e){return new ne(e.ctx.common.issues)})),se(t,{code:ie.invalid_union,unionErrors:e}),ge}));var i=void 0,n=[],r=B(e);try{for(r.s();!(o=r.n()).done;){var a=o.value,o=f(f({},t),{},{common:f(f({},t.common),{},{issues:[]}),parent:null});if("valid"===(a=a._parseSync({data:t.data,path:t.path,parent:o})).status)return a;"dirty"!==a.status||i||(i={result:a,ctx:o}),o.common.issues.length&&n.push(o.common.issues)}}catch(e){r.e(e)}finally{r.f()}if(i)return(c=t.common.issues).push.apply(c,L(i.ctx.common.issues)),i.result;var s,c=n.map((function(e){return new ne(e)}));return se(t,{code:ie.invalid_union,unionErrors:c}),ge}},{key:"options",get:function(){return this._def.options}}]),t}();qe.create=function(e,t){return new qe(f({options:e,typeName:ut.ZodUnion},Se(t)))};var je=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==ee.object)return se(t,{code:ie.invalid_type,expected:ee.object,received:t.parsedType}),ge;var i=this.discriminator;return e=t.data[i],(e=this.options.get(e))?t.common.async?e._parseAsync({data:t.data,path:t.path,parent:t}):e._parseSync({data:t.data,path:t.path,parent:t}):(se(t,{code:ie.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[i]}),ge)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"validDiscriminatorValues",get:function(){return Array.from(this.options.keys())}},{key:"options",get:function(){return this._def.options}}],[{key:"create",value:function(e,i,n){var r=new Map;try{i.forEach((function(t){var i=t.shape[e].value;r.set(i,t)}))}catch(i){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(r.size!==i.length)throw new Error("Some of the discriminator values are not unique");return new t(f({typeName:ut.ZodDiscriminatedUnion,discriminator:e,options:r},Se(n)))}}]),t}(),ze=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){function t(e,t){if(pe(e)||pe(t))return ge;var r=function e(t,i){var n=te(t),r=te(i);if(t===i)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){var a=Z.objectKeys(i),o=Z.objectKeys(t).filter((function(e){return-1!==a.indexOf(e)})),s=f(f({},t),i),c=B(o);try{for(c.s();!(u=c.n()).done;){var l=u.value,u=e(t[l],i[l]);if(!u.valid)return{valid:!1};s[l]=u.data}}catch(e){c.e(e)}finally{c.f()}return{valid:!0,data:s}}if(n!==ee.array||r!==ee.array)return n===ee.date&&r===ee.date&&+t==+i?{valid:!0,data:t}:{valid:!1};if(t.length!==i.length)return{valid:!1};for(var d=[],p=0;p<t.length;p++){var h=e(t[p],i[p]);if(!h.valid)return{valid:!1};d.push(h.data)}return{valid:!0,data:d}}(e.value,t.value);return r.valid?((he(e)||he(t))&&i.dirty(),{status:i.value,value:r.data}):(se(n,{code:ie.invalid_intersection_types}),ge)}var i=(e=this._processInputParams(e)).status,n=e.ctx;return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((function(e){var i;return t(e=(i=P(e,2))[0],i=i[1])})):t(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}]),t}();ze.create=function(e,t,i){return new ze(f({left:e,right:t,typeName:ut.ZodIntersection},Se(i)))};var Ye=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this,i=(e=this._processInputParams(e)).status,n=e.ctx;return n.parsedType!==ee.array?(se(n,{code:ie.invalid_type,expected:ee.array,received:n.parsedType}),ge):n.data.length<this._def.items.length?(se(n,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),ge):(!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),i.dirty()),e=n.data.map((function(e,i){var r=t._def.items[i]||t._def.rest;return r?r._parse(new ye(n,e,n.path,i)):null})).filter((function(e){return!!e})),n.common.async?Promise.all(e).then((function(e){return le.mergeArray(i,e)})):le.mergeArray(i,e))}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(f(f({},this._def),{},{rest:e}))}}]),t}();Ye.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ye(f({items:e,typeName:ut.ZodTuple,rest:null},Se(t)))};var $e=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),i=(e=t.status,t.ctx);if(i.parsedType!==ee.object)return se(i,{code:ie.invalid_type,expected:ee.object,received:i.parsedType}),ge;var n,r=[],a=this._def.keyType,o=this._def.valueType;for(n in i.data)r.push({key:a._parse(new ye(i,n,i.path,n)),value:o._parse(new ye(i,i.data[n],i.path,n))});return i.common.async?le.mergeObjectAsync(e,r):le.mergeObjectSync(e,r)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,i,n){return new t(i instanceof Ee?f({keyType:e,valueType:i,typeName:ut.ZodRecord},Se(n)):f({keyType:Ae.create(),valueType:e,typeName:ut.ZodRecord},Se(i)))}}]),t}(),Je=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=(e=this._processInputParams(e)).status,i=e.ctx;if(i.parsedType!==ee.map)return se(i,{code:ie.invalid_type,expected:ee.map,received:i.parsedType}),ge;var n=this._def.keyType,r=this._def.valueType,a=L(i.data.entries()).map((function(e,t){e=(a=P(e,2))[0];var a=a[1];return{key:n._parse(new ye(i,e,i.path,[t,"key"])),value:r._parse(new ye(i,a,i.path,[t,"value"]))}}));if(i.common.async){var o=new Map;return Promise.resolve().then(y(m().mark((function e(){var i,n,r,s,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=B(a),e.prev=1,i.s();case 3:if((n=i.n()).done){e.next=17;break}return r=n.value,e.next=7,r.key;case 7:return s=e.sent,e.next=10,r.value;case 10:if(c=e.sent,"aborted"===s.status||"aborted"===c.status)return e.abrupt("return",ge);e.next=13;break;case 13:"dirty"!==s.status&&"dirty"!==c.status||t.dirty(),o.set(s.value,c.value);case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:return e.abrupt("return",{status:t.value,value:o});case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))))}var s=new Map,c=B(a);try{for(c.s();!(l=c.n()).done;){var l=(u=l.value).key,u=u.value;if("aborted"===l.status||"aborted"===u.status)return ge;"dirty"!==l.status&&"dirty"!==u.status||t.dirty(),s.set(l.value,u.value)}}catch(e){c.e(e)}finally{c.f()}return{status:t.value,value:s}}}]),t}();Je.create=function(e,t,i){return new Je(f({valueType:t,keyType:e,typeName:ut.ZodMap},Se(i)))};var Ke=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=(e=this._processInputParams(e)).status,i=e.ctx;if(i.parsedType!==ee.set)return se(i,{code:ie.invalid_type,expected:ee.set,received:i.parsedType}),ge;null!==(e=this._def).minSize&&i.data.size<e.minSize.value&&(se(i,{code:ie.too_small,minimum:e.minSize.value,type:"set",inclusive:!0,message:e.minSize.message}),t.dirty()),null!==e.maxSize&&i.data.size>e.maxSize.value&&(se(i,{code:ie.too_big,maximum:e.maxSize.value,type:"set",inclusive:!0,message:e.maxSize.message}),t.dirty());var n=this._def.valueType;function r(e){var i=new Set,n=B(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;if("aborted"===r.status)return ge;"dirty"===r.status&&t.dirty(),i.add(r.value)}}catch(e){n.e(e)}finally{n.f()}return{status:t.value,value:i}}return e=L(i.data.values()).map((function(e,t){return n._parse(new ye(i,e,i.path,t))})),i.common.async?Promise.all(e).then(r):r(e)}},{key:"min",value:function(e,i){return new t(f(f({},this._def),{},{minSize:{value:e,message:ve.toString(i)}}))}},{key:"max",value:function(e,i){return new t(f(f({},this._def),{},{maxSize:{value:e,message:ve.toString(i)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),t}();Ke.create=function(e,t){return new Ke(f({valueType:e,minSize:null,maxSize:null,typeName:ut.ZodSet},Se(t)))};var Ze=function(){I(t,Ee);var e=R(t);function t(){var i;return _(this,t),(i=e.apply(this,arguments)).validate=i.implement,i}return S(t,[{key:"_parse",value:function(e){var t=this,i=this._processInputParams(e).ctx;if(i.parsedType!==ee.function)return se(i,{code:ie.invalid_type,expected:ee.function,received:i.parsedType}),ge;function n(e,t){return oe({data:e,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,ae,re].filter((function(e){return!!e})),issueData:{code:ie.invalid_arguments,argumentsError:t}})}function r(e,t){return oe({data:e,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,ae,re].filter((function(e){return!!e})),issueData:{code:ie.invalid_return_type,returnTypeError:t}})}var a={errorMap:i.common.contextualErrorMap},o=i.data;return this._def.returns instanceof nt?de(y(m().mark((function e(){var i,s,c,l,u,d,p=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=p.length,s=new Array(i),c=0;c<i;c++)s[c]=p[c];return l=new ne([]),e.next=4,t._def.args.parseAsync(s,a).catch((function(e){throw l.addIssue(n(s,e)),l}));case 4:return d=e.sent,e.next=7,o.apply(void 0,L(d));case 7:return u=e.sent,e.next=10,t._def.returns._def.type.parseAsync(u,a).catch((function(e){throw l.addIssue(r(u,e)),l}));case 10:return d=e.sent,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})))):de((function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];if(!(c=t._def.args.safeParse(i,a)).success)throw new ne([n(i,c.error)]);var c,l=o.apply(void 0,L(c.data));if(!(c=t._def.returns.safeParse(l,a)).success)throw new ne([r(l,c.error)]);return c.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new t(f(f({},this._def),{},{args:Ye.create(i).rest(Ue.create())}))}},{key:"returns",value:function(e){return new t(f(f({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,i,n){return new t(f({args:e||Ye.create([]).rest(Ue.create()),returns:i||Ue.create(),typeName:ut.ZodFunction},Se(n)))}}]),t}(),Xe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){return e=this._processInputParams(e).ctx,this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}]),t}();Xe.create=function(e,t){return new Xe(f({getter:e,typeName:ut.ZodLazy},Se(t)))};var Qe=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return e.data===this._def.value?{status:"valid",value:e.data}:(se(this._getOrReturnCtx(e),{code:ie.invalid_literal,expected:this._def.value}),ge)}},{key:"value",get:function(){return this._def.value}}]),t}();function et(e,t){return new tt(f({values:e,typeName:ut.ZodEnum},Se(t)))}Qe.create=function(e,t){return new Qe(f({value:e,typeName:ut.ZodLiteral},Se(t)))};var tt=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),i=this._def.values;return se(t,{expected:Z.joinValues(i),received:t.parsedType,code:ie.invalid_type}),ge}return-1!==this._def.values.indexOf(e.data)?de(e.data):(t=this._getOrReturnCtx(e),e=this._def.values,se(t,{received:t.data,code:ie.invalid_enum_value,options:e}),ge)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e={},t=B(this._def.values);try{for(t.s();!(i=t.n()).done;){var i=i.value;e[i]=i}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"Values",get:function(){var e={},t=B(this._def.values);try{for(t.s();!(i=t.n()).done;){var i=i.value;e[i]=i}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"Enum",get:function(){var e={},t=B(this._def.values);try{for(t.s();!(i=t.n()).done;){var i=i.value;e[i]=i}}catch(e){t.e(e)}finally{t.f()}return e}}]),t}();tt.create=et;var it=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=Z.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ee.string&&i.parsedType!==ee.number){var n=Z.objectValues(t);return se(i,{expected:Z.joinValues(n),received:i.parsedType,code:ie.invalid_type}),ge}return-1!==t.indexOf(e.data)?de(e.data):(t=Z.objectValues(t),se(i,{received:i.data,code:ie.invalid_enum_value,options:t}),ge)}},{key:"enum",get:function(){return this._def.values}}]),t}();it.create=function(e,t){return new it(f({values:e,typeName:ut.ZodNativeEnum},Se(t)))};var nt=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this,i=this._processInputParams(e).ctx;return i.parsedType!==ee.promise&&!1===i.common.async?(se(i,{code:ie.invalid_type,expected:ee.promise,received:i.parsedType}),ge):de((e=i.parsedType===ee.promise?i.data:Promise.resolve(i.data)).then((function(e){return t._def.type.parseAsync(e,{path:i.path,errorMap:i.common.contextualErrorMap})})))}}]),t}();nt.create=function(e,t){return new nt(f({type:e,typeName:ut.ZodPromise},Se(t)))};var rt=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"_parse",value:function(e){var t=this,i=(e=this._processInputParams(e)).status,n=e.ctx,r=this._def.effect||null;if("preprocess"===r.type)return e=r.transform(n.data),n.common.async?Promise.resolve(e).then((function(e){return t._def.schema._parseAsync({data:e,path:n.path,parent:n})})):this._def.schema._parseSync({data:e,path:n.path,parent:n});var a={addIssue:function(e){se(n,e),e.fatal?i.abort():i.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){var o=function(e){var t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((function(e){return"aborted"===e.status?ge:("dirty"===e.status&&i.dirty(),o(e.value).then((function(){return{status:i.value,value:e.value}})))}));var s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?ge:("dirty"===s.status&&i.dirty(),o(s.value),{status:i.value,value:s.value})}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((function(e){return fe(e)?Promise.resolve(r.transform(e.value,a)).then((function(e){return{status:i.value,value:e}})):e}));if(!fe(s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n})))return s;if((s=r.transform(s.value,a))instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:s}}Z.assertNever(r)}}]),t}();rt.create=function(e,t,i){return new rt(f({schema:e,typeName:ut.ZodEffects,effect:t},Se(i)))},rt.createWithPreprocess=function(e,t,i){return new rt(f({schema:t,effect:{type:"preprocess",transform:e},typeName:ut.ZodEffects},Se(i)))};var at=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.undefined?de(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),t}();at.create=function(e,t){return new at(f({innerType:e,typeName:ut.ZodOptional},Se(t)))};var ot=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.null?de(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),t}();ot.create=function(e,t){return new ot(f({innerType:e,typeName:ut.ZodNullable},Se(t)))};var st=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return e=t.data,t.parsedType===ee.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}]),t}();st.create=function(e,t){return new at(f({innerType:e,typeName:ut.ZodOptional},Se(t)))};var ct=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){return this._getType(e)===ee.nan?{status:"valid",value:e.data}:(se(e=this._getOrReturnCtx(e),{code:ie.invalid_type,expected:ee.nan,received:e.parsedType}),ge)}}]),t}();function lt(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length?i:void 0;return e?Ne.create().superRefine((function(t,i){e(t)||(t="string"==typeof(t="function"==typeof n?n(t):n)?{message:t}:t,i.addIssue(f(f({code:"custom"},t),{},{fatal:r})))})):Ne.create()}ct.create=function(e){return new ct(f({typeName:ut.ZodNaN},Se(e)))};var ut,dt=Symbol("zod_brand"),pt=function(){I(t,Ee);var e=R(t);function t(){return _(this,t),e.apply(this,arguments)}return S(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return e=t.data,this._def.type._parse({data:e,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}]),t}(),ht={object:We.lazycreate};(Bn=ut=ut||{}).ZodString="ZodString",Bn.ZodNumber="ZodNumber",Bn.ZodNaN="ZodNaN",Bn.ZodBigInt="ZodBigInt",Bn.ZodBoolean="ZodBoolean",Bn.ZodDate="ZodDate",Bn.ZodUndefined="ZodUndefined",Bn.ZodNull="ZodNull",Bn.ZodAny="ZodAny",Bn.ZodUnknown="ZodUnknown",Bn.ZodNever="ZodNever",Bn.ZodVoid="ZodVoid",Bn.ZodArray="ZodArray",Bn.ZodObject="ZodObject",Bn.ZodUnion="ZodUnion",Bn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Bn.ZodIntersection="ZodIntersection",Bn.ZodTuple="ZodTuple",Bn.ZodRecord="ZodRecord",Bn.ZodMap="ZodMap",Bn.ZodSet="ZodSet",Bn.ZodFunction="ZodFunction",Bn.ZodLazy="ZodLazy",Bn.ZodLiteral="ZodLiteral",Bn.ZodEnum="ZodEnum",Bn.ZodEffects="ZodEffects",Bn.ZodNativeEnum="ZodNativeEnum",Bn.ZodOptional="ZodOptional",Bn.ZodNullable="ZodNullable",Bn.ZodDefault="ZodDefault",Bn.ZodPromise="ZodPromise",Bn.ZodBranded="ZodBranded";var ft=Ae.create,mt=Re.create,vt=ct.create,gt=Pe.create,yt=Le.create,_t=Me.create,wt=De.create,St=Be.create,bt=Ne.create,It=Ue.create,Et=Fe.create,Tt=Oe.create,kt=Ge.create,Ct=We.create,xt=We.strictCreate,At=qe.create,Rt=je.create,Pt=ze.create,Lt=Ye.create,Mt=$e.create,Dt=Je.create,Bt=Ke.create,Nt=Ze.create,Ut=Xe.create,Ft=Qe.create,Ot=tt.create,Ht=it.create,Gt=nt.create,Vt=rt.create,Wt=at.create,qt=ot.create,jt=rt.createWithPreprocess,zt=(K=Object.freeze({__proto__:null,getParsedType:te,ZodParsedType:ee,defaultErrorMap:re,setErrorMap:function(e){ae=e},getErrorMap:function(){return ae},makeIssue:oe,EMPTY_PATH:[],addIssueToContext:se,ParseStatus:le,INVALID:ge,DIRTY:function(e){return{status:"dirty",value:e}},OK:de,isAborted:pe,isDirty:he,isValid:fe,isAsync:me,ZodType:Ee,ZodString:Ae,ZodNumber:Re,ZodBigInt:Pe,ZodBoolean:Le,ZodDate:Me,ZodUndefined:De,ZodNull:Be,ZodAny:Ne,ZodUnknown:Ue,ZodNever:Fe,ZodVoid:Oe,ZodArray:Ge,get objectUtil(){return He},ZodObject:We,ZodUnion:qe,ZodDiscriminatedUnion:je,ZodIntersection:ze,ZodTuple:Ye,ZodRecord:$e,ZodMap:Je,ZodSet:Ke,ZodFunction:Ze,ZodLazy:Xe,ZodLiteral:Qe,ZodEnum:tt,ZodNativeEnum:it,ZodPromise:nt,ZodEffects:rt,ZodTransformer:rt,ZodOptional:at,ZodNullable:ot,ZodDefault:st,ZodNaN:ct,BRAND:dt,ZodBranded:pt,custom:lt,Schema:Ee,ZodSchema:Ee,late:ht,get ZodFirstPartyTypeKind(){return ut},any:bt,array:kt,bigint:gt,boolean:yt,date:_t,discriminatedUnion:Rt,effect:Vt,enum:Ot,function:Nt,instanceof:function(e,t){return lt((function(t){return t instanceof e}),t=1<arguments.length&&void 0!==t?t:{message:"Input not instance of ".concat(e.name)},!0)},intersection:Pt,lazy:Ut,literal:Ft,map:Dt,nan:vt,nativeEnum:Ht,never:Et,null:St,nullable:qt,number:mt,object:Ct,oboolean:function(){return yt().optional()},onumber:function(){return mt().optional()},optional:Wt,ostring:function(){return ft().optional()},preprocess:jt,promise:Gt,record:Mt,set:Bt,strictObject:xt,string:ft,transformer:Vt,tuple:Lt,undefined:wt,union:At,unknown:It,void:Tt,NEVER:ge,ZodIssueCode:ie,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:ne}),{});function Yt(e,t){if(zt[e])return t();if(l(window.document.scripts).find((function(t){return t.src===e})))return t();var i=document.createElement("script");i.src=e,i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),zt[e]=1,this.onload=this.onreadystatechange=null)},document.getElementsByTagName("head")[0].appendChild(i)}function $t(e,t){return(e=new Error(JSON.stringify(e.issues,null,2))).name="better-kiwi "+t+" Validated Error",e}function Jt(e){if("object"==typeof e)return e;if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}var Kt=function(e,t){var i,n,r;window.performanceInfo&&window.performanceInfo._hmt&&(t="object"==typeof(n=Jt(t))?(null==n?void 0:n.status)||(null===(i=(null==n?void 0:n.message)||{})?void 0:i.status):"",r="object"==typeof n?(null==n?void 0:n.errorCode)||(null==n?void 0:n.err_code)||(null===(i=(null==n?void 0:n.message)||{})?void 0:i.err_code)||(null===(r=(null==n?void 0:n.message)||{})?void 0:r.code):-1,"fail"!==t&&-1!==r||(console.log("reportApiMess",e,JSON.stringify(n)),window.performanceInfo._hmt.push(["reportApiMess","js-sdk-error-report",JSON.stringify(n),"fail"===t?-1:r,e,"kiwi-sdk","1.9.4"])))};function Zt(e){var t,i=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return i||(i=!0,t=e.apply(void 0,l(n))),t}}function Xt(e,t,i,n){void 0===t&&(t=500);try{return new Promise((function(r,a){var o={code:i,data:e},s=setTimeout((function(){a("[kiwisdk] mainweb methor call timeout")}),t);window.addEventListener("message",(function e(t){var i=t.origin,a=t.data;if(/\.huya\.com$/.test(i)){var o=void 0;if(a&&"string"==typeof a)try{o=JSON.parse(a)}catch(e){}o&&o.code===n&&(clearTimeout(s),window.removeEventListener("message",e,!1),r(o.data))}}),!1),window.parent.postMessage(JSON.stringify(o),"*")}))}catch(e){return Promise.reject(e)}}function Qt(e,t){return t="__kiwisdk_global_"+t+"__",window[t]?window[t]:(e=e(),window[t]=e)}function ei(e){return e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),(e=document.cookie.match(e))?decodeURIComponent(e[2]):null}function ti(e){if("function"==typeof window.openApp)return window.openApp(e);Yt("https://hd.huya.com/cdn_libs/openApp.1.8.0.js",(function(){if("function"==typeof window.openApp)return window.openApp(e)}))}function ii(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var ni=function(e){return e&&("function"==typeof(null==e?void 0:e.success)||"function"==typeof(null==e?void 0:e.complete))};function ri(){var e;_(this,ri),this.getWindow().__HYAndroidMessageHandlers?(e=this.getWindow().__HYAndroidMessageHandlers.getModuleInfo(),this.setupModules(JSON.parse(e))):this.getWindow().__hyNativeModuleInfo__&&this.setupModules(this.getWindow().__hyNativeModuleInfo__)}var ai=new(S(ri,[{key:"getWindow",value:function(){try{return window.top&&window.self!=window.top&&window.top.document?window.top:window}catch(e){return window}}},{key:"setupModules",value:function(e){var t=this;e.forEach((function(e){var i={},n=e.name;e.constants&&Object.getOwnPropertyNames(e.constants).forEach((function(t){Object.defineProperty(i,t,{enumerable:!1,configurable:!1,writable:!1,value:e.constants[t]})})),e.methods&&e.methods.forEach((function(e){Object.defineProperty(i,e,{enumerable:!1,configurable:!1,writable:!1,value:function(t){return new Promise((function(i,r){V.invokeWithModule(n,e,t,(function(e){0===e.errorCode?(!u.versions.android||U()&&U().isNewBridge||e.data.udbToken&&e.data.udbToken.length&&(e.data.udbToken=encodeURIComponent(e.data.udbToken)),i(e.data)):r({errorCode:e.errorCode,code:e.errorCode,message:e.data})}))}))}})})),e.syncMethods&&e.syncMethods.forEach((function(e){Object.defineProperty(i,e,{enumerable:!1,configurable:!1,writable:!1,value:function(t){var i=V.invokeWithModuleSync(n,e,t);if(0===i.errorCode)return i.data;throw(t=new Error(i.data)).errMsg=i.data,t.errCode=i.errorCode,t}})})),e.isEmitter&&(Object.defineProperty(i,"on",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t,i){V.onWithModule(n,e,i,t)}}),Object.defineProperty(i,"off",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t,i){V.offWithModule(n,e,i,t)}})),t.hasOwnProperty(n)?console.error("Can not redefine "+n):Object.defineProperty(t,n,{enumerable:!1,configurable:!1,writable:!1,value:i})}))}}]),ri);window.__hySetupNativeModules__=ai.setupModules.bind(ai);var oi={debug:function(e){return e=0<arguments.length&&void 0!==e?e:{},ai.HYLog&&ai.HYLog.debug?ai.HYLog.debug(e):new Promise((function(e,t){t({errorCode:-1,message:"HYLog.debug is not find in HYLog:".concat(JSON.stringify(ai.HYLog))})}))},info:function(e){return e=0<arguments.length&&void 0!==e?e:{},ai.HYLog&&ai.HYLog.info?ai.HYLog.info(e):new Promise((function(e,t){t({errorCode:-1,message:"HYLog.info is not find in HYLog:".concat(JSON.stringify(ai.HYLog))})}))},warn:function(e){return e=0<arguments.length&&void 0!==e?e:{},ai.HYLog&&ai.HYLog.warn?ai.HYLog.warn(e):new Promise((function(e,t){t({errorCode:-1,message:"HYLog.warn is not find in HYLog:".concat(JSON.stringify(ai.HYLog))})}))},error:function(e){return e=0<arguments.length&&void 0!==e?e:{},ai.HYLog&&ai.HYLog.error?ai.HYLog.error(e):new Promise((function(e,t){t({errorCode:-1,message:"HYLog.error is not find in HYLog:".concat(JSON.stringify(ai.HYLog))})}))}},si=ai.HYNativeEventCenter;function ci(){var e=this;_(this,ci),this._nativeEventListeners=new Map,this._callback=function(t){e._dispatchEvent(t)}}var li=new(S(ci,[{key:"addEventListener",value:function(e,t,i){var n;e&&t&&i&&(this._addEventEmitterListenerIfNeed(),(n=this._nativeEventListeners.get(t))||(si.addEventListener({eventName:t}),n=new Map,this._nativeEventListeners.set(t,n)),n.set(e,i))}},{key:"removeEventListener",value:function(e,t){var i;e&&t&&((i=this._nativeEventListeners.get(t))&&(i.delete(e),0==i.size&&(this._nativeEventListeners.delete(t),si.removeEventListener({eventName:t}))),this._removeEventEmitterListenerIfNeed())}},{key:"clearEventListener",value:function(e){if(e){var t=new Array,i=B(this._nativeEventListeners.keys());try{for(i.s();!(r=i.n()).done;){var n=r.value,r=this._nativeEventListeners.get(n);0<r.size&&(r.delete(e),0==r.size&&t.push(n))}}catch(e){i.e(e)}finally{i.f()}for(var a=0;a<t.length;a++){var o=t[a];this._nativeEventListeners.delete(o),si.removeEventListener({eventName:o})}}}},{key:"clearAllListener",value:function(){var e=this;this._nativeEventListeners.forEach((function(t,i){e._nativeEventListeners.delete(i),si.removeEventListener({eventName:i})}))}},{key:"postEventToNative",value:function(e,t){si.postEvent({eventName:e,userInfo:t})}},{key:"_addEventEmitterListenerIfNeed",value:function(){0==this._nativeEventListeners.size&&si.on("nativeEvent",this._callback)}},{key:"_removeEventEmitterListenerIfNeed",value:function(){0==this._nativeEventListeners.size&&si.off("nativeEvent",this._callback)}},{key:"_dispatchEvent",value:function(e){var t=e.name,i=e.params,n=this._nativeEventListeners.get(t);if(n){var r=B(n.keys());try{for(r.s();!(a=r.n()).done;){var a=a.value;n.get(a)(i)}}catch(e){r.e(e)}finally{r.f()}}}}]),ci),ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pi={atob:function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");if((e=(e="".concat(e)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(e=e.replace(/==?$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return null;for(var t="",i=0,n=0,r=0;r<e.length;r++)i<<=6,i|=function(e){return(e=ui.indexOf(e))<0?void 0:e}(e[r]),24===(n+=6)&&(t+=String.fromCharCode((16711680&i)>>16),t+=String.fromCharCode((65280&i)>>8),t+=String.fromCharCode(255&i),i=n=0);return 12===n?(i>>=4,t+=String.fromCharCode(i)):18===n&&(i>>=2,t+=String.fromCharCode((65280&i)>>8),t+=String.fromCharCode(255&i)),t},btoa:function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");for(e="".concat(e),i=0;i<e.length;i++)if(255<e.charCodeAt(i))return null;for(var t="",i=0;i<e.length;i+=3){var n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(i)>>2,n[1]=(3&e.charCodeAt(i))<<4,e.length>i+1&&(n[1]|=e.charCodeAt(i+1)>>4,n[2]=(15&e.charCodeAt(i+1))<<2),e.length>i+2&&(n[2]|=e.charCodeAt(i+2)>>6,n[3]=63&e.charCodeAt(i+2));for(var r=0;r<n.length;r++)void 0===n[r]?t+="=":t+=function(e){if(0<=e&&e<64)return di[e]}(n[r])}return t}},hi=window.Taf||{};function fi(e){for(var t=pi.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer}function mi(e,t){var i=new hi.Wup;i.decode(e);var n=i.newdata.get("tRsp")?"tRsp":"tResp";return e=new t,i.readStruct(n,e,t),e}var vi,gi,yi=ai.HYDataCenter;function _i(){_(this,_i)}var wi=new(S(_i,[{key:"setUserIdFunc",value:function(e){this._userIdFun=e}},{key:"sendWupRequest",value:(gi=y(m().mark((function e(t,i){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.request)return e.next=3,this._userIdFun();e.next=5;break;case 3:n=e.sent,t.request.tId=n;case 5:return e.abrupt("return",this.sendWupRequestWithCustomUserId(t,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return gi.apply(this,arguments)})},{key:"sendWupRequestWithCustomUserId",value:(vi=y(m().mark((function e(t,i){var n,r,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rspClass,r=t.request,s=t.servant,c=t.funcname,l=r,u=void 0,(u=new hi.Wup).setServant(s),u.setFunc(c),u.writeStruct("tReq",l),a=function(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,r=0;r<n;r++)t+=String.fromCharCode(i[r]);return pi.btoa(t)}(a=u.encode().getBuffer()),t.unitPacket=a,t.request=null,t.rspClass=null,e.prev=7,e.next=10,yi.sendWupRequest(t,i);case 10:return a=mi(a=fi(a=e.sent),n),t.needLog&&oi.info("HYRNDataCenter","sendRequest :\n"+JSON.stringify(r,null,4)+"\n result : \n"+JSON.stringify(a,null,4)+"\n strategy:"+i),e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(7);try{o=mi(o=fi(e.t0.message),n),e.t0.resp=o}catch(e){oi.info("HYRNDataCenter","decode resp failed:"+JSON.stringify(e))}throw oi.info("HYRNDataCenter","error :"+JSON.stringify(e.t0)),e.t0;case 22:case"end":return e.stop()}var s,c,l,u}),e,null,[[7,17]])}))),function(e,t){return vi.apply(this,arguments)})}]),_i);function Si(){Object.keys(Ai).forEach((function(e){var t;"function"==typeof Ai[e]&&(null!==(t=Ai[e])&&void 0!==t&&t.call(Ai),delete Ai[e])}))}!function(){if(z(j),u.versions.pcAnchor||u.versions.pcLive||!/huya/.test(navigator.userAgent.toLowerCase()))Y();else{if("interactive"==document.readyState||"complete"==document.readyState)try{q()}catch(e){}else document.addEventListener("DOMContentLoaded",(function(){q()}));var e,t;u.versions.android&&(e=document.getElementsByTagName("head")[0],(t=document.createElement("script")).type="text/javascript",t.src="KWBridge://huya.com/load_KwBridge.js",e.appendChild(t)),Y()}}();var bi,Ii=function(e){return/\.(msstatic|yaoguo|huya)\.com(:\d+)?$/.test(e)},Ei={},Ti={__reqId:0,EVENT_NAME:(Dn=function(e){return{req:"KIWI_SDK_FOR_IFRAME_"+e+"_REQ",res:"KIWI_SDK_FOR_IFRAME_"+e+"_RES"}})("HUYASdk.addEventListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.addEventListener)&&(e.addEventListener=function(e,t,i){i=(t=c("function"==typeof t?[{},t]:[t,i],2))[0];var n=t[1];function r(e){var t,i;Ii(e.origin)&&"object"==typeof e.data&&(t=(i=e.data).reqId,e=i.type,i=i.rsp,t===a&&e===Ti.EVENT_NAME.res&&null!=n&&n(i))}Ti.__reqId+=1;var a=Ti.__reqId+"_HUYASdk.addEventListener_"+ii();t={reqId:a,type:Ti.EVENT_NAME.req,params:i,eventName:e},null!==(i=Ei[e])&&void 0!==i&&i.call(Ei),Ei[e]=function(){window.removeEventListener("message",r,!1),delete Ei[e]},window.addEventListener("message",r,!1),window.parent.postMessage(t,"*")})},runMessageEventForTopWindow:function(e){var t;try{var i=null==e?void 0:e.data;if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Ti.EVENT_NAME.req)return;null!==(t=null==Na?void 0:Na.addEventListener)&&void 0!==t&&t.call(Na,i.eventName,i.params,(function(t){var r=n(n({},i),{reqId:i.reqId,type:Ti.EVENT_NAME.res,rsp:t});null!==(t=e.source)&&void 0!==t&&t.postMessage?null!==(t=e.source)&&void 0!==t&&t.postMessage(r,"*"):document.querySelectorAll("iframe").forEach((function(e){var t;null!==(e=null===(t=e.contentWindow)||void 0===t?void 0:t.postMessage)&&void 0!==e&&e.call(t,r,"*")}))}))}catch(t){return console.log("[runMessageEventInTopWindow] TopWindow fail",t)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Ti.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Ti.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},ki={__reqId:0,EVENT_NAME:Dn("HUYASdk.removeEventListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.removeEventListener)&&(e.removeEventListener=function(e){ki.__reqId+=1,e={reqId:ki.__reqId+"_HUYASdk.removeEventListener_"+ii(),type:ki.EVENT_NAME.req,eventName:e},window.parent.postMessage(e,"*")})},runMessageEventForTopWindow:function(e){var t;try{var i=null==e?void 0:e.data;if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==ki.EVENT_NAME.req)return;null!==(t=null==Na?void 0:Na.removeEventListener)&&void 0!==t&&t.call(Na,i.eventName)}catch(e){return console.log("[proxyRemoveEventListener] TopWindow fail",e)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===ki.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===ki.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Ci={__reqId:0,EVENT_NAME:Dn("HUYASdk.JSBridge.invoke"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.removeEventListener)&&(e.JSBridge.invoke=function(e,t,i){Ci.__reqId+=1;var n=Ci.__reqId+"_HUYASdk.JSBridge.invoke_"+ii(),r=(t={reqId:n,type:Ci.EVENT_NAME.req,eventName:e,params:t},function(e){var t,a,o,s,c;Ii(e.origin)&&"object"==typeof e.data&&(o=(c=e.data).reqId,s=c.type,e=c.rsp,c=c.oldSdkEventEmit,o===n&&s===Ci.EVENT_NAME.res&&(window.removeEventListener("message",r,!1),null!=c&&c.success&&null!=i&&i.success&&null!==(t=i.success)&&void 0!==t&&t.call(i,e),null!=c&&c.complete&&null!=i&&i.complete&&null!==(a=i.complete)&&void 0!==a&&a.call(i,e)))});window.addEventListener("message",r,!1),window.parent.postMessage(t,"*")})},runMessageEventForTopWindow:function(e){return a(void 0,void 0,void 0,(function(){var t,i,r,a,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=null==e?void 0:e.data,(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.type)!==Ci.EVENT_NAME.req?[2]:(i={},[4,new Promise((function(e){var r,a;null!==(a=null==Na?void 0:(r=Na.JSBridge).invoke)&&void 0!==a&&a.call(r,t.eventName,t.params||{},n(n({},t.params),{success:function(t){i.success=!0,e(t)},complete:function(t){i.complete=!0,e(t)}}))}))]);case 1:return a=o.sent(),r=n(n({},e.data),{type:Ci.EVENT_NAME.res,rsp:a,oldSdkEventEmit:i}),null!==(a=e.source)&&void 0!==a&&a.postMessage?null!==(s=e.source)&&void 0!==s&&s.postMessage(r,"*"):document.querySelectorAll("iframe").forEach((function(e){var t;null!==(e=null===(t=e.contentWindow)||void 0===t?void 0:t.postMessage)&&void 0!==e&&e.call(t,r,"*")})),[3,3];case 2:return s=o.sent(),[2,console.log("[proxyJSBridgeInvoke] TopWindow fail",s)];case 3:return[2]}}))}))},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Ci.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Ci.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},xi={list:[Ti,ki,Ci],override:function(){xi.list.forEach((function(e){return e.override(Na)}))},runMessageEventForTopWindow:function(e){xi.list.forEach((function(t){return t.runMessageEventForTopWindow(e)}))},runMessageEventForMidWindow:function(e){Ti.runMessageEventForMidWindow(e),ki.runMessageEventForMidWindow(e)}},Ai={},Ri={},Pi={__reqId:0,EVENT_NAME:(Bn=function(e){return{req:"KIWI_SDK_FOR_IFRAME_"+e+"_REQ",res:"KIWI_SDK_FOR_IFRAME_"+e+"_RES"}})("HYNativeEventCenter.addEventListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.addEventListener)&&(e.addEventListener=function(e,t,i){var n;function r(e){var t,n;Ii(e.origin)&&"object"==typeof e.data&&(t=(n=e.data).reqId,e=n.type,n=n.rsp,t===a&&e===Pi.EVENT_NAME.res&&null!=i&&i(n))}Pi.__reqId+=1;var a=Pi.__reqId+"_HYNativeEventCenter.addEventListener_"+ii(),o={reqId:a,type:Pi.EVENT_NAME.req,eventName:t};null!==(n=Ai[t])&&void 0!==n&&n.call(Ai),Ai[t]=function(){window.removeEventListener("message",r,!1),delete Ai[t]},window.addEventListener("message",r,!1),window.parent.postMessage(o,"*")})},runMessageEventForTopWindow:function(e){var t;try{var i=null==e?void 0:e.data;if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Pi.EVENT_NAME.req)return;null!==(t=null==yr?void 0:yr.addEventListener)&&void 0!==t&&t.call(yr,Ri,i.eventName,(function(t){var r=n(n({},i),{reqId:i.reqId,type:Pi.EVENT_NAME.res,rsp:t});null!==(t=e.source)&&void 0!==t&&t.postMessage?null!==(t=e.source)&&void 0!==t&&t.postMessage(r,"*"):document.querySelectorAll("iframe").forEach((function(e){var t;null!==(e=null===(t=e.contentWindow)||void 0===t?void 0:t.postMessage)&&void 0!==e&&e.call(t,r,"*")}))}))}catch(t){return console.log("[runMessageEventInTopWindow] TopWindow fail",t)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Pi.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Pi.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Li={__reqId:0,EVENT_NAME:Bn("HYNativeEventCenter.removeEventListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.removeEventListener)&&(e.removeEventListener=function(e,t){Li.__reqId+=1,t={reqId:Li.__reqId+"_HYNativeEventCenter.removeEventListener_"+ii(),type:Li.EVENT_NAME.req,eventName:t},window.parent.postMessage(t,"*")})},runMessageEventForTopWindow:function(e){var t;try{var i=null==e?void 0:e.data;if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Li.EVENT_NAME.req)return;null!==(t=null==yr?void 0:yr.removeEventListener)&&void 0!==t&&t.call(yr,Ri,i.eventName)}catch(e){return console.log("[proxyRemoveEventListener] TopWindow fail",e)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Li.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Li.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Mi={__reqId:0,EVENT_NAME:Bn("HYNativeEventCenter.clearEventListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.clearEventListener)&&(e.clearEventListener=function(e){Mi.__reqId+=1;var t={reqId:Mi.__reqId+"_HYNativeEventCenter.clearEventListener_"+ii(),type:Mi.EVENT_NAME.req};Si(),window.parent.postMessage(t,"*")})},runMessageEventForTopWindow:function(e){var t;try{if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Mi.EVENT_NAME.req)return;null!==(t=null==yr?void 0:yr.clearEventListener)&&void 0!==t&&t.call(yr,Ri)}catch(e){return console.log("[proxyClearEventListener] TopWindow fail",e)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Mi.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Mi.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Di={__reqId:0,EVENT_NAME:Bn("HYNativeEventCenter.clearAllListener"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.clearAllListener)&&(e.clearAllListener=function(){Di.__reqId+=1;var e={reqId:Di.__reqId+"_HYNativeEventCenter.clearAllListener_"+ii(),type:Di.EVENT_NAME.req};Si(),window.parent.postMessage(e,"*")})},runMessageEventForTopWindow:function(e){var t;try{if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Di.EVENT_NAME.req)return;null!==(t=null==yr?void 0:yr.clearAllListener)&&void 0!==t&&t.call(yr)}catch(e){return console.log("[proxyClearAllListener] TopWindow fail",e)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Di.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Di.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Bi={__reqId:0,EVENT_NAME:Bn("HYNativeEventCenter.postEventToNative"),override:function(e){Gi===bi.MidWindow&&Oi()&&Yi()&&"function"==typeof(null==e?void 0:e.postEventToNative)&&(e.postEventToNative=function(e,t){Bi.__reqId+=1,t={reqId:Bi.__reqId+"_HYNativeEventCenter.postEventToNative"+ii(),type:Bi.EVENT_NAME.req,eventName:e,userInfo:t},Si(),window.parent.postMessage(t,"*")})},runMessageEventForTopWindow:function(e){var t;try{if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==Bi.EVENT_NAME.req)return;if(null===(t=null==e?void 0:e.data)||void 0===t||!t.eventName)return;yr.postEventToNative(e.data.eventName,e.data.userInfo)}catch(e){return console.log("[proxyPostEventToNative] TopWindow fail",e)}},runMessageEventForMidWindow:function(e){var t=e.data.type;t===Bi.EVENT_NAME.req&&window.parent.postMessage(e.data,"*"),t===Bi.EVENT_NAME.res&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))}},Ni={list:[Pi,Li,Mi,Di,Bi],override:function(){Ni.list.forEach((function(e){return e.override(yr)}))},runMessageEventForTopWindow:function(e){Ni.list.forEach((function(t){return t.runMessageEventForTopWindow(e)}))},runMessageEventForMidWindow:function(e){Ni.list.forEach((function(t){return t.runMessageEventForMidWindow(e)}))}},Ui=[xi,Ni],Fi=window.top===window.self,Oi=function(){var e=(null===(i=null===(n=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===n?void 0:n.toLowerCase)||void 0===i?void 0:i.call(n))||"",t=/huya-pc/.test(e),i=/hyanchor/.test(e),n=/huya-zs/.test(e);return/huya|hy/.test(e)&&!t&&!n&&!i&&!Fi&&!U()};(je=bi=bi||{}).TopWindow="TopWindow",je.MidWindow="MidWindow",je.EmptyWindow="EmptyWindow";var Hi,Gi=Fi?bi.TopWindow:Oi()?bi.MidWindow:bi.EmptyWindow,Vi=0,Wi="KIWI_SDK_FOR_IFRAME_API_REQ",qi="KIWI_SDK_FOR_IFRAME_API_RES";function ji(){return Yi()&&Gi===bi.MidWindow}($e=Hi=Hi||{})[$e.invoke=1]="invoke",$e[$e.specialHandle=2]="specialHandle",$e[$e.moduleRun=3]="moduleRun",$e[$e.unknow=-99999]="unknow";var zi=window.location.href,Yi=function(){return!!(null==$?void 0:$.getConfig()).useCrossDomainApi};function $i(e,t,i,n){if(Gi===bi.MidWindow){var a=[e,t].join("."),o=(Vi+=1)+"__"+a+"__"+zi,s=(l=i||{}).complete,c=l.success,l=r(l,["complete","success","fail","cancel"]),u={apiPath:a,type:Wi,reqId:o,oldSdkEvent:{success:"function"==typeof c,complete:"function"==typeof s},params:"object"==typeof l&&l?JSON.parse(JSON.stringify(l)):void 0,runTypeInfo:{moduleName:e,nativeApiName:t,isUseSdk:null==n?void 0:n.isUseSdk,isCompatibleOldSdkFlag:ni(i),isSpecialHandle:!(null==n||!n.specialHandle)}};return(n=new Promise((function(e,t){var i=function(t){var n,r;Ii(t.origin)&&"object"==typeof t.data&&(n=(r=t.data).reqId,r=r.type,n===o&&r===qi&&(e(t.data),window.removeEventListener("message",i,!1)))};window.addEventListener("message",i,!1),window.parent.postMessage(u,"*")}))).then((function(e){})),n.then((function(e){var t,i;return null!==(t=null===u?void 0:u.oldSdkEvent)&&void 0!==t&&t.success&&null!==(i=null==e?void 0:e.oldSdkEventEmit)&&void 0!==i&&i.success&&null!=c&&c(e.res),null!==(i=null===u?void 0:u.oldSdkEvent)&&void 0!==i&&i.complete&&null!=s&&s(e.res),e.res}))}}function Ji(){var e,t;e=function(){Gi!==bi.EmptyWindow&&(Gi===bi.TopWindow&&Yi()&&window.addEventListener("message",(function(e){return a(void 0,void 0,void 0,(function(){var t,r,a,s,c,l,u;return o(this,(function(o){switch(o.label){case 0:if(!Ii(e.origin))return[2];if(Ui.forEach((function(t){return t.runMessageEventForTopWindow(e)})),"object"!=typeof e.data)return[2];o.label=1;case 1:return o.trys.push([1,4,,5]),(t=null==e?void 0:e.data).type!==Wi?[3,3]:(l=t.apiPath.split("."),d=t.runTypeInfo,(r=null!==(p=null==ai?void 0:ai[d.moduleName])&&void 0!==p&&p[d.nativeApiName]?null!=d&&d.isUseSdk&&d.isCompatibleOldSdkFlag?Hi.invoke:null!=d&&d.isSpecialHandle?Hi.specialHandle:Hi.moduleRun:null!=d&&d.isUseSdk?Hi.invoke:Hi.unknow)===Hi.unknow?[2]:(a=l.reduce((function(e,t){return null==e?void 0:e[t]}),i),s={},[4,new Promise((function(e){if([Hi.moduleRun,Hi.specialHandle].includes(r))return e(null==a?void 0:a(t.params));if(r===Hi.invoke){var i=n(n({},t.params),{success:function(t){s.success=!0,e(t)},complete:function(t){s.complete=!0,e(t)}});return null==a?void 0:a(i)}}))]));case 2:l=o.sent(),c=n(n({},e.data),{type:qi,res:l,oldSdkEventEmit:s,apiRunType:r}),null!==(l=e.source)&&void 0!==l&&l.postMessage?null!==(u=e.source)&&void 0!==u&&u.postMessage(c,"*"):document.querySelectorAll("iframe").forEach((function(e){var t;null!==(e=null===(t=e.contentWindow)||void 0===t?void 0:t.postMessage)&&void 0!==e&&e.call(t,c,"*")})),o.label=3;case 3:return[3,5];case 4:return u=o.sent(),[2,console.log("[onMesssageForTopWindow] TopWindow fail",u)];case 5:return[2]}var d,p}))}))})),Gi===bi.MidWindow&&(Ui.forEach((function(e){return e.override()})),window.addEventListener("message",(function(e){var t;Ii(e.origin)&&(Ui.forEach((function(t){return t.runMessageEventForMidWindow(e)})),"object"==typeof e.data&&((t=e.data.type)===Wi&&window.parent.postMessage(e.data,"*"),t===qi&&document.querySelectorAll("iframe").forEach((function(t){var i;null!==(t=null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage)&&void 0!==t&&t.call(i,e.data,"*")}))))}))))},t="__kiwisdk_globalfn_"+(t="onMessageForCrossDomain")+"__",window[t]||(e(),window[t]=!0)}var Ki,Zi=Object.freeze({__proto__:null,isTopWindow:Fi,isCrossDomainInApp:Oi,get ERole(){return bi},ROLE:Gi,canUseCrossDomain:Yi,shouldWrapApiRun:ji,handleApiRunBefore:$i,onMessageForCrossDomain:Ji,forceOnMessage:function(){null!=$&&$.config({useCrossDomainApi:!0}),Ji()}}),Xi=!U(),Qi=function(e,t){var i,n=null==$?void 0:$.getConfig();return n&&null!=n&&n.outerHandle&&("function"==typeof n.outerHandle?null!=n&&n.outerHandle():(i=window.location.href||"https://www.huya.com",n=(null==n?void 0:n.redirectUrl)||"https://hd.huya.com/h5/app/index.html",window.location.href=n+"?url="+encodeURIComponent(encodeURIComponent(i)))),Kt(t,{errorCode:-1,message:e}),new Promise((function(t,i){i({errorCode:-1,message:e})}))},en=function(e,t,i,a){return function(o){var s,c,l;if(o&&null!==(u=null==a?void 0:a.lifecycle)&&void 0!==u&&u.beforeParse&&null!==(s=null==a?void 0:a.lifecycle)&&void 0!==s&&s.beforeParse(o),i&&o){var u=i.safeParse(o);if(!u.success)return null!==(s=null==a?void 0:a.lifecycle)&&void 0!==s&&s.handleError?null===(s=null==a?void 0:a.lifecycle)||void 0===s?void 0:s.handleError(u.error):(u=$t(u.error,e+"."+t),console.error(u),{success:!1,error:u})}return o&&null!==(c=null==a?void 0:a.lifecycle)&&void 0!==c&&c.afterParse&&null!==(l=null==a?void 0:a.lifecycle)&&void 0!==l&&l.afterParse(o),function(e,t,i,a){var o=(null==a?void 0:a.isUseSdk)||!1,s=i;if(ji())return $i(e,t,i,a);if(ai[e]&&ai[e][t]){if(o&&ni(s)){var c=s||{},l=c.fail;return i=r(c,["complete","success","fail"]),null!==(c=null==$?void 0:$.JSBridge)&&void 0!==c&&c.invoke(t,JSON.parse(JSON.stringify(i)),n(n({},s),{fail:function(i){Kt(e+"."+t,i),l&&l(i)}})),void console.log("兼容旧的方式调用：",t)}return null!=a&&a.specialHandle?(console.log("特殊处理调用：",t),null==a?void 0:a.specialHandle(s)):(console.log("模块方式调用：",e,t),ai[e][t](s||{}).catch((function(i){return Kt(e+"."+t,i),Promise.reject(i)})))}return o?nn(0,t,s):function(e,t,i){if(Xi)return Qi("非端内打开，不存在Bridge桥接对象, 方法: "+e+"."+t+" 调用失败",e+"."+t);var n=e+"."+t+" is not find in "+e+":"+i;return console.warn&&console.warn(n),Kt(e+"."+t,{errorCode:-1,message:n}),new Promise((function(e,t){t({errorCode:-1,message:n})}))}(e,t,JSON.stringify(ai[e]))}(e,t,o,a)}};function tn(e){return function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return en.apply(void 0,l([e,t.name,t.input],i))}}function nn(e,t,i){var a=i||{},o=a.fail,s=r(a,["complete","success","fail"]);if(void 0!==$)return Xi?Qi("非端内打开，不存在Bridge桥接对象, 方法: "+t+" 调用失败","HUYASdk."+t):(console.log("旧调用处理调用：",t),ni(i)?void(null!==(a=null==$?void 0:$.JSBridge)&&void 0!==a&&a.invoke(t,s,n(n({},i),{fail:function(e){Kt("HUYASdk."+t,e),o&&o(e)}}))):new Promise((function(e,r){var a;if(void 0!==$)try{null!==(a=null==$?void 0:$.JSBridge)&&void 0!==a&&a.invoke(t,n({},s),n(n({},i),{success:e,cancel:r,fail:r}))}catch(e){Kt("HUYASdk."+t,e),r(e)}})))}Ze=function(e,t){return function(i,n,r){ai[e]&&ai[e][t]?ai[e][t](i,n,r):$.JSBridge[t](i,r,n)}},dt=K.object({success:K.function().args(K.any()).optional(),cancel:K.function().args(K.any()).optional(),fail:K.function().args(K.any()).optional(),complete:K.function().args(K.any()).optional()}),(ht=Ki=Ki||{})[ht.hasNotJSBridge=-9999]="hasNotJSBridge",ht[ht.timeout=-9998]="timeout";var rn,an,on,sn,cn={appVersion:"",systemVersion:"",appName:"",huyaUA:"",privilegeUseIAP:"",experiment:""},ln="HYDevice",un=(bt="getAppInfo",kt="getDeviceInfo",gt="copyToClipboard",_t="getCurrentNetworkType",Rt="getClientLocalIP",Ot="getScreenSize","getDarkMode"),dn=(Nt="getScreenRecordStatus",Pt="forbidScreenRecord",Ut="setOrientation",dt.optional()),pn=(Ft=K.object({text:K.string()}),Dt=K.object({orientation:K.union([K.literal("portrait"),K.literal("landscape")])}),"WILL_RESIGN_ACTIVE"),hn="DID_BECOME_ACTIVE",fn="NETWORK_CHANGED",mn="SCREEN_RECORD_CHANGED",vn=((vt={})[bt]=(sn=en(ln,bt,dn,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i;return o(this,(function(r){switch(r.label){case 0:return i=function(t){return new Promise((function(i,r){var a=setTimeout((function(){r({message:"[getAppInfo] timeout",platformValue:t,errorCode:Ki.timeout})}),1e3);sn(n(n({},e||{}),{complete:function(t){clearTimeout(a);var n=Jt(t);null!==(t=null==e?void 0:e.complete)&&void 0!==t&&t.call(e,n),i(n)}}))}))},[4,An({app:t=function(){return sn(e)},pc_exe:function(){return i("pc_exe")},pc_exe_external:function(){return Promise.reject({errorCode:Ki.hasNotJSBridge,message:"PC客户端external内核，暂不支持HUYASdk调用",platformValue:"pc_exe_external"})},pc_anchor:function(){return i("pc_anchor")},main_web_inner:function(){return a(void 0,void 0,void 0,(function(){var e,t;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),"function"!=typeof(null===(e=null===(e=window)||void 0===e?void 0:e.TT)||void 0===e?void 0:e.getWebUaInfo)?[3,2]:[4,null===(t=null===(t=window)||void 0===t?void 0:t.TT)||void 0===t?void 0:t.getWebUaInfo()];case 1:return t=i.sent(),[2,n(n({},cn),{appName:"main_web_inner",huyaUA:t.webUa})];case 2:return[3,4];case 3:return i.sent(),[3,4];case 4:return[2,Promise.reject({errorCode:Ki.hasNotJSBridge,message:"window.TT 获取 UA 失败",platformValue:"main_web_inner"})]}}))}))},main_web_iframe:function(){return a(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Xt(null,1e3,"GetWebUaInfoReq","GetWebUaInfoRes")];case 1:return e=t.sent(),[2,n(n({},cn),{appName:"main_web_iframe",huyaUA:e.webUa})];case 2:return t.sent(),[3,3];case 3:return[2,Promise.reject({errorCode:Ki.hasNotJSBridge,message:"主站 iframe 获取 UA 失败",platformValue:"main_web_iframe"})]}}))}))},outer_mobile:function(){return Promise.reject({errorCode:Ki.hasNotJSBridge,message:"暂不支持端外移动端",platformValue:"outer_mobile"})},outer_pc:function(){return Promise.reject({errorCode:Ki.hasNotJSBridge,message:"暂不支持端外pc端",platformValue:"outer_pc"})}})];case 1:return[2,(r.sent()||t)()]}}))}))}),vt[kt]=en(ln,kt,dn,{isUseSdk:!0}),vt[gt]=(on=en(ln,gt,Ft,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,An({app:t=function(){return on(e)},pc_exe:i=function(){var t,i,n;null!=e&&e.text&&(t=(null==e?void 0:e.text)||"",navigator.clipboard&&window.parent===window?navigator.clipboard.writeText(t):((i=document.createElement("textarea")).value=t,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),(n=document.getSelection())&&(t=0<n.rangeCount&&n.getRangeAt(0),i.select(),document.execCommand("copy"),document.body.removeChild(i),t&&(n=document.getSelection())&&(n.removeAllRanges(),n.addRange(t)))))},pc_exe_external:i,pc_anchor:i,main_web_inner:i,main_web_iframe:i,outer_mobile:i,outer_pc:i})];case 1:return(n.sent()||t)(),[2,void 0]}}))}))}),vt[Rt]=en(ln,Rt,dn,{isUseSdk:!0}),vt[_t]=(an=en(ln,_t,dn,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){function t(){return a(this,void 0,void 0,(function(){var e,t;return o(this,(function(i){return t=window.navigator,e=t.connection||t.mozConnection||t.webkitConnection,t=null==e?void 0:e.type,window.navigator.onLine?"wifi"===t?[2,1]:"cellular"===t||["slow-2g","2g","3g","4g"].includes((null==e?void 0:e.effectiveType)||"")?[2,2]:window.navigator.onLine?[2,3]:[2,0]:[2,0]}))}))}var i,n;return o(this,(function(r){switch(r.label){case 0:return i=function(t){return a(void 0,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:i={networkType:0},a.label=1;case 1:return a.trys.push([1,3,4,5]),n=i,[4,t()];case 2:return n.networkType=a.sent(),null!==(n=null==e?void 0:e.success)&&void 0!==n&&n.call(e,i),[3,5];case 3:return a.sent(),null!==(r=null==e?void 0:e.fail)&&void 0!==r&&r.call(e,i),[3,5];case 4:return null!==(r=null==e?void 0:e.complete)&&void 0!==r&&r.call(e,i),[7];case 5:return[2,i]}}))}))},[4,An({app:n=function(){return an(e)},kiwi:n,pitaya:n,zs:function(){return i(t)},game:function(){return i(t)},pc_exe:function(){return i(t)},pc_exe_external:function(){return i(t)},pc_anchor:function(){return i(t)},main_web_inner:function(){return i(t)},main_web_iframe:function(){return i(t)},outer_mobile:function(){return i(t)},outer_pc:function(){return i(t)}})];case 1:return[2,(r.sent()||n)()]}}))}))}),vt[Ot]=en(ln,Ot,dn,{isUseSdk:!0}),vt[un]=(rn=function(){return en(ln,un,dn,{isUseSdk:!0})().then((function(e){return{darkmode:"true"===(e=e.darkmode)||1===e}}))},function(e){return a(void 0,void 0,void 0,(function(){function t(){return a(this,void 0,void 0,(function(){return o(this,(function(e){return[2,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches]}))}))}var i,n;return o(this,(function(r){switch(r.label){case 0:return i=function(t){return a(void 0,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:i={darkmode:!1},a.label=1;case 1:return a.trys.push([1,3,4,5]),n=i,[4,t()];case 2:return n.darkmode=a.sent(),null!==(n=null==e?void 0:e.success)&&void 0!==n&&n.call(e,i),[3,5];case 3:return a.sent(),null!==(r=null==e?void 0:e.fail)&&void 0!==r&&r.call(e,i),[3,5];case 4:return null!==(r=null==e?void 0:e.complete)&&void 0!==r&&r.call(e,i),[7];case 5:return[2,i]}}))}))},[4,An({app:n=function(){return rn()},kiwi:n,pitaya:n,zs:function(){return i(t)},game:function(){return i(t)},pc_exe:function(){return i(t)},pc_exe_external:function(){return i(t)},pc_anchor:function(){return i(t)},main_web_inner:function(){return i(t)},main_web_iframe:function(){return i(t)},outer_mobile:function(){return i(t)},outer_pc:function(){return i(t)}})];case 1:return[2,(r.sent()||n)()]}}))}))}),vt[Nt]=en(ln,Nt,dn,{isUseSdk:!0}),vt[Pt]=en(ln,Pt,dn,{isUseSdk:!0}),vt[Ut]=en(ln,Ut,Dt),vt.on=Ze(ln,"on"),vt.off=Ze(ln,"off"),vt),gn=(null===(Et=null===(Ht=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===Ht?void 0:Ht.toLowerCase)||void 0===Et?void 0:Et.call(Ht))||"";function yn(e){return-1!==e.indexOf("www")&&-1!==e.indexOf(".huya.com")}function _n(){return window.parent!==window&&yn(document.referrer)}St=/Harmony/i.test(navigator.userAgent)&&/Mobile|Tablet/i.test(navigator.userAgent),qt=/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent)||St,navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var wn=Zt((function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return window.parent===window?[3,2]:[4,Qt((function(){return Xt(null,1500,"UserInfoReq","UserInfoRes")}),"checkMainWebIframe")];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))})),Sn=Zt((function(e){return void 0===e&&(e=""),new Promise((function(t){var i=setTimeout((function(){t(e)}),1e3);null!=vn&&vn.getAppInfo({complete:function(n){clearTimeout(i),n=(null==(n=Jt(n))?void 0:n.appName)||"",n=Q.isHuyaApp(n)?"kiwi":Q.isPitayaApp(n)?"pitaya":Q.isHuyaLive(n)?"zs":Q.isHuyaGame(n)?"game":e||n,t(n)}})}))})),bn=Zt((function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Sn("")];case 1:return[2,"huya-pc"===e.sent()]}}))}))})),In=/pc_exe_template/.test(gn)?"pc_anchor":/huya-pc/.test(gn)?"pc_exe":$.isInHuyaApp()||qt&&["huya-zs","huya"].some((function(e){return-1!==gn.indexOf(e)}))?"app":yn(window.location.origin)?"main_web_inner":_n()?"main_web_iframe":qt?"outer_mobile":"web_mode_pc";function En(e){var t=null===(t=null==$?void 0:$.getConfig())||void 0===t?void 0:t.platformOverride;return t?e[t]:e[In]}var Tn=["kiwi","pitaya","zs","game","app"],kn=["pc_exe","pc_exe_external"],Cn=["main_web_iframe","outer_pc","web_mode_pc"],xn=Zt((function(){return a(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){return[2,(e=En({app:function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Sn("app")];case 1:return[2,e.sent()||"app"]}}))}))},pc_exe:function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,bn()];case 1:return[2,e.sent()?"pc_exe":"pc_exe_external"]}}))}))},web_mode_pc:function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),_n()?[2,"main_web_iframe"]:[4,wn()];case 1:return e.sent()?[2,"main_web_iframe"]:[2,"outer_pc"];case 2:return e.sent(),[2,"outer_pc"];case 3:return[2]}}))}))},outer_mobile:function(){return a(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,Sn("")];case 1:return(e=t.sent())?[2,e]:[2,"outer_mobile"]}}))}))}}))?e():In]}))}))}));function An(e){var t;return a(this,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:return(i=null===(t=null==$?void 0:$.getConfig())||void 0===t?void 0:t.platformOverride)?(r=i,[3,3]):[3,1];case 1:return[4,xn()];case 2:r=a.sent(),a.label=3;case 3:return n=r,Tn.some((function(e){return e===n}))?[2,e[n]||e.app]:kn.some((function(e){return e===n}))?[2,e[n]||e.pc_exe]:Cn.some((function(e){return e===n}))?[2,e[n]||e.outer_pc]:[2,e[n]]}}))}))}Ct=Zt((function(){!function(e,t){if(void 0===t&&(t=150),"function"!=typeof window.requestIdleCallback)return setTimeout(e,t);var i=window.requestIdleCallback(e);setTimeout((function(){window.cancelIdleCallback(i),e()}),t)}(xn)}));var Rn=Object.freeze({__proto__:null,checkMainWebIframe:wn,checkMainWebIframeSync:_n,canUseSDKForPC:bn,simplePlatform:In,simpleSelect:En,getPlatformOS:xn,select:An,initPlatformCheck:Ct}),Pn=(Wt="showGiftPanel",jt=K.object({tabName:K.string().optional(),giftId:K.number().optional()}).merge(dt).optional(),Gt=K.object({giftId:K.string(),giftCount:K.number(),presenteeUid:K.number().optional(),forceAlert:K.string().optional(),alertKey:K.string().optional(),showPrompt:K.string().optional(),forceRecord:K.string().optional(),srcType:K.string().optional()}),(Mt={})[Wt]=en("HYGift",Wt,jt,{isUseSdk:!0}),Mt.sendGift=en("HYGift","sendGift",Gt,{isUseSdk:!0}),Mt),Ln={aSid:"",topSid:"",subSid:"",presenterId:0,presenterName:"",currentNickName:"",currentLogoUrl:"",currentUid:0,presenterLogoUrl:"",durationAfterJoinSuccess:0,gameId:"",subscribeState:0,isLiving:0},Mn={uid:ei("udb_uid")||0,nick:"",avatar:""},Dn=(Bt="HYLive",xt="getChannelIds",Vt="getTraceId",Lt="currentChannelInfo",wt="getJumpChannelInfo",At="joinChannel",It="leaveChannel",Tt="isFullScreen","setAudioMute"),Bn="getJoinMicUserList";je="getRefInfo",$e=dt.optional(),K.object({aSid:K.string(),topSid:K.string(),subSid:K.string(),presenterId:K.number(),presenterName:K.string(),currentNickName:K.string(),currentLogoUrl:K.string(),currentUid:K.number(),presenterLogoUrl:K.string(),durationAfterJoinSuccess:K.number(),gameId:K.string(),subscribeState:K.number(),isLiving:K.number()}),K.object({anchoruid:K.number(),channelid:K.number(),subchannelid:K.number(),presentername:K.string()}),K.object({isFullScreen:K.boolean()}),K.object({isMute:K.boolean()});var Nn,Un="kKWJSSdkEventIdApp",Fn=((ht={})[xt]=en(Bt,xt,$e),ht[Vt]=en(Bt,Vt),ht[je]=en(Bt,je),ht[Lt]=(Nn=en(Bt,Lt,$e,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i,r,s,l,u,d,p;return o(this,(function(h){switch(h.label){case 0:return i=function(t){return new Promise((function(i,r){var a=setTimeout((function(){r({message:"[currentChannelInfo] timeout",platformValue:t,errorCode:Ki.timeout})}),1e3);Nn(n(n({},e||{}),{complete:function(t){clearTimeout(a);var n=Jt(t);null!==(t=null==e?void 0:e.complete)&&void 0!==t&&t.call(e,n),i(n)}}))}))},r=function(t){return a(void 0,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:i=Ln,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,t()];case 2:return i=a.sent(),null!==(n=null==e?void 0:e.success)&&void 0!==n&&n.call(e,i),[3,5];case 3:return a.sent(),null!==(r=null==e?void 0:e.fail)&&void 0!==r&&r.call(e,i),[3,5];case 4:return null!==(r=null==e?void 0:e.complete)&&void 0!==r&&r.call(e,i),[7];case 5:return[2,i]}}))}))},s=function(e,t,i){var r;return e&&t&&i?n(n({},Ln),{aSid:e.id,topSid:e.channel,subSid:e.sid,presenterId:t.lp,presenterName:t.nick,currentNickName:null!==(r=i.userNick)&&void 0!==r?r:i.nick,currentLogoUrl:null!==(r=i.userLogo)&&void 0!==r?r:i.avatar,currentUid:i.uid,presenterLogoUrl:t.avatar,gameId:String(e.gid),subscribeState:0,isLiving:"ON"===e.state?1:0}):n({},Ln)},l=function(){return a(void 0,void 0,void 0,(function(){var e,t,i;return o(this,(function(n){switch(n.label){case 0:return e=window.TT_ROOM_DATA,t=window.TT_PROFILE_INFO,[4,new Promise((function(e){var t=null===(t=null===(t=window)||void 0===t?void 0:t.TT)||void 0===t?void 0:t.getUserInfo;if("function"!=typeof t)return e(Mn);var i=setTimeout((function(){e(Mn)}),1e3);t((function(t){clearTimeout(i),e(t)}))}))];case 1:return i=n.sent(),[2,s(e,t,i)]}}))}))},u=function(){return a(void 0,void 0,void 0,(function(){var e,t,i;return o(this,(function(n){switch(n.label){case 0:return[4,Promise.all([Xt(null,1e3,"RoomInfoReq","RoomInfoRes"),Xt(null,1e3,"RoomPresenterInfoReq","RoomPresenterInfoRes"),Xt(null,1e3,"UserInfoReq","UserInfoRes")])];case 1:return i=c.apply(void 0,[n.sent(),3]),e=i[0],t=i[1],i=i[2],[2,s(e,t,i)]}}))}))},d=function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,n({},Ln)]}))}))},p=function(){return new Promise((function(e,t){var i,n=window,r="pc_getChannelInfo_invoke_"+Date.now();n[r]=function(t){t=Jt(t),e(t)},null!==(i=n.external)&&void 0!==i&&i.getChannelInfo?null!==(n=n.external)&&void 0!==n&&n.getChannelInfo(r):t({errorCode:Ki.hasNotJSBridge,message:"[currentChannelInfo] PC客户端external内核，暂不支持HUYASdk调用",platformValue:"pc_exe_external"})}))},[4,An({app:t=function(){return Nn(e)},pc_exe:function(){return i("pc_exe")},pc_anchor:function(){return i("pc_anchor")},pc_exe_external:function(){return r(p)},main_web_inner:function(){return r(l)},main_web_iframe:function(){return r(u)},outer_mobile:function(){return r(d)},outer_pc:function(){return r(d)}})];case 1:return[2,(h.sent()||t)()]}}))}))}),ht[wt]=en(Bt,wt,$e,{isUseSdk:!0}),ht[At]=en(Bt,At,$e),ht[It]=en(Bt,It,$e),ht[Tt]=en(Bt,Tt,$e),ht[Dn]=en(Bt,Dn,$e),ht[Bn]=en(Bt,Bn),ht.on=Ze(Bt,"on"),ht.off=Ze(Bt,"off"),ht),On=(bt="HYLivingRoomActivity",kt="isActivityWindowExpanded",gt="expandActivityWindow","ACTIVITY_WINDOW_SIZE_CHANGED"),Hn=(Ft=K.object({expand:K.boolean()}),Rt=K.string().optional(),(_t={})[kt]=en(bt,kt,Rt,{isUseSdk:!0}),_t[gt]=en(bt,gt,Ft,{isUseSdk:!0}),_t.on=Ze(bt,"on"),_t.off=Ze(bt,"off"),_t),Gn="openurl_in_web",Vn="__kiwi_sdk_global_openurl_fn__";function Wn(e,t){var i=window[Vn];return"function"==typeof i?i(e):null==t?void 0:t()}function qn(e){if(!U())return Wn(e,(function(){window.parent.postMessage(JSON.stringify({type:Gn,data:e}),"*")}))}(Ot=Dr=Dr||{})[Ot.success=0]="success",Ot[Ot.paramError=1]="paramError",Ot[Ot.notFound=2]="notFound",Ot[Ot.defaultFail=3]="defaultFail",Ot[Ot.logicError=4]="logicError",Dr.defaultFail,Dr.success;var jn,zn,Yn,$n,Jn="HYRouter",Kn=(Nt="showExchange",Pt="showPrivileges",Ut="canOpenApp",Dt=K.object({type:K.string()}),vt=dt.extend({type:K.string(),needYYCoin:K.string(),nobleLevel:K.string(),nobleName:K.string(),transmitData:K.any(),needBackRefresh:K.boolean()}),Et=dt.extend({type:K.string(),needYYCoin:K.string(),guardLevelBefore:K.string(),guardLevel:K.string(),transmitData:K.any(),needBackRefresh:K.boolean(),month:K.string(),presenterUid:K.string(),presenterNick:K.string(),presenterYYId:K.string()}),K.object({url:K.string()})),Zn=(Ht=K.object({source:K.string(),data:K.any().optional()}).partial({source:!0}),St=dt.extend({appkey:K.string()}),qt=dt.optional(),(Wt={})[Nt]=en(Jn,Nt,Dt,{isUseSdk:!0}),Wt[Pt]=en(Jn,Pt,vt,{isUseSdk:!0}),Wt.showGuard=en(Jn,"showGuard",Et,{isUseSdk:!0}),Wt.openUrl=(jn=function(e){var t=en(Jn,"openUrl",Kn,{isUseSdk:!0});return qn(e),t(e)},function(e){return a(void 0,void 0,void 0,(function(){var t,i,n,r,a,s;return o(this,(function(o){switch(o.label){case 0:return i=function(e){return Wn(e,(function(){return window.open(e.url)}))},n=function(e){return-1!==e.indexOf("www")&&-1!==e.indexOf(".huya.com")},r=function(e){return-1!==e.indexOf("m.huya.com")},a=function(e){return-1!==e.indexOf("hyaction=")},s=function(e){return(n(e)||r(e))&&a(e)},[4,An({app:t=function(){return jn(e)},pc_exe:t,pc_exe_external:function(){var t,n;return"function"==typeof(null===(t=null===(t=window)||void 0===t?void 0:t.external)||void 0===t?void 0:t.openGameURL)?null===(n=null===(n=window)||void 0===n?void 0:n.external)||void 0===n?void 0:n.openGameURL(e.url):"function"==typeof(null===(n=null===(n=window)||void 0===n?void 0:n.external)||void 0===n?void 0:n.webJumpUrlCallback)?null===(n=null===(n=window)||void 0===n?void 0:n.external)||void 0===n?void 0:n.webJumpUrlCallback(e.url,!0,!1):i(e)},pc_anchor:t,main_web_inner:function(){return qn(e)},main_web_iframe:function(){return qn(e)},outer_mobile:function(){if(s(e.url))return ti({url:encodeURIComponent(e.url)});i(e)},outer_pc:function(){if(s(e.url))return ti({url:encodeURIComponent(e.url)});i(e)}})];case 1:return[2,(o.sent()||t)()]}}))}))}),Wt.quit=en(Jn,"quit",Ht,{isUseSdk:!0}),Wt[Ut]=en(Jn,Ut,St,{isUseSdk:!0}),Wt.goBack=en(Jn,"goBack",qt,{isUseSdk:!0}),Wt),Xn=Zt((function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,Qt((function(){return new Promise((function(e,t){Yt("https://hd2.huya.com/fedbasic/huyafed/taf-api/index.umd.0.4.0.min.js",(function(){return window.hyTafApi?void e(window.hyTafApi):t(new Error("taf-api not loaded"))}))}))}),"fetchTafApi")]}))}))})),Qn={imid:0,uid:0,status:"",udbToken:"",ticketType:"",avatarUrl:"",sex:"",name:"",sign:"",userLevel:0,userCurrentExp:0,nextLeveExp:0,dailyExp:0,nobleInfo:{isNoble:!1,uid:0,validDate:0,nobleName:"",nobleLevel:0,nobleNick:"",channelInfo:{tid:"",sid:"",pid:0,presenterNick:"",isGuard:!1,guardLevel:0,isFans:!1,fansLevel:0,fansName:""}}},er=(jt="HYUserInfo",Gt="getCurrentUserInfo",Mt="getMyPresenterInfo",xt=dt.optional(),(Vt={})[Gt]=(zn=en(jt,Gt,xt,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i,r,s;return o(this,(function(l){switch(l.label){case 0:return i=function(t){return a(void 0,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:i=Qn,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,t()];case 2:return i=a.sent(),null!==(n=null==e?void 0:e.success)&&void 0!==n&&n.call(e,i),[3,5];case 3:return a.sent(),null!==(r=null==e?void 0:e.fail)&&void 0!==r&&r.call(e,i),[3,5];case 4:return null!==(r=null==e?void 0:e.complete)&&void 0!==r&&r.call(e,i),[7];case 5:return[2,i]}}))}))},r=function(){return a(void 0,void 0,void 0,(function(){var e,t,i;return o(this,(function(r){switch(r.label){case 0:if(!(i=null==$?void 0:$.getConfig()).tafApiConfig)return[2,Qn];if(e=ei("udb_uid"),!Number(e))return[2,Qn];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,Xn()];case 2:return(t=r.sent()).configure(i.tafApiConfig),[4,Promise.all([t.getUserProfile({lUid:e}),t.GetNobleInfo({lUid:e})])];case 3:return i=c.apply(void 0,[r.sent(),2]),t=i[0],i=i[1],[2,n(n({},Qn),{imid:t.tUserProfile.tUserBase.lYYId,uid:e,udbToken:ei("udb_biztoken")||"",status:"ok",avatarUrl:t.tUserProfile.tUserBase.sAvatarUrl,sex:String(t.tUserProfile.tUserBase.iGender),name:t.tUserProfile.tUserBase.sNickName,sign:t.tUserProfile.tUserBase.sSign,userLevel:t.tUserProfile.tUserBase.iUserLevel,userCurrentExp:Number(t.tUserProfile.tUserBase.lUserExp),nobleInfo:n(n({},Qn.nobleInfo),{isNoble:1!==i.tInfo.iNobleStatus,nobleName:i.tInfo.sNobleName,nobleLevel:i.tInfo.iNobleLevel,nobleNick:t.tUserProfile.tUserBase.sNickName,uid:e,validDate:Number(i.tInfo.lValidDate)})})];case 4:return r.sent(),[2,Qn];case 5:return[2]}}))}))},[4,An({app:t=function(){return zn(e)},pc_exe:t,pc_exe_external:s=function(){return i(r)},pc_anchor:t,main_web_inner:s,main_web_iframe:s,outer_mobile:s,outer_pc:s})];case 1:return[2,(l.sent()||t)()]}}))}))}),Vt[Mt]=en(jt,Mt,xt,{isUseSdk:!0}),Vt.getUserId=en(jt,"getUserId",xt,{isUseSdk:!0}),Vt),tr=(je="HYLogin",Lt="isThirdPartyLogin",wt="thirdAuthorize",At="getCarrierPhoneNumber",It="getCarrierAuthorization",Tt=dt.optional(),Dn=K.object({type:K.number().optional()}).optional(),"loginSuccess"),ir="loginFailed",nr="kickOff",rr=(($e={})[Lt]=en(je,Lt,Tt,{isUseSdk:!0}),$e.isLogin=($n=en(je,"isLogin",Tt,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i,n,r,s;return o(this,(function(c){switch(c.label){case 0:return i=function(t){return a(void 0,void 0,void 0,(function(){var i,n,r;return o(this,(function(a){switch(a.label){case 0:i={isLogin:!1},a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,t()];case 2:return n=a.sent(),i.isLogin=n,null!==(n=null==e?void 0:e.success)&&void 0!==n&&n.call(e,i),[3,5];case 3:return a.sent(),null!==(r=null==e?void 0:e.fail)&&void 0!==r&&r.call(e,i),[3,5];case 4:return null!==(r=null==e?void 0:e.complete)&&void 0!==r&&r.call(e,i),[7];case 5:return[2,i]}}))}))},n=function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,0<Number(ei("udb_uid"))]}))}))},r=function(){return a(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,(i=er,a(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e){var t=setTimeout((function(){e({uid:0,udbToken:""})}),1e3);i.getCurrentUserInfo({complete:function(i){clearTimeout(t),i={uid:(i=Jt(i)).uid,udbToken:i.udbToken},e(i)}})}))]}))})))];case 1:return e=t.sent(),[2,0<Number(null==e?void 0:e.uid)]}var i}))}))},s=function(){return a(void 0,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,Xt(null,1e3,"UserInfoReq","UserInfoRes")];case 1:return e=t.sent(),[2,0<Number(null==e?void 0:e.uid)]}}))}))},[4,An({app:t=function(){return $n(e)},pc_exe:function(){return i(r)},pc_exe_external:function(){return a(void 0,void 0,void 0,(function(){var e,t;return o(this,(function(r){switch(r.label){case 0:return"function"!=typeof(null===(t=null===(t=window)||void 0===t?void 0:t.external)||void 0===t?void 0:t.isLogin)?[3,2]:[4,null===(t=null===(t=window)||void 0===t?void 0:t.external)||void 0===t?void 0:t.isLogin()];case 1:return e=r.sent(),[2,i((function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,e]}))}))}))];case 2:return[2,i(n)]}}))}))},pc_anchor:t,main_web_inner:function(){return i(n)},main_web_iframe:function(){return i(s)},outer_mobile:function(){return i(n)},outer_pc:function(){return i(n)}})];case 1:return[2,(c.sent()||t)()]}}))}))}),$e.logout=en(je,"logout",Tt,{isUseSdk:!0}),$e.showLogin=(Yn=en(je,"showLogin",Dn,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i,n;return o(this,(function(r){switch(r.label){case 0:return[4,An({app:t=function(){return Yn(e)},pc_exe:t,pc_exe_external:function(){var e;return"function"==typeof(null===(e=null===(e=window)||void 0===e?void 0:e.external)||void 0===e?void 0:e.showLogin)?null===(e=null===(e=window)||void 0===e?void 0:e.external)||void 0===e?void 0:e.showLogin():t()},pc_anchor:t,main_web_inner:i=function(){var e;return null===(e=null===(e=window)||void 0===e?void 0:e.TT)||void 0===e?void 0:e.login.login()},main_web_iframe:function(){return Xt(null,5e3,"RoomLoginReq","RoomLoginRes")},outer_mobile:n=function(){var e=((void 0===(null==(e=null==$?void 0:$.getConfig())?void 0:e.isTestEnv)?-1!==window.location.host.indexOf("test"):null==e?void 0:e.isTestEnv)?"https://aq-test.huya.com/m/login.html":"https://aq.huya.com/m/login.html")+"?redirect="+encodeURIComponent(window.location.href);return window.location.replace(e)},outer_pc:function(){var e;return(null!==(e=null===(e=window)||void 0===e?void 0:e.TT)&&void 0!==e&&e.login.login?i:n)()}})];case 1:return[2,(r.sent()||t)()]}}))}))}),$e[wt]=en(je,wt,Dn,{isUseSdk:!0}),$e[At]=en(je,At,Tt,{isUseSdk:!0}),$e[It]=en(je,It,Tt,{isUseSdk:!0}),$e.on=Ze(je,"on"),$e.off=Ze(je,"off"),$e),ar=K.object({needUdbCookie:K.boolean().optional(),url:K.string(),title:K.string().optional()}),or={jump:function(e){if(e){var t=ar.safeParse(e);if(!t.success){var i=$t(t.error);return console.error(i),{success:!1,error:i}}}i=e.url,e.needUdbCookie&&(i=u.versions.android?encodeURIComponent(e.url):e.url,i="https://lgn.huya.com/lgn/jump/authentication.do?ticket=&appid=5060&busiId=&busiUrl="+encodeURIComponent(i)+"&yyuid=&reqDomainList=huya.com&action=authenticate"),i="http://kiwijs.jump.huya.com/?jumpTitle="+encodeURIComponent(e.title||"")+"&jumpUrl="+encodeURIComponent(i),location.href=i},show:function(){window.performanceInfo&&(window.performanceInfo.callshow=+new Date),(window.top&&window.self!=window.top?window.top:window).KiwiJSBridge?vn.getAppInfo({complete:function(e){e.appVersion&&0<=p.versionCompare(e.appVersion,"5.10.0")?null!=$&&$.JSBridge.invoke("show",{},{}):location.href="http://kiwijs.domready.huya.com/"}}):location.href="http://kiwijs.domready.huya.com/"}};function sr(){var e=this;this._nativeEventListeners=new Map,this._callback=function(t){e._dispatchEvent(t)}}function cr(e,t,i,n){(ai.HYNativeEventCenter&&ai.HYNativeEventCenter[e]?li:pr)[e](t,i,n)}function lr(){}function ur(e){dr.removeChild(e)}var dr,pr=new(sr.prototype.addEventListener=function(e,t,i){var n;e&&t&&i&&(this._addEventEmitterListenerIfNeed(),(n=this._nativeEventListeners.get(t))||($.JSBridge.invoke("addEventListener",{eventName:t}),n=new Map,this._nativeEventListeners.set(t,n)),n.set(e,i))},sr.prototype.removeEventListener=function(e,t){var i;e&&t&&((i=this._nativeEventListeners.get(t))&&(i.delete(e),0==i.size&&(this._nativeEventListeners.delete(t),$.JSBridge.invoke("removeEventListener",{eventName:t}))),this._removeEventEmitterListenerIfNeed())},sr.prototype.clearEventListener=function(e){var t,i;if(e){var n=[];try{for(var r=s(this._nativeEventListeners.keys()),a=r.next();!a.done;a=r.next()){var o=a.value,c=this._nativeEventListeners.get(o);c&&0<c.size&&(c.delete(e),0==c.size&&n.push(o))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}for(var l=0;l<n.length;l++)o=n[l],this._nativeEventListeners.delete(o),$.JSBridge.invoke("removeEventListener",{eventName:o})}},sr.prototype.clearAllListener=function(){var e=this;this._nativeEventListeners.forEach((function(t,i){e._nativeEventListeners.delete(i),$.JSBridge.invoke("removeEventListener",{eventName:i})}))},sr.prototype.postEventToNative=function(e,t){$.JSBridge.invoke("postEvent",{eventName:e,userInfo:t})},sr.prototype._addEventEmitterListenerIfNeed=function(){0==this._nativeEventListeners.size&&$.JSBridge.on("nativeEvent",{},this._callback)},sr.prototype._removeEventEmitterListenerIfNeed=function(){0==this._nativeEventListeners.size&&$.JSBridge.off("nativeEvent",{},this._callback)},sr.prototype._dispatchEvent=function(e){var t,i,n=e.name,r=e.params,a=this._nativeEventListeners.get(n);if(a)try{for(var o=s(a.keys()),c=o.next();!c.done;c=o.next()){var l=c.value;(l=a.get(l))&&l(r)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}},sr),hr=(Bn="HYNativeEventCenter","addEventListener"),fr="removeEventListener",mr="clearEventListener",vr="clearAllListener",gr=K.any(),yr=((Bt={})[hr]=function(e,t,i){var n=gr.safeParse(e),r=null;if(r||n.success||(r=$t(n.error,"HYNativeEventCenter.addEventListener")),r)return console.error(r),{success:!1,error:r};cr(hr,e,t,i)},Bt[fr]=function(e,t){return cr(fr,e,t)},Bt[mr]=function(e){return cr(mr,e)},Bt[vr]=function(){return cr(vr)},Bt.postEventToNative=function(e,t){(ai.HYNativeEventCenter&&ai.HYNativeEventCenter.postEvent?li:pr).postEventToNative(e,t)},Bt.on=Ze(Bn,"on"),Bt.off=Ze(Bn,"off"),Bt),_r={addEventListener:function(e,t,i){var n;"function"==typeof t&&(i=t,t={}),(t=t||{}).useContextByDefault=$.useContextByDefault,t.useProcolByDefault=$.useProcolByDefault,t.usePostMessageByDefault=$.usePostMessageByDefault,e==$.EVENT_ID.WUP_TRANSMIT&&(n=i,i=function(e){var t,i;e.data&&(e.data=$.Utils.base64ToArrayBuffer(e.data)),e.subUri&&1e4==e.subUri?(t=e.userInfo.__wupBridgeRequestId,(i=$.wupRequstMap[t])&&$.handleResponse($.EVENT_ID.WUP_TRANSMIT,e,i),n&&n(e),$.wupRequstMap[t]=null):n&&n(e)}),$.JSBridge.on(e,t,i)},removeEventListener:function(e){var t={};t.useContextByDefault=$.useContextByDefault,t.useProcolByDefault=$.useProcolByDefault,t.usePostMessageByDefault=$.usePostMessageByDefault,$.JSBridge.off(e,t)}},wr="hy-toast-container-id",Sr={},br=0;lr.show=function(e,t){var i;void 0===t&&(t=2e3),(dr=dr||document.getElementById(wr))||((dr=document.createElement("div")).id=wr,dr.classList.add("hy-toast-container"),document.body.appendChild(dr),i=document.createElement("style"),document.body.appendChild(i),i.innerHTML="\n      .hy-toast-container {\n        position: fixed;\n        z-index: 9999;\n        top: 30vh;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        margin: 0 40px;\n      }\n      .hy-toast-container .hy-toast-content {\n        background: rgba(0, 0, 0, 0.6);\n        border-radius: 4px;\n        min-width: 100px;\n        min-height: 36px;\n        color: #fff;\n        font-style: normal;\n        font-weight: 500;\n        font-size: 14px;\n        line-height: 18px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        margin-top: 12px;\n        padding: 8px 12px;\n        box-sizing: border-box;\n        word-break: break-all;\n      }\n      .hy-toast-container .hy-toast-content:first-child {\n        margin-top: 0;\n      }");var n=document.createElement("div");n.classList.add("hy-toast-content"),n.textContent=e,dr.appendChild(n);var r=br++,a=setTimeout((function(){ur(n),delete Sr[r]}),t);Sr[r]={clear:function(){clearTimeout(a),ur(n),delete Sr[r]}}},lr.hide=ur,lr.hideAll=function(){Object.keys(Sr).forEach((function(e){var t;return null===(e=null===(t=Sr[e])||void 0===t?void 0:t.clear)||void 0===e?void 0:e.call(t)}))},lr.show1=function(e,t){void 0===t&&(t=2e3),lr.hideAll(),lr.show(e,t)},ht=K.object({message:K.string()});var Ir,Er=((kt={}).showToast=(Ir=en("HYToast","showToast",ht,{isUseSdk:!0}),function(e){return a(void 0,void 0,void 0,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,An({app:t=function(){return Ir(e)},pc_exe:i=function(){null!=e&&e.message&&lr.show1(null==e?void 0:e.message)},pc_exe_external:i,pc_anchor:i,main_web_inner:i,main_web_iframe:i,outer_mobile:i,outer_pc:i})];case 1:return(n.sent()||t)(),[2]}}))}))}),kt),Tr=(Rt="HYCache",gt="clearCache",Ft="removeCache",bt=dt.extend({key:K.string(),value:K.string()}),_t=dt.optional(),Ot=dt.extend({key:K.string()}),(Dr={}).addCache=en(Rt,"addCache",bt,{isUseSdk:!0}),Dr[gt]=en(Rt,gt,_t,{isUseSdk:!0}),Dr.getCache=en(Rt,"getCache",Ot,{isUseSdk:!0}),Dr.hasCache=en(Rt,"hasCache",Ot,{isUseSdk:!0}),Dr[Ft]=en(Rt,Ft,Ot,{isUseSdk:!0}),Dr),kr=(Nt="HYDiskConfig",Dt="removeConfig",Pt=dt.extend({key:K.string(),value:K.string()}),vt=dt.extend({key:K.string()}),(Et={}).addConfig=en(Nt,"addConfig",Pt,{isUseSdk:!0}),Et.getConfig=en(Nt,"getConfig",vt,{isUseSdk:!0}),Et[Dt]=en(Nt,Dt,vt,{isUseSdk:!0}),Et),Cr=(Ht="getTipOffPicture",Ut=dt.optional(),(St={})[Ht]=en("HYTipOff",Ht,Ut),St),xr="HYShare",Ar="setShareInfo";qt="setIEGSceneData",dt.optional(),Wt=1,Gt=2,Mt=3,jt=4,xt=5,Vt=6,K.union([K.literal(Wt),K.literal(Gt),K.literal(Mt),K.literal(jt),K.literal(xt),K.literal(Vt)]);var Rr=K.object({url:K.string().optional(),isShow:K.union([K.boolean(),K.string()]),title:K.string().optional(),content:K.string().optional(),shareUrl:K.string().optional(),imageUrl:K.string().optional(),imageData:K.string().optional(),mediaType:K.union([K.string(),K.number()]).optional(),miniprogramUrl:K.string().optional()}),Pr=(Lt=K.object({platform:K.string(),title:K.string().optional(),content:K.string().optional(),shareUrl:K.string().optional(),imageUrl:K.string().optional(),imageData:K.string().optional(),mediaType:K.union([K.string(),K.number()]).optional(),miniprogramUrl:K.string().optional(),isShareImage:K.boolean().optional(),needRequestShareUrl:K.boolean().optional()}),wt=K.object({gameID:K.string(),subSceneName:K.string(),sceneName:K.string(),sceneId:K.string(),gameAppid:K.string()}),(Dn={})[Ar]=function(e){var t=e.isShow,i=r(e,["isShow"]);return e=t,e=u.versions.ios?(+t).toString():Boolean(+t),en(xr,Ar,Rr,{isUseSdk:!0})(n(n({},i),{isShow:e}))},Dn[qt]=en(xr,qt,wt),Dn.shareTo=en(xr,"shareTo",Lt,{isUseSdk:!0}),Dn),Lr=(At="HYSubscribe",It="subscribePresenter",Tt="unSubscribePresenter",je=dt.extend({uid:K.string()}),($e={})[It]=en(At,It,je,{isUseSdk:!0}),$e[Tt]=en(At,Tt,je,{isUseSdk:!0}),$e),Mr=(Bn="sendFeedBack",Bt=dt.extend({content:K.string(),typeId:K.string().optional(),typeName:K.string(),picUrls:K.string().optional(),contact:K.string().optional(),needProgress:K.string().optional()}),(ht={})[Bn]=en("HYFeedBack",Bn,Bt,{isUseSdk:!0}),ht),Dr=(kt="HYDownload",bt="getAppDownloadInfo",gt="startDownload",_t="startBatchDownload",Rt="pauseDownload",Ft="pauseAllDownload",Ot="cancelDownLoad","cancelAllDownload"),Br=(Pt="shareAssistFinish",Nt="getGameResDownloadInfo",Dt="gameResStartDownload",vt="gameResPauseDownload",Et="getGameMonitorInfo",Ht="reportAppInstallState",Ut="isYybCloudGame",St="launchYybCloudGame",Wt="getInstalledGameInfo",Gt=dt.optional(),Mt=dt.extend({packageName:K.string(),gameId:K.union([K.number(),K.string()]),adrPackageName:K.string().optional(),url:K.string(),fileMd5:K.string().optional(),name:K.string().optional(),versionCode:K.union([K.number(),K.string()]).optional()}),jt=dt.extend({packageName:K.string().optional(),gameId:K.union([K.number(),K.string()]),adrPackageName:K.string().optional(),fromId:K.string(),fileMd5:K.string().optional(),url:K.string(),extra:K.any().optional(),name:K.string().optional(),actid:K.string(),anchoruid:K.string().optional(),type:K.string(),gameIcon:K.string(),versionCode:K.union([K.number(),K.string()]).optional(),joint:K.union([K.number(),K.string()]).optional(),shareAssistUrl:K.string().optional(),assist_desc:K.string().optional(),action_btn_desc:K.string().optional(),chid:K.union([K.number(),K.string()]).optional(),superuseruid:K.union([K.number(),K.string()]).optional(),download_user_type:K.union([K.number(),K.string()]).optional(),tagtype:K.union([K.number(),K.string()]).optional(),traceid:K.string().optional(),ext_fromid:K.string().optional(),cur_fromid:K.string().optional(),launchcloud:K.number().optional(),autoDownload:K.number().optional(),vid:K.string().optional(),post:K.string().optional()}),xt=K.object({downloadGameList:K.string()}),Vt=dt.extend({url:K.string(),actid:K.string(),anchoruid:K.string(),gameId:K.union([K.number(),K.string()]),adrPackageName:K.string().optional(),packageName:K.string()}),qt=dt.extend({packageName:K.string()}),wt=dt.extend({adrPackageName:K.string().optional(),packageName:K.string(),name:K.string(),gameId:K.union([K.number(),K.string()]),joint:K.union([K.number(),K.string()]).optional(),url:K.string(),fromId:K.string().optional(),versionCode:K.number().optional()}),Lt=dt.extend({url:K.string(),gameId:K.union([K.number(),K.string()]),adrPackageName:K.string().optional(),packageName:K.string()}),Dn=dt.extend({shareAssistUrl:K.string()}),It=K.object({packageName:K.string(),gameId:K.union([K.number(),K.string()]),url:K.string(),fileMd5:K.string(),name:K.string(),gameIcon:K.string(),versionCode:K.union([K.number(),K.string()])}),At=It.extend({type:K.string()}),Tt=K.object({gameId:K.union([K.number(),K.string()]),url:K.string()}),je=K.object({gameId:K.number()}),$e=jt.extend({reservetype:K.number().optional(),scene:K.string().optional()}),Bn=K.object({packageName:K.string(),gameName:K.string(),gameId:K.string()}),Bt=K.object({gameid:K.string()}),"INSTALL_APK_EVENT_CHANGED"),Nr=((ht={})[bt]=en(kt,bt,Mt,{isUseSdk:!0}),ht[gt]=en(kt,gt,jt,{isUseSdk:!0}),ht[_t]=en(kt,_t,xt),ht[Rt]=en(kt,Rt,Vt,{isUseSdk:!0}),ht[Ft]=en(kt,Ft,Gt,{isUseSdk:!0}),ht.startApp=en(kt,"startApp",qt,{isUseSdk:!0}),ht[Ot]=en(kt,Ot,Lt,{isUseSdk:!0}),ht[Dr]=en(kt,Dr,Gt,{isUseSdk:!0}),ht.intallApk=en(kt,"intallApk",wt,{isUseSdk:!0}),ht[Pt]=en(kt,Pt,Dn,{isUseSdk:!0}),ht[Nt]=en(kt,Nt,It),ht[Dt]=en(kt,Dt,At),ht[vt]=en(kt,vt,Tt),ht[Ut]=en(kt,Ut,je),ht[St]=en(kt,St,$e),ht[Et]=en(kt,Et),ht[Ht]=en(kt,Ht,Bn),ht[Wt]=en(kt,Wt,Bt),ht.on=Ze(kt,"on"),ht.off=Ze(kt,"off"),ht),Ur=function(e){return new Promise((function(t){return nn(0,"getInfo",{type:e,complete:t})}))},Fr={appInfo:{token:"",authorInfo:""},ready:function(e){return a(this,void 0,void 0,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return(t=this.appInfo).token?[3,2]:[4,Ur(1)];case 1:0===(i=n.sent()).code&&(t.token=i.data,this.appInfo.token=i.data),n.label=2;case 2:return t.authorInfo?[3,4]:[4,Ur(3)];case 3:0===(i=n.sent()).code&&(t.authorInfo=i.data,this.appInfo.authorInfo=i.data),n.label=4;case 4:return e&&e(t),[2]}}))}))},showLogin:function(){rr.showLogin()},jumpToWebView:function(e){!function(e){nn(0,"processUrl",{url:e})}(e)},share:function(e){var t={title:"",url:location.href,content:"",callbackName:"",type:"sinaweibo"};p.shallowExtend(t,e),window.location.href="http://kiwijs.share.huya.com/?shareUrl="+encodeURIComponent(t.url)+"&shareTitle="+t.title+"&shareContent="+t.content+"&shareCallback="+t.callbackName+"&shareType="+t.type}},Or=(Dn="eventReport",Nt="statisticReport",It=dt.extend({event:K.any().optional()}),Dt=dt.extend({event:K.any().optional(),type:K.string()}),(At={})[Dn]=en("HYReport",Dn,It,{isUseSdk:!0}),At[Nt]=en("HYReport",Nt,Dt,{isUseSdk:!0}),At),Hr=(vt="turnoffAAID",Tt="queryAAIDStatus",Ut=dt.optional(),je=dt.extend({turnoff:K.boolean()}).optional(),(St={})[vt]=en("HYAAID",vt,je),St[Tt]=en("HYAAID",Tt,Ut),St),Gr=($e="getAdDeviceInfo",Et="updateSplashCanShake",Ht=dt.optional(),Bn=K.object({canShake:K.boolean()}),(Wt={})[$e]=en("HYAd",$e,Ht),Wt[Et]=en("HYAd",Et,Bn),Wt),Vr=(Bt="HYAdReport",kt="landingClick",ht="landingExposure",Dn="taskCenterExposureAd",It="taskCenterClickAd",Nt="ztReportShow",Dt="ztReportClick",At="ztReportAction",vt="ztPresentAppStore",je="ztAfterPage",Tt="ztSetIegPageType",Ut=K.object({HYAdWebReportSdkConf:K.string(),HYAdWebReportEnv:K.any()}),St=K.object({HYAdWebReportSdkConf:K.string()}),$e=K.object({sdkConf:K.string()}),Ht=K.union([K.object({url:K.string()}),K.record(K.union([K.string(),K.number()])).and(K.object({pageName:K.string(),pageType:K.number()}))]),Et=K.object({sceneId:K.number().optional(),scene:K.number().optional(),subScene:K.number().optional(),gameAppid:K.string().optional(),afterPage:K.string().optional(),appStoreLink:K.string().optional(),actionType:K.number().optional(),sceneName:K.string().optional(),subSceneName:K.string().optional(),gameID:K.number().optional()}),Bn=K.object({type:K.number()}),(Wt={})[kt]=en(Bt,kt,Ut),Wt[ht]=en(Bt,ht,St),Wt[Dn]=en(Bt,Dn,$e),Wt[It]=en(Bt,It,$e),Wt[Nt]=en(Bt,Nt,Et),Wt[Dt]=en(Bt,Dt,Et),Wt[At]=en(Bt,At,Et),Wt[vt]=en(Bt,vt,Et),Wt[je]=en(Bt,je,Ht),Wt[Tt]=en(Bt,Tt,Bn),Wt),Wr=(Dn="HYAudioRecord",It="startAudioRecord",$e="stopAudioRecord",Nt="cancelAudioRecord",Dt=dt.optional(),"AUDIO_RECORD_END"),qr=((At={})[It]=en(Dn,It,Dt,{isUseSdk:!0}),At[$e]=en(Dn,$e,Dt,{isUseSdk:!0}),At[Nt]=en(Dn,Nt,Dt,{isUseSdk:!0}),At.on=Ze(Dn,"on"),At.off=Ze(Dn,"off"),At),jr=(vt="HYAuth",Et="startWBFaceVerify",je="startWBFaceVerifyV2",Ht="startWBFaceVerifyFaceId",Bt="getCommonParam",Tt="getLoginedToken",Bn="startAliPayFaceVerifyFaceId",Wt="getBindMobileParam",$e=(It=dt.extend({sign:K.string(),sSign:K.string(),mode:K.union([K.string(),K.number()]).optional(),nonce:K.string(),orderNo:K.string(),version:K.string(),wbAppId:K.string(),name:K.string(),idNum:K.string()})).extend({userId:K.string()}),Nt=dt.extend({sSign:K.string(),sign:K.string(),faceId:K.string(),nonce:K.string(),mode:K.union([K.string(),K.number()]).optional(),orderNo:K.string(),userId:K.union([K.string(),K.number()]).optional(),version:K.string(),wbAppId:K.string()}),Dt=K.object({certifyUrl:K.string()}),Dn=K.object({index:K.number()}),(At={})[Et]=en(vt,Et,It,{isUseSdk:!0}),At[je]=en(vt,je,$e,{isUseSdk:!0}),At[Ht]=en(vt,Ht,Nt,{isUseSdk:!0}),At[Bt]=en(vt,Bt),At[Tt]=en(vt,Tt),At.hasAliPay=en(vt,"hasAliPay"),At.uploadPic=en(vt,"uploadPic"),At[Wt]=en(vt,Wt),At.jumpPage=en(vt,"jumpPage",Dn),At[Bn]=en(vt,Bn,Dt,{isUseSdk:!0}),At),zr=($e="HYAuthorization",Ht="requestAuthorization",Nt="isAuthorization",Bt="authorization",Tt=K.object({authKey:K.string()}),(Wt={})[Ht]=en($e,Ht,Tt),Wt[Nt]=en($e,Nt,Tt),Wt[Bt]=en($e,Bt,Tt),Wt),Yr=(Dn="HYCommodity",vt="sendCommodityInfo",Bn="dismissView",Dt=dt.optional(),At=K.object({param:K.array(K.object({spuId:K.string(),imageUrl:K.string(),name:K.string(),platform:K.string().optional(),minPrice:K.number().optional(),maxPrice:K.number().optional(),marketPrice:K.number().optional()})).optional()}),(Ht={})[vt]=en(Dn,vt,At),Ht[Bn]=en(Dn,Bn,Dt),Ht),$r=(Nt="HYDynamicConfig",$e="hasClientConfigForServer",Bt="getDynamicConfig",Tt=dt.optional(),Wt=K.object({key:K.string()}),(vt={})[$e]=en(Nt,$e,Tt),vt[Bt]=en(Nt,Bt,Wt),vt),Jr=(At="HYFreeFlow",Dn="operationCompleted",Bn=dt.extend({resp:K.object({code:K.number(),product:K.string(),phone:K.string().optional(),ip:K.string(),txwangka:K.string(),albaoka:K.string()}).optional()}).optional(),(Dt={})[Dn]=en(At,Dn,Bn,{isUseSdk:!0}),Dt.getImsi=en(At,"getImsi"),Dt),Kr=(Ht="HYInteraction",$e="getInteractiveComData",Tt="currentInteractionInfo",Nt=dt.optional(),(Bt={})[$e]=en(Ht,$e,Nt,{isUseSdk:!0}),Bt[Tt]=en(Ht,Tt,Nt),Bt.on=Ze(Ht,"on"),Bt.off=Ze(Ht,"off"),Bt),Zr=(Wt="HYLiveFilmVip",vt="getFilmVipProductList",Dn="buyFilmVipProduct",Bn=dt.optional(),(At={})[vt]=en(Wt,vt,Bn,{isUseSdk:!0}),At[Dn]=en(Wt,Dn,Bn,{isUseSdk:!0}),At),Xr=(Dt="handleAwardBoxPrize",$e=K.object({taskId:K.number()}),(Tt={})[Dt]=en("HYLiveTreasureBox",Dt,$e),Tt),Qr=(Nt="updateScrollTop",Ht=dt.extend({url:K.string(),scroll_top:K.boolean()}).optional(),(Bt={})[Nt]=en("HYNestedScroll",Nt,Ht),Bt),ea=(vt="setPopupLayout",Wt="dismissPopup",Dn=dt.extend({x:K.number(),y:K.number(),width:K.number(),height:K.number(),alpha:K.number().optional(),visible:K.boolean().optional()}).optional(),Bn=dt.optional(),(At={})[vt]=en("HYPanel",vt,Dn),At[Wt]=en("HYPanel",Wt,Bn),At),ta=(Dt="getIAPProductListWithName",$e="buyIAPProductWithParams",Tt=dt.extend({productlistname:K.string()}),Nt=dt.extend({buyWay:K.string(),appId:K.string(),name:K.string(),price:K.string(),product_id:K.string(),payAddInfo:K.string().optional()}),(Ht={})[Dt]=en("HYPay",Dt,Tt,{isUseSdk:!0}),Ht[$e]=en("HYPay",$e,Nt,{isUseSdk:!0}),Ht),ia=(Bt=dt.optional(),(vt={}).micOpen=en("HYPlayer","micOpen",Bt,{isUseSdk:!0}),vt.micClose=en("HYPlayer","micClose",Bt,{isUseSdk:!0}),vt),na=(Dn="HYSaveInAlbum",Wt="saveImageToPhotosAlbum",Bn="saveVideoToPhotosAlbum",At=K.object({imgData:K.string()}).optional(),Dt=K.object({url:K.string()}).optional(),(Tt={})[Wt]=en(Dn,Wt,At,{isUseSdk:!0}),Tt[Bn]=en(Dn,Bn,Dt,{isUseSdk:!0}),Tt),ra=($e="HYSettingBack",Nt="setCanBack",Ht=K.object({flag:K.boolean()}),"TAP_BACK"),aa=((Bt={})[Nt]=en($e,Nt,Ht,{isUseSdk:!0}),Bt.on=Ze($e,"on"),Bt.off=Ze($e,"off"),Bt),oa=(vt="HYSettingsData",Wt="getStringValueForKey",At="setStringValue",Dn=K.object({key:K.string()}),Bn=K.object({key:K.string(),value:K.string()}),(Dt={})[Wt]=en(vt,Wt,Dn),Dt[At]=en(vt,At,Bn),Dt),sa=(Tt="HYStatistic",Nt="setRefInfo",Ht=K.object({event:K.string(),prop:K.any(),location:K.string().optional()}),$e=K.object({name:K.string(),viewType:K.union([K.literal(0),K.literal(1),K.literal(2)])}),(Bt={}).report=en(Tt,"report",Ht),Bt[Nt]=en(Tt,Nt,$e),Bt),ca=(Wt="HYSuperFans",Dn="openSuperFansPage",vt="hideInteractionPanel",At=dt.optional(),(Bn={})[Dn]=en(Wt,Dn,At),Bn[vt]=en(Wt,vt,At),Bn),la=(Dt="notifyUserTeamMedalInfo",Ht=K.object({opt:K.union([K.literal(1),K.literal(2),K.literal(3)]).optional(),object:K.any()}).optional(),(Tt={})[Dt]=en("HYTeamMedal",Dt,Ht),Tt),ua=(Nt="joinGangup",$e=dt.extend({openId:K.string().optional(),token:K.string().optional(),roomId:K.string().optional(),accType:K.string().optional(),platform:K.string().optional()}),en("HYThirdCall",Nt,$e)),da=((Bt={})[Nt]=function(e){var t=n({},e);return e&&(Object.keys(t).forEach((function(e){0<=["openId","token","roomId","accType"].indexOf(e)&&t[e]&&(t[e]=t[e].toString())})),t.platform="5"),ua(t)},Bt),pa=(Dn="HYUdb",Wt="HYUDBMSDKQUrlCommon",vt="HYUDBMSDKCallback",At="HYUDBMSDKClose",Bn="HYUDBMSDKCommon",Dt="HYUDBMSDKVersion",Ht=K.object({}).optional(),Tt=K.object({type:K.string(),data:K.string()}).optional(),($e={})[Wt]=en(Dn,Wt,Ht,{isUseSdk:!0}),$e[vt]=en(Dn,vt,Tt,{isUseSdk:!0}),$e[At]=en(Dn,At,Ht,{isUseSdk:!0}),$e[Bn]=en(Dn,Bn,Ht,{isUseSdk:!0}),$e[Dt]=en(Dn,Dt,Ht,{isUseSdk:!0}),$e),ha=(Nt="HYUI",Bt="setSafeAreaColor",Wt="setWebViewFrame",vt="setNavigationBarTranslucent",Tt="setNavConfigs",At=dt.extend({enabled:K.boolean(),color:K.string()}),Bn=dt.extend({frame:K.object({x:K.number(),y:K.number(),width:K.number(),height:K.number()})}),Dn=K.object({translucent:K.boolean()}),Dt=K.object({title:K.string().optional(),showNav:K.boolean().optional(),showCloseBtn:K.boolean().optional(),showShareBtn:K.boolean().optional()}),Ht=K.object({color:K.string().optional(),darkColor:K.string().optional()}),($e={})[Bt]=en(Nt,Bt,At),$e[Wt]=en(Nt,Wt,Bn),$e[vt]=en(Nt,vt,Dn),$e[Tt]=en(Nt,Tt,Dt),$e.setBackgroundColor=en(Nt,"setBackgroundColor",Ht),$e),fa=(Wt="HYWebCalendar",Bn="insertCalendarNotice",vt="removeCalendarNotice",Dn="queryCalendarNotice",Tt="needCheckAuthority",Dt=dt.extend({beginTime:K.string(),title:K.string(),desc:K.string(),duration:K.string()}),Nt=dt.extend({title:K.string()}),Ht=K.object({authorityScene:K.string()}),($e={})[Bn]=en(Wt,Bn,Dt,{isUseSdk:!0}),$e[vt]=en(Wt,vt,Nt,{isUseSdk:!0}),$e[Dn]=en(Wt,Dn,Nt,{isUseSdk:!0}),$e[Tt]=en(Wt,Tt,Ht),$e),ma=(Bn="HYWebGameReserve",Dt="reserveGame",vt="cancelReserveGame",Dn=K.object({gameName:K.string().optional(),GameBaseId:K.string().optional(),GameCenterId:K.string().optional(),DownLoadAppId:K.string(),fromId:K.string(),gid:K.string().optional(),ext_fromid:K.string().optional(),cur_fromid:K.string().optional(),anchor_uid:K.number().optional()}),Nt=K.object({GameBaseId:K.string().optional(),GameCenterId:K.string().optional(),DownLoadAppId:K.string()}),(Wt={})[Dt]=en(Bn,Dt,Dn),Wt[vt]=en(Bn,vt,Nt),Wt),va=(Tt=K.object({uid:K.string()}),(Ht={}).scrollTop=en("HYWebPersonal","scrollTop",Tt),Ht),ga=($e="HYWebShortcut",Dt="createShortcut",Dn="goAppDetailSettingsPage",Bn="isShortCutExist",vt="hasCreateShortcutPermission",Nt=K.object({key_title:K.string(),key_url:K.string(),key_icon_url:K.string(),key_id:K.string()}),Wt=K.object({}).optional(),Tt=K.object({key_title:K.string()}).optional(),(Ht={})[Dt]=en($e,Dt,Nt),Ht[Dn]=en($e,Dn,Wt),Ht[Bn]=en($e,Bn,Tt),Ht[vt]=en($e,vt),Ht),ya=(Nt="HYWebView",Dn="closeWebView",Wt="getContext",Bn="setContext",Tt=K.any().optional(),($e={})[Dn]=en(Nt,Dn,Tt),$e[Wt]=en(Nt,Wt,Tt),$e[Bn]=en(Nt,Bn,Tt),$e),_a="ON_WEBVIEW_APPEAR",wa="ON_WEBVIEW_DISAPPEAR",Sa=((Ht={}).getAppear=en(vt="HYWebViewLifeCycle","getAppear"),Ht.on=Ze(vt,"on"),Ht.off=Ze(vt,"off"),Ht),ba="HYWup",Ia="sendWupRequest",Ea=(Dn="sendRequest",Wt="registerGroup",Nt="unRegisterGroup","pingsignal"),Ta={},ka={},Ca=0,xa=(Bn=K.object({servant:K.string(),funcname:K.string(),unitPacket:K.any(),strategy:K.any()}),Tt=K.object({unitPacket:K.any(),channelType:K.number().optional(),userInfo:K.any().optional()}),$e=K.object({group:K.string().optional(),groupIds:K.array(K.string()).optional(),channelType:K.number().optional()}).optional(),vt=K.object({groupIds:K.array(K.string()).optional(),channelType:K.number().optional()}).optional(),Ze(ba,"on")),Aa=((Ht={})[Dn]=en("HYDataCenter",Dn,Bn,{specialHandle:function(e){var t=null==ai?void 0:ai.HYDataCenter,i=(a=e||{}).stragegy,a=r(a,["stragegy"]);return null!=e&&e.unitPacket&&(null==e?void 0:e.unitPacket)instanceof ArrayBuffer&&(a.unitPacket=p.arrayBufferToBase64(e.unitPacket)),(t.sendWupRequest||t.sendRequest)(a,i).then((function(e){return e&&p.base64ToArrayBuffer(e)})).catch((function(e){return Promise.reject(n(n({},e),{message:e.message?p.base64ToArrayBuffer(e.message):""}))}))}}),Ht[Ia]=en(ba,Ia,Tt,{specialHandle:function(e){return null!=e&&e.unitPacket&&(null==e?void 0:e.unitPacket)instanceof ArrayBuffer&&(e.unitPacket=p.arrayBufferToBase64(e.unitPacket)),new Promise((function(t,i){var r;r=t,t=i,i=Ca++,Ta[i]=r,ka[i]=t,ai[ba][Ia](n(n({},e),{userInfo:{__wupBridgeRequestId:i}}))}))}}),Ht[Wt]=en(ba,Wt,$e),Ht[Nt]=en(ba,Nt,vt),Ht[Ea]=en(ba,Ea,K.any(),{specialHandle:function(){var e={biz_js_start:""+1e3*+new Date};return ai[ba][Ea](e).then((function(e){var t=1e3*+new Date;return e.biz_js_end=t,e})).catch((function(e){console.log("pingsignal catch error",e)}))}}),Ht.on=function(e,t,i){var n=ai[ba]&&ai[ba].on;xa(e,n?function(e){e&&e.data&&(e.data=p.base64ToArrayBuffer(e.data)),t(e)}:t,i)},Ht.off=Ze(ba,"off"),Ht),Ra="transmit",Pa="transmitWup";Aa.on(Pa,(function(e){var t,i;e&&1e4==e.subUri&&(t=e.userInfo.__wupBridgeRequestId,"ok"===e.status?(i=Ta[t])&&i(e):(i=ka[t])&&i(e),Ta[t]=null,ka[t]=null)}),{subUri:1e4}),Tt="HYYouth",Wt="setYouthPassword",$e="verifyYouthPassword",Nt="verifyYouthSuccess",vt=dt.extend({password:K.string().optional()}),Ze=dt.extend({type:K.string().optional()});var La=((Ht={}).exitYouth=en(Tt,"exitYouth",vt,{isUseSdk:!0}),Ht[Wt]=en(Tt,Wt,vt,{isUseSdk:!0}),Ht[$e]=en(Tt,$e,vt,{isUseSdk:!0}),Ht[Nt]=en(Tt,Nt,Ze,{isUseSdk:!0}),Ht),Ma=($e="HYBusinessWidget",vt="shouldRefreshWidget",Tt="installWidget",Nt=K.object({kind:K.string().optional(),reason:K.string().optional()}),Ze=K.object({kind:K.string().optional()}),(Ht={})[vt]=en($e,vt,Nt),Ht[Tt]=en($e,Tt,Ze),Ht),Da=(Nt=tn("HYWebAccompanyMsgFloatBall"),$e={name:"changeMsgFloatBallStatus",input:K.object({isOpen:K.union([K.literal("1"),K.literal("0")]).optional()}),output:Promise.resolve(!0)},Tt={name:"checkMsgFloatBallStatus",input:dt.optional(),output:void 0},Ze={name:"hasMsgFloatBallPermission",input:dt.optional(),output:void 0},Ht={name:"openMsgFloatBallPermission",input:dt.optional(),output:Promise.resolve(void 0)},(K={})[$e.name]=Nt($e),K[Tt.name]=Nt(Tt),K[Ze.name]=Nt(Ze),K[Ht.name]=Nt(Ht),K),Ba=(Ht=tn("HYWebAccompanyMsgFloatBall"),K={name:"checkAnchorUsingCamera",input:dt.optional(),output:void 0},(dt={})[K.name]=Ht(K,{isUseSdk:!0}),dt);vn.on,vn.off,K=r(vn,["on","off"]),Hn.on,Hn.off,dt=r(Hn,["on","off"]);var Na=n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n({},$),Pn),Fn),dt),Zn),er),rr),K),Zn),Er),Tr),kr),Cr),Lr),Mr),Nr),Pr),_r),Or),{kiwiVersion:"1.9.4",HUYAConfig:Q,PortraitActivity:or,LandscapeActivity:function(){return Fr},PlatformCompat:Rn});a(void 0,void 0,void 0,(function(){var e,t,i;return o(this,(function(n){if(void 0===window.disableKiwiSentry)return[2];if(void 0!==window.disableKiwiSentry&&window.disableKiwiSentry)return[2];try{e={dsn:"https://1870bbaca4864b1489a34714511de6dc@fems.huya.com/775",release:"1.9.4",enabled:!0},void 0!==window.Sentry?null!==(t=window.Sentry)&&void 0!==t&&t.init&&null!==(i=window.Sentry)&&void 0!==i&&i.init(e):Yt("https://static-jw.msstatic.com/hy-sentry/sdk/latest/bundle.tracing.min.js",(function(){var t,i;void 0!==window.Sentry?null!==(t=window.Sentry)&&void 0!==t&&t.init&&null!==(i=window.Sentry)&&void 0!==i&&i.init(e):console.warn("sentry is not ready")}))}catch(n){console.error(n)}return[2]}))})),Ct(),t.Browser=u,t.CrossDomain=Zi,t.HUYASdk=Na,t.HYAAID=Hr,t.HYAd=Gr,t.HYAdReport=Vr,t.HYAudioRecord=qr,t.HYAuth=jr,t.HYAuthorization=zr,t.HYBusinessWidget=Ma,t.HYCache=Tr,t.HYCommodity=Yr,t.HYDataCenter=wi,t.HYDevice=vn,t.HYDiskConfig=kr,t.HYDownload=Nr,t.HYDynamicConfig=$r,t.HYEventCenter=_r,t.HYFeedBack=Mr,t.HYFreeFlow=Jr,t.HYGift=Pn,t.HYInteraction=Kr,t.HYLandscapeActivity=Fr,t.HYLive=Fn,t.HYLiveFilmVip=Zr,t.HYLiveTreasureBox=Xr,t.HYLivingRoomActivity=Hn,t.HYLog=oi,t.HYLogin=rr,t.HYNativeEventCenter=yr,t.HYNestedScroll=Qr,t.HYPCAnchor=Ba,t.HYPanel=ea,t.HYPay=ta,t.HYPlayer=ia,t.HYPortraitActivity=or,t.HYReport=Or,t.HYRouter=Zn,t.HYSaveInAlbum=na,t.HYSettingBack=aa,t.HYSettingsData=oa,t.HYShare=Pr,t.HYStatistic=sa,t.HYSubscribe=Lr,t.HYSuperFans=ca,t.HYTeamMedal=la,t.HYThirdCall=da,t.HYTipOff=Cr,t.HYToast=Er,t.HYUI=ha,t.HYUdb=pa,t.HYUserInfo=er,t.HYWebAccompanyMsgFloatBall=Da,t.HYWebCalendar=fa,t.HYWebGameReserve=ma,t.HYWebPersonal=va,t.HYWebShortcut=ga,t.HYWebView=ya,t.HYWebViewLifeCycle=Sa,t.HYWup=Aa,t.HYYouth=La,t.NativeModules=ai,t.PlatformCompat=Rn,t.TAP_BACK=ra,t.Utils=p,t.activityWindowSizeChanged=On,t.audioRecordEnd=Wr,t.didBecomeActive=hn,t.generateCommonAPI=en,t.installApkEventChanged=Br,t.kKWJSSdkEventIdApp=Un,t.kickOff=nr,t.loginFailed=ir,t.loginSuccess=tr,t.networkChanged=fn,t.onAppear=_a,t.onDisappear=wa,t.screenRecordChanged=mn,t.transmit=Ra,t.transmitWup=Pa,t.willResignActive=pn}));H(st),st.Browser,st.CrossDomain,st.HUYASdk,st.HYAAID,st.HYAd,st.HYAdReport,st.HYAudioRecord,st.HYAuth,st.HYAuthorization,st.HYBusinessWidget,st.HYCache,st.HYCommodity,st.HYDataCenter,st.HYDevice,st.HYDiskConfig,st.HYDownload,st.HYDynamicConfig,st.HYEventCenter,st.HYFeedBack,st.HYFreeFlow,st.HYGift,st.HYInteraction,st.HYLandscapeActivity,st.HYLive,st.HYLiveFilmVip,st.HYLiveTreasureBox,st.HYLivingRoomActivity,st.HYLog,st.HYLogin,st.HYNativeEventCenter,st.HYNestedScroll,st.HYPCAnchor,st.HYPanel,st.HYPay,st.HYPlayer,st.HYPortraitActivity,st.HYReport,st.HYRouter,st.HYSaveInAlbum,st.HYSettingBack,st.HYSettingsData,st.HYShare,st.HYStatistic,st.HYSubscribe,st.HYSuperFans,st.HYTeamMedal,st.HYThirdCall,st.HYTipOff,st.HYToast,st.HYUI,st.HYUdb,st.HYUserInfo,st.HYWebAccompanyMsgFloatBall,st.HYWebCalendar,st.HYWebGameReserve,st.HYWebPersonal,st.HYWebShortcut,st.HYWebView,st.HYWebViewLifeCycle,st.HYWup,st.HYYouth,st.NativeModules,st.PlatformCompat,st.TAP_BACK,st.Utils,st.activityWindowSizeChanged,st.audioRecordEnd,st.didBecomeActive,st.generateCommonAPI,st.installApkEventChanged,st.kKWJSSdkEventIdApp,st.kickOff,st.loginFailed,st.loginSuccess,st.networkChanged,st.onAppear,st.onDisappear,st.screenRecordChanged,st.transmit,st.transmitWup,st.willResignActive,H(dt=G((function(e,t){function i(e){return[{isError:function(){return void 0!==e.bcode&&0!==Number(e.bcode)},errorMsg:decodeURIComponent("bcode: "+(null==e?void 0:e.bcode)+" "+(n[null==e?void 0:e.bcode]||""))},{isError:function(){return void 0!==e.sdkcode&&0!==Number(e.sdkcode)},errorMsg:decodeURIComponent("sdkcode: "+(null==e?void 0:e.sdkcode)+" "+(r[null==e?void 0:e.sdkcode]||""))}].filter((function(e){return e.isError()})).map((function(e){return e.errorMsg})).join("\n")}Object.defineProperty(t,"__esModule",{value:!0});var n={0:"%E6%88%90%E5%8A%9F",102:"%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B2%A1%E6%9C%89%E9%85%8D%20ui%EF%BC%8C%E6%AF%94%E5%A6%82%20wupui%2C%20webActUI%EF%BC%8C%E8%AE%A9%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%A4%84%E7%90%86",904:"%E4%B8%80%E8%88%AC%E6%98%AF%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%E9%94%99%E8%AF%AF%EF%BC%8C%E6%89%BE%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%A1%AE%E8%AE%A4%E5%93%AA%E4%B8%AA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%94%99%E4%BA%86",905:"%E4%B8%80%E8%88%AC%E6%98%AF%20UserId%20%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%94%99%E4%BA%86%EF%BC%8C%E7%A1%AE%E8%AE%A4%E4%B8%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E6%88%96%E8%80%85%E5%8E%BB%E7%BE%A4%E9%87%8C%E9%97%AE%E4%B8%8B","-1":"APP%20%E7%AB%AF%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%8F%A3%E8%B6%85%E6%97%B6%EF%BC%9B%E6%88%96JCE%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%8F%AF%E8%83%BD%E5%92%8C%E4%B8%9A%E5%8A%A1%E8%BF%94%E5%9B%9E%E7%A0%81%E9%87%8D%E5%8F%A0%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-2":"JCE%20%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%B1%E8%B4%A5%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-3":"%E6%8E%A5%E5%8F%A3%E6%89%BE%E4%B8%8D%E5%88%B0%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-4":"%E6%89%BE%E4%B8%8D%E5%88%B0%20servant%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-5":"JCESERVERRESETGRID%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-6":"%E9%98%9F%E5%88%97%E8%BF%87%E8%BD%BD%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-7":"%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%8F%A3%E8%B6%85%E6%97%B6%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-8":"%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-9":"%E6%9C%8D%E5%8A%A1%E8%BF%87%E8%BD%BD%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-10":"%E6%9C%8D%E5%8A%A1%20servant%20%E4%B8%BA%E7%A9%BA%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-11":"set%20%E6%97%A0%E6%95%88%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-99":"%E6%9C%AA%E7%9F%A5%E9%94%99%E8%AF%AF%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-101":"%E8%A7%A6%E5%8F%91%E4%BF%A1%E4%BB%A4%E6%8E%A5%E5%8F%A3%E9%A2%91%E6%8E%A7%E9%99%90%E5%88%B6%E3%80%81%E6%88%96ip%E9%BB%91%E5%90%8D%E5%8D%95%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-102":"%E4%BF%A1%E4%BB%A4%E8%BE%B9%E7%BC%98%E8%8A%82%E7%82%B9%E5%8D%8F%E8%AE%AE%E8%A7%A3%E6%9E%90%E5%BC%82%E5%B8%B8%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-103":"%E4%BF%A1%E4%BB%A4%E8%BE%B9%E7%BC%98%E8%8A%82%E7%82%B9%E5%9B%9E%E6%BA%90%E8%AF%B7%E6%B1%82%E6%A0%B8%E5%BF%83%E6%9C%BA%E6%88%BF%20wup%20%E6%9C%8D%E5%8A%A1%E5%BC%82%E5%B8%B8%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF"},r={0:"%E6%88%90%E5%8A%9F","-1":"%E6%9C%AC%E5%9C%B0%E4%BB%BB%E5%8A%A1%E8%B6%85%E6%97%B6","-3":"%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%A7%8B%E4%BB%BB%E5%8A%A1%E5%A4%B1%E8%B4%A5","-10":"%E4%BF%A1%E4%BB%A4%E6%9C%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8C%96%E6%97%B6%E8%AF%B7%E6%B1%82","-500":"%E9%A6%96%E5%8C%85%E5%BC%82%E5%B8%B8%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E8%A7%A3%E9%87%8A%E9%94%99%E8%AF%AF","-10092":"socket%20%E5%8F%91%E9%80%81%E5%BC%82%E5%B8%B8","-10504":"%E8%A7%A3%E6%9E%90%E6%B5%81%E6%B6%88%E6%81%AF%E5%A4%B1%E8%B4%A5%EF%BC%88%E8%A7%A3%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%89","-20001":"%E5%B0%81%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%8C%E8%AF%B7%E6%A3%80%E6%9F%A5%20Req%20%E8%AF%B7%E6%B1%82%E4%BD%93%EF%BC%8C%E9%97%AE%E9%A2%98%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E5%9C%A8%20Vector%2C%20Map%20%E7%9B%B8%E5%85%B3%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD","-20002":"%E6%9C%AA%E6%B3%A8%E5%86%8C%E7%9A%84%E6%8E%A5%E5%8F%A3","-20003":"%20http%20%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF(%E5%8C%85%E6%8B%AC%20dns%20%E9%94%99%E8%AF%AF)%3A%20%E8%BF%9E%E6%8E%A5%20taf%20%E4%BF%A1%E4%BB%A4%E4%BE%A7%E7%9A%84%20http%20%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E%E5%BC%82%E5%B8%B8"},a=decodeURIComponent("%0A%0A%E4%BA%86%E8%A7%A3%E6%9B%B4%E5%A4%9A%3A%0Ahttps%3A%2F%2Fgit.huya.info%2Fhuyafed%2Fcomponents%2Fhuyafed-npm%2F-%2Ftree%2Fmaster%2Fpackages%2Ftaf-network%23bcode-%25E5%25AF%25B9%25E5%25BA%2594%25E7%259A%2584%25E7%258A%25B6%25E6%2580%2581%0Ahttps%3A%2F%2Fgit.huya.info%2Fhuyafed%2Fdoc-list%2Fdoc%2F-%2Fissues%2F25%23%25E7%258A%25B6%25E6%2580%2581%25E7%25A0%2581%0A%20%20%20%20%20%20%20%20%20%20%20%20");t.LINK_TIPS=a,t.bcodeMap=n,t.getErrorMsg=i,t.responseCodeChecker=function(e){var t,n=i(e.res);if(n)return((null==e?void 0:e.logger)||console.error.bind(console))("请求失败："+(null===(t=null==e?void 0:e.reqParams)||void 0===t?void 0:t.funcName)+"-"+(null===(e=null==e?void 0:e.reqParams)||void 0===e?void 0:e.servant)+"\n    ",n,a)},t.sdkcodeMap=r}))),dt.LINK_TIPS,dt.bcodeMap,dt.getErrorMsg,dt.responseCodeChecker,dt.sdkcodeMap;var ct=G((function(e,t){function i(e){return[{isError:function(){return void 0!==e.bcode&&0!==Number(e.bcode)},errorMsg:decodeURIComponent("bcode: "+(null==e?void 0:e.bcode)+" "+(n[null==e?void 0:e.bcode]||""))},{isError:function(){return void 0!==e.sdkcode&&0!==Number(e.sdkcode)},errorMsg:decodeURIComponent("sdkcode: "+(null==e?void 0:e.sdkcode)+" "+(r[null==e?void 0:e.sdkcode]||""))}].filter((function(e){return e.isError()})).map((function(e){return e.errorMsg})).join("\n")}Object.defineProperty(t,"__esModule",{value:!0});var n={0:"%E6%88%90%E5%8A%9F",102:"%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B2%A1%E6%9C%89%E9%85%8D%20ui%EF%BC%8C%E6%AF%94%E5%A6%82%20wupui%2C%20webActUI%EF%BC%8C%E8%AE%A9%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%A4%84%E7%90%86",904:"%E4%B8%80%E8%88%AC%E6%98%AF%E8%AF%B7%E6%B1%82%E4%BD%93%E5%8F%82%E6%95%B0%E9%94%99%E8%AF%AF%EF%BC%8C%E6%89%BE%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%A1%AE%E8%AE%A4%E5%93%AA%E4%B8%AA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%94%99%E4%BA%86",905:"%E4%B8%80%E8%88%AC%E6%98%AF%20UserId%20%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%94%99%E4%BA%86%EF%BC%8C%E7%A1%AE%E8%AE%A4%E4%B8%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E6%88%96%E8%80%85%E5%8E%BB%E7%BE%A4%E9%87%8C%E9%97%AE%E4%B8%8B","-1":"APP%20%E7%AB%AF%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%8F%A3%E8%B6%85%E6%97%B6%EF%BC%9B%E6%88%96JCE%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%8F%AF%E8%83%BD%E5%92%8C%E4%B8%9A%E5%8A%A1%E8%BF%94%E5%9B%9E%E7%A0%81%E9%87%8D%E5%8F%A0%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-2":"JCE%20%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%B1%E8%B4%A5%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-3":"%E6%8E%A5%E5%8F%A3%E6%89%BE%E4%B8%8D%E5%88%B0%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-4":"%E6%89%BE%E4%B8%8D%E5%88%B0%20servant%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-5":"JCESERVERRESETGRID%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-6":"%E9%98%9F%E5%88%97%E8%BF%87%E8%BD%BD%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-7":"%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%8F%A3%E8%B6%85%E6%97%B6%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-8":"%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-9":"%E6%9C%8D%E5%8A%A1%E8%BF%87%E8%BD%BD%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-10":"%E6%9C%8D%E5%8A%A1%20servant%20%E4%B8%BA%E7%A9%BA%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-11":"set%20%E6%97%A0%E6%95%88%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-99":"%E6%9C%AA%E7%9F%A5%E9%94%99%E8%AF%AF%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-101":"%E8%A7%A6%E5%8F%91%E4%BF%A1%E4%BB%A4%E6%8E%A5%E5%8F%A3%E9%A2%91%E6%8E%A7%E9%99%90%E5%88%B6%E3%80%81%E6%88%96ip%E9%BB%91%E5%90%8D%E5%8D%95%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-102":"%E4%BF%A1%E4%BB%A4%E8%BE%B9%E7%BC%98%E8%8A%82%E7%82%B9%E5%8D%8F%E8%AE%AE%E8%A7%A3%E6%9E%90%E5%BC%82%E5%B8%B8%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF","-103":"%E4%BF%A1%E4%BB%A4%E8%BE%B9%E7%BC%98%E8%8A%82%E7%82%B9%E5%9B%9E%E6%BA%90%E8%AF%B7%E6%B1%82%E6%A0%B8%E5%BF%83%E6%9C%BA%E6%88%BF%20wup%20%E6%9C%8D%E5%8A%A1%E5%BC%82%E5%B8%B8%EF%BC%9B%E6%89%BE%E6%9C%8D%E5%8A%A1%E7%AB%AF"},r={0:"%E6%88%90%E5%8A%9F","-1":"%E6%9C%AC%E5%9C%B0%E4%BB%BB%E5%8A%A1%E8%B6%85%E6%97%B6","-3":"%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%A7%8B%E4%BB%BB%E5%8A%A1%E5%A4%B1%E8%B4%A5","-10":"%E4%BF%A1%E4%BB%A4%E6%9C%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8C%96%E6%97%B6%E8%AF%B7%E6%B1%82","-500":"%E9%A6%96%E5%8C%85%E5%BC%82%E5%B8%B8%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E8%A7%A3%E9%87%8A%E9%94%99%E8%AF%AF","-10092":"socket%20%E5%8F%91%E9%80%81%E5%BC%82%E5%B8%B8","-10504":"%E8%A7%A3%E6%9E%90%E6%B5%81%E6%B6%88%E6%81%AF%E5%A4%B1%E8%B4%A5%EF%BC%88%E8%A7%A3%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%89","-20001":"%E5%B0%81%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%8C%E8%AF%B7%E6%A3%80%E6%9F%A5%20Req%20%E8%AF%B7%E6%B1%82%E4%BD%93%EF%BC%8C%E9%97%AE%E9%A2%98%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E5%9C%A8%20Vector%2C%20Map%20%E7%9B%B8%E5%85%B3%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD","-20002":"%E6%9C%AA%E6%B3%A8%E5%86%8C%E7%9A%84%E6%8E%A5%E5%8F%A3","-20003":"%20http%20%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF(%E5%8C%85%E6%8B%AC%20dns%20%E9%94%99%E8%AF%AF)%3A%20%E8%BF%9E%E6%8E%A5%20taf%20%E4%BF%A1%E4%BB%A4%E4%BE%A7%E7%9A%84%20http%20%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E%E5%BC%82%E5%B8%B8"},a=decodeURIComponent("%0A%0A%E4%BA%86%E8%A7%A3%E6%9B%B4%E5%A4%9A%3A%0Ahttps%3A%2F%2Fgit.huya.info%2Fhuyafed%2Fcomponents%2Fhuyafed-npm%2F-%2Ftree%2Fmaster%2Fpackages%2Ftaf-network%23bcode-%25E5%25AF%25B9%25E5%25BA%2594%25E7%259A%2584%25E7%258A%25B6%25E6%2580%2581%0Ahttps%3A%2F%2Fgit.huya.info%2Fhuyafed%2Fdoc-list%2Fdoc%2F-%2Fissues%2F25%23%25E7%258A%25B6%25E6%2580%2581%25E7%25A0%2581%0A%20%20%20%20%20%20%20%20%20%20%20%20");t.LINK_TIPS=a,t.bcodeMap=n,t.getErrorMsg=i,t.responseCodeChecker=function(e){var t,n=i(e.res);if(n)return((null==e?void 0:e.logger)||console.error.bind(console))("请求失败："+(null===(t=null==e?void 0:e.reqParams)||void 0===t?void 0:t.funcName)+"-"+(null===(e=null==e?void 0:e.reqParams)||void 0===e?void 0:e.servant)+"\n    ",n,a)},t.sdkcodeMap=r}));function lt(){var e=this;a(this,lt),s(this,"abtestInstance",null),s(this,"abtestParams",{platform:fe?fe.platform:"",businessId:"huya",uid:Number(mt("udb_uid")),guid:mt("guid")||"",env:se(),variable:{client_mid:mt("__yamid_new")||""}}),s(this,"state",{}),s(this,"setState",(function(t){e.state=Object.assign({},e.state,t)})),s(this,"getABTestResp",r(regeneratorRuntime.mark((function t(){var i,n,r,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((!(0<a.length&&void 0!==a[0])||a[0])&&e.state.ABTestResp)return t.abrupt("return",e.state.ABTestResp);t.next=3;break;case 3:return t.prev=3,i=mt("guid"),ut=ut||e.abtestInstance.getABExtParam(),t.next=8,ut;case 8:return n=t.sent,F.log("getABTestResp resp>>>",n),e.setState({ABTestResp:n}),window.ya?null===(r=window)||void 0===r||null!==(r=r.ya)&&void 0!==r&&r.setExtParam("oexp=".concat(n.mpExperiment,"&sguid=").concat(i)):setTimeout((function(){var e;null===(e=window)||void 0===e||null!==(e=e.ya)&&void 0!==e&&e.setExtParam("oexp=".concat(n.mpExperiment,"&sguid=").concat(i))}),500),t.abrupt("return",n);case 16:t.prev=16,t.t0=t.catch(3),F.log("getABTestResp error>>>",t.t0);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})))),s(this,"getABTestValue",function(){var t=r(regeneratorRuntime.mark((function t(i,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getABTestResp(n);case 3:return r=(r=t.sent).mpConfig[i],t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),F.log("getABTestValue error>>>",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,i){return t.apply(this,arguments)}}()),s(this,"toWupContext",r(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.ABTestResp){t.next=3;break}return t.next=3,e.getABTestResp();case 3:return t.prev=3,i=null===(i=e.state.ABTestResp)||void 0===i?void 0:i.mpExperiment.split(",").reduce((function(e,t){return t=t.split("."),e["exp_".concat(t[0])]=t[1],e}),{}),t.abrupt("return",i);case 8:return t.prev=8,t.t0=t.catch(3),t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))),s(this,"toWupContext2",r(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.ABTestResp){t.next=3;break}return t.next=3,e.getABTestResp();case 3:return t.prev=3,i=null===(i=e.state.ABTestResp)||void 0===i?void 0:i.mpExperiment.split(",").reduce((function(e,t){return t=t.split("."),e["".concat(t[0])]=t[1],e}),{}),t.abrupt("return",i);case 8:return t.prev=8,t.t0=t.catch(3),t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])}))));var t=new ft(this.abtestParams,{loopTime:0,type:"web"});this.abtestInstance=t}H(ct),ct.LINK_TIPS,ct.bcodeMap,ct.getErrorMsg,ct.responseCodeChecker,ct.sdkcodeMap;var ut,dt,pt=G((function(e){e.exports=ct})),ht=H(dt=G((function(e,t){function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=i(it),r=i(ot),a=function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t,i,n){return new(i=i||Promise)((function(r,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var i,n,r,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}(arguments[t]));return e}it.Taf.BinBuffer.prototype.readString=function(e){for(var t=[],i=0;i<e;)t.push(String.fromCharCode(this.vew.getUint8(this.position++))),i++;var n=t.join("");try{n=decodeURIComponent(escape(n))}catch(e){}return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")};var l={UserId:function(){this.lUid=0,this.sGuid="",this.sToken="",this.sHuYaUA="",this.sCookie="",this.iTokenType=0,this.sDeviceInfo=""}};function u(e,t){var i=new it.Taf.Wup;i.decode(e);var n=i.newdata.get("tRsp")?"tRsp":"tResp";return(e=new t)._code=i.readInt32(""),i.readStruct(n,e,t),e}l.UserId.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sToken=e.readString(2,!1,this.sToken),this.sHuYaUA=e.readString(3,!1,this.sHuYaUA),this.sCookie=e.readString(4,!1,this.sCookie),this.iTokenType=e.readInt32(5,!1,this.iTokenType),this.sDeviceInfo=e.readString(6,!1,this.sDeviceInfo)},l.UserId.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sToken),e.writeString(3,this.sHuYaUA),e.writeString(4,this.sCookie),e.writeInt32(5,this.iTokenType),e.writeString(6,this.sDeviceInfo)},l.UserId.prototype._clone=function(){return new l.UserId},l.UserId.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.UserId.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.ActivityMsgRsp=function(){this.iEnable=0,this.vSerializedMsg=new it.Taf.Vector(new l.ActivitySerializedMsg),this.iTimeStamp=0,this.iActivityId=0},l.ActivityMsgRsp.prototype.readFrom=function(e){this.iEnable=e.readInt32(0,!1,this.iEnable),this.vSerializedMsg=e.readVector(1,!1,this.vSerializedMsg),this.iTimeStamp=e.readInt32(2,!1,this.iTimeStamp),this.iActivityId=e.readInt32(3,!1,this.iActivityId)},l.ActivityMsgRsp.prototype.writeTo=function(e){e.writeInt32(0,this.iEnable),e.writeVector(1,this.vSerializedMsg),e.writeInt32(2,this.iTimeStamp),e.writeInt32(3,this.iActivityId)},l.ActivityMsgRsp.prototype._clone=function(){return new l.ActivityMsgRsp},l.ActivityMsgRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.ActivityMsgRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.ActivitySerializedMsg=function(){this.iSubUri=0,this.vContent=new it.Taf.BinBuffer},l.ActivitySerializedMsg.prototype.readFrom=function(e){this.iSubUri=e.readInt32(0,!1,this.iSubUri),this.vContent=e.readBytes(1,!1,this.vContent)},l.ActivitySerializedMsg.prototype.writeTo=function(e){e.writeInt32(0,this.iSubUri),e.writeBytes(1,this.vContent)},l.ActivitySerializedMsg.prototype._clone=function(){return new l.ActivitySerializedMsg},l.ActivitySerializedMsg.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.ActivitySerializedMsg.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.ActivityMsgReq=function(){this.tUserId=new l.UserId,this.iActivityId=0,this.lPid=0,this.lTid=0,this.lSid=0,this.iChannelType=0,this.iSubUri=0},l.ActivityMsgReq.prototype.readFrom=function(e){this.tUserId=e.readStruct(0,!1,this.tUserId),this.iActivityId=e.readInt32(1,!1,this.iActivityId),this.lPid=e.readInt64(2,!1,this.lPid),this.lTid=e.readInt64(3,!1,this.lTid),this.lSid=e.readInt64(4,!1,this.lSid),this.iChannelType=e.readInt32(5,!1,this.iChannelType),this.iSubUri=e.readInt32(6,!1,this.iSubUri)},l.ActivityMsgReq.prototype.writeTo=function(e){e.writeStruct(0,this.tUserId),e.writeInt32(1,this.iActivityId),e.writeInt64(2,this.lPid),e.writeInt64(3,this.lTid),e.writeInt64(4,this.lSid),e.writeInt32(5,this.iChannelType),e.writeInt32(6,this.iSubUri)},l.ActivityMsgReq.prototype._clone=function(){return new l.ActivityMsgReq},l.ActivityMsgReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.ActivityMsgReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)};var d=l;function p(e,t){if(null===e||"object"!=typeof e)return e;e=(e.__ob__||e.__v_isRef||e.__v_reactive||Object.isFrozen(e)&&e.$$typeof)&&"function"==typeof e.valueOf?e.valueOf():e;var i=new WeakMap;return function e(n){if(null===n||"object"!=typeof n)return n;if(i.has(n))return i.get(n);if(Array.isArray(n)){var r=[];return i.set(n,r),n.forEach((function(t,i){r[i]=e(t)})),r}if(n instanceof Date||n instanceof RegExp||n instanceof Error||n instanceof Map||n instanceof Set||"undefined"!=typeof window&&(n instanceof HTMLElement||n===window))return n;var a=Object.getPrototypeOf(n),o=Object.create(a);return i.set(n,o),c(Object.getOwnPropertyNames(n),Object.getOwnPropertySymbols(n)).filter((function(e){return!((e=String(e)).startsWith("__v_")||e.startsWith("__")||"$$typeof"===e||"_owner"===e)})).forEach((function(i){if(Object.getOwnPropertyDescriptor(n,i))try{var r=Object.getOwnPropertyDescriptor(n,i);"sHuYaUA"===i?Object.defineProperty(o,i,{configurable:!0,enumerable:r.enumerable,writable:!0,value:t}):r.get||r.set?Object.defineProperty(o,i,r):Object.defineProperty(o,i,{configurable:!0,enumerable:r.enumerable,writable:!0,value:e(r.value)})}catch(r){console.warn("无法处理属性 "+String(i)+":",r)}})),o}(e)}var h=it.Taf;h.BinBuffer.prototype.readString=function(e){for(var t=[],i=0;i<e;)t.push(String.fromCharCode(this.vew.getUint8(this.position++))),i++;var n=t.join("");try{n=decodeURIComponent(escape(n))}catch(e){}return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},st.HYWup.sendWupRequest;var f=st.HYWup.registerGroup,m=st.HYWup.unRegisterGroup,v=st.HYWup.sendRequest,g=(y.prototype.init=function(e){return void 0===e&&(e={}),this.initNormalOptions(e),this._isManualInit=!0,this._isInitialized=!1,this._initPromise=this._internalInit(e),this._initPromise},y.prototype._internalInit=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,st.HYDevice.getAppInfo().catch((function(e){return{appVersion:"0.0.1",systemVersion:"0.0.1",appName:e.platformValue,huyaUA:e.platformValue+"&0.0.1&websocket&&",privilegeUseIAP:"",experiment:""}}))];case 1:return t={status:"ok",systemVersion:(t=i.sent()).systemVersion,appVersion:t.appVersion,code:0,appName:t.appName,huyaUA:t.huyaUA},this.initOptions(e,t),this._isInitialized=!0,[3,3];case 2:return t={status:"fail",systemVersion:"0.0.1",appVersion:"0.0.1",code:9999,appName:(t=i.sent()).platformValue,huyaUA:t.platformValue+"&0.0.1&websocket&&"},this.initOptions(e,t),this._isInitialized=!0,[3,3];case 3:return[2]}}))}))},y.prototype._waitForInit=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this._isInitialized?[3,2]:[4,this._initPromise];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},y.prototype.defineTafUa=function(e,t){var i,n=function(e){for(var t=e.split("&");t.length<4;)t.push("");return t.slice(0,4).join("&")+"&"}(e.huyaUA);return t||n+(i=this.customUaString,e=window.ztId||"",t=window.location.hostname,n=window.location.pathname.split("?")[0].split("/").filter(Boolean),/^(diyzt-webtest\.cdn\.huya\.com|zt\.huya\.com)$/.test(t)?"diy"+("pc"===n.find((function(e){return"mobile"===e||"pc"===e}))?"pc":"h5")+"_"+e+(i?"_"+i:""):"h5_"+((null===(e=null===window||void 0===window?void 0:window.tiger)||void 0===e?void 0:e.GITLAB_PROJECT_ID)||window.location.pathname)+(i?"_"+i:""))},y.prototype.initNormalOptions=function(e){void 0===e&&(e={});var t=e.showLog,i=e.isDebug,n=e.noConnect,r=e.useMock,a=e.mockTime,o=e.uid,s=e.pid,c=e.extraGroups,l=e.appId,u=e.enableTrace,p=e.customHeaders,h=e.uris,f=e.activity,m=e.mockPlugin,v=e.verifyToken,g=e.tryTime,y=e.extraMap,_=e.needGetActivityMsg;e=e.serialConnect,this.showLog=t||!1,this.isDebug=i||!1,this.noConnect=n,this.useMock=i&&r||!1,this.mockTime=a||1e3,this.uid=o||parseInt(function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i+=1){var n=t[i],r=n.indexOf(e+"=");if(!(-1===r||1<r))return r+=e.length+1,n.substring(r)}return null}("yyuid"),10)||0,this.pid=s||0,this.extraGroups=c||[],this.appId=l||"HUYA",this.enableTrace=u,this.customHeaders=p,this.mockPlugin=void 0,this.verifyToken=v,this.tryTime=g||8,this.extraMap=y||{},this.needGetActivityMsg=void 0===_||_,this.serialConnect=void 0!==e?e:1,this.hasListen=!1,this.uris={1010003:d.ActivityMsgRsp},h&&(this.uris=Object.assign({},this.uris,h)),this.uriKeys=Object.keys(this.uris).map((function(e){return e.toString()}))||[],this.actId=f?f.actId:0,this.actUris=f?f.actUris:{},this.actUrisKeys=Object.keys(this.actUris).map((function(e){return e.toString()}))||[],this.urisCallBack={},this.webSignalSdkOnCalls={},this.signalSdk=void 0,this.wupList={},m&&"function"==typeof m&&(this.mockPlugin=m)},y.prototype.initOptions=function(e,t){void 0===e&&(e={});var i=e.isApp,n=e.ua;e=e.customUaString,this.customUaString=e,this.ua=this.defineTafUa(t,n),n=r.isHuyaApp(),this.isApp=(void 0!==i?i:n)&&(n=navigator.userAgent,/(?:ios|adr)\/(\d+\.\d+\.\d+)/.test(n))&&(t=t.huyaUA,!(/iPad/.test(navigator.userAgent)&&r.isHuyaApp()&&/ipad/.test(t))),this.isApp||(this.signalSdk=this.link(),this.signalSdk&&this.signalSdk.setReportAPI&&this.signalSdk.setReportAPI((function(e){window.performanceInfo&&window.performanceInfo._hmt?window.performanceInfo._hmt.push(["reportApiTime",e.funcName,e.state,"start"===e.state?e.startTime:e.endTime,"sendWup:"+e.funcName,e.startTime]):window.hyReport&&window.hyReport.hmt&&window.hyReport.hmt.push({handle:"apiTime",data:{apiName:e.funcName,unique:e.startTime,identity:{status:e.state,times:+new Date},msg:""}})})))},y.prototype.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},y.prototype.link=function(){var e=this,t={appSrc:this.appId+"&ZH&2052",APPID:this.appId,uid:this.uid,ua:""+this.ua,isDebug:this.isDebug,tryTime:this.tryTime,serialConnect:this.serialConnect};void 0!==this.noConnect&&(t.noConnect=this.noConnect?0:1),void 0!==this.enableTrace&&(t.enableTrace=this.enableTrace),void 0!==this.customHeaders&&(t.customHeaders=this.customHeaders),void 0!==this.verifyToken&&(t.verifyToken=this.verifyToken);var i=this.extraMap;if(!this.isEmptyObject(i))for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);this.log("Start to init",t);var a=+new Date,o=!1;(this.noConnect||void 0===this.noConnect)&&window.performanceInfo&&window.performanceInfo._hmt.push(["reportApiTime","wsConnectTime","start",a,"",a]);var s=new it.init(t),l=c(["live:"+this.pid],this.extraGroups);return this.log("Start registering group",l,0),s.sendRegisterGroup(l),s.on(n.events.WEBSOCKET_CONNECTED,(function(){o||(o=!0,window.performanceInfo&&window.performanceInfo._hmt.push(["reportApiTime","wsConnectTime","end",+new Date,"",a])),e.log("Start registering group",l,0),s.sendRegisterGroup(l),e.log("Websocket connect successfully")})),s.on(n.events.WS_REGISTER_GROUP_RSP,(function(){e.log("RegisterGroup successfully")})),s.on(n.events.WS_UNREGISTER_GROUP_RSP,(function(){e.log("UnRegisterGroup successfully")})),s.on(n.events.VERIFYCOOKIE_PASS,(function(t){e.log("cookie",{isPass:t})})),s},y.prototype.listen=function(){return o(this,void 0,void 0,(function(){var e,t,i=this;return s(this,(function(n){switch(n.label){case 0:return[4,this._waitForInit()];case 1:return n.sent(),this.hasListen?[2]:(this.hasListen=!0,0!==this.actUrisKeys.length&&this.needGetActivityMsg&&(this.getActivityMsg(),this.urisMock()),t=c(["live:"+this.pid],this.extraGroups),this.isApp?(e=this,t=t.filter((function(e){return!/^(live:|chat:)/.test(e)})),f({groupIds:t}).then((function(e){console.log("app registerGroup success =====>",e)})).catch((function(e){console.log("app registerGroup catch =====>",e)})),st.HUYASdk.addEventListener(st.HUYASdk.EVENT_ID.WUP_TRANSMIT,{subUris:e.uriKeys},(function(t){var n=t.status,r=t.data;if(n){if("ok"!==n||!r)return}else if(!r)return;n=t.subUri.toString(),-1!==e.uriKeys.indexOf(n)&&(r=new h.JceInputStream(t.data),(t=new e.uris[n]).readFrom(r),"1010003"===n?e.serializedMsg(t.vSerializedMsg.value,t):-1!==Object.keys(e.urisCallBack).map((function(e){return e.toString()})).indexOf(n)?(i.log(n,t,3),i.urisCallBack[n](t)):i.log(n,"",4))}))):(this.log("Start registering",this.uriKeys),this.uriKeys.forEach((function(e){var t=i.uris[e];i.signalSdk&&i.signalSdk.registerUri(e,t)})),this.uriKeys.forEach((function(e){function t(t){"1010003"===e?i.serializedMsg(t.vSerializedMsg.value,t):-1!==Object.keys(i.urisCallBack).map((function(e){return e.toString()})).indexOf(e)?(i.log(e,t,3),i.urisCallBack[e](t)):i.log(e,"",4)}i.webSignalSdkOnCalls[e]=t,i.signalSdk&&i.signalSdk.on(e,t)}))),[2])}}))}))},y.prototype.addListener=function(e,t){this.urisCallBack[e]=t},y.prototype.clearSingleListen=function(e){this.isApp?st.HUYASdk.removeEventListener(st.HUYASdk.EVENT_ID.TRANSMIT,{subUris:[e]}):(this.urisCallBack[e]&&delete this.urisCallBack[e],this.webSignalSdkOnCalls[e]?this.signalSdk&&this.signalSdk.off(e,this.webSignalSdkOnCalls[e]):this.signalSdk&&this.signalSdk.off(e))},y.prototype.clearAll=function(){var e,t=this;this.hasListen&&(this.hasListen=!1,e=c(["live:"+this.pid],this.extraGroups),this.isApp?(st.HUYASdk.removeEventListener(st.HUYASdk.EVENT_ID.TRANSMIT,{subUris:this.uriKeys}),m({groupIds:e})):(this.signalSdk&&this.signalSdk.sendUnRegisterGroup(e),this.uriKeys.forEach((function(e){t.urisCallBack[e]&&delete t.urisCallBack[e],t.webSignalSdkOnCalls[e]?t.signalSdk&&t.signalSdk.off(e,t.webSignalSdkOnCalls[e]):t.signalSdk&&t.signalSdk.off(e)}))))},y.prototype.getActivityMsg=function(){var e=new d.UserId;e.lUid=this.uid,this.sendWup("getActivityMsg",{tUserId:e,lPid:this.pid,lTid:0,lSid:this.pid,iChannelType:2003,iActivityId:this.actId},d.ActivityMsgReq,d.ActivityMsgRsp)},y.prototype.getPropsList=function(){throw new Error("获取礼物方法移除，请使用@huyafed/getPropsDetail获取礼物信息")},y.prototype.registerWup=function(e,t){this.wupList[e]||(this.wupList[e]=t,this.signalSdk&&this.signalSdk.registerWup(e,t))},y.prototype.respClean=function(e,t,i,n){var r=e.bcode,a=e.sdkcode,o=e.iRequestId,s=function(e,t){var i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}(e,["bcode","sdkcode","iRequestId"]);this.reportErrorCode(t,r,a);try{this.isDebug&&pt.getErrorMsg(e)&&pt.responseCodeChecker({reqParams:{servant:n,funcName:t},res:e,logger:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return console.error.apply(console,c(e,[{funcName:t,servantName:n}]))}})}catch(e){console.log(e)}return i?e:{bcode:r,sdkcode:a,iRequestId:o,data:s}},y.prototype.reportErrorCode=function(e,t,i){if(!this.isDebug)try{0!==t&&(window.performanceInfo&&window.performanceInfo._hmt.push(["reportApiMess","taf-error",""+e,""+t]),window.hyReport&&window.hyReport.hmt.push({handle:"apiMess",data:{apiName:"taf-error",msg:""+e,retcode:""+t}})),0!==i&&(window.performanceInfo&&window.performanceInfo._hmt.push(["reportApiMess","taf-sdk-error",""+e,""+i]),window.hyReport&&window.hyReport.hmt.push({handle:"apiMess",data:{apiName:"taf-sdk-error",msg:""+e,retcode:""+i}}))}catch(e){console.error(e)}},y.prototype.sendWup=function(e,t,i,n,r,a,c,l){return void 0===r&&(r="wupui"),void 0===a&&(a={}),void 0===c&&(c=1),void 0===l&&(l={}),o(this,void 0,void 0,(function(){var o=this;return s(this,(function(s){switch(s.label){case 0:return[4,this._waitForInit()];case 1:return s.sent(),this.useMock&&"getActivityMsg"!==e&&"function"==typeof this.mockPlugin?[2,this.mockPlugin(n,a,2,e,t,this.mockTime,this.pid)]:[2,new Promise((function(a){var s=new i,u=Object.keys(s);t=p(t,o.ua);var d=Object.keys(t);u.forEach((function(e){-1!==d.indexOf(e)&&(s[e]=t[e])})),o.isApp?o.sendAppRequest(e,s,n,r).then((function(e){return a(e)})):o.sendWupWeb(e,s,n,r,c,l).then((function(e){return a(e)}))}))]}}))}))},y.prototype.sendWupWithForceUa=function(e,t,i,n,r,a,c,l){return void 0===r&&(r="wupui"),void 0===a&&(a={}),void 0===c&&(c=1),void 0===l&&(l={}),o(this,void 0,void 0,(function(){var o=this;return s(this,(function(s){switch(s.label){case 0:return[4,this._waitForInit()];case 1:return s.sent(),this.useMock&&"getActivityMsg"!==e&&"function"==typeof this.mockPlugin?[2,this.mockPlugin(n,a,2,e,t,this.mockTime,this.pid)]:[2,new Promise((function(a){var s=new i,u=Object.keys(s),d=Object.keys(t);u.forEach((function(e){-1!==d.indexOf(e)&&(s[e]=t[e])})),o.isApp?o.sendAppRequest(e,s,n,r).then((function(e){return a(e)})):o.sendWupWeb(e,s,n,r,c,l).then((function(e){return a(e)}))}))]}}))}))},y.prototype.getTaf=function(){return h},y.prototype.sendWupWeb=function(e,t,i,n,r,o){var s=this;return void 0===r&&(r=1),new Promise((function(c){s.log(e,a({},t),1),s.registerWup(e,i),s.signalSdk.sendWup(n,e,t,(function(t){s.log(e,t,2),"getActivityMsg"===e&&s.serializedMsg(t.vSerializedMsg.value,t),c(s.respClean(t,e,!1,n))}),r,o)}))},y.prototype.sendAppRequest=function(e,t,i,n){var r,o,s,c,l=this,d=this,p={bcode:-1,sdkcode:-1,data:new i,iRequestId:0},h=(r=n,o=e,s=t,(c=new it.Taf.Wup).setServant(r),c.setFunc(o),s&&c.writeStruct("tReq",s),c.encode().getBuffer());return new Promise((function(r){var o=!1,s=setTimeout((function(){o||(o=!0,l.log(e,"接口请求超时",2),l.log(e,p,2),r(d.respClean(p,e,!0,n))),clearTimeout(s)}),8e3),c=+new Date;window.performanceInfo&&window.performanceInfo._hmt?window.performanceInfo._hmt.push(["reportApiTime",e,"start",c,"sendAppRequest:"+e,c]):window.hyReport&&window.hyReport.hmt&&window.hyReport.hmt.push({handle:"apiTime",data:{apiName:e,unique:c,identity:{status:"start",times:+new Date},msg:""}}),l.log(e,a({},t),1),v({unitPacket:h,servant:n,funcname:e}).then((function(t){t=u(t,i),o||(o=!0,window.performanceInfo&&window.performanceInfo._hmt?window.performanceInfo._hmt.push(["reportApiTime",e,"end",+new Date,"sendAppRequest:"+e,c]):window.hyReport&&window.hyReport.hmt&&window.hyReport.hmt.push({handle:"apiTime",data:{apiName:e,unique:c,identity:{status:"end",times:+new Date},msg:"sendAppRequest: "+e}}),"getActivityMsg"===e&&d.serializedMsg(t.vSerializedMsg.value,t),p.bcode=0,p.sdkcode=0,p.iRequestId=0,p.data=t,d.log(e,p,2),r(d.respClean(p,e,!0,n)))})).catch((function(t){l.log(e,"APP接口失败，catch返回error信息:"+JSON.stringify(t),2),o=!0,window.performanceInfo&&window.performanceInfo._hmt?window.performanceInfo._hmt.push(["reportApiTime",e,"end",+new Date,"sendAppRequest:"+e,c]):window.hyReport&&window.hyReport.hmt&&window.hyReport.hmt.push({handle:"apiTime",data:{apiName:e,unique:c,identity:{status:"end",times:+new Date},msg:"sendAppRequest: "+e}});var a=new i;try{a=u(t.message,i)}catch(t){l.log(e,"解析err message结构体失败，catch返回error信息:"+JSON.stringify(t),2)}t.errorCode&&(p.bcode=t.errorCode,p.sdkcode=t.errorCode,p.data=a),d.log(e,p,2),r(d.respClean(p,e,!0,n))}))}))},y.prototype.serializedMsg=function(e,t){var i=this;Array.isArray(e)&&e.forEach((function(e){if(i.actUris[e.iSubUri])try{var n=new h.JceInputStream(e.vContent),r=new i.actUris[e.iSubUri].rspStruct;r.readFrom(n),i.log(e.iSubUri,r,3),-1!==Object.keys(i.urisCallBack).map((function(e){return e.toString()})).indexOf(e.iSubUri.toString())?i.urisCallBack[e.iSubUri](r,t):i.log(e.iSubUri,"",4)}catch(e){throw new Error(e)}}))},y.prototype.log=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=0);var n=!0;try{n=!localStorage.getItem("TAF_NETWORK_LOCAL_LOG")}catch(e){}if(this.showLog||!n)switch(i){case 0:console.log("%c <<<<< %c "+e+" %c >>>>>","color: green;","color: black;","color: green",t);break;case 3:console.log("%c <<<<< %c uri: %c"+e+" %c >>>>>","color: #E1378C;","color: black;font-weight: bold;","color: #E1378C;font-weight: bold;","color: #E1378C;",t);break;case 4:console.log("%c <<<<< %c 收到未处理请求: %c"+e+" %c >>>>>","color: red;","color: black;","color: black;","color: red;");break;case 1:console.log("%c >>>>> %c reqWup: %c"+e+" %c <<<<<","color: green;","color: black;font-weight: bold;","color: green;font-weight: bold;","color: green;",t);break;case 2:console.log("%c <<<<< %c rspWup: %c"+e+" %c >>>>>","color: blue;","color: black;font-weight: bold;","color: blue;font-weight: bold;","color: blue;",t)}},y);function y(e){var t=this;void 0===e&&(e={}),this._isManualInit=!1,this._isInitialized=!1,this.urisMock=function(){return o(t,void 0,void 0,(function(){var e,t,i,n,r,a=this;return s(this,(function(o){switch(o.label){case 0:if(!this.mockPlugin||"function"!=typeof this.mockPlugin)return[2];e=this.actUrisKeys,t=function(t){var r;return s(this,(function(o){switch(o.label){case 0:return i.actUris[e[t]].useMock?[4,new Promise((function(i){setTimeout((function(){i(a.mockPlugin(a.actUris[e[t]].rspStruct,a.actUris[e[t]].data||{},1,"",{},a.mockTime,a.pid))}),a.actUris[e[t]].mockTime||1e3)}))]:[3,2];case 1:r=o.sent(),-1!==Object.keys(i.urisCallBack).map((function(e){return e.toString()})).indexOf(e[t])?(i.log(e[t],r,3),i.urisCallBack[e[t]](r)):i.log(e[t],"",4),o.label=2;case 2:return n=t+=1,[2]}}))},i=this,r=0,o.label=1;case 1:return r<e.length?[5,t(r)]:[3,4];case 2:o.sent(),r=n,o.label=3;case 3:return[3,1];case 4:return[2]}}))}))},this.initNormalOptions(e),this._initPromise=this._internalInit(e)}window.TafNetwork=g,t.Taf=h,t.default=g}))),ft=H((dt.Taf,dt=G((function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){function n(e){return!e||!/\S/.test(e)||"undefined"===e||"null"===e}function r(e){for(var t=document.cookie.split("; "),i=0;i<t.length;i++){var n=t[i].replace("=","$=").split("$=");try{if(n[0]==e)return decodeURIComponent(n[1])}catch(t){if(n[0]==e)return unescape(n[1])}}return""}function a(e){try{return JSON.parse(localStorage.getItem(e))||JSON.parse(r(e)||null)}catch(t){return n(r(e))?(console.log("e:"+t),null):JSON.parse(r(e)||null)}}i.r(t);var o="https://wsapi-ab.nimo.tv",s="https://cdnws.api.huya.com",c="https://testws.va.huya.com";function l(e,t,i){return new Promise((function(r,l){var u=e.platform,d=e.businessId,p=e.uid,h=e.guid,f=e.env,m=e.variable;isNaN(Number(p))&&l("Illegal uid format, requires int uid"),h={tReq:{lUid:Number(p),sUA:"".concat(u,"&1.0.0&store"),sGuid:h,mpVariable:m,sAppId:d}},(m=function(){if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(void 0===window.ActiveXObject)throw new Error("No XHR object available");if("string"!=typeof arguments.callee.activeXString)for(var e=["MSXML2.XMLHttp.6.0","Msxml2.XMLHttp.5.0","Msxml2.XMLHttp.4.0","MSXML2.XMLHttp.3.0",,"Msxml2.XMLHttp","MSXML2.XMLHttp"],t=0,i=e.length;t<i;t++)try{var n=new window.ActiveXObject(e[t]);return arguments.callee.activeXString=e[t],n}catch(e){throw console.warn("do not support XHR"),new Error(e)}return new window.ActiveXObject(arguments.callee.activeXString)}()).open("POST","".concat(f?c:"huya"===d?s:o,"?json_func=getConfig")),m.timeout=3e3,m.ontimeout=function(){l("timed out")},m.onerror=function(e){l(e)},m.onload=function(){try{this.response||l("abtestconfig fetch fail");var e=JSON.parse(this.response).tRsp;if(200!=this.status&&304!=this.status)return void l("请求异常");var o,s=e.mpConfig,c=e.mpExperiment,u=[];for(o in c)u.push("".concat(o,".").concat(c[o]));i[t]=Object.assign({},{mpExperiment:u.join(","),mpConfig:s}),function(e,t){try{n(a(e))||function(e){try{localStorage.removeItem("AB_SRE_CONFIGS")}catch(e){console.log(e)}}(e),"string"==typeof t?window.localStorage.setItem(e,t):window.localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log("e:"+a),i=e,r=JSON.stringify(t),i=i+"="+encodeURIComponent(r),(r=new Date).setTime(r.getTime()+288e5),i+="; expires="+r.toUTCString(),n(location.port)&&(i+="; domain="+document.domain),i+="; path=/",document.cookie=i}var i,r}("AB_SRE_CONFIGS",i),r(i[t]||{})}catch(e){l(e)}},m.send(JSON.stringify(h))}))}function u(e,t,i){var n=e.platform,r=e.businessId,a=e.uid,l=e.guid,u=e.env;e=e.variable,isNaN(Number(a))&&reject("Illegal uid format, requires int uid");var d={tReq:{lUid:Number(a),sUA:"".concat(n,"&1.0.0&store"),sGuid:l,mpVariable:e,sAppId:r}};return new Promise((function(e,n){wx.request({url:"".concat(u?c:"huya"===r?s:o,"?json_func=getConfig"),data:d,method:"GET",success:function(r){try{r||n("abtestconfig fetch fail");var a=r.data.tRsp;if(200!=r.statusCode&&304!=r.statusCode)return void n("请求异常");var o,s=a.mpConfig,c=a.mpExperiment,l=[];for(o in c)l.push("".concat(o,".").concat(c[o]));i[t]=Object.assign({},{mpExperiment:l.join(","),mpConfig:s}),wx.setStorage({key:"AB_SRE_CONFIGS",data:i}),e(i[t]||{})}catch(r){n(r)}},fail:function(e){n(e)}})}))}function d(e,t){if(function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),!e||"[object Object]"!==Object.prototype.toString.call(e))throw Error("the params parameter of getABExtParam must be Object");this.params=e,this.type=t&&t.type?t.type:"web",this.time=t&&t.loopTime&&!isNaN(Number(t.loopTime))&&0!==Number(t.loopTime)?1e3*Number(t.loopTime):6e5,this.timer={},this.startSetInterval()}(function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}})(d.prototype,[{key:"startSetInterval",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey,i=e.AB_SRE_CONFIGS;("wx"===this.type?u:l)(this.params,t,i);var n=this;setInterval((function(){("wx"===n.type?u:l)(n.params,t,i)}),this.time)}catch(e){throw new Error(e)}}},{key:"getABExtParam",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey,i=e.AB_SRE_CONFIGS;return("wx"===this.type?u:l)(this.params,t,i)}catch(e){throw new Error(e)}}},{key:"getSyncABExtParam",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey;return e.AB_SRE_CONFIGS[t]||{}}catch(e){throw new Error(e)}}},{key:"getConfigAndKey",value:function(){var e=this.type||"web",t=this.params,i=t.platform,n=t.businessId,r=t.uid,o=t.variable,s=(e="wx"===e?wx.getStorageSync("AB_SRE_CONFIGS")||{}:a("AB_SRE_CONFIGS")||{},i+"_"+n+(r?"_uid_".concat(r):"_no_login_data"));if(o||"undefined"!==o)for(var c in o)s+="_".concat(c,"_").concat(o[c]);if(!o||"[object Object]"!==Object.prototype.toString.call(o))throw Error("the variable parameter of params must be Object");return{thisKey:s,AB_SRE_CONFIGS:e}}}]),i=d,t.default=i,window.ABTEST=i}])})))),mt=(dt.abtest,J.get),vt=null,gt=gt||{},yt=et.Taf;gt.TrackReq=function(){this.e="",this.ua="",this.o=0,this.env=new yt.Map(new yt.STRING,new yt.STRING),this.localEnv=new yt.Map(new yt.STRING,new yt.STRING)},gt.TrackReq.prototype._clone=function(){return new gt.TrackReq},gt.TrackReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.TrackReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.TrackReq.prototype.writeTo=function(e){e.writeString(0,this.e),e.writeString(1,this.ua),e.writeInt32(2,this.o),e.writeMap(3,this.env),e.writeMap(4,this.localEnv)},gt.TrackReq.prototype.readFrom=function(e){this.e=e.readString(0,!1,this.e),this.ua=e.readString(1,!1,this.ua),this.o=e.readInt32(2,!1,this.o),this.env=e.readMap(3,!1,this.env),this.localEnv=e.readMap(4,!1,this.localEnv)},gt.TrackRsp=function(){this.code=0,this.message=""},gt.TrackRsp.prototype._clone=function(){return new gt.TrackRsp},gt.TrackRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.TrackRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.TrackRsp.prototype.writeTo=function(e){e.writeInt32(0,this.code),e.writeString(1,this.message)},gt.TrackRsp.prototype.readFrom=function(e){this.code=e.readInt32(0,!1,this.code),this.message=e.readString(1,!1,this.message)},gt.ClickReq=function(){this.track=new gt.TrackReq,this.landingUrl=""},gt.ClickReq.prototype._clone=function(){return new gt.ClickReq},gt.ClickReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.ClickReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.ClickReq.prototype.writeTo=function(e){e.writeStruct(0,this.track),e.writeString(1,this.landingUrl)},gt.ClickReq.prototype.readFrom=function(e){this.track=e.readStruct(0,!1,this.track),this.landingUrl=e.readString(1,!1,this.landingUrl)},gt.PlayReq=function(){this.track=new gt.TrackReq,this.p=0,this.a=0,this.d=0,this.bf=0},gt.PlayReq.prototype._clone=function(){return new gt.PlayReq},gt.PlayReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.PlayReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.PlayReq.prototype.writeTo=function(e){e.writeStruct(0,this.track),e.writeInt32(1,this.p),e.writeInt32(2,this.a),e.writeInt32(3,this.d),e.writeInt32(4,this.bf)},gt.PlayReq.prototype.readFrom=function(e){this.track=e.readStruct(0,!1,this.track),this.p=e.readInt32(1,!1,this.p),this.a=e.readInt32(2,!1,this.a),this.d=e.readInt32(3,!1,this.d),this.bf=e.readInt32(4,!1,this.bf)},gt.ConversionReq=function(){this.track=new gt.TrackReq,this.event=0,this.f=0},gt.ConversionReq.prototype._clone=function(){return new gt.ConversionReq},gt.ConversionReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.ConversionReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.ConversionReq.prototype.writeTo=function(e){e.writeStruct(0,this.track),e.writeInt32(1,this.event),e.writeInt32(2,this.f)},gt.ConversionReq.prototype.readFrom=function(e){this.track=e.readStruct(0,!1,this.track),this.event=e.readInt32(1,!1,this.event),this.f=e.readInt32(2,!1,this.f)},gt.LogReq=function(){this.e="",this.o=0,this.reqUrl="",this.cause="",this.type=""},gt.LogReq.prototype._clone=function(){return new gt.LogReq},gt.LogReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.LogReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.LogReq.prototype.writeTo=function(e){e.writeString(0,this.e),e.writeInt32(1,this.o),e.writeString(2,this.reqUrl),e.writeString(3,this.cause),e.writeString(4,this.type)},gt.LogReq.prototype.readFrom=function(e){this.e=e.readString(0,!1,this.e),this.o=e.readInt32(1,!1,this.o),this.reqUrl=e.readString(2,!1,this.reqUrl),this.cause=e.readString(3,!1,this.cause),this.type=e.readString(4,!1,this.type)},gt.IosConversionReq=function(){this.track=new gt.TrackReq,this.event=0},gt.IosConversionReq.prototype._clone=function(){return new gt.IosConversionReq},gt.IosConversionReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.IosConversionReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.IosConversionReq.prototype.writeTo=function(e){e.writeStruct(0,this.track),e.writeInt32(1,this.event)},gt.IosConversionReq.prototype.readFrom=function(e){this.track=e.readStruct(0,!1,this.track),this.event=e.readInt32(1,!1,this.event)},gt.AdMaterial=function(){this.adId="",this.iconUrl="",this.imageUrl="",this.videoUrl="",this.videoDuration=0,this.title="",this.description="",this.landingUrl="",this.track=new gt.TrackReq},gt.AdMaterial.prototype._clone=function(){return new gt.AdMaterial},gt.AdMaterial.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.AdMaterial.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.AdMaterial.prototype.writeTo=function(e){e.writeString(0,this.adId),e.writeString(1,this.iconUrl),e.writeString(2,this.imageUrl),e.writeString(3,this.videoUrl),e.writeInt64(4,this.videoDuration),e.writeString(5,this.title),e.writeString(6,this.description),e.writeString(7,this.landingUrl),e.writeStruct(8,this.track)},gt.AdMaterial.prototype.readFrom=function(e){this.adId=e.readString(0,!1,this.adId),this.iconUrl=e.readString(1,!1,this.iconUrl),this.imageUrl=e.readString(2,!1,this.imageUrl),this.videoUrl=e.readString(3,!1,this.videoUrl),this.videoDuration=e.readInt64(4,!1,this.videoDuration),this.title=e.readString(5,!1,this.title),this.description=e.readString(6,!1,this.description),this.landingUrl=e.readString(7,!1,this.landingUrl),this.track=e.readStruct(8,!1,this.track)},gt.MaterialReq=function(){this.materialList=new yt.Vector(new gt.AdMaterial)},gt.MaterialReq.prototype._clone=function(){return new gt.MaterialReq},gt.MaterialReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.MaterialReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.MaterialReq.prototype.writeTo=function(e){e.writeVector(1,this.materialList)},gt.MaterialReq.prototype.readFrom=function(e){this.materialList=e.readVector(1,!1,this.materialList)},gt.NegativeFeedBackReq=function(){this.actType=0,this.track=new gt.TrackReq},gt.NegativeFeedBackReq.prototype._clone=function(){return new gt.NegativeFeedBackReq},gt.NegativeFeedBackReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.NegativeFeedBackReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.NegativeFeedBackReq.prototype.writeTo=function(e){e.writeInt32(0,this.actType),e.writeStruct(1,this.track)},gt.NegativeFeedBackReq.prototype.readFrom=function(e){this.actType=e.readInt32(0,!1,this.actType),this.track=e.readStruct(1,!1,this.track)},gt.AdQrScanReq=function(){this.shortWord="",this.track=new gt.TrackReq},gt.AdQrScanReq.prototype._clone=function(){return new gt.AdQrScanReq},gt.AdQrScanReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.AdQrScanReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.AdQrScanReq.prototype.writeTo=function(e){e.writeString(0,this.shortWord),e.writeStruct(1,this.track)},gt.AdQrScanReq.prototype.readFrom=function(e){this.shortWord=e.readString(0,!1,this.shortWord),this.track=e.readStruct(1,!1,this.track)},gt.ExternalEvent=function(){this.adBlockPlugin="adBlockPlugin",this.unexpectedPlay="unexpectedPlay"},gt.ExternalEvent.prototype._clone=function(){return new gt.ExternalEvent},gt.ExternalEvent.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.ExternalEvent.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.ExternalEvent.prototype.writeTo=function(e){e.writeString(0,this.adBlockPlugin),e.writeString(1,this.unexpectedPlay)},gt.ExternalEvent.prototype.readFrom=function(e){this.adBlockPlugin=e.readString(0,!1,this.adBlockPlugin),this.unexpectedPlay=e.readString(1,!1,this.unexpectedPlay)},gt.ExternalEventReq=function(){this.track=new gt.TrackReq,this.event=""},gt.ExternalEventReq.prototype._clone=function(){return new gt.ExternalEventReq},gt.ExternalEventReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.ExternalEventReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.ExternalEventReq.prototype.writeTo=function(e){e.writeStruct(0,this.track),e.writeString(1,this.event)},gt.ExternalEventReq.prototype.readFrom=function(e){this.track=e.readStruct(0,!1,this.track),this.event=e.readString(1,!1,this.event)},gt.TrackEnvKey=function(){this.ecpm="ecpm",this.amsSdkPassThroughData="amsSdkPassThroughData",this.ecpmType="ecpmType"},gt.TrackEnvKey.prototype._clone=function(){return new gt.TrackEnvKey},gt.TrackEnvKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},gt.TrackEnvKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},gt.TrackEnvKey.prototype.writeTo=function(e){e.writeString(0,this.ecpm),e.writeString(1,this.amsSdkPassThroughData),e.writeString(2,this.ecpmType)},gt.TrackEnvKey.prototype.readFrom=function(e){this.ecpm=e.readString(0,!1,this.ecpm),this.amsSdkPassThroughData=e.readString(1,!1,this.amsSdkPassThroughData),this.ecpmType=e.readString(2,!1,this.ecpmType)};var _t=_t||{},wt=et.Taf;_t.VideoStreamInfo=function(){this.sSize="",this.sWidth="",this.sHeight="",this.sFormat="",this.sUrl="",this.sM3u8="",this.sTs1Url="",this.sTs1Offset="",this.iBitRate=0,this.sCodec="",this.mpExtraParam=new wt.Map(new wt.STRING,new wt.STRING),this.iLineIndex=0,this.iM3u8LineIndex=0},_t.VideoStreamInfo.prototype._clone=function(){return new _t.VideoStreamInfo},_t.VideoStreamInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.VideoStreamInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.VideoStreamInfo.prototype.writeTo=function(e){e.writeString(0,this.sSize),e.writeString(1,this.sWidth),e.writeString(2,this.sHeight),e.writeString(3,this.sFormat),e.writeString(4,this.sUrl),e.writeString(5,this.sM3u8),e.writeString(6,this.sTs1Url),e.writeString(7,this.sTs1Offset),e.writeInt32(8,this.iBitRate),e.writeString(9,this.sCodec),e.writeMap(10,this.mpExtraParam),e.writeInt32(11,this.iLineIndex),e.writeInt32(12,this.iM3u8LineIndex)},_t.VideoStreamInfo.prototype.readFrom=function(e){this.sSize=e.readString(0,!1,this.sSize),this.sWidth=e.readString(1,!1,this.sWidth),this.sHeight=e.readString(2,!1,this.sHeight),this.sFormat=e.readString(3,!1,this.sFormat),this.sUrl=e.readString(4,!1,this.sUrl),this.sM3u8=e.readString(5,!1,this.sM3u8),this.sTs1Url=e.readString(6,!1,this.sTs1Url),this.sTs1Offset=e.readString(7,!1,this.sTs1Offset),this.iBitRate=e.readInt32(8,!1,this.iBitRate),this.sCodec=e.readString(9,!1,this.sCodec),this.mpExtraParam=e.readMap(10,!1,this.mpExtraParam),this.iLineIndex=e.readInt32(11,!1,this.iLineIndex),this.iM3u8LineIndex=e.readInt32(12,!1,this.iM3u8LineIndex)},_t.VideoDefinition=function(){this.sSize="",this.sWidth="",this.sHeight="",this.sDefinition="",this.sUrl="",this.sM3u8="",this.sDefName="",this.sTs1Url="",this.sTs1Offset="",this.iLineIndex=0,this.iBitRate=0,this.mpExtraParam=new wt.Map(new wt.STRING,new wt.STRING),this.vStreamInfo=new wt.Vector(new _t.VideoStreamInfo),this.sCodec="",this.sFormat="",this.sDuration="",this.iM3u8LineIndex=0},_t.VideoDefinition.prototype._clone=function(){return new _t.VideoDefinition},_t.VideoDefinition.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.VideoDefinition.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.VideoDefinition.prototype.writeTo=function(e){e.writeString(0,this.sSize),e.writeString(1,this.sWidth),e.writeString(2,this.sHeight),e.writeString(3,this.sDefinition),e.writeString(4,this.sUrl),e.writeString(5,this.sM3u8),e.writeString(6,this.sDefName),e.writeString(7,this.sTs1Url),e.writeString(8,this.sTs1Offset),e.writeInt32(9,this.iLineIndex),e.writeInt32(10,this.iBitRate),e.writeMap(11,this.mpExtraParam),e.writeVector(12,this.vStreamInfo),e.writeString(13,this.sCodec),e.writeString(14,this.sFormat),e.writeString(15,this.sDuration),e.writeInt32(16,this.iM3u8LineIndex)},_t.VideoDefinition.prototype.readFrom=function(e){this.sSize=e.readString(0,!1,this.sSize),this.sWidth=e.readString(1,!1,this.sWidth),this.sHeight=e.readString(2,!1,this.sHeight),this.sDefinition=e.readString(3,!1,this.sDefinition),this.sUrl=e.readString(4,!1,this.sUrl),this.sM3u8=e.readString(5,!1,this.sM3u8),this.sDefName=e.readString(6,!1,this.sDefName),this.sTs1Url=e.readString(7,!1,this.sTs1Url),this.sTs1Offset=e.readString(8,!1,this.sTs1Offset),this.iLineIndex=e.readInt32(9,!1,this.iLineIndex),this.iBitRate=e.readInt32(10,!1,this.iBitRate),this.mpExtraParam=e.readMap(11,!1,this.mpExtraParam),this.vStreamInfo=e.readVector(12,!1,this.vStreamInfo),this.sCodec=e.readString(13,!1,this.sCodec),this.sFormat=e.readString(14,!1,this.sFormat),this.sDuration=e.readString(15,!1,this.sDuration),this.iM3u8LineIndex=e.readInt32(16,!1,this.iM3u8LineIndex)},_t.PortraitCover=function(){this.seq=0,this.width=0,this.height=0,this.url="",this.similarGroup=""},_t.PortraitCover.prototype._clone=function(){return new _t.PortraitCover},_t.PortraitCover.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.PortraitCover.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.PortraitCover.prototype.writeTo=function(e){e.writeInt32(0,this.seq),e.writeInt32(1,this.width),e.writeInt32(2,this.height),e.writeString(3,this.url),e.writeString(4,this.similarGroup)},_t.PortraitCover.prototype.readFrom=function(e){this.seq=e.readInt32(0,!1,this.seq),this.width=e.readInt32(1,!1,this.width),this.height=e.readInt32(2,!1,this.height),this.url=e.readString(3,!1,this.url),this.similarGroup=e.readString(4,!1,this.similarGroup)},_t.MultiStreamInfo=function(){this.sDisplayName="",this.iBitRate=0,this.iCodecType=0,this.iCompatibleFlag=0,this.iHEVCBitRate=-1,this.iEnable=1,this.iEnableMethod=0,this.sEnableUrl="",this.sTipText="",this.sTagText="",this.sTagUrl="",this.iFrameRate=0,this.iSortValue=0},_t.MultiStreamInfo.prototype._clone=function(){return new _t.MultiStreamInfo},_t.MultiStreamInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.MultiStreamInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.MultiStreamInfo.prototype.writeTo=function(e){e.writeString(0,this.sDisplayName),e.writeInt32(1,this.iBitRate),e.writeInt32(2,this.iCodecType),e.writeInt32(3,this.iCompatibleFlag),e.writeInt32(4,this.iHEVCBitRate),e.writeInt32(5,this.iEnable),e.writeInt32(6,this.iEnableMethod),e.writeString(7,this.sEnableUrl),e.writeString(8,this.sTipText),e.writeString(9,this.sTagText),e.writeString(10,this.sTagUrl),e.writeInt32(11,this.iFrameRate),e.writeInt32(12,this.iSortValue)},_t.MultiStreamInfo.prototype.readFrom=function(e){this.sDisplayName=e.readString(0,!1,this.sDisplayName),this.iBitRate=e.readInt32(1,!1,this.iBitRate),this.iCodecType=e.readInt32(2,!1,this.iCodecType),this.iCompatibleFlag=e.readInt32(3,!1,this.iCompatibleFlag),this.iHEVCBitRate=e.readInt32(4,!1,this.iHEVCBitRate),this.iEnable=e.readInt32(5,!1,this.iEnable),this.iEnableMethod=e.readInt32(6,!1,this.iEnableMethod),this.sEnableUrl=e.readString(7,!1,this.sEnableUrl),this.sTipText=e.readString(8,!1,this.sTipText),this.sTagText=e.readString(9,!1,this.sTagText),this.sTagUrl=e.readString(10,!1,this.sTagUrl),this.iFrameRate=e.readInt32(11,!1,this.iFrameRate),this.iSortValue=e.readInt32(12,!1,this.iSortValue)};var St=St||{};St.UserId=function(){this.lUid=0,this.sGuid="",this.sToken="",this.sUA="",this.sCookie="",this.sLang="",this.sUDBVer="",this.iRegOrigin=0,this.sCountry="",this.sRegion="",this.sOpSeq="",this.iNetType=127,this.lDevInstallTime=0},St.UserId.prototype._clone=function(){return new St.UserId},St.UserId.prototype._write=function(e,t,i){e.writeStruct(t,i)},St.UserId.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},St.UserId.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sToken),e.writeString(3,this.sUA),e.writeString(4,this.sCookie),e.writeString(5,this.sLang),e.writeString(6,this.sUDBVer),e.writeInt32(7,this.iRegOrigin),e.writeString(8,this.sCountry),e.writeString(9,this.sRegion),e.writeString(10,this.sOpSeq),e.writeInt32(11,this.iNetType),e.writeInt64(12,this.lDevInstallTime)},St.UserId.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sToken=e.readString(2,!1,this.sToken),this.sUA=e.readString(3,!1,this.sUA),this.sCookie=e.readString(4,!1,this.sCookie),this.sLang=e.readString(5,!1,this.sLang),this.sUDBVer=e.readString(6,!1,this.sUDBVer),this.iRegOrigin=e.readInt32(7,!1,this.iRegOrigin),this.sCountry=e.readString(8,!1,this.sCountry),this.sRegion=e.readString(9,!1,this.sRegion),this.sOpSeq=e.readString(10,!1,this.sOpSeq),this.iNetType=e.readInt32(11,!1,this.iNetType),this.lDevInstallTime=e.readInt64(12,!1,this.lDevInstallTime)},_t.VideoInfo=function(){this.lUid=0,this.sAvatarUrl="",this.sNickName="",this.lVid=0,this.sVideoTitle="",this.sVideoCover="",this.lVideoPlayNum=0,this.lVideoCommentNum=0,this.sVideoDuration="",this.sVideoUrl="",this.sVideoUploadTime="",this.sVideoChannel="",this.sCategory="",this.vDefinitions=new wt.Vector(new _t.VideoDefinition),this.iVideoRecommend=0,this.bVideoDot=!0,this.lVideoRank=0,this.bVideoHasRanked=!0,this.sTraceId="",this.lActorUid=0,this.sActorNick="",this.sActorAvatarUrl="",this.iExtPlayTimes=0,this.sVideoBigCover="",this.iCommentCount=0,this.vTags=new wt.Vector(new wt.STRING),this.iVideoDirection=0,this.sBriefIntroduction="",this.iVideoType=0,this.iFavorCount=0,this.lMomId=0,this.sSubTitle="",this.mMiscData=new wt.Map(new wt.STRING,new wt.STRING),this.vRawDefinitions=new wt.Vector(new _t.VideoDefinition),this.canPlay=0,this.status=0,this.vPortraitCovers=new wt.Vector(new _t.PortraitCover)},_t.VideoInfo.prototype._clone=function(){return new _t.VideoInfo},_t.VideoInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.VideoInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.VideoInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sAvatarUrl),e.writeString(2,this.sNickName),e.writeInt64(3,this.lVid),e.writeString(4,this.sVideoTitle),e.writeString(5,this.sVideoCover),e.writeInt64(6,this.lVideoPlayNum),e.writeInt64(7,this.lVideoCommentNum),e.writeString(8,this.sVideoDuration),e.writeString(9,this.sVideoUrl),e.writeString(10,this.sVideoUploadTime),e.writeString(11,this.sVideoChannel),e.writeString(12,this.sCategory),e.writeVector(13,this.vDefinitions),e.writeInt32(14,this.iVideoRecommend),e.writeBoolean(15,this.bVideoDot),e.writeInt64(16,this.lVideoRank),e.writeBoolean(17,this.bVideoHasRanked),e.writeString(18,this.sTraceId),e.writeInt64(19,this.lActorUid),e.writeString(20,this.sActorNick),e.writeString(21,this.sActorAvatarUrl),e.writeInt32(22,this.iExtPlayTimes),e.writeString(23,this.sVideoBigCover),e.writeInt32(24,this.iCommentCount),e.writeVector(25,this.vTags),e.writeInt32(26,this.iVideoDirection),e.writeString(27,this.sBriefIntroduction),e.writeInt32(28,this.iVideoType),e.writeInt32(29,this.iFavorCount),e.writeInt64(30,this.lMomId),e.writeString(31,this.sSubTitle),e.writeMap(32,this.mMiscData),e.writeVector(33,this.vRawDefinitions),e.writeInt32(34,this.canPlay),e.writeInt32(35,this.status),e.writeVector(36,this.vPortraitCovers)},_t.VideoInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sAvatarUrl=e.readString(1,!1,this.sAvatarUrl),this.sNickName=e.readString(2,!1,this.sNickName),this.lVid=e.readInt64(3,!1,this.lVid),this.sVideoTitle=e.readString(4,!1,this.sVideoTitle),this.sVideoCover=e.readString(5,!1,this.sVideoCover),this.lVideoPlayNum=e.readInt64(6,!1,this.lVideoPlayNum),this.lVideoCommentNum=e.readInt64(7,!1,this.lVideoCommentNum),this.sVideoDuration=e.readString(8,!1,this.sVideoDuration),this.sVideoUrl=e.readString(9,!1,this.sVideoUrl),this.sVideoUploadTime=e.readString(10,!1,this.sVideoUploadTime),this.sVideoChannel=e.readString(11,!1,this.sVideoChannel),this.sCategory=e.readString(12,!1,this.sCategory),this.vDefinitions=e.readVector(13,!1,this.vDefinitions),this.iVideoRecommend=e.readInt32(14,!1,this.iVideoRecommend),this.bVideoDot=e.readBoolean(15,!1,this.bVideoDot),this.lVideoRank=e.readInt64(16,!1,this.lVideoRank),this.bVideoHasRanked=e.readBoolean(17,!1,this.bVideoHasRanked),this.sTraceId=e.readString(18,!1,this.sTraceId),this.lActorUid=e.readInt64(19,!1,this.lActorUid),this.sActorNick=e.readString(20,!1,this.sActorNick),this.sActorAvatarUrl=e.readString(21,!1,this.sActorAvatarUrl),this.iExtPlayTimes=e.readInt32(22,!1,this.iExtPlayTimes),this.sVideoBigCover=e.readString(23,!1,this.sVideoBigCover),this.iCommentCount=e.readInt32(24,!1,this.iCommentCount),this.vTags=e.readVector(25,!1,this.vTags),this.iVideoDirection=e.readInt32(26,!1,this.iVideoDirection),this.sBriefIntroduction=e.readString(27,!1,this.sBriefIntroduction),this.iVideoType=e.readInt32(28,!1,this.iVideoType),this.iFavorCount=e.readInt32(29,!1,this.iFavorCount),this.lMomId=e.readInt64(30,!1,this.lMomId),this.sSubTitle=e.readString(31,!1,this.sSubTitle),this.mMiscData=e.readMap(32,!1,this.mMiscData),this.vRawDefinitions=e.readVector(33,!1,this.vRawDefinitions),this.canPlay=e.readInt32(34,!1,this.canPlay),this.status=e.readInt32(35,!1,this.status),this.vPortraitCovers=e.readVector(36,!1,this.vPortraitCovers)},_t.SimpleStreamInfo=function(){this.sStreamName="",this.sFlvUrl="",this.sFlvUrlSuffix="",this.sFlvAntiCode="",this.iLineIndex=0,this.vFlvIPList=new wt.Vector(new wt.STRING),this.iIsP2PSupport=0,this.sP2pUrl="",this.sP2pUrlSuffix="",this.sP2pAntiCode="",this.vMultiStreamInfo=new wt.Vector(new _t.MultiStreamInfo),this.iBitRate=0,this.iDefaultBitRate=0,this.lFreeFlag=0,this.iIsHEVCSupport=0,this.iHashPolicy=0,this.vP2pIPList=new wt.Vector(new wt.STRING),this.sHlsUrl="",this.iMobileWifiDefaultBitRate=0,this.iEnableAutoBitRate=0,this.iPriorityRate=0,this.iCdnPolicyLevel=0,this.mpExtArgs=new wt.Map(new wt.STRING,new wt.STRING),this.sCdnType="",this.iRcmdBitRate=0,this.iTemplate=0},_t.SimpleStreamInfo.prototype._clone=function(){return new _t.SimpleStreamInfo},_t.SimpleStreamInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},_t.SimpleStreamInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},_t.SimpleStreamInfo.prototype.writeTo=function(e){e.writeString(0,this.sStreamName),e.writeString(1,this.sFlvUrl),e.writeString(2,this.sFlvUrlSuffix),e.writeString(3,this.sFlvAntiCode),e.writeInt32(4,this.iLineIndex),e.writeVector(5,this.vFlvIPList),e.writeInt32(6,this.iIsP2PSupport),e.writeString(7,this.sP2pUrl),e.writeString(8,this.sP2pUrlSuffix),e.writeString(9,this.sP2pAntiCode),e.writeVector(10,this.vMultiStreamInfo),e.writeInt32(11,this.iBitRate),e.writeInt32(12,this.iDefaultBitRate),e.writeInt64(13,this.lFreeFlag),e.writeInt32(14,this.iIsHEVCSupport),e.writeInt32(15,this.iHashPolicy),e.writeVector(16,this.vP2pIPList),e.writeString(17,this.sHlsUrl),e.writeInt32(18,this.iMobileWifiDefaultBitRate),e.writeInt32(19,this.iEnableAutoBitRate),e.writeInt32(20,this.iPriorityRate),e.writeInt32(21,this.iCdnPolicyLevel),e.writeMap(22,this.mpExtArgs),e.writeString(23,this.sCdnType),e.writeInt32(24,this.iRcmdBitRate),e.writeInt32(25,this.iTemplate)},_t.SimpleStreamInfo.prototype.readFrom=function(e){this.sStreamName=e.readString(0,!1,this.sStreamName),this.sFlvUrl=e.readString(1,!1,this.sFlvUrl),this.sFlvUrlSuffix=e.readString(2,!1,this.sFlvUrlSuffix),this.sFlvAntiCode=e.readString(3,!1,this.sFlvAntiCode),this.iLineIndex=e.readInt32(4,!1,this.iLineIndex),this.vFlvIPList=e.readVector(5,!1,this.vFlvIPList),this.iIsP2PSupport=e.readInt32(6,!1,this.iIsP2PSupport),this.sP2pUrl=e.readString(7,!1,this.sP2pUrl),this.sP2pUrlSuffix=e.readString(8,!1,this.sP2pUrlSuffix),this.sP2pAntiCode=e.readString(9,!1,this.sP2pAntiCode),this.vMultiStreamInfo=e.readVector(10,!1,this.vMultiStreamInfo),this.iBitRate=e.readInt32(11,!1,this.iBitRate),this.iDefaultBitRate=e.readInt32(12,!1,this.iDefaultBitRate),this.lFreeFlag=e.readInt64(13,!1,this.lFreeFlag),this.iIsHEVCSupport=e.readInt32(14,!1,this.iIsHEVCSupport),this.iHashPolicy=e.readInt32(15,!1,this.iHashPolicy),this.vP2pIPList=e.readVector(16,!1,this.vP2pIPList),this.sHlsUrl=e.readString(17,!1,this.sHlsUrl),this.iMobileWifiDefaultBitRate=e.readInt32(18,!1,this.iMobileWifiDefaultBitRate),this.iEnableAutoBitRate=e.readInt32(19,!1,this.iEnableAutoBitRate),this.iPriorityRate=e.readInt32(20,!1,this.iPriorityRate),this.iCdnPolicyLevel=e.readInt32(21,!1,this.iCdnPolicyLevel),this.mpExtArgs=e.readMap(22,!1,this.mpExtArgs),this.sCdnType=e.readString(23,!1,this.sCdnType),this.iRcmdBitRate=e.readInt32(24,!1,this.iRcmdBitRate),this.iTemplate=e.readInt32(25,!1,this.iTemplate)};var bt=bt||{};function It(e,t){return Object.keys(t).forEach((function(i){e[i]=t[i]})),e}bt.ElementType={NONE:0,IMAGE:1,VIDEO:2,LOGO:3,BRAND:4,SLOGAN:5,ACTION:6},bt.AdxVideoType={MAIN:1,COVER:2,ELEMENT_MAIN:3,ELEMENT_SUB:4,PAI_LIAN:5,SPLASH_XUANDAO:6},bt.ElementId={WECHAT16TO9:119,WECHAT1TO1:120},bt.AdxImageType={DEFAULT:1,SPLASH_COVER:2,SPLASH_BASE:3,MAIN_BASE:4,MAIN_BannerVideoAdv_EndingImg:5},bt.AdMaterialInfoType={IMAGE:1,ICON:2,VIDEO:3,COVER_IMAGE:11,COVER_ICON:12,COVER_VIDEO:13,ELE_IMAGE:21,ELE_ICON:22,ELE_VIDEO:23,ELE_VIDEO_2:24},bt.EThirdCommonInfoBizType={LIANYUN_REFLOW:1},bt.ShowType={BANNER:1,XFQ:2,CBANNER:3,AD_TIME:4,XXL:5},bt.EPluginLocate={E_LOCATE_CEIL_LEFT_TOP:1,E_LOCATE_CEIL_CENTER_TOP:2,E_LOCATE_CEIL_RIGHT_TOP:3,E_LOCATE_MIDDLE_LEFT_TOP:4,E_LOCATE_MIDDLE_CENTER_TOP:5,E_LOCATE_MIDDLE_RIGHT_TOP:6,E_LOCATE_MIDDLE_LEFT_BOTTOM:7,E_LOCATE_MIDDLE_CENTER_BOTTOM:8,E_LOCATE_MIDDLE_RIGHT_BOTTOM:9,E_LOCATE_FLOOR_LEFT_BOTTOM:10,E_LOCATE_FLOOR_CENTER_BOTTOM:11,E_LOCATE_FLOOR_RIGHT_BOTTOM:12,E_LOCATE_EDGE_LEFT_BOTTOM:13,E_LOCATE_FULL_SCREEN:14,E_LOCATE_LEFT_CENTER:15,E_LOCATE_RIGHT_CENTER:16,E_LOCATE_FULL_SCREEN_WITH_LIVE:17},bt.EAdInfoTemplateId={E_APP_FLASH:100,E_APP_TOP_BANNER:101,E_APP_SUS_BALL:102,E_APP_MIDDLE_BANNER:103,E_APP_AD_MOMENT_IMAGE:104,E_APP_AD_MOMENT_VIDEO:105,E_APP_AD_VIDEO_PAGE:106,E_APP_AD_MID_VID:107,E_APP_AD_BALL:108,E_APP_AD_MID_PIC:109,E_APP_SUS_BALL_WITH_BOTTOM:154,E_APP_SUS_BALL_WITH_LIGHT:155,E_APP_AD_SMALL_CARD:202,E_APP_AD_BIG_CARD:203,E_APP_AD_FLOW_VIDEO:200,E_APP_AD_FLOW_VIDEO_FULL_LAND:210,E_APP_AD_VIDEO_IMAGE:201,E_APP_AD_FLOW_BIG_IMAGE:204,E_APP_AD_VIDEO_IMAGE_2:205,E_APP_AD_BIG_CARD_2:206,E_APP_AD_SMALL_CARD_2:207,E_APP_AD_SY_XXL_TW:208,E_APP_AD_SY_XXL_TWSP:209,E_APP_AD_STIMULATE_VIDEO:300,E_APP_AD_SY_XLSX:302,E_APP_AD_ICON_IMAGE:110,E_APP_AD_ICON_VIDEO:111,E_APP_AD_SJ_VIDEO:125,E_APP_AD_FULL_VIDEO:400,E_APP_AD_FULL_VIDEO_2:130,E_APP_AD_SPLASH_FULL:1e3,E_APP_AD_DRAW_FEED_V:250,E_APP_AD_DRAW_FEED_H:251,E_APP_AD_BALL_GIF_V_LAND:998,E_APP_AD_BALL_GIF:999,E_APP_AD_ELEMENT_NOT_FULL:1001,E_APP_AD_ELEMENT_FULL:1002,E_APP_AD_BIG_BALL:997,E_APP_AD_PUBLIC_SCREEN:996,E_APP_AD_CARD_VIDEO_V:255,E_APP_AD_CARD_VIDEO_H:256,E_APP_AD_FLOAT_VIDEO:995,E_APP_AD_SPLASH_VIDEO_FULL:1003,E_APP_AD_SPLASH_VIDEO_NOT_FULL:1004,E_APP_AD_SPLASH_ELEMENT_VIDEO_NOT_FULL:1005,E_APP_AD_SPLASH_ELEMENT_VIDEO_FULL:1006,E_APP_AD_OFFLINE_AD:1437,E_APP_AD_SPLASH_IMAGE_BALL_FULL:1007,E_APP_AD_SPLASH_VIDEO_BALL_FULL:1008,E_APP_AD_LIVE_CLING_NORMAL:150,E_APP_AD_LIVE_CLING_BANNER:151,E_APP_AD_LIVE_CLING_16_9:162,E_APP_TOP_BANNER_16_9:164,E_APP_COMPETE_SPLASH:1250,E_APP_COMPETE_XFQ:1251,E_APP_REFLOW_BANNER:2024011801,E_APP_AD_FLOW_VIDEO_BID_CARD_HOR:2039,E_APP_AD_FLOW_IMP_BID_CARD_HOR:2040,E_APP_AD_FLOW_VIDEO_BID_CARD_VER:2041,E_APP_AD_FLOW_IMP_BID_CARD_VER:2042},bt.EAdInfoElementId={E_APP_AD_ELEMENT_FLASH:100,E_APP_AD_ELEMENT_BIG_BALL:101,E_APP_AD_ELEMENT_OFFLINE:1437,E_APP_AD_ELEMENT_FLASH_VIDEO_COMBINE:1089,WECHAT16TO9:119,WECHAT1TO1:120},bt.EAdLandingType={EAD_LANDING_TYPE_EXTERNAL:0,EAD_LANDING_TYPE_YYBVT:1,EAD_LANDING_TYPE_VXAPPLETS:2,EAD_LANDING_TYPE_PCDirectLink:3},bt.EWxGameAdStrategyMode={EWxGameAdStrategyMode_Aggressive:1,EWxGameAdStrategyMode_OpenRate:2,EWxGameAdStrategyMode_YYBError:3},bt.EOpenWxGameMode={EOpenWxGameMode_JS_YYB:1,EOpenWxGameMode_JS:2},bt.EWxAdSourceFrom={EWxAdSourceFrom_AMS:0,EWxAdSourceFrom_KA:1},bt.EVideoVolumeMode={EVideoVolumeMode_Silent_NoSwitch:1,EVideoVolumeMode_Silent_HaveSwitch:2,EVideoVolumeMode_Unsilent_HaveSwitch:3},bt.BiddingAd=function(){this.adId="",this.type=0,this.price=0,this.extra=new wt.Map(new wt.STRING,new wt.STRING),this.passThroughData=""},bt.BiddingAd.prototype._clone=function(){return new bt.BiddingAd},bt.BiddingAd.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.BiddingAd.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.BiddingAd.prototype.writeTo=function(e){e.writeString(1,this.adId),e.writeInt32(2,this.type),e.writeInt64(3,this.price),e.writeMap(4,this.extra),e.writeString(6,this.passThroughData)},bt.BiddingAd.prototype.readFrom=function(e){this.adId=e.readString(1,!1,this.adId),this.type=e.readInt32(2,!1,this.type),this.price=e.readInt64(3,!1,this.price),this.extra=e.readMap(4,!1,this.extra),this.passThroughData=e.readString(6,!1,this.passThroughData)},bt.BiddingInfo=function(){this.bidRid="",this.ads=new wt.Vector(new bt.BiddingAd),this.extra=new wt.Map(new wt.STRING,new wt.STRING)},bt.BiddingInfo.prototype._clone=function(){return new bt.BiddingInfo},bt.BiddingInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.BiddingInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.BiddingInfo.prototype.writeTo=function(e){e.writeString(1,this.bidRid),e.writeVector(2,this.ads),e.writeMap(3,this.extra)},bt.BiddingInfo.prototype.readFrom=function(e){this.bidRid=e.readString(1,!1,this.bidRid),this.ads=e.readVector(2,!1,this.ads),this.extra=e.readMap(3,!1,this.extra)},bt.Imp=function(){this.id=0,this.slotCode="",this.slotCnt=0,this.campaignDate=0,this.slideCnt=0,this.bidReq=new bt.BiddingInfo,this.position=0,this.extra=new wt.Map(new wt.STRING,new wt.STRING)},bt.Imp.prototype._clone=function(){return new bt.Imp},bt.Imp.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Imp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Imp.prototype.writeTo=function(e){e.writeInt32(0,this.id),e.writeString(1,this.slotCode),e.writeInt32(2,this.slotCnt),e.writeInt32(3,this.campaignDate),e.writeInt32(4,this.slideCnt),e.writeStruct(5,this.bidReq),e.writeInt32(6,this.position),e.writeMap(7,this.extra)},bt.Imp.prototype.readFrom=function(e){this.id=e.readInt32(0,!1,this.id),this.slotCode=e.readString(1,!1,this.slotCode),this.slotCnt=e.readInt32(2,!1,this.slotCnt),this.campaignDate=e.readInt32(3,!1,this.campaignDate),this.slideCnt=e.readInt32(4,!1,this.slideCnt),this.bidReq=e.readStruct(5,!1,this.bidReq),this.position=e.readInt32(6,!1,this.position),this.extra=e.readMap(7,!1,this.extra)},bt.App=function(){this.version="",this.channel="",this.versionCode=0},bt.App.prototype._clone=function(){return new bt.App},bt.App.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.App.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.App.prototype.writeTo=function(e){e.writeString(0,this.version),e.writeString(1,this.channel),e.writeInt32(2,this.versionCode)},bt.App.prototype.readFrom=function(e){this.version=e.readString(0,!1,this.version),this.channel=e.readString(1,!1,this.channel),this.versionCode=e.readInt32(2,!1,this.versionCode)},bt.UserId=function(){this.lUid=0,this.sGuid="",this.sToken="",this.sHuYaUA="",this.sCookie="",this.iTokenType=0,this.sDeviceInfo="",this.sQIMEI=""},bt.UserId.prototype._clone=function(){return new bt.UserId},bt.UserId.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.UserId.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.UserId.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sGuid),e.writeString(2,this.sToken),e.writeString(3,this.sHuYaUA),e.writeString(4,this.sCookie),e.writeInt32(5,this.iTokenType),e.writeString(6,this.sDeviceInfo),e.writeString(7,this.sQIMEI)},bt.UserId.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sGuid=e.readString(1,!1,this.sGuid),this.sToken=e.readString(2,!1,this.sToken),this.sHuYaUA=e.readString(3,!1,this.sHuYaUA),this.sCookie=e.readString(4,!1,this.sCookie),this.iTokenType=e.readInt32(5,!1,this.iTokenType),this.sDeviceInfo=e.readString(6,!1,this.sDeviceInfo),this.sQIMEI=e.readString(7,!1,this.sQIMEI)},bt.Location=function(){this.country="",this.region="",this.city="",this.type=0},bt.Location.prototype._clone=function(){return new bt.Location},bt.Location.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Location.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Location.prototype.writeTo=function(e){e.writeString(0,this.country),e.writeString(1,this.region),e.writeString(2,this.city),e.writeInt32(3,this.type)},bt.Location.prototype.readFrom=function(e){this.country=e.readString(0,!1,this.country),this.region=e.readString(1,!1,this.region),this.city=e.readString(2,!1,this.city),this.type=e.readInt32(3,!1,this.type)},bt.Content=function(){this.gameId="",this.gameName="",this.title="",this.competitionId=0},bt.Content.prototype._clone=function(){return new bt.Content},bt.Content.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Content.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Content.prototype.writeTo=function(e){e.writeString(0,this.gameId),e.writeString(1,this.gameName),e.writeString(2,this.title),e.writeInt64(3,this.competitionId)},bt.Content.prototype.readFrom=function(e){this.gameId=e.readString(0,!1,this.gameId),this.gameName=e.readString(1,!1,this.gameName),this.title=e.readString(2,!1,this.title),this.competitionId=e.readInt64(3,!1,this.competitionId)},bt.Presenter=function(){this.nick="",this.uid="",this.level="",this.gender="",this.attendeeCount="",this.type=0},bt.Presenter.prototype._clone=function(){return new bt.Presenter},bt.Presenter.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Presenter.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Presenter.prototype.writeTo=function(e){e.writeString(0,this.nick),e.writeString(1,this.uid),e.writeString(2,this.level),e.writeString(3,this.gender),e.writeString(4,this.attendeeCount),e.writeInt32(5,this.type)},bt.Presenter.prototype.readFrom=function(e){this.nick=e.readString(0,!1,this.nick),this.uid=e.readString(1,!1,this.uid),this.level=e.readString(2,!1,this.level),this.gender=e.readString(3,!1,this.gender),this.attendeeCount=e.readString(4,!1,this.attendeeCount),this.type=e.readInt32(5,!1,this.type)},bt.PCWebDevice=function(){this.deviceId="",this.type=0},bt.PCWebDevice.prototype._clone=function(){return new bt.PCWebDevice},bt.PCWebDevice.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.PCWebDevice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.PCWebDevice.prototype.writeTo=function(e){e.writeString(0,this.deviceId),e.writeInt32(1,this.type)},bt.PCWebDevice.prototype.readFrom=function(e){this.deviceId=e.readString(0,!1,this.deviceId),this.type=e.readInt32(1,!1,this.type)},bt.AdReq=function(){this.rid="",this.imps=new wt.Vector(new bt.Imp),this.app=new bt.App,this.ip="",this.info="",this.userId=new bt.UserId,this.location=new bt.Location,this.content=new bt.Content,this.presenter=new bt.Presenter,this.env=new wt.Map(new wt.STRING,new wt.STRING),this.pcWebDevice=new bt.PCWebDevice,this.queryType=0},bt.AdReq.prototype._clone=function(){return new bt.AdReq},bt.AdReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdReq.prototype.writeTo=function(e){e.writeString(0,this.rid),e.writeVector(1,this.imps),e.writeStruct(2,this.app),e.writeString(3,this.ip),e.writeString(4,this.info),e.writeStruct(5,this.userId),e.writeStruct(6,this.location),e.writeStruct(7,this.content),e.writeStruct(8,this.presenter),e.writeMap(9,this.env),e.writeStruct(10,this.pcWebDevice),e.writeInt32(11,this.queryType)},bt.AdReq.prototype.readFrom=function(e){this.rid=e.readString(0,!1,this.rid),this.imps=e.readVector(1,!1,this.imps),this.app=e.readStruct(2,!1,this.app),this.ip=e.readString(3,!1,this.ip),this.info=e.readString(4,!1,this.info),this.userId=e.readStruct(5,!1,this.userId),this.location=e.readStruct(6,!1,this.location),this.content=e.readStruct(7,!1,this.content),this.presenter=e.readStruct(8,!1,this.presenter),this.env=e.readMap(9,!1,this.env),this.pcWebDevice=e.readStruct(10,!1,this.pcWebDevice),this.queryType=e.readInt32(11,!1,this.queryType)},bt.AdReqV2=function(){this.rid="",this.imps=new wt.Vector(new bt.Imp),this.info="",this.userId=new St.UserId,this.content=new bt.Content,this.presenter=new bt.Presenter,this.env=new wt.Map(new wt.STRING,new wt.STRING)},bt.AdReqV2.prototype._clone=function(){return new bt.AdReqV2},bt.AdReqV2.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdReqV2.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdReqV2.prototype.writeTo=function(e){e.writeString(0,this.rid),e.writeVector(1,this.imps),e.writeString(2,this.info),e.writeStruct(3,this.userId),e.writeStruct(4,this.content),e.writeStruct(5,this.presenter),e.writeMap(6,this.env)},bt.AdReqV2.prototype.readFrom=function(e){this.rid=e.readString(0,!1,this.rid),this.imps=e.readVector(1,!1,this.imps),this.info=e.readString(2,!1,this.info),this.userId=e.readStruct(3,!1,this.userId),this.content=e.readStruct(4,!1,this.content),this.presenter=e.readStruct(5,!1,this.presenter),this.env=e.readMap(6,!1,this.env)},bt.AdCommonVideoInfo=function(){this.videoInfo=new _t.VideoInfo,this.type=0},bt.AdCommonVideoInfo.prototype._clone=function(){return new bt.AdCommonVideoInfo},bt.AdCommonVideoInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdCommonVideoInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdCommonVideoInfo.prototype.writeTo=function(e){e.writeStruct(1,this.videoInfo),e.writeInt32(2,this.type)},bt.AdCommonVideoInfo.prototype.readFrom=function(e){this.videoInfo=e.readStruct(1,!1,this.videoInfo),this.type=e.readInt32(2,!1,this.type)},bt.AdCommonImageInfo=function(){this.url="",this.type=0,this.width=0,this.height=0},bt.AdCommonImageInfo.prototype._clone=function(){return new bt.AdCommonImageInfo},bt.AdCommonImageInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdCommonImageInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdCommonImageInfo.prototype.writeTo=function(e){e.writeString(1,this.url),e.writeInt32(2,this.type),e.writeInt32(3,this.width),e.writeInt32(4,this.height)},bt.AdCommonImageInfo.prototype.readFrom=function(e){this.url=e.readString(1,!1,this.url),this.type=e.readInt32(2,!1,this.type),this.width=e.readInt32(3,!1,this.width),this.height=e.readInt32(4,!1,this.height)},bt.AdCommonLiveInfo=function(){this.presenterUid=0,this.status=0,this.statusName="",this.presenterName="",this.presenterTitle="",this.presenterIcon="",this.streamInfos=new wt.Vector(new _t.SimpleStreamInfo),this.captureUrl=""},bt.AdCommonLiveInfo.prototype._clone=function(){return new bt.AdCommonLiveInfo},bt.AdCommonLiveInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdCommonLiveInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdCommonLiveInfo.prototype.writeTo=function(e){e.writeInt64(1,this.presenterUid),e.writeInt32(3,this.status),e.writeString(4,this.statusName),e.writeString(5,this.presenterName),e.writeString(6,this.presenterTitle),e.writeString(7,this.presenterIcon),e.writeVector(8,this.streamInfos),e.writeString(9,this.captureUrl)},bt.AdCommonLiveInfo.prototype.readFrom=function(e){this.presenterUid=e.readInt64(1,!1,this.presenterUid),this.status=e.readInt32(3,!1,this.status),this.statusName=e.readString(4,!1,this.statusName),this.presenterName=e.readString(5,!1,this.presenterName),this.presenterTitle=e.readString(6,!1,this.presenterTitle),this.presenterIcon=e.readString(7,!1,this.presenterIcon),this.streamInfos=e.readVector(8,!1,this.streamInfos),this.captureUrl=e.readString(9,!1,this.captureUrl)},bt.AdMaterialInfo=function(){this.cacheKey="",this.type=0},bt.AdMaterialInfo.prototype._clone=function(){return new bt.AdMaterialInfo},bt.AdMaterialInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdMaterialInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdMaterialInfo.prototype.writeTo=function(e){e.writeString(1,this.cacheKey),e.writeInt32(2,this.type)},bt.AdMaterialInfo.prototype.readFrom=function(e){this.cacheKey=e.readString(1,!1,this.cacheKey),this.type=e.readInt32(2,!1,this.type)},bt.AdExtCommonInfo=function(){this.videoInfos=new wt.Vector(new bt.AdCommonVideoInfo),this.materialInfoMap=new wt.Map(new wt.INT32,new bt.AdMaterialInfo),this.imageInfos=new wt.Vector(new bt.AdCommonImageInfo),this.liveInfo=new bt.AdCommonLiveInfo},bt.AdExtCommonInfo.prototype._clone=function(){return new bt.AdExtCommonInfo},bt.AdExtCommonInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdExtCommonInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdExtCommonInfo.prototype.writeTo=function(e){e.writeVector(1,this.videoInfos),e.writeMap(2,this.materialInfoMap),e.writeVector(3,this.imageInfos),e.writeStruct(4,this.liveInfo)},bt.AdExtCommonInfo.prototype.readFrom=function(e){this.videoInfos=e.readVector(1,!1,this.videoInfos),this.materialInfoMap=e.readMap(2,!1,this.materialInfoMap),this.imageInfos=e.readVector(3,!1,this.imageInfos),this.liveInfo=e.readStruct(4,!1,this.liveInfo)},bt.Element=function(){this.id="",this.type=0,this.closeSec=0,this.showSec=0,this.imageUrl="",this.videoUrl="",this.videoDuration=0,this.iconUrl="",this.brand="",this.description="",this.actionTxt="",this.elementId=0,this.elementType=0,this.vid=0,this.firstFrameUrl="",this.transferVideoUrl="",this.tags="",this.adExtCommonInfo=new wt.BinBuffer,this.vid2=0,this.subVideoUrl="",this.subFirstFrameUrl="",this.subTransferVideoUrl="",this.videoCoverImageUrl="",this.imageMaterialShowRatio=0,this.videoMaterialShowRatio=0},bt.Element.prototype._clone=function(){return new bt.Element},bt.Element.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Element.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Element.prototype.writeTo=function(e){e.writeString(1,this.id),e.writeInt32(2,this.type),e.writeInt32(3,this.closeSec),e.writeInt32(4,this.showSec),e.writeString(5,this.imageUrl),e.writeString(6,this.videoUrl),e.writeInt32(7,this.videoDuration),e.writeString(8,this.iconUrl),e.writeString(9,this.brand),e.writeString(10,this.description),e.writeString(11,this.actionTxt),e.writeInt64(12,this.elementId),e.writeInt32(13,this.elementType),e.writeInt64(14,this.vid),e.writeString(15,this.firstFrameUrl),e.writeString(16,this.transferVideoUrl),e.writeString(17,this.tags),e.writeBytes(20,this.adExtCommonInfo),e.writeInt64(21,this.vid2),e.writeString(22,this.subVideoUrl),e.writeString(23,this.subFirstFrameUrl),e.writeString(24,this.subTransferVideoUrl),e.writeString(25,this.videoCoverImageUrl),e.writeInt32(26,this.imageMaterialShowRatio),e.writeInt32(27,this.videoMaterialShowRatio)},bt.Element.prototype.readFrom=function(e){this.id=e.readString(1,!1,this.id),this.type=e.readInt32(2,!1,this.type),this.closeSec=e.readInt32(3,!1,this.closeSec),this.showSec=e.readInt32(4,!1,this.showSec),this.imageUrl=e.readString(5,!1,this.imageUrl),this.videoUrl=e.readString(6,!1,this.videoUrl),this.videoDuration=e.readInt32(7,!1,this.videoDuration),this.iconUrl=e.readString(8,!1,this.iconUrl),this.brand=e.readString(9,!1,this.brand),this.description=e.readString(10,!1,this.description),this.actionTxt=e.readString(11,!1,this.actionTxt),this.elementId=e.readInt64(12,!1,this.elementId),this.elementType=e.readInt32(13,!1,this.elementType),this.vid=e.readInt64(14,!1,this.vid),this.firstFrameUrl=e.readString(15,!1,this.firstFrameUrl),this.transferVideoUrl=e.readString(16,!1,this.transferVideoUrl),this.tags=e.readString(17,!1,this.tags),this.adExtCommonInfo=e.readBytes(20,!1,this.adExtCommonInfo),this.vid2=e.readInt64(21,!1,this.vid2),this.subVideoUrl=e.readString(22,!1,this.subVideoUrl),this.subFirstFrameUrl=e.readString(23,!1,this.subFirstFrameUrl),this.subTransferVideoUrl=e.readString(24,!1,this.subTransferVideoUrl),this.videoCoverImageUrl=e.readString(25,!1,this.videoCoverImageUrl),this.imageMaterialShowRatio=e.readInt32(26,!1,this.imageMaterialShowRatio),this.videoMaterialShowRatio=e.readInt32(27,!1,this.videoMaterialShowRatio)},bt.ThirdCommonInfo=function(){this.bizType=0,this.data=new wt.BinBuffer},bt.ThirdCommonInfo.prototype._clone=function(){return new bt.ThirdCommonInfo},bt.ThirdCommonInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.ThirdCommonInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.ThirdCommonInfo.prototype.writeTo=function(e){e.writeInt32(1,this.bizType),e.writeBytes(2,this.data)},bt.ThirdCommonInfo.prototype.readFrom=function(e){this.bizType=e.readInt32(1,!1,this.bizType),this.data=e.readBytes(2,!1,this.data)},bt.Ad=function(){this.id="",this.sdkConf="",this.imageUrl="",this.iconUrl="",this.title="",this.description="",this.traceid="",this.templateId=0,this.videoUrl="",this.videoDuration=0,this.brand="",this.actionTxt="",this.viewUrl="",this.closeSec=0,this.showSec=0,this.pluginLocate=0,this.pluginWidth=0,this.pluginHeight=0,this.element=new bt.Element,this.ideaId=0,this.unitId=0,this.extra=new wt.Map(new wt.STRING,new wt.STRING),this.transferVideoUrl="",this.firstFrameUrl="",this.coverVideoUrl="",this.coverVideoFirstFrameUrl="",this.videoVid=0,this.tags="",this.coverVideoVid=0,this.adExtCommonInfo=new wt.BinBuffer,this.thirdCommonInfos=new wt.Vector(new bt.ThirdCommonInfo),this.imageMaterialShowRatio=0,this.videoMaterialShowRatio=0},bt.Ad.prototype._clone=function(){return new bt.Ad},bt.Ad.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.Ad.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.Ad.prototype.writeTo=function(e){e.writeString(0,this.id),e.writeString(1,this.sdkConf),e.writeString(2,this.imageUrl),e.writeString(3,this.iconUrl),e.writeString(4,this.title),e.writeString(5,this.description),e.writeString(6,this.traceid),e.writeInt32(7,this.templateId),e.writeString(8,this.videoUrl),e.writeInt32(9,this.videoDuration),e.writeString(10,this.brand),e.writeString(11,this.actionTxt),e.writeString(12,this.viewUrl),e.writeInt32(13,this.closeSec),e.writeInt32(14,this.showSec),e.writeInt32(15,this.pluginLocate),e.writeInt32(16,this.pluginWidth),e.writeInt32(17,this.pluginHeight),e.writeStruct(18,this.element),e.writeInt64(19,this.ideaId),e.writeInt64(20,this.unitId),e.writeMap(23,this.extra),e.writeString(24,this.transferVideoUrl),e.writeString(25,this.firstFrameUrl),e.writeString(26,this.coverVideoUrl),e.writeString(27,this.coverVideoFirstFrameUrl),e.writeInt64(29,this.videoVid),e.writeString(30,this.tags),e.writeInt64(31,this.coverVideoVid),e.writeBytes(34,this.adExtCommonInfo),e.writeVector(35,this.thirdCommonInfos),e.writeInt32(36,this.imageMaterialShowRatio),e.writeInt32(37,this.videoMaterialShowRatio)},bt.Ad.prototype.readFrom=function(e){this.id=e.readString(0,!1,this.id),this.sdkConf=e.readString(1,!1,this.sdkConf),this.imageUrl=e.readString(2,!1,this.imageUrl),this.iconUrl=e.readString(3,!1,this.iconUrl),this.title=e.readString(4,!1,this.title),this.description=e.readString(5,!1,this.description),this.traceid=e.readString(6,!1,this.traceid),this.templateId=e.readInt32(7,!1,this.templateId),this.videoUrl=e.readString(8,!1,this.videoUrl),this.videoDuration=e.readInt32(9,!1,this.videoDuration),this.brand=e.readString(10,!1,this.brand),this.actionTxt=e.readString(11,!1,this.actionTxt),this.viewUrl=e.readString(12,!1,this.viewUrl),this.closeSec=e.readInt32(13,!1,this.closeSec),this.showSec=e.readInt32(14,!1,this.showSec),this.pluginLocate=e.readInt32(15,!1,this.pluginLocate),this.pluginWidth=e.readInt32(16,!1,this.pluginWidth),this.pluginHeight=e.readInt32(17,!1,this.pluginHeight),this.element=e.readStruct(18,!1,this.element),this.ideaId=e.readInt64(19,!1,this.ideaId),this.unitId=e.readInt64(20,!1,this.unitId),this.extra=e.readMap(23,!1,this.extra),this.transferVideoUrl=e.readString(24,!1,this.transferVideoUrl),this.firstFrameUrl=e.readString(25,!1,this.firstFrameUrl),this.coverVideoUrl=e.readString(26,!1,this.coverVideoUrl),this.coverVideoFirstFrameUrl=e.readString(27,!1,this.coverVideoFirstFrameUrl),this.videoVid=e.readInt64(29,!1,this.videoVid),this.tags=e.readString(30,!1,this.tags),this.coverVideoVid=e.readInt64(31,!1,this.coverVideoVid),this.adExtCommonInfo=e.readBytes(34,!1,this.adExtCommonInfo),this.thirdCommonInfos=e.readVector(35,!1,this.thirdCommonInfos),this.imageMaterialShowRatio=e.readInt32(36,!1,this.imageMaterialShowRatio),this.videoMaterialShowRatio=e.readInt32(37,!1,this.videoMaterialShowRatio)},bt.SlotAd=function(){this.id=0,this.showType=0,this.ads=new wt.Vector(new bt.Ad),this.seq=0,this.rid="",this.extra=new wt.Map(new wt.STRING,new wt.STRING)},bt.SlotAd.prototype._clone=function(){return new bt.SlotAd},bt.SlotAd.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.SlotAd.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.SlotAd.prototype.writeTo=function(e){e.writeInt32(0,this.id),e.writeInt32(1,this.showType),e.writeVector(2,this.ads),e.writeInt32(3,this.seq),e.writeString(4,this.rid),e.writeMap(5,this.extra)},bt.SlotAd.prototype.readFrom=function(e){this.id=e.readInt32(0,!1,this.id),this.showType=e.readInt32(1,!1,this.showType),this.ads=e.readVector(2,!1,this.ads),this.seq=e.readInt32(3,!1,this.seq),this.rid=e.readString(4,!1,this.rid),this.extra=e.readMap(5,!1,this.extra)},bt.AdRsp=function(){this.code=0,this.message="",this.data=new wt.Vector(new bt.SlotAd)},bt.AdRsp.prototype._clone=function(){return new bt.AdRsp},bt.AdRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdRsp.prototype.writeTo=function(e){e.writeInt32(0,this.code),e.writeString(1,this.message),e.writeVector(2,this.data)},bt.AdRsp.prototype.readFrom=function(e){this.code=e.readInt32(0,!1,this.code),this.message=e.readString(1,!1,this.message),this.data=e.readVector(2,!1,this.data)},bt.AdRspV2=function(){this.code=0,this.message="",this.data=new wt.Vector(new bt.SlotAd)},bt.AdRspV2.prototype._clone=function(){return new bt.AdRspV2},bt.AdRspV2.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdRspV2.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdRspV2.prototype.writeTo=function(e){e.writeInt32(0,this.code),e.writeString(1,this.message),e.writeVector(2,this.data)},bt.AdRspV2.prototype.readFrom=function(e){this.code=e.readInt32(0,!1,this.code),this.message=e.readString(1,!1,this.message),this.data=e.readVector(2,!1,this.data)},bt.PushAdInfoEnvKey=function(){this.adTanChuangConfigId="adTanChuangConfigId"},bt.PushAdInfoEnvKey.prototype._clone=function(){return new bt.PushAdInfoEnvKey},bt.PushAdInfoEnvKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.PushAdInfoEnvKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.PushAdInfoEnvKey.prototype.writeTo=function(e){e.writeString(1,this.adTanChuangConfigId)},bt.PushAdInfoEnvKey.prototype.readFrom=function(e){this.adTanChuangConfigId=e.readString(1,!1,this.adTanChuangConfigId)},bt.PushAdInfo=function(){this.slotCode="",this.slotCnt=0,this.delaySec=0,this.env=new wt.Map(new wt.STRING,new wt.STRING),this.pid=0,this.ptime=0,this.platform="",this.unitId=0,this.delayMilSec=0,this.delayMilSecQuery=0,this.unitIds=new wt.Vector(new wt.INT64),this.queryType=0,this.delayMilSecQueryLimit=-1,this.defaultUnitIds=new wt.Vector(new wt.INT64)},bt.PushAdInfo.prototype._clone=function(){return new bt.PushAdInfo},bt.PushAdInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.PushAdInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.PushAdInfo.prototype.writeTo=function(e){e.writeString(1,this.slotCode),e.writeInt32(2,this.slotCnt),e.writeInt32(3,this.delaySec),e.writeMap(4,this.env),e.writeInt64(5,this.pid),e.writeInt64(6,this.ptime),e.writeString(7,this.platform),e.writeInt64(8,this.unitId),e.writeInt64(10,this.delayMilSec),e.writeInt32(11,this.delayMilSecQuery),e.writeVector(12,this.unitIds),e.writeInt32(13,this.queryType),e.writeInt32(14,this.delayMilSecQueryLimit),e.writeVector(15,this.defaultUnitIds)},bt.PushAdInfo.prototype.readFrom=function(e){this.slotCode=e.readString(1,!1,this.slotCode),this.slotCnt=e.readInt32(2,!1,this.slotCnt),this.delaySec=e.readInt32(3,!1,this.delaySec),this.env=e.readMap(4,!1,this.env),this.pid=e.readInt64(5,!1,this.pid),this.ptime=e.readInt64(6,!1,this.ptime),this.platform=e.readString(7,!1,this.platform),this.unitId=e.readInt64(8,!1,this.unitId),this.delayMilSec=e.readInt64(10,!1,this.delayMilSec),this.delayMilSecQuery=e.readInt32(11,!1,this.delayMilSecQuery),this.unitIds=e.readVector(12,!1,this.unitIds),this.queryType=e.readInt32(13,!1,this.queryType),this.delayMilSecQueryLimit=e.readInt32(14,!1,this.delayMilSecQueryLimit),this.defaultUnitIds=e.readVector(15,!1,this.defaultUnitIds)},bt.RefreshAdInfo=function(){this.cooperateOrder=0},bt.RefreshAdInfo.prototype._clone=function(){return new bt.RefreshAdInfo},bt.RefreshAdInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.RefreshAdInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.RefreshAdInfo.prototype.writeTo=function(e){e.writeInt32(0,this.cooperateOrder)},bt.RefreshAdInfo.prototype.readFrom=function(e){this.cooperateOrder=e.readInt32(0,!1,this.cooperateOrder)},bt.EAdType=function(){this.PAI_LIAN_XFQ="PAI_LIAN_XFQ",this.COMPETE_PX_BANNER="COMPETE_PX_BANNER"},bt.EAdType.prototype._clone=function(){return new bt.EAdType},bt.EAdType.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.EAdType.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.EAdType.prototype.writeTo=function(e){e.writeString(1,this.PAI_LIAN_XFQ),e.writeString(2,this.COMPETE_PX_BANNER)},bt.EAdType.prototype.readFrom=function(e){this.PAI_LIAN_XFQ=e.readString(1,!1,this.PAI_LIAN_XFQ),this.COMPETE_PX_BANNER=e.readString(2,!1,this.COMPETE_PX_BANNER)},bt.AdReqEnvKey=function(){this.csjAccessToken="csjAccessToken",this.innerSecondQuery="innerSecondQuery",this.amsBreaker="amsBreaker",this.unionBreaker="unionBreaker",this.mockTreatyUnit="mockTreatyUnit",this.installVx="installVx",this.wxInstallVersion="wxInstallVersion",this.pcRunVt="pcRunVt",this.adType="adType",this.adenv_installYybSdk="adenv_installYybSdk",this.adenv_unableInstallYybSdk="adenv_unableInstallYybSdk",this.adenv_hadLoginwx="adenv_hadLoginwx",this.AD_REQ_TYPE="AD_REQ_TYPE",this.adenv_multiSlotCsjAccessToken="adenv_multiSlotCsjAccessToken",this.adenv_amsDeviceInfo="adenv_amsDeviceInfo",this.adenv_sourceMiniGameAppid="adenv_sourceMiniGameAppid",this.adenv_csjSlotConfig="adenv_csjSlotConfig",this.adenv_sQIMEI32="adenv_sQIMEI32",this.adenv_turn="adenv_turn",this.userTencentBindLoginAppId="userTencentBindLoginAppId",this.userTencentBindLoginOpenId="userTencentBindLoginOpenId",this.userTencentBindLoginType="userTencentBindLoginType",this.adenv_ad_positon="adenv_ad_positon",this.comeFromExternalGatway="comeFromExternalGatway"},bt.AdReqEnvKey.prototype._clone=function(){return new bt.AdReqEnvKey},bt.AdReqEnvKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdReqEnvKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdReqEnvKey.prototype.writeTo=function(e){e.writeString(0,this.csjAccessToken),e.writeString(1,this.innerSecondQuery),e.writeString(2,this.amsBreaker),e.writeString(3,this.unionBreaker),e.writeString(9,this.mockTreatyUnit),e.writeString(13,this.installVx),e.writeString(14,this.wxInstallVersion),e.writeString(15,this.pcRunVt),e.writeString(16,this.adType),e.writeString(17,this.adenv_installYybSdk),e.writeString(18,this.adenv_unableInstallYybSdk),e.writeString(19,this.adenv_hadLoginwx),e.writeString(20,this.AD_REQ_TYPE),e.writeString(21,this.adenv_multiSlotCsjAccessToken),e.writeString(22,this.adenv_amsDeviceInfo),e.writeString(23,this.adenv_sourceMiniGameAppid),e.writeString(24,this.adenv_csjSlotConfig),e.writeString(25,this.adenv_sQIMEI32),e.writeString(26,this.adenv_turn),e.writeString(27,this.userTencentBindLoginAppId),e.writeString(28,this.userTencentBindLoginOpenId),e.writeString(29,this.userTencentBindLoginType),e.writeString(30,this.adenv_ad_positon),e.writeString(31,this.comeFromExternalGatway)},bt.AdReqEnvKey.prototype.readFrom=function(e){this.csjAccessToken=e.readString(0,!1,this.csjAccessToken),this.innerSecondQuery=e.readString(1,!1,this.innerSecondQuery),this.amsBreaker=e.readString(2,!1,this.amsBreaker),this.unionBreaker=e.readString(3,!1,this.unionBreaker),this.mockTreatyUnit=e.readString(9,!1,this.mockTreatyUnit),this.installVx=e.readString(13,!1,this.installVx),this.wxInstallVersion=e.readString(14,!1,this.wxInstallVersion),this.pcRunVt=e.readString(15,!1,this.pcRunVt),this.adType=e.readString(16,!1,this.adType),this.adenv_installYybSdk=e.readString(17,!1,this.adenv_installYybSdk),this.adenv_unableInstallYybSdk=e.readString(18,!1,this.adenv_unableInstallYybSdk),this.adenv_hadLoginwx=e.readString(19,!1,this.adenv_hadLoginwx),this.AD_REQ_TYPE=e.readString(20,!1,this.AD_REQ_TYPE),this.adenv_multiSlotCsjAccessToken=e.readString(21,!1,this.adenv_multiSlotCsjAccessToken),this.adenv_amsDeviceInfo=e.readString(22,!1,this.adenv_amsDeviceInfo),this.adenv_sourceMiniGameAppid=e.readString(23,!1,this.adenv_sourceMiniGameAppid),this.adenv_csjSlotConfig=e.readString(24,!1,this.adenv_csjSlotConfig),this.adenv_sQIMEI32=e.readString(25,!1,this.adenv_sQIMEI32),this.adenv_turn=e.readString(26,!1,this.adenv_turn),this.userTencentBindLoginAppId=e.readString(27,!1,this.userTencentBindLoginAppId),this.userTencentBindLoginOpenId=e.readString(28,!1,this.userTencentBindLoginOpenId),this.userTencentBindLoginType=e.readString(29,!1,this.userTencentBindLoginType),this.adenv_ad_positon=e.readString(30,!1,this.adenv_ad_positon),this.comeFromExternalGatway=e.readString(31,!1,this.comeFromExternalGatway)},bt.AdImpExtraKey=function(){this.AD_REQ_TYPE="AD_REQ_TYPE"},bt.AdImpExtraKey.prototype._clone=function(){return new bt.AdImpExtraKey},bt.AdImpExtraKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdImpExtraKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdImpExtraKey.prototype.writeTo=function(e){e.writeString(0,this.AD_REQ_TYPE)},bt.AdImpExtraKey.prototype.readFrom=function(e){this.AD_REQ_TYPE=e.readString(0,!1,this.AD_REQ_TYPE)},bt.AdExtraKey=function(){this.themeAliasName="themeAliasName",this.themeName="themeName",this.adImpCnt="adImpCnt",this.csjUnionPrice="csjUnionPrice",this.csjUnionAdm="csjUnionAdm",this.ecpm="ecpm",this.innerSlotAppId="innerSlotAppId",this.innerSlotId="innerSlotId",this.slotCode="slotCode",this.clickRedirect="clickRedirect",this.lianYunIosIeg="lianYunIosIeg",this.lianYunGameAppId="lianYunGameAppId",this.lianYunGameId="lianYunGameId",this.serverContextStr="serverContextStr",this.amsBidding="amsBidding",this.amsBiddingGears="amsBiddingGears",this.iconFlag="iconFlag",this.wxAdAppJson="wxAdAppJson",this.adLandingType="adLandingType",this.appJiLiShiPinExpIdValue="appJiLiShiPinExpIdValue",this.adType="adType",this.adSubType="adSubType",this.costType="costType",this.reflowGameType="reflowGameType",this.reflowGameIds="reflowGameIds",this.subLandingUrl="subLandingUrl",this.presenterUid="presenterUid",this.appExpIdValue="appExpIdValue",this.breathe="breathe",this.amsQrcodeInfo="amsQrcodeInfo",this.recomAdTraceId="recomAdTraceId",this.videoVolumeMode="videoVolumeMode",this.bidGameBaseId="bidGameBaseId",this.bidCtr="bidCtr",this.slotId="slotId",this.amsAdMode="amsAdMode",this.uniqRoomid="uniqRoomid",this.originAmsRsp="originAmsRsp",this.appHuyaLogo="appHuyaLogo",this.appAdLogoSign="appAdLogoSign",this.sensitiveType="sensitiveType",this.sensitive="sensitive",this.programType="programType",this.urlScheme="urlScheme"},bt.AdExtraKey.prototype._clone=function(){return new bt.AdExtraKey},bt.AdExtraKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AdExtraKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AdExtraKey.prototype.writeTo=function(e){e.writeString(0,this.themeAliasName),e.writeString(1,this.themeName),e.writeString(2,this.adImpCnt),e.writeString(3,this.csjUnionPrice),e.writeString(4,this.csjUnionAdm),e.writeString(5,this.ecpm),e.writeString(6,this.innerSlotAppId),e.writeString(7,this.innerSlotId),e.writeString(8,this.slotCode),e.writeString(9,this.clickRedirect),e.writeString(10,this.lianYunIosIeg),e.writeString(11,this.lianYunGameAppId),e.writeString(12,this.lianYunGameId),e.writeString(13,this.serverContextStr),e.writeString(14,this.amsBidding),e.writeString(15,this.amsBiddingGears),e.writeString(17,this.iconFlag),e.writeString(21,this.wxAdAppJson),e.writeString(22,this.adLandingType),e.writeString(23,this.appJiLiShiPinExpIdValue),e.writeString(24,this.adType),e.writeString(25,this.adSubType),e.writeString(26,this.costType),e.writeString(27,this.reflowGameType),e.writeString(29,this.reflowGameIds),e.writeString(30,this.subLandingUrl),e.writeString(32,this.presenterUid),e.writeString(33,this.appExpIdValue),e.writeString(34,this.breathe),e.writeString(35,this.amsQrcodeInfo),e.writeString(36,this.recomAdTraceId),e.writeString(38,this.videoVolumeMode),e.writeString(39,this.bidGameBaseId),e.writeString(40,this.bidCtr),e.writeString(41,this.slotId),e.writeString(42,this.amsAdMode),e.writeString(43,this.uniqRoomid),e.writeString(44,this.originAmsRsp),e.writeString(45,this.appHuyaLogo),e.writeString(46,this.appAdLogoSign),e.writeString(47,this.sensitiveType),e.writeString(48,this.sensitive),e.writeString(49,this.programType),e.writeString(50,this.urlScheme)},bt.AdExtraKey.prototype.readFrom=function(e){this.themeAliasName=e.readString(0,!1,this.themeAliasName),this.themeName=e.readString(1,!1,this.themeName),this.adImpCnt=e.readString(2,!1,this.adImpCnt),this.csjUnionPrice=e.readString(3,!1,this.csjUnionPrice),this.csjUnionAdm=e.readString(4,!1,this.csjUnionAdm),this.ecpm=e.readString(5,!1,this.ecpm),this.innerSlotAppId=e.readString(6,!1,this.innerSlotAppId),this.innerSlotId=e.readString(7,!1,this.innerSlotId),this.slotCode=e.readString(8,!1,this.slotCode),this.clickRedirect=e.readString(9,!1,this.clickRedirect),this.lianYunIosIeg=e.readString(10,!1,this.lianYunIosIeg),this.lianYunGameAppId=e.readString(11,!1,this.lianYunGameAppId),this.lianYunGameId=e.readString(12,!1,this.lianYunGameId),this.serverContextStr=e.readString(13,!1,this.serverContextStr),this.amsBidding=e.readString(14,!1,this.amsBidding),this.amsBiddingGears=e.readString(15,!1,this.amsBiddingGears),this.iconFlag=e.readString(17,!1,this.iconFlag),this.wxAdAppJson=e.readString(21,!1,this.wxAdAppJson),this.adLandingType=e.readString(22,!1,this.adLandingType),this.appJiLiShiPinExpIdValue=e.readString(23,!1,this.appJiLiShiPinExpIdValue),this.adType=e.readString(24,!1,this.adType),this.adSubType=e.readString(25,!1,this.adSubType),this.costType=e.readString(26,!1,this.costType),this.reflowGameType=e.readString(27,!1,this.reflowGameType),this.reflowGameIds=e.readString(29,!1,this.reflowGameIds),this.subLandingUrl=e.readString(30,!1,this.subLandingUrl),this.presenterUid=e.readString(32,!1,this.presenterUid),this.appExpIdValue=e.readString(33,!1,this.appExpIdValue),this.breathe=e.readString(34,!1,this.breathe),this.amsQrcodeInfo=e.readString(35,!1,this.amsQrcodeInfo),this.recomAdTraceId=e.readString(36,!1,this.recomAdTraceId),this.videoVolumeMode=e.readString(38,!1,this.videoVolumeMode),this.bidGameBaseId=e.readString(39,!1,this.bidGameBaseId),this.bidCtr=e.readString(40,!1,this.bidCtr),this.slotId=e.readString(41,!1,this.slotId),this.amsAdMode=e.readString(42,!1,this.amsAdMode),this.uniqRoomid=e.readString(43,!1,this.uniqRoomid),this.originAmsRsp=e.readString(44,!1,this.originAmsRsp),this.appHuyaLogo=e.readString(45,!1,this.appHuyaLogo),this.appAdLogoSign=e.readString(46,!1,this.appAdLogoSign),this.sensitiveType=e.readString(47,!1,this.sensitiveType),this.sensitive=e.readString(48,!1,this.sensitive),this.programType=e.readString(49,!1,this.programType),this.urlScheme=e.readString(50,!1,this.urlScheme)},bt.AmsQrcodeInfoJsonKey=function(){this.qrcodeUrl="qrcodeUrl",this.qrcodeTips="qrcodeTips",this.interactiveModeList="interactiveModeList"},bt.AmsQrcodeInfoJsonKey.prototype._clone=function(){return new bt.AmsQrcodeInfoJsonKey},bt.AmsQrcodeInfoJsonKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.AmsQrcodeInfoJsonKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.AmsQrcodeInfoJsonKey.prototype.writeTo=function(e){e.writeString(0,this.qrcodeUrl),e.writeString(1,this.qrcodeTips),e.writeString(2,this.interactiveModeList)},bt.AmsQrcodeInfoJsonKey.prototype.readFrom=function(e){this.qrcodeUrl=e.readString(0,!1,this.qrcodeUrl),this.qrcodeTips=e.readString(1,!1,this.qrcodeTips),this.interactiveModeList=e.readString(2,!1,this.interactiveModeList)},bt.SlotExtraKey=function(){this.playWhileLoading="playWhileLoading"},bt.SlotExtraKey.prototype._clone=function(){return new bt.SlotExtraKey},bt.SlotExtraKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.SlotExtraKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.SlotExtraKey.prototype.writeTo=function(e){e.writeString(0,this.playWhileLoading)},bt.SlotExtraKey.prototype.readFrom=function(e){this.playWhileLoading=e.readString(0,!1,this.playWhileLoading)},bt.WxAppJsonKey=function(){this.wxAdAppId="wxAppId",this.wxAppPath="wxAppPath",this.wxAppAdId="wxAppAdId",this.wxAppPosId="wxAppPosId",this.wxAppTraceId="wxAppTraceId",this.wxAppNetLogId="wxAppNetLogId",this.openWxGameMode="openWxGameMode",this.wxAdSourceFrom="wxAdSourceFrom",this.huyaAdId="huyaAdId",this.rewardAuth="rewardAuth",this.wxAppOriginTraceId="wxAppOriginTraceId"},bt.WxAppJsonKey.prototype._clone=function(){return new bt.WxAppJsonKey},bt.WxAppJsonKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.WxAppJsonKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.WxAppJsonKey.prototype.writeTo=function(e){e.writeString(1,this.wxAdAppId),e.writeString(2,this.wxAppPath),e.writeString(3,this.wxAppAdId),e.writeString(4,this.wxAppPosId),e.writeString(5,this.wxAppTraceId),e.writeString(6,this.wxAppNetLogId),e.writeString(7,this.openWxGameMode),e.writeString(8,this.wxAdSourceFrom),e.writeString(9,this.huyaAdId),e.writeString(10,this.rewardAuth),e.writeString(11,this.wxAppOriginTraceId)},bt.WxAppJsonKey.prototype.readFrom=function(e){this.wxAdAppId=e.readString(1,!1,this.wxAdAppId),this.wxAppPath=e.readString(2,!1,this.wxAppPath),this.wxAppAdId=e.readString(3,!1,this.wxAppAdId),this.wxAppPosId=e.readString(4,!1,this.wxAppPosId),this.wxAppTraceId=e.readString(5,!1,this.wxAppTraceId),this.wxAppNetLogId=e.readString(6,!1,this.wxAppNetLogId),this.openWxGameMode=e.readString(7,!1,this.openWxGameMode),this.wxAdSourceFrom=e.readString(8,!1,this.wxAdSourceFrom),this.huyaAdId=e.readString(9,!1,this.huyaAdId),this.rewardAuth=e.readString(10,!1,this.rewardAuth),this.wxAppOriginTraceId=e.readString(11,!1,this.wxAppOriginTraceId)},bt.BiddingAdExtraKey=function(){this.amsMaterialId="amsMaterialId",this.amsPassThrough="amsPassThrough",this.title="title",this.desc="desc",this.picUrl="picUrl",this.videoUrl="videoUrl",this.logo="logo",this.iconUrl="iconUrl",this.appName="appName",this.brandName="brandName"},bt.BiddingAdExtraKey.prototype._clone=function(){return new bt.BiddingAdExtraKey},bt.BiddingAdExtraKey.prototype._write=function(e,t,i){e.writeStruct(t,i)},bt.BiddingAdExtraKey.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},bt.BiddingAdExtraKey.prototype.writeTo=function(e){e.writeString(0,this.amsMaterialId),e.writeString(1,this.amsPassThrough),e.writeString(2,this.title),e.writeString(3,this.desc),e.writeString(4,this.picUrl),e.writeString(5,this.videoUrl),e.writeString(6,this.logo),e.writeString(7,this.iconUrl),e.writeString(8,this.appName),e.writeString(9,this.brandName)},bt.BiddingAdExtraKey.prototype.readFrom=function(e){this.amsMaterialId=e.readString(0,!1,this.amsMaterialId),this.amsPassThrough=e.readString(1,!1,this.amsPassThrough),this.title=e.readString(2,!1,this.title),this.desc=e.readString(3,!1,this.desc),this.picUrl=e.readString(4,!1,this.picUrl),this.videoUrl=e.readString(5,!1,this.videoUrl),this.logo=e.readString(6,!1,this.logo),this.iconUrl=e.readString(7,!1,this.iconUrl),this.appName=e.readString(8,!1,this.appName),this.brandName=e.readString(9,!1,this.brandName)};var Et=(et={AdxServer:bt,Nimo:St,Taf:wt}).AdxServer,Tt=et.Taf,kt={track:["impression","landingImpression","elementImpression","close","elementClose"],click:["click","landingClick","elementClick"],play:["play","elementPlay"],converion:["conversion"],negativeFeedback:["negativeFeedback"],externalEvent:["externalEvent"]},Ct="ClickReq",xt="PlayReq",At="ConversionReq",Rt="NegativeFeedBackReq",Pt="ExternalEventReq";function Lt(e,t){function i(e,t,i,n){return i=2<arguments.length&&void 0!==i?i:"TrackReq",n=3<arguments.length&&void 0!==n?n:"TrackRsp",r(e,l({},1<arguments.length&&void 0!==t?t:{}),"ad_report",gt[i],gt[n])}function n(e,t,n,r){var a=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length&&void 0!==n?n:"TrackReq";t=3<arguments.length&&void 0!==r?r:"TrackRsp",n=a.e,r=void 0===(r=a.env)?{}:r,(a=l({},p(a,["e","env"]))).track=function(e){var t=0<arguments.length&&void 0!==e?e:{},i=new gt.TrackReq,n=(e=t.env,p(t,["env"]));return i.ua=navigator.userAgent,Object.keys(n).forEach((function(e){i[e]=n[e]})),e&&(i.env.value=e),i}({e:n,env:r}),i(e,a,o,t)}var r=function(e,t){if(e=0<arguments.length&&void 0!==e&&e,t=1<arguments.length&&void 0!==t?t:{},!vt&&(F.log("init taf sdk",e,t),vt=new ht(l({showLog:!0,useMock:!1,isDebug:e,mockTime:2e3,isApp:!1},t)),fe))try{vt.signalSdk.on("WEBSOCKET_CONNECTED",(function(){(new lt).toWupContext2().then((function(e){F.log("getABTestResp toWupContext:",e),vt.signalSdk.updateUserExps(e)}))}))}catch(e){}var i={"-1":"本地任务超时","-3":"本地开始任务失败","-10":"信令未初始化化时请求","-101":"触发信令接口频控限制，或IP黑名单","-102":"信令边缘节点协议解析异常","-103":"信令边缘节点回源请求核心机房wup服务异常","-500":"首包异常，返回值解释错误","-10092":"socket发送异常","-10504":"解析流消息失败（解包错误）","-20001":"封包错误","-20002":"未注册的接口"},n={"-1":"APP端业务接口超时；或JCE反序列化失败，可能和业务返回码重叠；".concat(""),"-2":"JCE序列化失败；".concat(""),"-3":"接口找不到；".concat(""),"-4":"找不到servant；".concat(""),"-5":"JCESERVERRESETGRID；".concat(""),"-6":"队列过载；".concat(""),"-7":"业务接口超时；".concat(""),"-8":"连接错误；".concat(""),"-9":"服务过载；".concat(""),"-10":"服务servant为空；".concat(""),"-11":"set无效；".concat(""),"-99":"未知错误；".concat(""),"-101":"触发信令接口频控限制、或ip黑名单；".concat(""),"-102":"信令边缘节点协议解析异常；".concat(""),"-103":"信令边缘节点回源请求核心机房wup服务异常；".concat(""),905:"校验失败，一般是UserId结构体的信息传错了，确认下代码，或者去群里问下",904:"一般是请求体参数错误，找对应的服务端确认哪个参数传错了"};return function(e,t,r,a,o){return new Promise((function(s,c){vt.sendWup(e,t,a,o,r).then((function(t){console.log("TafSendWup Resp",e,t);var r,a,o=t.bcode,l=t.sdkcode,u=t.data;0===o&&0===l?(r=u.code,a=u.errMsg,t=u.message,200!==r?(t=new Error(a||t),c(t)):s(u)):(l=new Error(void 0!==o&&0!=o?o<0?n[o]||"业务请求异常，请稍等~":0<o?"http错误，逻辑错误":"业务请求异常~":0!==l&&l<0?i[l]||"请求异常，请稍等~":"请求异常~"),c(l))}))}))}}(0<arguments.length&&void 0!==e&&e,1<arguments.length&&void 0!==t?t:{});return{getEbyUrl:function(e){return t="e",e=e,t=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),null!=(t=(e?e.split("?")[1]:window.location.search.substring(1)).match(t))?decodeURIComponent(t[2]):null;var t},AdDataReport:gt,getAdData:function(e){return e=function(e){var t=void 0===(u=e.imps)?[]:u,i=void 0===(o=e.content)?{}:o,n=void 0===(s=e.presenter)?{}:s,r=void 0===(c=e.uid)?{}:c,a=void 0===(l=e.env)?{}:l,o=void 0===(u=e.device)?{}:u,s=p(e,["imps","content","presenter","uid","env","device"]),c=new Et.Content,l=new Et.Presenter,u=new Et.PCWebDevice,d=new Tt.Vector(new Et.Imp);return e=new Tt.Map(new Tt.STRING,new Tt.STRING),u.type=o.type||"web",u.deviceId=o.deviceId||navigator.userAgent,t&&t.length&&t.forEach((function(e){var t=new Et.Imp;d.value.push(It(t,e))})),t=(o=a||{}).adenv_sQIMEI36,a=o.gameSessionInfos,o=p(o,["adenv_sQIMEI36","gameSessionInfos"]),e.value=o||{},s.env=e,s.imps=d,r=function(e){var t=0<arguments.length&&void 0!==e?e:{},i=ce()||{};return(e=new Et.UserId).lUid=t.uid||Number(J.get("udb_uid")),e.sCookie=document.cookie,e.iTokenType=0,e.sGuid=t.guid||i.guid||J.get("guid"),e.sToken="",e.sHuYaUA=t.huyaUa||"web&1.0.0&huya",e}(r),s.userId=new Et.UserId,It(s.userId,r),t&&(s.userId.sQIMEI=t),s.content=It(c,i),s.presenter=It(l,n),s.pcWebDevice=u,me?s.env.value.gameSessionInfos=a:(u=Fe())&&(a=[],u.primary&&u.primary.value&&a.push(u.primary.value),u.secondary&&u.secondary.value&&a.push(u.secondary.value),s.env.value.gameSessionInfos=a&&a.length?JSON.stringify(a):""),s}(e),r("queryAd",e,"adui",Et.AdReq,Et.AdRsp)},reportBase:i,reportDefault:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};n=(t=l({ua:navigator.userAgent},n)).env,t=p(t,["env"]),n&&(t.env=new Tt.Map(new Tt.STRING,new Tt.STRING),t.env.value=n),i(e,t)},reportTrack:n,reportClick:function(e,t){t=1<arguments.length&&void 0!==t?t:{},console.log("Taf",Tt),n(e,t,Ct)},reportPlay:function(e,t){n(e,1<arguments.length&&void 0!==t?t:{},xt)},reportConversion:function(e,t){n(e,1<arguments.length&&void 0!==t?t:{},At)},reportNegativeFeedback:function(e,t){n(e,1<arguments.length&&void 0!==t?t:{},Rt)},reportExternalEvent:function(e,t){n(e,1<arguments.length&&void 0!==t?t:{},Pt)}}}function Mt(e){return e&&e.replace("__TS__",Date.now())}function Dt(e,t){if(!t)return e;var i=e;return Object.keys(t).forEach((function(e){i=i.replace(new RegExp("".concat(e),"g"),t[e])})),i}function Bt(e,t,i,n){var r=2<arguments.length&&void 0!==i?i:{},a=3<arguments.length&&void 0!==n?n:{};i="reportDefault",0<=kt.click.indexOf(e)?i="reportClick":0<=kt.play.indexOf(e)?i="reportPlay":0<=kt.converion.indexOf(e)?i="reportConverion":0<=kt.negativeFeedback.indexOf(e)?i="reportNegativeFeedback":0<=kt.externalEvent.indexOf(e)&&(i="reportExternalEvent"),n=oe(),F.log("reportTaf common env:",n),F.log("reportTaf input env:",a),Ut[i](e,l({e:t,env:l(l({},a),n)},r))}function Nt(e,t,i,n){var r=2<arguments.length&&void 0!==i?i:{};if(i=3<arguments.length&&void 0!==n?n:{},Ut){if(!t)throw new Error("上报需传对应的taf上报方法名");Bt(t,n=Ut.getEbyUrl(e),r,i)}else Q(e,l(l({},r),i))}new gt.ExternalEvent,IntersectionObserver.prototype.THROTTLE_TIMEOUT=300;var Ut=null,Ft={},Ot=null;return(et=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,L);var e,t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=u(e);return h(this,t?(i=u(this).constructor,Reflect.construct(n,arguments,i)):n.apply(this,arguments))}}(s);function s(e){return a(this,s),(e=r.call(this,e)).intersectionObserver=null,e.env={},e.device=null,e.adenvReqUniqId=null,e.init(),e}return e=s,n=[{key:"setTestEnvironment",value:function(e,t){e=0<arguments.length&&void 0!==e&&e,t=1<arguments.length&&void 0!==t?t:{},void 0!==i(this.isTest=e)&&re(e),Ut||(je(),Ut=Lt(e,t))}},{key:"setConfig",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};console.log("setConfig:",n);var r=n.isTest,a=n.abConfig,o=n.autoGetEnv,s=n.autoInjectEnv;e=n.adenvReqUniqId,n=void 0===(n=n.tafOpts)?{}:n,Ut||(void 0!==i(r)&&(re(r),this.isTest=r),void 0!==i(a)&&(fe=a),je(),me||(We(),"undefined"==typeof window||Ue||(Ue=setInterval((function(){console.log("[GS Cache] Timer triggered: Attempting to refresh GS data."),We()}),24*Ne*60*60*1e3))),Ut=Lt(r,n)),this.adenvReqUniqId=e,(o||s)&&(me?Promise.all([Je(),ce()]).then((function(e){var i=(n=f(e,2))[0],n=(n[1],e=i||{}).mpEnv;i=e.sQiMei36,n&&(n=(e=n||{}).sdk_device_info,e=p(e,["sdk_device_info"]),n&&(t.device=ze(n)),e=e||{},t.adenvReqUniqId=e.adenv_req_uniq_id,e.adenv_sQIMEI36=i,t.env=e)})):(Ot=Ot||new le,this.env=Ot.setEnvQimei(this.env)))}},{key:"getDevice",value:function(){return me?Je().then((function(e){if(e=(e||{}).mpEnv){var t=(e||{}).sdk_device_info;return t?ze(t):{type:8,deviceId:navigator.userAgent}}return t=ae(),F.log("report getDevice:",t),t||{type:8,deviceId:navigator.userAgent}})):Promise.resolve({type:me?8:4,deviceId:navigator.userAgent})}},{key:"getAdvEnvInfo",value:function(){if(me)return Je().then((function(e){var t=oe();return(e=(e||{}).mpEnv)?((e=e||{}).sdk_device_info,p(e,["sdk_device_info"])||t):(F.log("report getAdvEnvInfo:",t),t||{queryPlatform:8,innerSecondQuery:"0"})}));var e=(Ot=Ot||new le).setEnvQimei({queryPlatform:4});return F.log("report getAdvEnvInfo:",e),Promise.resolve(e)}},{key:"getAdInfo",value:function(e){Ut=Ut||Lt(!0,Ft);var t=ae();return e.device=t,Ut.getAdData(e)}},{key:"getGsDataInfo",value:function(){return We(),Fe()}},{key:"reportDefault",value:function(e,t){(Ut=Ut||Lt(!0,Ft)).reportDefault(e,t)}},{key:"reportTrack",value:function(e,t,i,n){i=2<arguments.length&&void 0!==i?i:"TrackReq",n=3<arguments.length&&void 0!==n?n:"TrackRsp",(Ut=Ut||Lt(!0,Ft)).reportTrack(e,t,i,n)}},{key:"getConfig",value:function(e){var t=null;try{t=JSON.parse(e)}catch(e){throw new Error("点击上报信息 adConf 必须为json字符串！")}return t}},{key:"reportApi",value:function(e,t,i,n){var r=2<arguments.length&&void 0!==i?i:{},a=3<arguments.length&&void 0!==n&&n;if(n=function(e){a?ee(e,r):Nt(e,t,r)},!e)throw new Error("上报信息 url 必须要提供！");Array.isArray(e)?e.forEach(n):n(e)}},{key:"reportApiByField",value:function(e,t,i,n){if(i=2<arguments.length&&void 0!==i?i:{},n=3<arguments.length&&void 0!==n&&n,!e)throw new Error("点击上报信息 adConf 必须要提供！");if(!t)throw new Error("上报对应字段信息必须要提供！");e=this.getConfig(e),s.reportApiByConfField(e,t,i,n)}},{key:"reportApiByConfField",value:function(e,t,i,n){var r=2<arguments.length&&void 0!==i?i:{},a=3<arguments.length&&void 0!==n&&n;if(n=function(e){(a?ee:Q)(e,r)},!(t=e[t]))throw new Error("上报信息 url 必须要提供！");Array.isArray(t)?t.forEach(n):n(t)}},{key:"reportApiByTaf",value:function(e,t,i,n){if(i=2<arguments.length&&void 0!==i?i:{},n=3<arguments.length&&void 0!==n?n:{},!e)throw new Error("点击上报信息 adConf 必须要提供！");if(!t)throw new Error("上报方法名必须要提供！");Bt(t,(e=this.getConfig(e)).e,i,n)}},{key:"reportElementPageView",value:function(e,t,i){s.reportApiByTaf(e,"elementImpression",2<arguments.length&&void 0!==i?i:{},1<arguments.length&&void 0!==t?t:{})}},{key:"reportElementClick",value:function(e,t,i){s.reportApiByTaf(e,"elementClick",2<arguments.length&&void 0!==i?i:{},1<arguments.length&&void 0!==t?t:{})}},{key:"reportElementPlay",value:function(e,t,i){s.reportApiByTaf(e,"elementPlay",1<arguments.length&&void 0!==t?t:{},2<arguments.length&&void 0!==i?i:{})}},{key:"reportElementSkip",value:function(e,t,i){s.reportApiByTaf(e,"elementClose",2<arguments.length&&void 0!==i?i:{},1<arguments.length&&void 0!==t?t:{})}},{key:"reportPageView",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i?i:{};if(!e)throw new Error("曝光上报信息 adConf 必须要提供！");((t=this.getConfig(e)).impressionLink||[]).forEach((function(e){return Nt(e,"impression",r,n)}));var a=(i=r||{}).__MACRO__,o=(e=i.__IMG_REPORT__,p(i,["__MACRO__","__IMG_REPORT__"])),s=e?te:ee;(t.impressionUrl||[]).forEach((function(e){return s(Dt(e,a),o)})),t.thirdImpression&&t.thirdImpression.length&&t.thirdImpression.forEach((function(e){return ee(Mt(e),r)}))}},{key:"reportLandingPageView",value:function(e,t,i){if(t=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==i?i:{},!e)throw new Error("点击上报信息 adConf 必须要提供！");e=this.getConfig(e),Ut.reportDefault("landingImpression",l({e:e.e,env:t},i))}},{key:"reportLandingClick",value:function(e,t,i){if(t=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==i?i:{},!e)throw new Error("点击上报信息 adConf 必须要提供！");e=this.getConfig(e),Ut.reportClick("landingClick",l({e:e.e,env:t},i))}},{key:"reportClick",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i?i:{};if(!e)throw new Error("点击上报信息 adConf 必须要提供！");var a,o,s,c=this.getConfig(e);(c.clickLink||[]).forEach((function(e){return Nt(e,"click",l({e:c.e},r),n)})),(c.clickUrl||[]).forEach((function(e){return ee(e,r)})),c.destUrls&&(ie(c.id)||(a=(i=r||{}).__MACRO__,e=i.__IMG_REPORT__,o=p(i,["__MACRO__","__IMG_REPORT__"]),s=e?te:ee,(c.destUrls||[]).forEach((function(e){return s(Dt(e,a),o)})))),c.thirdClick&&c.thirdClick.length&&c.thirdClick.forEach((function(e){return ee(Mt(e),r)}))}},{key:"reportPlaying",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i?i:{};if(!e)throw new Error("播放上报信息 adConf 必须要提供！");((e=this.getConfig(e)).playLink||[]).forEach((function(e){return Nt(e,"play",n,r)})),(e.playUrl||[]).forEach((function(e){return ee(e,n)}))}},{key:"reportPlayingByOne",value:function(e,t,i,n){t=1<arguments.length&&void 0!==t&&t;var r=2<arguments.length&&void 0!==i?i:{},a=3<arguments.length&&void 0!==n?n:{};if(!e)throw new Error("播放上报信息 adConf 必须要提供！");e=this.getConfig(e),t?(e.playUrl||[]).forEach((function(e){return ee(e,r)})):(e.playLink||[]).forEach((function(e){return Nt(e,"play",r,a)}))}},{key:"reportClose",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i?i:{};if(!e)throw new Error("关闭与跳过上报 adConf 必须要提供！");((e=this.getConfig(e)).skipLink||[]).forEach((function(e){return Nt(e,"close",r,n)})),(e.skipUrl||[]).forEach((function(e){return ee(e,r)}))}},{key:"report360Playing",value:function(e,t,i){if(i=2<arguments.length&&void 0!==i?i:{},!e)throw new Error("播放上报信息 adConf 必须要提供！");e=this.getConfig(e);var n=(i=i||{}).__MACRO__,r=p(i,["__MACRO__"]);(e[t]||[]).forEach((function(e){return te(Dt(e,n||{}),r)}))}},{key:"reportRecommend",value:function(e){if(!e)throw new Error("360个推上报信息 adConf 必须要提供！");(this.getConfig(e).personRecommendUrls||[]).forEach((function(e){return te(e,{})}))}},{key:"reportConversion",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i?i:{};if(!e)throw new Error("关闭与跳过上报 adConf 必须要提供！");((e=this.getConfig(e)).skipLink||[]).forEach((function(e){return Nt(e,"conversion",r,n)})),(e.skipUrl||[]).forEach((function(e){return ee(e,r)}))}},{key:"reportNegativeFeedback",value:function(e,t){if(t=1<arguments.length&&void 0!==t?t:{},!e)throw new Error("点击上报信息 adConf 必须要提供！");var i=this.getConfig(e),n=t.actType,r=t.extInfo,a=t.unionUrlReplaceParams;(i.negativeFeedbackLink||[]).forEach((function(e){return Nt(e,"negativeFeedback",{e:i.e,actType:n},r)})),(i.negativeFeedbackUrls||[]).forEach((function(e){return ee(Dt(e,a))}))}},{key:"reportExternalEvent",value:function(e,t,i){s.reportApiByTaf(e,"externalEvent",2<arguments.length&&void 0!==i?i:{},1<arguments.length&&void 0!==t?t:{})}},{key:"openAd",value:function(e){var t;me?(i=e,(t=$e(JSON.parse(JSON.stringify(i)))).extra.kproto&&(t.extra=t.extra.value),F.log("advOpen",t),new Promise((function(e,i){var n;null===(n=HUYASdk)||void 0===n||null!==(n=n.JSBridge)&&void 0!==n&&n.invoke("nativeAction",{action:"advOpen",param:t},{action:"advOpen",param:t,complete:function(t){t="string"==typeof t?JSON.parse(t):t,F.log("openMiniGame",t),(-1===(null==t?void 0:t.err_code)||"fail"===(null==t?void 0:t.status)?i:e)(t)}})}))):function(e){var t=e.sdkConf;if(t){var i=ve(t),n=JSON.parse(i);if(n){if(t="",ie(e.id)){if(t=n.destUrls[0],1==(i=parseInt(e.extra.value.programType))||2==i)return Ze(e.extra.value,4e6),Qe(t),function(e){Ze(e,4006001);var t=e.urlScheme,i=Xe(t);t&&i&&(Ze(e,4006002),window.location.href=t,Ze(e,4006070))}(e.extra.value)}else t=n.landingUrl||"";t&&window.open(t)}}}(e);var i,n=e.sdkConf;n&&(i=ve(n),n=JSON.parse(i),s.reportClick(i,{adenv_req_uniq_id:this.adenvReqUniqId}),ie(e.id)&&s.reportApi(n.destUrls,"",{},!0))}},{key:"reportClickWxMiniReport",value:function(e,t){!function(e,t){var i=e.sSdkConf,n=e.mpExtra,r=e.sId;if(i&&(e=ve(i),i=JSON.parse(e))){if(e="",ie(r)&&(e=i.destUrls[0],1==(i=parseInt(n.programType))||2==i))return Ze(n,4e6),Qe(e),Ze(n,4006001),e=Xe(i=n.urlScheme),i&&e&&(Ze(n,4006002),t&&t(),Ze(n,4006070));t&&t()}}(e,t)}},{key:"reportAmsPlaying",value:function(e,t,i,n,r){var a=ie(n);a?r?s.reportPlayingByOne(e,!0,r,i):s.reportPlayingByOne(e,!1,t,i):s.reportPlaying(e,t,i),F.log("AD reportPlaying",a,t,i,n,r,e)}},{key:"amsTraceReport",value:function(e){var t=e.id,i=e.sdkConfig;e=e.reportData,ie(t)&&(e=getVideoReportData(e),s.reportAmsPlaying(i,{},{},t,e))}},{key:"getLandingUrl",value:function(e){return e?JSON.parse(e).landingUrl:""}}],(t=[{key:"init",value:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t){t.forEach((function(t){0<t.intersectionRatio&&(e.emit("exposure",t.target),e.intersectionObserver.unobserve(t.target))}))})),this.bind()}},{key:"startup",value:function(e){var t=this;document.querySelectorAll(e).forEach((function(e){(e.getAttribute("sdk-conf")||e.reportConf)&&t.observe(e)}))}},{key:"observe",value:function(e,t){var i=this;e.reportConf=t,this.emit("init",e),this.intersectionObserver.observe(e),e.addEventListener("click",(function(e){i.emit("click",e.target,e)}))}},{key:"bind",value:function(){this.on("exposure",(function(e){(e=e.getAttribute("sdk-conf"))&&s.reportPageView(e)})),this.on("click",(function(e){(e=e.getAttribute("sdk-conf"))&&s.reportClick(e)}))}},{key:"install",value:function(e){var t=this;e.directive("report",{bind:function(e,i){i=i.value,e.reportConf=i,t.observe(e)}})}}])&&o(e.prototype,t),n&&o(e,n),s}()).AD360_EVENTS={CLOSE_URLS:"closeUrls",PLAY_START_URLS:"playStartUrls",PLAY_PAUSE_URLS:"playPauseUrls",PLAY_CONTINUE_URLS:"playContinueUrls",PLAY_EXIT_URLS:"playExitUrls",PLAY_COMPLETE_URLS:"playCompleteUrls",PLAY_OPTION_URLS:"playOptionUrls",PLAY_HOVER_URLS:"playHoverUrls"},et}()}).call(this,i("yLpj"))},"56qE":function(e,t){e.exports=function(e,t){var i=e.G,n=e.taf,r=e.logUtils,a=n.HUYA,o=n.Taf;function s(e){var t=e.shapeInfos,n=e.streamName;if(n&&i.currentPlayStreamName!=n)r.addLog("onPixelateInfo 流名称不拼配，过滤了",n,i.currentPlayStreamName);else{var s=t.buffer,c=new o.JceInputStream(s),l=new a.SafeRoiMaskProto;l.readFrom(c),e.shapeInfos=l,i.vplayer.pushVideoPixlateInfo(e),i.isPip&&document.exitPictureInPicture()}}i.hasVideoPiexlate=!0,function(){$('<div id="video-pixelate-box" class="video-pixelate-box"></div>').appendTo($("#player-video"));var e=$("#video-pixelate-box");e.css(i.videoOffset),i.vplayer.setVideoPixelateBox(e[0]),1==i.doubleScreenStatus&&null==i.splitScreenVideoContainer&&i.initScreenVideoContainer()}(),i.vplayer.setVideoPixelateData({config:t}),e.addTafListener("1200003",s)}},"57gn":function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.ENV,r=e.utils,a=e.Console,o=e.alert;function s(t){if(a.log("onHYActionAPP",t),t){var i=r.unescapeHTML(t),n=r.parseQueryString(i);switch(n.hyaction){case"fansbuisiness":var s=n.page_select,l=n.tab_select;"1"==s?"0"==l?c({type:4}):"1"==l&&e.trigger("openSuperFansPlusRecharge"):"0"==s&&c({type:8});break;case"openGuard":c({type:3});break;default:window.open(i)}}else o.show({msg:"跳转出错，请稍后重试",type:2,btnLabel:"知道了"})}function c(r){var o,s,c,l=r.type,u=r.url;switch(a.log("onHYAction",r),parseInt(l)){case 0:u&&window.open(u);break;case 1:t.vplayerUI.recharge();break;case 2:e.trigger("clickNobleRecharge");break;case 3:e.trigger("openGuard");break;case 4:e.trigger("clickSuperFansRecharge");break;case 5:case 6:i.fireEvent(i.OPEN_ACTIVITY_PANNEL,{id:u});break;case 7:i.fireEvent(i.SHOW_SLAP_FACE,r);break;case 8:(function(){t.isLogin||e.popLogin();return t.isLogin})()&&e.trigger("fanClubOpen",{path:0,target:(o=t.presenterUid,s=n.pnick,c=n.avatarImg,t.curSendGiftData&&(o=t.curSendGiftData.uid,s=t.curSendGiftData.nick,c=t.curSendGiftData.avatarUrl),{uid:o,nick:s,avatar:c})})}}function l(e){a.log("huyaAction",e);try{TT.openUrl({url:e})}catch(e){console.error("TT.openUrl",e)}}i.addEvent(i.HY_ACTION,c),i.addEvent(i.HY_ACTION_APP,s),i.addEvent(i.HY_ACTION_NEW,l)}},"5Vzf":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="new-reward-ab-wrap">\n    <div class="ab-top">\n        <div class="ab-title ellipsis">主播为你推荐</div>\n        <div class="ab-close">\n            <div class="ab-time">10s</div>\n            <div class="line"></div>\n            <i>关闭</i>\n        </div>\n        <div class="ab-close-2">\n            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-middle">\n        <div class="ab-content"></div>\n        <div class="ab-logo">广告</div>\n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc-btn"></div>\n            <div class="ab-qr-code-desc"></div>\n        </div>\n        <div id="sound" class="sound-close"></div>\n    </div>\n    <div class="ab-bottom">\n        <div class="explain-group">\n            <div class="brand-group">\n                <img class="logo" />\n                <div class="brand ellipsis"></div>\n            </div>\n            <div class="explain ellipsis"></div>\n        </div>\n        <div class="ab-common-details-btn details-btn">       \n            <div class="ab-qrcode-logo-common">\n                <div class="qrcocde-logo"></div>\n            </div>\n            <span></span>\n        </div>\n    </div>\n</div>\n',__filename="src/tpl/ad/new-reward-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="new-reward-ab-wrap">\n    <div class="ab-top">\n        <div class="ab-title ellipsis">主播为你推荐</div>\n        <div class="ab-close">\n            <div class="ab-time">10s</div>\n            <div class="line"></div>\n            <i>关闭</i>\n        </div>\n        <div class="ab-close-2">\n            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-middle">\n        <div class="ab-content"></div>\n        <div class="ab-logo">广告</div>\n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc-btn"></div>\n            <div class="ab-qr-code-desc"></div>\n        </div>\n        <div id="sound" class="sound-close"></div>\n    </div>\n    <div class="ab-bottom">\n        <div class="explain-group">\n            <div class="brand-group">\n                <img class="logo" />\n                <div class="brand ellipsis"></div>\n            </div>\n            <div class="explain ellipsis"></div>\n        </div>\n        <div class="ab-common-details-btn details-btn">       \n            <div class="ab-qrcode-logo-common">\n                <div class="qrcocde-logo"></div>\n            </div>\n            <span></span>\n        </div>\n    </div>\n</div>\n'),__line=44;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"5aV2":function(e,t){e.exports=function(e,t){var i=0,n=0;e=e;this.isOutTimes=function(){return i>0&&n>t},this.reset=function(){n=0,i=0},this.add=function(t){0===i&&(i=t),n++,t-i>=e&&(i=t,n=1)}}},"5hvy":function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("MlIO"),function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.x64.Word,s=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,i=0;i<24;i++){c[e+5*t]=(i+1)*(i+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,a=0;a<24;a++){for(var s=0,d=0,p=0;p<7;p++){if(1&r){var h=(1<<p)-1;h<32?d^=1<<h:s^=1<<h-32}128&r?r=r<<1^113:r<<=1}u[a]=o.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=o.create()}();var p=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,n=this.blockSize/2,r=0;r<n;r++){var a=e[t+2*r],o=e[t+2*r+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(x=i[r]).high^=o,x.low^=a}for(var s=0;s<24;s++){for(var p=0;p<5;p++){for(var h=0,f=0,m=0;m<5;m++)h^=(x=i[p+5*m]).high,f^=x.low;var v=d[p];v.high=h,v.low=f}for(p=0;p<5;p++){var g=d[(p+4)%5],y=d[(p+1)%5],_=y.high,w=y.low;for(h=g.high^(_<<1|w>>>31),f=g.low^(w<<1|_>>>31),m=0;m<5;m++)(x=i[p+5*m]).high^=h,x.low^=f}for(var S=1;S<25;S++){var b=(x=i[S]).high,I=x.low,E=c[S];E<32?(h=b<<E|I>>>32-E,f=I<<E|b>>>32-E):(h=I<<E-32|b>>>64-E,f=b<<E-32|I>>>64-E);var T=d[l[S]];T.high=h,T.low=f}var k=d[0],C=i[0];for(k.high=C.high,k.low=C.low,p=0;p<5;p++)for(m=0;m<5;m++){var x=i[S=p+5*m],A=d[S],R=d[(p+1)%5+5*m],P=d[(p+2)%5+5*m];x.high=A.high^~R.high&P.high,x.low=A.low^~R.low&P.low}x=i[0];var L=u[s];x.high^=L.high,x.low^=L.low}},_doFinalize:function(){var t=this._data,i=t.words,n=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;i[n>>>5]|=1<<24-n%32,i[(e.ceil((n+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=o[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(p)}return new r.init(l,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});t.SHA3=a._createHelper(p),t.HmacSHA3=a._createHmacHelper(p)}(Math),n.SHA3)},"5nzc":function(e,t){e.exports={coverHUYA:function(e){var t=e.HUYA,i=e.Taf;t.GetRunningGuardianFeedbackReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetRunningGuardianFeedbackReq.prototype._clone=function(){return new t.GetRunningGuardianFeedbackReq},t.GetRunningGuardianFeedbackReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetRunningGuardianFeedbackReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetRunningGuardianFeedbackReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetRunningGuardianFeedbackRsp=function(){this.tCode=new t.GFRspCode,this.lNowTime=0,this.vGFInfo=new i.Vector(new t.GuardianFeedbackInfo),this.tUsrGuardianBriefStatus=new t.UsrGuardianBriefStatus,this.tGFRunningUIInfo=new t.GFRunningUIInfo},t.GetRunningGuardianFeedbackRsp.prototype._clone=function(){return new t.GetRunningGuardianFeedbackRsp},t.GetRunningGuardianFeedbackRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetRunningGuardianFeedbackRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetRunningGuardianFeedbackRsp.prototype.readFrom=function(e){this.tCode=e.readStruct(0,!1,this.tCode),this.lNowTime=e.readInt64(1,!1,this.lNowTime),this.vGFInfo=e.readVector(2,!1,this.vGFInfo),this.tUsrGuardianBriefStatus=e.readStruct(3,!1,this.tUsrGuardianBriefStatus),this.tGFRunningUIInfo=e.readStruct(4,!1,this.tGFRunningUIInfo)},t.GFRspCode=function(){this.iCode=0,this.sLogMsg="",this.sUsrMsg=""},t.GFRspCode.prototype._clone=function(){return new t.GFRspCode},t.GFRspCode.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GFRspCode.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GFRspCode.prototype.writeTo=function(e){e.writeInt32(0,this.iCode),e.writeString(1,this.sLogMsg),e.writeString(2,this.sUsrMsg)},t.GFRspCode.prototype.readFrom=function(e){this.iCode=e.readInt32(0,!1,this.iCode),this.sLogMsg=e.readString(1,!1,this.sLogMsg),this.sUsrMsg=e.readString(2,!1,this.sUsrMsg)},t.GuardianFeedbackInfo=function(){this.lGFId=0,this.tPid=new t.GFUsr,this.lHomeUid=0,this.lStartTime=0,this.lEndTime=0,this.iState=0,this.sGFOrder="",this.iGFJoinLevel=0,this.iAddressMode=0,this.sAwardName="",this.iSupplyAwardNum=0,this.iNumJoinUser=0,this.vAwardUser=new i.Vector(new t.GFUsr)},t.GuardianFeedbackInfo.prototype._clone=function(){return new t.GuardianFeedbackInfo},t.GuardianFeedbackInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GuardianFeedbackInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GuardianFeedbackInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lGFId),e.writeStruct(1,this.tPid),e.writeInt64(2,this.lHomeUid),e.writeInt64(3,this.lStartTime),e.writeInt64(4,this.lEndTime),e.writeInt32(5,this.iState),e.writeString(6,this.sGFOrder),e.writeInt32(7,this.iGFJoinLevel),e.writeInt32(8,this.iAddressMode),e.writeString(9,this.sAwardName),e.writeInt32(10,this.iSupplyAwardNum),e.writeInt64(11,this.iNumJoinUser),e.writeVector(12,this.vAwardUser)},t.GuardianFeedbackInfo.prototype.readFrom=function(e){this.lGFId=e.readInt64(0,!1,this.lGFId),this.tPid=e.readStruct(1,!1,this.tPid),this.lHomeUid=e.readInt64(2,!1,this.lHomeUid),this.lStartTime=e.readInt64(3,!1,this.lStartTime),this.lEndTime=e.readInt64(4,!1,this.lEndTime),this.iState=e.readInt32(5,!1,this.iState),this.sGFOrder=e.readString(6,!1,this.sGFOrder),this.iGFJoinLevel=e.readInt32(7,!1,this.iGFJoinLevel),this.iAddressMode=e.readInt32(8,!1,this.iAddressMode),this.sAwardName=e.readString(9,!1,this.sAwardName),this.iSupplyAwardNum=e.readInt32(10,!1,this.iSupplyAwardNum),this.iNumJoinUser=e.readInt64(11,!1,this.iNumJoinUser),this.vAwardUser=e.readVector(12,!1,this.vAwardUser)},t.GFUsr=function(){this.lUid=0,this.sNick="",this.sAvatar="",this.sHuyaId="",this.tGFAddress=new t.GFAddress,this.tGFWinInfo=new t.GFWinInfo},t.GFUsr.prototype._clone=function(){return new t.GFUsr},t.GFUsr.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GFUsr.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GFUsr.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeString(1,this.sNick),e.writeString(2,this.sAvatar),e.writeString(3,this.sHuyaId),e.writeStruct(4,this.tGFAddress),e.writeStruct(5,this.tGFWinInfo)},t.GFUsr.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.sNick=e.readString(1,!1,this.sNick),this.sAvatar=e.readString(2,!1,this.sAvatar),this.sHuyaId=e.readString(3,!1,this.sHuyaId),this.tGFAddress=e.readStruct(4,!1,this.tGFAddress),this.tGFWinInfo=e.readStruct(5,!1,this.tGFWinInfo)},t.GFAddress=function(){this.sName="",this.sPhone="",this.sAddress="",this.sWeixin="",this.sQQ=""},t.GFAddress.prototype._clone=function(){return new t.GFAddress},t.GFAddress.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GFAddress.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GFAddress.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeString(1,this.sPhone),e.writeString(2,this.sAddress),e.writeString(3,this.sWeixin),e.writeString(4,this.sQQ)},t.GFAddress.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.sPhone=e.readString(1,!1,this.sPhone),this.sAddress=e.readString(2,!1,this.sAddress),this.sWeixin=e.readString(3,!1,this.sWeixin),this.sQQ=e.readString(4,!1,this.sQQ)},t.GFWinInfo=function(){this.iGuardianOpType=0,this.iOpenDays=0,this.iGuardType=0,this.iPayTotal=0},t.GFWinInfo.prototype._clone=function(){return new t.GFWinInfo},t.GFWinInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GFWinInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GFWinInfo.prototype.writeTo=function(e){e.writeInt32(0,this.iGuardianOpType),e.writeInt32(1,this.iOpenDays),e.writeInt32(2,this.iGuardType),e.writeInt32(3,this.iPayTotal)},t.GFWinInfo.prototype.readFrom=function(e){this.iGuardianOpType=e.readInt32(0,!1,this.iGuardianOpType),this.iOpenDays=e.readInt32(1,!1,this.iOpenDays),this.iGuardType=e.readInt32(2,!1,this.iGuardType),this.iPayTotal=e.readInt32(3,!1,this.iPayTotal)},t.UsrGuardianBriefStatus=function(){this.iNowGuardianType=0},t.UsrGuardianBriefStatus.prototype._clone=function(){return new t.UsrGuardianBriefStatus},t.UsrGuardianBriefStatus.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UsrGuardianBriefStatus.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UsrGuardianBriefStatus.prototype.writeTo=function(e){e.writeInt32(0,this.iNowGuardianType)},t.UsrGuardianBriefStatus.prototype.readFrom=function(e){this.iNowGuardianType=e.readInt32(0,!1,this.iNowGuardianType)},t.GFRunningUIInfo=function(){this.sCornerUrl=""},t.GFRunningUIInfo.prototype._clone=function(){return new t.GFRunningUIInfo},t.GFRunningUIInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GFRunningUIInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GFRunningUIInfo.prototype.writeTo=function(e){e.writeString(0,this.sCornerUrl)},t.GFRunningUIInfo.prototype.readFrom=function(e){this.sCornerUrl=e.readString(0,!1,this.sCornerUrl)},t.MultiStreamInfo=function(){this.sDisplayName="",this.iBitRate=0,this.iCodecType=0,this.iCompatibleFlag=0,this.iHEVCBitRate=-1,this.iEnable=1,this.iEnableMethod=0,this.sEnableUrl="",this.sTipText="",this.sTagText="",this.sTagUrl="",this.iFrameRate=0,this.iSortValue=0},t.MultiStreamInfo.prototype._clone=function(){return new t.MultiStreamInfo},t.MultiStreamInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MultiStreamInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MultiStreamInfo.prototype.writeTo=function(e){e.writeString(0,this.sDisplayName),e.writeInt32(1,this.iBitRate),e.writeInt32(2,this.iCodecType),e.writeInt32(3,this.iCompatibleFlag),e.writeInt32(4,this.iHEVCBitRate),e.writeInt32(5,this.iEnable),e.writeInt32(6,this.iEnableMethod),e.writeString(7,this.sEnableUrl),e.writeString(8,this.sTipText),e.writeString(9,this.sTagText),e.writeString(10,this.sTagUrl),e.writeInt32(11,this.iFrameRate),e.writeInt32(12,this.iSortValue)},t.MultiStreamInfo.prototype.readFrom=function(e){this.sDisplayName=e.readString(0,!1,this.sDisplayName),this.iBitRate=e.readInt32(1,!1,this.iBitRate),this.iCodecType=e.readInt32(2,!1,this.iCodecType),this.iCompatibleFlag=e.readInt32(3,!1,this.iCompatibleFlag),this.iHEVCBitRate=e.readInt32(4,!1,this.iHEVCBitRate),this.iEnable=e.readInt32(5,!1,this.iEnable),this.iEnableMethod=e.readInt32(6,!1,this.iEnableMethod),this.sEnableUrl=e.readString(7,!1,this.sEnableUrl),this.sTipText=e.readString(8,!1,this.sTipText),this.sTagText=e.readString(9,!1,this.sTagText),this.sTagUrl=e.readString(10,!1,this.sTagUrl),this.iFrameRate=e.readInt32(11,!1,this.iFrameRate),this.iSortValue=e.readInt32(12,!1,this.iSortValue)},t.GetMatchPresenterListReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetMatchPresenterListReq.prototype._clone=function(){return new t.GetMatchPresenterListReq},t.GetMatchPresenterListReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetMatchPresenterListReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetMatchPresenterListReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetMatchPresenterListRsp=function(){this.sTitle="",this.vList=new i.Vector(new t.LMPresenterInfo)},t.GetMatchPresenterListRsp.prototype._clone=function(){return new t.GetMatchPresenterListRsp},t.GetMatchPresenterListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetMatchPresenterListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetMatchPresenterListRsp.prototype.readFrom=function(e){this.sTitle=e.readString(0,!1,this.sTitle),this.vList=e.readVector(1,!1,this.vList)},t.LMPresenterInfo=function(){this.lUid=0,this.lChannelId=0,this.lSubChannelId=0,this.sNick="",this.sAvatarUrl="",this.iActivityCount=0,this.iLevel=0,this.lYYId=0,this.sGameName="",this.iSourceType=0,this.iScreenType=0,this.bLive=!0,this.sChannelName="",this.sChannelTitle="",this.sVideoCaptureUrl="",this.iRoomId=0,this.iViewType=0,this.iAttendeeCount=0},t.LMPresenterInfo.prototype._clone=function(){return new t.LMPresenterInfo},t.LMPresenterInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LMPresenterInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LMPresenterInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeInt64(1,this.lChannelId),e.writeInt64(2,this.lSubChannelId),e.writeString(3,this.sNick),e.writeString(4,this.sAvatarUrl),e.writeInt32(5,this.iActivityCount),e.writeInt32(6,this.iLevel),e.writeInt64(7,this.lYYId),e.writeString(8,this.sGameName),e.writeInt32(9,this.iSourceType),e.writeInt32(10,this.iScreenType),e.writeBoolean(11,this.bLive),e.writeString(12,this.sChannelName),e.writeString(13,this.sChannelTitle),e.writeString(14,this.sVideoCaptureUrl),e.writeInt32(15,this.iRoomId),e.writeInt32(16,this.iViewType),e.writeInt32(17,this.iAttendeeCount)},t.LMPresenterInfo.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.lChannelId=e.readInt64(1,!1,this.lChannelId),this.lSubChannelId=e.readInt64(2,!1,this.lSubChannelId),this.sNick=e.readString(3,!1,this.sNick),this.sAvatarUrl=e.readString(4,!1,this.sAvatarUrl),this.iActivityCount=e.readInt32(5,!1,this.iActivityCount),this.iLevel=e.readInt32(6,!1,this.iLevel),this.lYYId=e.readInt64(7,!1,this.lYYId),this.sGameName=e.readString(8,!1,this.sGameName),this.iSourceType=e.readInt32(9,!1,this.iSourceType),this.iScreenType=e.readInt32(10,!1,this.iScreenType),this.bLive=e.readBoolean(11,!1,this.bLive),this.sChannelName=e.readString(12,!1,this.sChannelName),this.sChannelTitle=e.readString(13,!1,this.sChannelTitle),this.sVideoCaptureUrl=e.readString(14,!1,this.sVideoCaptureUrl),this.iRoomId=e.readInt32(15,!1,this.iRoomId),this.iViewType=e.readInt32(16,!1,this.iViewType),this.iAttendeeCount=e.readInt32(17,!1,this.iAttendeeCount)};var n=e.HUYAWEB||{};n.GetHyCoinBalanceReq=function(){this.tId=new t.UserId},n.GetHyCoinBalanceReq.prototype._clone=function(){return new n.GetHyCoinBalanceReq},n.GetHyCoinBalanceReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},n.GetHyCoinBalanceReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},n.GetHyCoinBalanceReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId)},n.GetHyCoinBalanceRsp=function(){this.status=0,this.msg="",this.useableBalance=""},n.GetHyCoinBalanceRsp.prototype._clone=function(){return new n.GetHyCoinBalanceRsp},n.GetHyCoinBalanceRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},n.GetHyCoinBalanceRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},n.GetHyCoinBalanceRsp.prototype.readFrom=function(e){this.status=e.readInt32(0,!1,this.status),this.msg=e.readString(1,!1,this.msg),this.useableBalance=e.readString(2,!1,this.useableBalance)};var r=e.MidExtComm||{},a=e.ExtAdvertisement||{};a.GetRewardVideoActionReq=function(){this.tId=new r.UserId,this.request=new r.ExtCommonRequest,this.extUuid="",this.slotcode=""},a.GetRewardVideoActionReq.prototype._clone=function(){return new a.GetRewardVideoActionReq},a.GetRewardVideoActionReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},a.GetRewardVideoActionReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},a.GetRewardVideoActionReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeStruct(1,this.request),e.writeString(2,this.extUuid),e.writeString(3,this.slotcode)},a.GetRewardVideoActionRsp=function(){this.response=new r.ExtCommonResponse,this.action=""},a.GetRewardVideoActionRsp.prototype._clone=function(){return new a.GetRewardVideoActionRsp},a.GetRewardVideoActionRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},a.GetRewardVideoActionRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},a.GetRewardVideoActionRsp.prototype.readFrom=function(e){this.response=e.readStruct(0,!1,this.response),this.action=e.readString(1,!1,this.action)},t.CheckFansVideoCutSwitchReq=function(){this.tId=new t.UserId,this.lPid=0},t.CheckFansVideoCutSwitchReq.prototype._clone=function(){return new t.CheckFansVideoCutSwitchReq},t.CheckFansVideoCutSwitchReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CheckFansVideoCutSwitchReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CheckFansVideoCutSwitchReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.CheckFansVideoCutSwitchRsp=function(){this.iShowEntrance=0,this.sCutAction=""},t.CheckFansVideoCutSwitchRsp.prototype._clone=function(){return new t.CheckFansVideoCutSwitchRsp},t.CheckFansVideoCutSwitchRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CheckFansVideoCutSwitchRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CheckFansVideoCutSwitchRsp.prototype.readFrom=function(e){this.iShowEntrance=e.readInt32(0,!1,this.iShowEntrance),this.sCutAction=e.readString(1,!1,this.sCutAction)},t.MsgCommDecoIcon=function(){this.sUrl="",this.sGifUrl=""},t.MsgCommDecoIcon.prototype._clone=function(){return new t.MsgCommDecoIcon},t.MsgCommDecoIcon.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MsgCommDecoIcon.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MsgCommDecoIcon.prototype.writeTo=function(e){e.writeString(0,this.sUrl),e.writeString(1,this.sGifUrl)},t.MsgCommDecoIcon.prototype.readFrom=function(e){this.sUrl=e.readString(0,!1,this.sUrl),this.sGifUrl=e.readString(1,!1,this.sGifUrl)},t.EEggCounterVDataType={kEggCounterType_SetModle_Comment:0,kEggCounterType_SetModle_Icon:1},t.GetLiveRoomSettingReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetLiveRoomSettingReq.prototype._clone=function(){return new t.GetLiveRoomSettingReq},t.GetLiveRoomSettingReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomSettingReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomSettingReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetLiveRoomSettingRsp=function(){this.sMessage="",this.tMessageFilter=new t.LiveRoomMessageFilter,this.mSettingKV=new i.Map(new i.STRING,new i.STRING),this.tInfo=new t.RoomFreqLimitChangeNotice},t.GetLiveRoomSettingRsp.prototype._clone=function(){return new t.GetLiveRoomSettingRsp},t.GetLiveRoomSettingRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomSettingRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomSettingRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.tMessageFilter=e.readStruct(1,!1,this.tMessageFilter),this.mSettingKV=e.readMap(2,!1,this.mSettingKV),this.tInfo=e.readStruct(3,!1,this.tInfo)},t.LiveRoomMessageFilter=function(){this.sName="",this.sDesc="",this.sHint=""},t.LiveRoomMessageFilter.prototype._clone=function(){return new t.LiveRoomMessageFilter},t.LiveRoomMessageFilter.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomMessageFilter.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomMessageFilter.prototype.writeTo=function(e){e.writeString(0,this.sName),e.writeString(1,this.sDesc),e.writeString(2,this.sHint)},t.LiveRoomMessageFilter.prototype.readFrom=function(e){this.sName=e.readString(0,!1,this.sName),this.sDesc=e.readString(1,!1,this.sDesc),this.sHint=e.readString(2,!1,this.sHint)},t.RoomFreqLimitChangeNotice=function(){this.lPid=0,this.iType=0,this.tInfo=new t.RoomFreqLimitInfo},t.RoomFreqLimitChangeNotice.prototype._clone=function(){return new t.RoomFreqLimitChangeNotice},t.RoomFreqLimitChangeNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.RoomFreqLimitChangeNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.RoomFreqLimitChangeNotice.prototype.writeTo=function(e){e.writeInt64(0,this.lPid),e.writeInt32(1,this.iType),e.writeStruct(2,this.tInfo)},t.RoomFreqLimitChangeNotice.prototype.readFrom=function(e){this.lPid=e.readInt64(0,!1,this.lPid),this.iType=e.readInt32(1,!1,this.iType),this.tInfo=e.readStruct(2,!1,this.tInfo)},t.RoomFreqLimitInfo=function(){this.lSendInterval=0,this.lSendCnt=0,this.lSendLimitTime=0},t.RoomFreqLimitInfo.prototype._clone=function(){return new t.RoomFreqLimitInfo},t.RoomFreqLimitInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.RoomFreqLimitInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.RoomFreqLimitInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lSendInterval),e.writeInt64(1,this.lSendCnt),e.writeInt64(2,this.lSendLimitTime)},t.RoomFreqLimitInfo.prototype.readFrom=function(e){this.lSendInterval=e.readInt64(0,!1,this.lSendInterval),this.lSendCnt=e.readInt64(1,!1,this.lSendCnt),this.lSendLimitTime=e.readInt64(2,!1,this.lSendLimitTime)},t.ActIssueItem=function(){this.tInfo=new t.ActivityDIYInfo,this.tWebCfg=new t.WebIssueConfig,this.tPCCfg=new t.PCIssueConfig,this.iIssueId=0,this.iIsPop=0,this.iPopTime=0,this.iPopFrequency=0},t.ActIssueItem.prototype._clone=function(){return new t.ActIssueItem},t.ActIssueItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ActIssueItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ActIssueItem.prototype.writeTo=function(e){e.writeStruct(0,this.tInfo),e.writeStruct(1,this.tWebCfg),e.writeStruct(2,this.tPCCfg),e.writeInt32(3,this.iIssueId),e.writeInt32(4,this.iIsPop),e.writeInt32(5,this.iPopTime),e.writeInt32(6,this.iPopFrequency)},t.ActIssueItem.prototype.readFrom=function(e){this.tInfo=e.readStruct(0,!1,this.tInfo),this.tWebCfg=e.readStruct(1,!1,this.tWebCfg),this.tPCCfg=e.readStruct(2,!1,this.tPCCfg),this.iIssueId=e.readInt32(3,!1,this.iIssueId),this.iIsPop=e.readInt32(4,!1,this.iIsPop),this.iPopTime=e.readInt32(5,!1,this.iPopTime),this.iPopFrequency=e.readInt32(6,!1,this.iPopFrequency)},t.ScheduleEasterEggInfo=function(){this.vScheduleEgg=new i.Vector(new t.ScheduleEasterEgg),this.sPopupkey=""},t.ScheduleEasterEggInfo.prototype._clone=function(){return new t.ScheduleEasterEggInfo},t.ScheduleEasterEggInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ScheduleEasterEggInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ScheduleEasterEggInfo.prototype.writeTo=function(e){e.writeVector(0,this.vScheduleEgg),e.writeString(1,this.sPopupkey)},t.ScheduleEasterEggInfo.prototype.readFrom=function(e){this.vScheduleEgg=e.readVector(0,!1,this.vScheduleEgg),this.sPopupkey=e.readString(1,!1,this.sPopupkey)},t.ScheduleEasterEgg=function(){this.iId=0,this.lBeginTime=0},t.ScheduleEasterEgg.prototype._clone=function(){return new t.ScheduleEasterEgg},t.ScheduleEasterEgg.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ScheduleEasterEgg.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ScheduleEasterEgg.prototype.writeTo=function(e){e.writeInt32(0,this.iId),e.writeInt64(1,this.lBeginTime)},t.ScheduleEasterEgg.prototype.readFrom=function(e){this.iId=e.readInt32(0,!1,this.iId),this.lBeginTime=e.readInt64(1,!1,this.lBeginTime)},t.GetMessageEasterEggListRsp=function(){this.sMessage="",this.vEffect=new i.Vector(new t.MessageEasterEgg),this.vDeprecated=new i.Vector(new i.INT32),this.tScheduleEgg=new t.ScheduleEasterEggInfo},t.GetMessageEasterEggListRsp.prototype._clone=function(){return new t.GetMessageEasterEggListRsp},t.GetMessageEasterEggListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetMessageEasterEggListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetMessageEasterEggListRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.vEffect=e.readVector(1,!1,this.vEffect),this.vDeprecated=e.readVector(2,!1,this.vDeprecated),this.tScheduleEgg=e.readStruct(3,!1,this.tScheduleEgg)},t.GetADTaskReq=function(){this.tId=new t.UserId,this.iBusiness=0,this.sTaskId="",this.iOpType=0,this.iRoundLoopStart=0,this.sAppId=""},t.GetADTaskReq.prototype._clone=function(){return new t.GetADTaskReq},t.GetADTaskReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetADTaskReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetADTaskReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iBusiness),e.writeString(2,this.sTaskId),e.writeInt32(3,this.iOpType),e.writeInt32(4,this.iRoundLoopStart),e.writeString(5,this.sAppId)},t.AwardADTaskReq=function(){this.tId=new t.UserId,this.iBusiness=0,this.sTaskId="",this.iOpType=0,this.sADuuid="",this.iRoundLoopStart=0,this.sAppId=""},t.AwardADTaskReq.prototype._clone=function(){return new t.AwardADTaskReq},t.AwardADTaskReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.AwardADTaskReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.AwardADTaskReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iBusiness),e.writeString(2,this.sTaskId),e.writeInt32(3,this.iOpType),e.writeString(4,this.sADuuid),e.writeInt32(5,this.iRoundLoopStart),e.writeString(6,this.sAppId)},t.GetLiveRoomBottomBarReq=function(){this.tId=new t.UserId,this.lPid=0,this.iGameId=0,this.mpExtInfo=new i.Map(new i.STRING,new i.STRING)},t.GetLiveRoomBottomBarReq.prototype._clone=function(){return new t.GetLiveRoomBottomBarReq},t.GetLiveRoomBottomBarReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomBottomBarReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomBottomBarReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid),e.writeInt32(2,this.iGameId),e.writeMap(3,this.mpExtInfo)},t.GetLiveRoomBottomBarRsp=function(){this.vConf=new i.Vector(new t.BottomBarItem),this.vEntrance=new i.Vector(new t.BottomBarItem),this.mpPos2Conf=new i.Map(new i.INT32,new i.Vector(new i.INT32)),this.mpPos2Entrance=new i.Map(new i.INT32,new i.Vector(new i.INT32))},t.GetLiveRoomBottomBarRsp.prototype._clone=function(){return new t.GetLiveRoomBottomBarRsp},t.GetLiveRoomBottomBarRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomBottomBarRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomBottomBarRsp.prototype.readFrom=function(e){this.vConf=e.readVector(0,!1,this.vConf),this.vEntrance=e.readVector(1,!1,this.vEntrance),this.mpPos2Conf=e.readMap(2,!1,this.mpPos2Conf),this.mpPos2Entrance=e.readMap(3,!1,this.mpPos2Entrance)},t.BottomBarItem=function(){this.lId=0,this.iType=0,this.sTitle="",this.tIcon=new t.BottomBarIcon,this.tAction=new t.BottomBarAction,this.vData=new i.BinBuffer,this.iCanShowInMore=0,this.iWeight=0,this.iPos=0,this.iLock=0,this.iMutex=0,this.sMutexGroup=""},t.BottomBarItem.prototype._clone=function(){return new t.BottomBarItem},t.BottomBarItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.BottomBarItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.BottomBarItem.prototype.writeTo=function(e){e.writeInt64(0,this.lId),e.writeInt32(1,this.iType),e.writeString(2,this.sTitle),e.writeStruct(3,this.tIcon),e.writeStruct(4,this.tAction),e.writeBytes(5,this.vData),e.writeInt32(6,this.iCanShowInMore),e.writeInt32(7,this.iWeight),e.writeInt32(8,this.iPos),e.writeInt32(9,this.iLock),e.writeInt32(10,this.iMutex),e.writeString(11,this.sMutexGroup)},t.BottomBarItem.prototype.readFrom=function(e){this.lId=e.readInt64(0,!1,this.lId),this.iType=e.readInt32(1,!1,this.iType),this.sTitle=e.readString(2,!1,this.sTitle),this.tIcon=e.readStruct(3,!1,this.tIcon),this.tAction=e.readStruct(4,!1,this.tAction),this.vData=e.readBytes(5,!1,this.vData),this.iCanShowInMore=e.readInt32(6,!1,this.iCanShowInMore),this.iWeight=e.readInt32(7,!1,this.iWeight),this.iPos=e.readInt32(8,!1,this.iPos),this.iLock=e.readInt32(9,!1,this.iLock),this.iMutex=e.readInt32(10,!1,this.iMutex),this.sMutexGroup=e.readString(11,!1,this.sMutexGroup)},t.BottomBarIcon=function(){this.sVIcon="",this.sHIcon="",this.sSpareVIcon="",this.sSpareHIcon=""},t.BottomBarIcon.prototype._clone=function(){return new t.BottomBarIcon},t.BottomBarIcon.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.BottomBarIcon.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.BottomBarIcon.prototype.writeTo=function(e){e.writeString(0,this.sVIcon),e.writeString(1,this.sHIcon),e.writeString(2,this.sSpareVIcon),e.writeString(3,this.sSpareHIcon)},t.BottomBarIcon.prototype.readFrom=function(e){this.sVIcon=e.readString(0,!1,this.sVIcon),this.sHIcon=e.readString(1,!1,this.sHIcon),this.sSpareVIcon=e.readString(2,!1,this.sSpareVIcon),this.sSpareHIcon=e.readString(3,!1,this.sSpareHIcon)},t.BottomBarAction=function(){this.sVAction="",this.sHAction=""},t.BottomBarAction.prototype._clone=function(){return new t.BottomBarAction},t.BottomBarAction.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.BottomBarAction.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.BottomBarAction.prototype.writeTo=function(e){e.writeString(0,this.sVAction),e.writeString(1,this.sHAction)},t.BottomBarAction.prototype.readFrom=function(e){this.sVAction=e.readString(0,!1,this.sVAction),this.sHAction=e.readString(1,!1,this.sHAction)},t.GetPidRelatedScoreMatchIdReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetPidRelatedScoreMatchIdReq.prototype._clone=function(){return new t.GetPidRelatedScoreMatchIdReq},t.GetPidRelatedScoreMatchIdReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPidRelatedScoreMatchIdReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPidRelatedScoreMatchIdReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetPidRelatedScoreMatchIdRsp=function(){this.vMatchId=new i.Vector(new i.INT32),this.iMatchId=0,this.iScheduleId=0,this.iScheduleStat=0},t.GetPidRelatedScoreMatchIdRsp.prototype._clone=function(){return new t.GetPidRelatedScoreMatchIdRsp},t.GetPidRelatedScoreMatchIdRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPidRelatedScoreMatchIdRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPidRelatedScoreMatchIdRsp.prototype.readFrom=function(e){this.vMatchId=e.readVector(0,!1,this.vMatchId),this.iMatchId=e.readInt32(1,!1,this.iMatchId),this.iScheduleId=e.readInt32(2,!1,this.iScheduleId),this.iScheduleStat=e.readInt32(3,!1,this.iScheduleStat)},t.RtbInstructionInfo=function(){this.tIns=new t.PushRtbInstruction,this.iDelay=0,this.iPreloadAdDelay=0},t.RtbInstructionInfo.prototype._clone=function(){return new t.RtbInstructionInfo},t.RtbInstructionInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.RtbInstructionInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.RtbInstructionInfo.prototype.writeTo=function(e){e.writeStruct(0,this.tIns),e.writeInt32(1,this.iDelay),e.writeInt32(2,this.iPreloadAdDelay)},t.RtbInstructionInfo.prototype.readFrom=function(e){this.tIns=e.readStruct(0,!1,this.tIns),this.iDelay=e.readInt32(1,!1,this.iDelay),this.iPreloadAdDelay=e.readInt32(2,!1,this.iPreloadAdDelay)},t.PushRtbInstruction=function(){this.presenterId=0,this.layout=new t.AdLayout,this.maxDuration=0,this.slotCode="",this.slotCnt=0,this.closeButtonAppear=0,this.notice=!0,this.noticeDuration=0,this.noticeText="",this.bgImg="",this.recText="",this.videoMaxDuration=0,this.pcWebBgPic="",this.popupWindowKey="",this.adSceneType=0,this.env=new i.Map(new i.STRING,new i.STRING)},t.PushRtbInstruction.prototype._clone=function(){return new t.PushRtbInstruction},t.PushRtbInstruction.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.PushRtbInstruction.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.PushRtbInstruction.prototype.writeTo=function(e){e.writeInt64(0,this.presenterId),e.writeStruct(1,this.layout),e.writeInt32(2,this.maxDuration),e.writeString(3,this.slotCode),e.writeInt32(4,this.slotCnt),e.writeInt32(5,this.closeButtonAppear),e.writeBoolean(6,this.notice),e.writeInt32(7,this.noticeDuration),e.writeString(8,this.noticeText),e.writeString(9,this.bgImg),e.writeString(10,this.recText),e.writeInt32(11,this.videoMaxDuration),e.writeString(12,this.pcWebBgPic),e.writeString(13,this.popupWindowKey),e.writeInt32(14,this.adSceneType),e.writeMap(15,this.env)},t.PushRtbInstruction.prototype.readFrom=function(e){this.presenterId=e.readInt64(0,!1,this.presenterId),this.layout=e.readStruct(1,!1,this.layout),this.maxDuration=e.readInt32(2,!1,this.maxDuration),this.slotCode=e.readString(3,!1,this.slotCode),this.slotCnt=e.readInt32(4,!1,this.slotCnt),this.closeButtonAppear=e.readInt32(5,!1,this.closeButtonAppear),this.notice=e.readBoolean(6,!1,this.notice),this.noticeDuration=e.readInt32(7,!1,this.noticeDuration),this.noticeText=e.readString(8,!1,this.noticeText),this.bgImg=e.readString(9,!1,this.bgImg),this.recText=e.readString(10,!1,this.recText),this.videoMaxDuration=e.readInt32(11,!1,this.videoMaxDuration),this.pcWebBgPic=e.readString(12,!1,this.pcWebBgPic),this.popupWindowKey=e.readString(13,!1,this.popupWindowKey),this.adSceneType=e.readInt32(14,!1,this.adSceneType),this.env=e.readMap(15,!1,this.env)},t.AdLayout=function(){this.layoutType=0,this.templateW=0,this.templateH=0,this.ratioW=0,this.ratioH=0,this.width=0,this.height=0,this.outerFrameW=0,this.outerFrameH=0,this.outerFrameUrl=""},t.AdLayout.prototype._clone=function(){return new t.AdLayout},t.AdLayout.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.AdLayout.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.AdLayout.prototype.writeTo=function(e){e.writeInt32(0,this.layoutType),e.writeInt32(1,this.templateW),e.writeInt32(2,this.templateH),e.writeDouble(3,this.ratioW),e.writeDouble(4,this.ratioH),e.writeInt32(5,this.width),e.writeInt32(6,this.height),e.writeInt32(7,this.outerFrameW),e.writeInt32(8,this.outerFrameH),e.writeString(9,this.outerFrameUrl)},t.AdLayout.prototype.readFrom=function(e){this.layoutType=e.readInt32(0,!1,this.layoutType),this.templateW=e.readInt32(1,!1,this.templateW),this.templateH=e.readInt32(2,!1,this.templateH),this.ratioW=e.readDouble(3,!1,this.ratioW),this.ratioH=e.readDouble(4,!1,this.ratioH),this.width=e.readInt32(5,!1,this.width),this.height=e.readInt32(6,!1,this.height),this.outerFrameW=e.readInt32(7,!1,this.outerFrameW),this.outerFrameH=e.readInt32(8,!1,this.outerFrameH),this.outerFrameUrl=e.readString(9,!1,this.outerFrameUrl)};var o=e.GameRelease||{};o.GameHandleAlertInfo=function(){this.handleGameInfo=new o.HandleGameInfo,this.apkInfo=new o.ApkInfo,this.handleAlertInfo=new o.HandleAlertInfo},o.GameHandleAlertInfo.prototype._clone=function(){return new o.GameHandleAlertInfo},o.GameHandleAlertInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.GameHandleAlertInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.GameHandleAlertInfo.prototype.writeTo=function(e){e.writeStruct(0,this.handleGameInfo),e.writeStruct(1,this.apkInfo),e.writeStruct(2,this.handleAlertInfo)},o.GameHandleAlertInfo.prototype.readFrom=function(e){this.handleGameInfo=e.readStruct(0,!1,this.handleGameInfo),this.apkInfo=e.readStruct(1,!1,this.apkInfo),this.handleAlertInfo=e.readStruct(2,!1,this.handleAlertInfo)},o.HandleGameInfo=function(){this.gameId=0,this.gameName="",this.gameType=0,this.gameIcon="",this.gameIntro="",this.gameBrief="",this.tags=new i.Vector(new i.STRING),this.postStatus=0,this.isReserve=0,this.iosAppStoreId="",this.iosDownloadUrl="",this.iosVersion="",this.iosFileSize="",this.iosIeg=0,this.iosSchema="",this.iosBundleId="",this.yybGid=0,this.linkUrl="",this.giftCount=0,this.iosGiftCount=0,this.gameImgs=new i.Vector(new i.STRING),this.iosPromoteSta=0},o.HandleGameInfo.prototype._clone=function(){return new o.HandleGameInfo},o.HandleGameInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.HandleGameInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.HandleGameInfo.prototype.writeTo=function(e){e.writeInt32(0,this.gameId),e.writeString(1,this.gameName),e.writeInt32(2,this.gameType),e.writeString(3,this.gameIcon),e.writeString(4,this.gameIntro),e.writeString(5,this.gameBrief),e.writeVector(7,this.tags),e.writeInt32(8,this.postStatus),e.writeInt32(9,this.isReserve),e.writeString(10,this.iosAppStoreId),e.writeString(11,this.iosDownloadUrl),e.writeString(12,this.iosVersion),e.writeString(13,this.iosFileSize),e.writeInt32(14,this.iosIeg),e.writeString(15,this.iosSchema),e.writeString(16,this.iosBundleId),e.writeInt64(17,this.yybGid),e.writeString(18,this.linkUrl),e.writeInt32(19,this.giftCount),e.writeInt32(20,this.iosGiftCount),e.writeVector(21,this.gameImgs),e.writeInt32(22,this.iosPromoteSta)},o.HandleGameInfo.prototype.readFrom=function(e){this.gameId=e.readInt32(0,!1,this.gameId),this.gameName=e.readString(1,!1,this.gameName),this.gameType=e.readInt32(2,!1,this.gameType),this.gameIcon=e.readString(3,!1,this.gameIcon),this.gameIntro=e.readString(4,!1,this.gameIntro),this.gameBrief=e.readString(5,!1,this.gameBrief),this.tags=e.readVector(7,!1,this.tags),this.postStatus=e.readInt32(8,!1,this.postStatus),this.isReserve=e.readInt32(9,!1,this.isReserve),this.iosAppStoreId=e.readString(10,!1,this.iosAppStoreId),this.iosDownloadUrl=e.readString(11,!1,this.iosDownloadUrl),this.iosVersion=e.readString(12,!1,this.iosVersion),this.iosFileSize=e.readString(13,!1,this.iosFileSize),this.iosIeg=e.readInt32(14,!1,this.iosIeg),this.iosSchema=e.readString(15,!1,this.iosSchema),this.iosBundleId=e.readString(16,!1,this.iosBundleId),this.yybGid=e.readInt64(17,!1,this.yybGid),this.linkUrl=e.readString(18,!1,this.linkUrl),this.giftCount=e.readInt32(19,!1,this.giftCount),this.iosGiftCount=e.readInt32(20,!1,this.iosGiftCount),this.gameImgs=e.readVector(21,!1,this.gameImgs),this.iosPromoteSta=e.readInt32(22,!1,this.iosPromoteSta)},o.ApkInfo=function(){this.gameId=0,this.apkUrl="",this.apkName="",this.apkMd5="",this.chId="",this.anchorId=0,this.extFromId="",this.curFromId="",this.gameName="",this.gameIcon="",this.versionCode=0,this.adrFileSize="",this.adrVersion=""},o.ApkInfo.prototype._clone=function(){return new o.ApkInfo},o.ApkInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.ApkInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.ApkInfo.prototype.writeTo=function(e){e.writeInt32(0,this.gameId),e.writeString(1,this.apkUrl),e.writeString(2,this.apkName),e.writeString(3,this.apkMd5),e.writeString(4,this.chId),e.writeInt64(5,this.anchorId),e.writeString(6,this.extFromId),e.writeString(7,this.curFromId),e.writeString(8,this.gameName),e.writeString(9,this.gameIcon),e.writeInt64(10,this.versionCode),e.writeString(11,this.adrFileSize),e.writeString(12,this.adrVersion)},o.ApkInfo.prototype.readFrom=function(e){this.gameId=e.readInt32(0,!1,this.gameId),this.apkUrl=e.readString(1,!1,this.apkUrl),this.apkName=e.readString(2,!1,this.apkName),this.apkMd5=e.readString(3,!1,this.apkMd5),this.chId=e.readString(4,!1,this.chId),this.anchorId=e.readInt64(5,!1,this.anchorId),this.extFromId=e.readString(6,!1,this.extFromId),this.curFromId=e.readString(7,!1,this.curFromId),this.gameName=e.readString(8,!1,this.gameName),this.gameIcon=e.readString(9,!1,this.gameIcon),this.versionCode=e.readInt64(10,!1,this.versionCode),this.adrFileSize=e.readString(11,!1,this.adrFileSize),this.adrVersion=e.readString(12,!1,this.adrVersion)},o.HandleAlertInfo=function(){this.custom=0,this.fontMode=0,this.alertBgImg="",this.btnBgImg="",this.actionTxt="",this.gameUrl="",this.actionType=0,this.actName="",this.actFullName="",this.jumpUrl="",this.apkInfo="",this.authInfo="",this.cloudGamePcLink="",this.viewUrl="",this.isSimulater=0,this.queryRandomTime=0,this.entranceTxt="",this.alertTag="",this.traceId=""},o.HandleAlertInfo.prototype._clone=function(){return new o.HandleAlertInfo},o.HandleAlertInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.HandleAlertInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.HandleAlertInfo.prototype.writeTo=function(e){e.writeInt32(0,this.custom),e.writeInt32(1,this.fontMode),e.writeString(2,this.alertBgImg),e.writeString(3,this.btnBgImg),e.writeString(4,this.actionTxt),e.writeString(5,this.gameUrl),e.writeInt32(6,this.actionType),e.writeString(7,this.actName),e.writeString(8,this.actFullName),e.writeString(9,this.jumpUrl),e.writeString(10,this.apkInfo),e.writeString(11,this.authInfo),e.writeString(12,this.cloudGamePcLink),e.writeString(13,this.viewUrl),e.writeInt32(14,this.isSimulater),e.writeInt32(15,this.queryRandomTime),e.writeString(16,this.entranceTxt),e.writeString(17,this.alertTag),e.writeString(18,this.traceId)},o.HandleAlertInfo.prototype.readFrom=function(e){this.custom=e.readInt32(0,!1,this.custom),this.fontMode=e.readInt32(1,!1,this.fontMode),this.alertBgImg=e.readString(2,!1,this.alertBgImg),this.btnBgImg=e.readString(3,!1,this.btnBgImg),this.actionTxt=e.readString(4,!1,this.actionTxt),this.gameUrl=e.readString(5,!1,this.gameUrl),this.actionType=e.readInt32(6,!1,this.actionType),this.actName=e.readString(7,!1,this.actName),this.actFullName=e.readString(8,!1,this.actFullName),this.jumpUrl=e.readString(9,!1,this.jumpUrl),this.apkInfo=e.readString(10,!1,this.apkInfo),this.authInfo=e.readString(11,!1,this.authInfo),this.cloudGamePcLink=e.readString(12,!1,this.cloudGamePcLink),this.viewUrl=e.readString(13,!1,this.viewUrl),this.isSimulater=e.readInt32(14,!1,this.isSimulater),this.queryRandomTime=e.readInt32(15,!1,this.queryRandomTime),this.entranceTxt=e.readString(16,!1,this.entranceTxt),this.alertTag=e.readString(17,!1,this.alertTag),this.traceId=e.readString(18,!1,this.traceId)},o.GameMonitorReportReq=function(){this.userId=new t.UserId,this.time=0,this.traceId="",this.gameId=0,this.bizType=0,this.eventId=0,this.status=0,this.msg="",this.platform="",this.version="",this.anchorUid=0,this.liveGid=0},o.GameMonitorReportReq.prototype._clone=function(){return new o.GameMonitorReportReq},o.GameMonitorReportReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.GameMonitorReportReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.GameMonitorReportReq.prototype.writeTo=function(e){e.writeStruct(0,this.userId),e.writeInt64(1,this.time),e.writeString(2,this.traceId),e.writeInt32(3,this.gameId),e.writeInt32(4,this.bizType),e.writeInt32(5,this.eventId),e.writeInt32(6,this.status),e.writeString(7,this.msg),e.writeString(8,this.platform),e.writeString(9,this.version),e.writeInt64(10,this.anchorUid),e.writeInt32(11,this.liveGid)},o.GameMonitorReportRsp=function(){this.response=new s.GameCeterResponse},o.GameMonitorReportRsp.prototype._clone=function(){return new o.GameMonitorReportRsp},o.GameMonitorReportRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.GameMonitorReportRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.GameMonitorReportRsp.prototype.readFrom=function(e){this.response=e.readStruct(0,!1,this.response)},o.GameReserveWifiDlReq=function(){this.tId=new t.UserId,this.gameId=0,this.wifi=0,this.appId=0},o.GameReserveWifiDlReq.prototype._clone=function(){return new o.GameReserveWifiDlReq},o.GameReserveWifiDlReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.GameReserveWifiDlReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.GameReserveWifiDlReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.gameId),e.writeInt32(2,this.wifi),e.writeInt32(3,this.appId)},o.GameReserveWifiDlResp=function(){this.response=new o.GameCeterResponse},o.GameReserveWifiDlResp.prototype._clone=function(){return new o.GameReserveWifiDlResp},o.GameReserveWifiDlResp.prototype._write=function(e,t,i){e.writeStruct(t,i)},o.GameReserveWifiDlResp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},o.GameReserveWifiDlResp.prototype.readFrom=function(e){this.response=e.readStruct(0,!1,this.response)};var s=e.GameReleaseCommon||{};s.GameCeterResponse=function(){this.res=0,this.msg=""},s.GameCeterResponse.prototype._clone=function(){return new s.GameCeterResponse},s.GameCeterResponse.prototype._write=function(e,t,i){e.writeStruct(t,i)},s.GameCeterResponse.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},s.GameCeterResponse.prototype.writeTo=function(e){e.writeInt32(0,this.res),e.writeString(1,this.msg)},s.GameCeterResponse.prototype.readFrom=function(e){this.res=e.readInt32(0,!1,this.res),this.msg=e.readString(1,!1,this.msg)};var c=e.AdTimeServer||{};c.SlotData=function(){this.slotCode="",this.slotCnt=0,this.initShowUnitId=0,this.env=new i.Map(new i.STRING,new i.STRING)},c.SlotData.prototype._clone=function(){return new c.SlotData},c.SlotData.prototype._write=function(e,t,i){e.writeStruct(t,i)},c.SlotData.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},c.SlotData.prototype.writeTo=function(e){e.writeString(0,this.slotCode),e.writeInt32(1,this.slotCnt),e.writeInt64(2,this.initShowUnitId),e.writeMap(3,this.env)},c.SlotData.prototype.readFrom=function(e){this.slotCode=e.readString(0,!1,this.slotCode),this.slotCnt=e.readInt32(1,!1,this.slotCnt),this.initShowUnitId=e.readInt64(2,!1,this.initShowUnitId),this.env=e.readMap(3,!1,this.env)};var l=e.AD||{};l.GetAdNegativeFeedbackListReq=function(){this.userId=new t.UserId,this.adInfo=new i.Vector(new l.GetNegativeFeedbackListAd),this.rid="",this.platform=0},l.GetAdNegativeFeedbackListReq.prototype._clone=function(){return new l.GetAdNegativeFeedbackListReq},l.GetAdNegativeFeedbackListReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.GetAdNegativeFeedbackListReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.GetAdNegativeFeedbackListReq.prototype.writeTo=function(e){e.writeStruct(0,this.userId),e.writeVector(1,this.adInfo),e.writeString(2,this.rid),e.writeInt32(3,this.platform)},l.GetAdNegativeFeedbackListRsp=function(){this.msg="",this.adFeedbackList=new i.Vector(new l.AdNegativeFeedbackList)},l.GetAdNegativeFeedbackListRsp.prototype._clone=function(){return new l.GetAdNegativeFeedbackListRsp},l.GetAdNegativeFeedbackListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.GetAdNegativeFeedbackListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.GetAdNegativeFeedbackListRsp.prototype.readFrom=function(e){this.msg=e.readString(0,!1,this.msg),this.adFeedbackList=e.readVector(1,!1,this.adFeedbackList)},l.GetNegativeFeedbackListAd=function(){this.adId="",this.unitId=0,this.ideaId=0,this.imageUrl="",this.videoUrl="",this.iconUrl="",this.title="",this.description="",this.brand="",this.slotCode="",this.ext=new i.Map(new i.STRING,new i.STRING)},l.GetNegativeFeedbackListAd.prototype._clone=function(){return new l.GetNegativeFeedbackListAd},l.GetNegativeFeedbackListAd.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.GetNegativeFeedbackListAd.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.GetNegativeFeedbackListAd.prototype.writeTo=function(e){e.writeString(0,this.adId),e.writeInt64(1,this.unitId),e.writeInt64(2,this.ideaId),e.writeString(3,this.imageUrl),e.writeString(4,this.videoUrl),e.writeString(5,this.iconUrl),e.writeString(6,this.title),e.writeString(7,this.description),e.writeString(8,this.brand),e.writeString(9,this.slotCode),e.writeMap(10,this.ext)},l.GetNegativeFeedbackListAd.prototype.readFrom=function(e){this.adId=e.readString(0,!1,this.adId),this.unitId=e.readInt64(1,!1,this.unitId),this.ideaId=e.readInt64(2,!1,this.ideaId),this.imageUrl=e.readString(3,!1,this.imageUrl),this.videoUrl=e.readString(4,!1,this.videoUrl),this.iconUrl=e.readString(5,!1,this.iconUrl),this.title=e.readString(6,!1,this.title),this.description=e.readString(7,!1,this.description),this.brand=e.readString(8,!1,this.brand),this.slotCode=e.readString(9,!1,this.slotCode),this.ext=e.readMap(10,!1,this.ext)},l.AdNegativeFeedbackList=function(){this.adId="",this.items=new i.Vector(new l.AdNegativeFeedbackItem)},l.AdNegativeFeedbackList.prototype._clone=function(){return new l.AdNegativeFeedbackList},l.AdNegativeFeedbackList.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.AdNegativeFeedbackList.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.AdNegativeFeedbackList.prototype.writeTo=function(e){e.writeString(0,this.adId),e.writeVector(1,this.items)},l.AdNegativeFeedbackList.prototype.readFrom=function(e){this.adId=e.readString(0,!1,this.adId),this.items=e.readVector(1,!1,this.items)},l.AdNegativeFeedbackItem=function(){this.outText="",this.actType="",this.extInfo=new i.Map(new i.STRING,new i.STRING),this.unionUrlReplaceParams=new i.Map(new i.STRING,new i.STRING)},l.AdNegativeFeedbackItem.prototype._clone=function(){return new l.AdNegativeFeedbackItem},l.AdNegativeFeedbackItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},l.AdNegativeFeedbackItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},l.AdNegativeFeedbackItem.prototype.writeTo=function(e){e.writeString(0,this.outText),e.writeString(1,this.actType),e.writeMap(2,this.extInfo),e.writeMap(3,this.unionUrlReplaceParams)},l.AdNegativeFeedbackItem.prototype.readFrom=function(e){this.outText=e.readString(0,!1,this.outText),this.actType=e.readString(1,!1,this.actType),this.extInfo=e.readMap(2,!1,this.extInfo),this.unionUrlReplaceParams=e.readMap(3,!1,this.unionUrlReplaceParams)};var u=e.PresenterServer||{};u.ConfigReq=function(){this.presenterId=0,this.os=0,this.from=0,this.gameId=0,this.userId=new u.UserId},u.ConfigReq.prototype._clone=function(){return new u.ConfigReq},u.ConfigReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},u.ConfigReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},u.ConfigReq.prototype.writeTo=function(e){e.writeInt64(0,this.presenterId),e.writeInt32(1,this.os),e.writeInt32(2,this.from),e.writeInt32(3,this.gameId),e.writeStruct(4,this.userId)},u.RewardAdConfigRsp=function(){this.code=0,this.message="",this.hasConfig=!0,this.request=!0,this.config=new u.RewardAdConfigVo,this.expireTime=0,this.adLayoutMap=new i.Map(new i.INT64,new u.AdLayout),this.adStatus=new u.AdStatus,this.permanentSlotConfig=new u.PermanentSlotConfig,this.audioAd=0,this.eventAd=0,this.showNotice=0,this.pushRemainTime=0,this.extra=new i.Map(new i.STRING,new i.STRING)},u.RewardAdConfigRsp.prototype._clone=function(){return new u.RewardAdConfigRsp},u.RewardAdConfigRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},u.RewardAdConfigRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},u.RewardAdConfigRsp.prototype.readFrom=function(e){this.code=e.readInt32(0,!1,this.code),this.message=e.readString(1,!1,this.message),this.hasConfig=e.readBoolean(2,!1,this.hasConfig),this.request=e.readBoolean(3,!1,this.request),this.config=e.readStruct(4,!1,this.config),this.expireTime=e.readInt64(5,!1,this.expireTime),this.adLayoutMap=e.readMap(6,!1,this.adLayoutMap),this.adStatus=e.readStruct(7,!1,this.adStatus),this.permanentSlotConfig=e.readStruct(8,!1,this.permanentSlotConfig),this.audioAd=e.readInt32(9,!1,this.audioAd),this.eventAd=e.readInt32(10,!1,this.eventAd),this.showNotice=e.readInt32(16,!1,this.showNotice),this.pushRemainTime=e.readInt64(17,!1,this.pushRemainTime),this.extra=e.readMap(18,!1,this.extra)},u.RewardAdConfigVo=function(){this.presenterId=0,this.layout=new u.AdLayout,this.initShow=!0,this.turnShow=!0,this.interval=0,this.maxDuration=0,this.slotCode="",this.slotCnt=0,this.turnSlotCode="",this.turnSlotCnt=0,this.initShowDelay=0,this.configType=0,this.position=0,this.pushSlotCode="",this.pushSlotCnt=0,this.closeButtonAppear=0,this.videoMaxDuration=0},u.RewardAdConfigVo.prototype._clone=function(){return new u.RewardAdConfigVo},u.RewardAdConfigVo.prototype._write=function(e,t,i){e.writeStruct(t,i)},u.RewardAdConfigVo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},u.RewardAdConfigVo.prototype.writeTo=function(e){e.writeInt64(0,this.presenterId),e.writeStruct(1,this.layout),e.writeBoolean(2,this.initShow),e.writeBoolean(3,this.turnShow),e.writeInt32(4,this.interval),e.writeInt32(5,this.maxDuration),e.writeString(6,this.slotCode),e.writeInt32(7,this.slotCnt),e.writeString(8,this.turnSlotCode),e.writeInt32(9,this.turnSlotCnt),e.writeInt32(10,this.initShowDelay),e.writeInt32(11,this.configType),e.writeInt32(12,this.position),e.writeString(13,this.pushSlotCode),e.writeInt32(14,this.pushSlotCnt),e.writeInt32(15,this.closeButtonAppear),e.writeInt32(16,this.videoMaxDuration)},u.RewardAdConfigVo.prototype.readFrom=function(e){this.presenterId=e.readInt64(0,!1,this.presenterId),this.layout=e.readStruct(1,!1,this.layout),this.initShow=e.readBoolean(2,!1,this.initShow),this.turnShow=e.readBoolean(3,!1,this.turnShow),this.interval=e.readInt32(4,!1,this.interval),this.maxDuration=e.readInt32(5,!1,this.maxDuration),this.slotCode=e.readString(6,!1,this.slotCode),this.slotCnt=e.readInt32(7,!1,this.slotCnt),this.turnSlotCode=e.readString(8,!1,this.turnSlotCode),this.turnSlotCnt=e.readInt32(9,!1,this.turnSlotCnt),this.initShowDelay=e.readInt32(10,!1,this.initShowDelay),this.configType=e.readInt32(11,!1,this.configType),this.position=e.readInt32(12,!1,this.position),this.pushSlotCode=e.readString(13,!1,this.pushSlotCode),this.pushSlotCnt=e.readInt32(14,!1,this.pushSlotCnt),this.closeButtonAppear=e.readInt32(15,!1,this.closeButtonAppear),this.videoMaxDuration=e.readInt32(16,!1,this.videoMaxDuration)},u.AdStatus=function(){this.id="",this.lastTime=0},u.AdStatus.prototype._clone=function(){return new u.AdStatus},u.AdStatus.prototype._write=function(e,t,i){e.writeStruct(t,i)},u.AdStatus.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},u.AdStatus.prototype.writeTo=function(e){e.writeString(0,this.id),e.writeInt32(1,this.lastTime)},u.AdStatus.prototype.readFrom=function(e){this.id=e.readString(0,!1,this.id),this.lastTime=e.readInt32(1,!1,this.lastTime)},u.PermanentSlotConfig=function(){this.permanentSlotCode=""},u.PermanentSlotConfig.prototype._clone=function(){return new u.PermanentSlotConfig},u.PermanentSlotConfig.prototype._write=function(e,t,i){e.writeStruct(t,i)},u.PermanentSlotConfig.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},u.PermanentSlotConfig.prototype.writeTo=function(e){e.writeString(0,this.permanentSlotCode)},u.PermanentSlotConfig.prototype.readFrom=function(e){this.permanentSlotCode=e.readString(0,!1,this.permanentSlotCode)},t.GetLiveRoomPopupWindowSummaryReq=function(){this.tId=new t.UserId,this.lPid=0,this.iTemplate=0},t.GetLiveRoomPopupWindowSummaryReq.prototype._clone=function(){return new t.GetLiveRoomPopupWindowSummaryReq},t.GetLiveRoomPopupWindowSummaryReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomPopupWindowSummaryReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomPopupWindowSummaryReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid),e.writeInt32(2,this.iTemplate)},t.GetLiveRoomPopupWindowSummaryRsp=function(){this.sMessage="",this.vSummary=new i.Vector(new t.LiveRoomPopupWindowSummary),this.mpType2Strategy=new i.Map(new i.INT32,new i.BinBuffer)},t.GetLiveRoomPopupWindowSummaryRsp.prototype._clone=function(){return new t.GetLiveRoomPopupWindowSummaryRsp},t.GetLiveRoomPopupWindowSummaryRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomPopupWindowSummaryRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomPopupWindowSummaryRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.vSummary=e.readVector(1,!1,this.vSummary),this.mpType2Strategy=e.readMap(2,!1,this.mpType2Strategy)},t.LiveRoomPopupWindowSummary=function(){this.sKey="",this.sName="",this.iTriggerType=0,this.iBusinessType=0,this.iEnterRoomDelaySeconds=0,this.iAutoCloseSeconds=0,this.iDayShowMaxCount=0,this.lEndTimeStamp=0,this.lRankValue=0,this.iReplaced=1,this.lStrategyTypeCombination=0,this.iThrowAway=0,this.mpReport=new i.Map(new i.STRING,new i.STRING),this.iIsBindBottomBar=0,this.iBindBottomBarItemType=0,this.iMessageType=0,this.iIsBindMore=0},t.LiveRoomPopupWindowSummary.prototype._clone=function(){return new t.LiveRoomPopupWindowSummary},t.LiveRoomPopupWindowSummary.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowSummary.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowSummary.prototype.writeTo=function(e){e.writeString(0,this.sKey),e.writeString(1,this.sName),e.writeInt32(2,this.iTriggerType),e.writeInt32(3,this.iBusinessType),e.writeInt32(4,this.iEnterRoomDelaySeconds),e.writeInt32(5,this.iAutoCloseSeconds),e.writeInt32(6,this.iDayShowMaxCount),e.writeInt64(7,this.lEndTimeStamp),e.writeInt64(8,this.lRankValue),e.writeInt32(9,this.iReplaced),e.writeInt64(10,this.lStrategyTypeCombination),e.writeInt32(11,this.iThrowAway),e.writeMap(12,this.mpReport),e.writeInt32(13,this.iIsBindBottomBar),e.writeInt32(14,this.iBindBottomBarItemType),e.writeInt32(15,this.iMessageType),e.writeInt32(16,this.iIsBindMore)},t.LiveRoomPopupWindowSummary.prototype.readFrom=function(e){this.sKey=e.readString(0,!1,this.sKey),this.sName=e.readString(1,!1,this.sName),this.iTriggerType=e.readInt32(2,!1,this.iTriggerType),this.iBusinessType=e.readInt32(3,!1,this.iBusinessType),this.iEnterRoomDelaySeconds=e.readInt32(4,!1,this.iEnterRoomDelaySeconds),this.iAutoCloseSeconds=e.readInt32(5,!1,this.iAutoCloseSeconds),this.iDayShowMaxCount=e.readInt32(6,!1,this.iDayShowMaxCount),this.lEndTimeStamp=e.readInt64(7,!1,this.lEndTimeStamp),this.lRankValue=e.readInt64(8,!1,this.lRankValue),this.iReplaced=e.readInt32(9,!1,this.iReplaced),this.lStrategyTypeCombination=e.readInt64(10,!1,this.lStrategyTypeCombination),this.iThrowAway=e.readInt32(11,!1,this.iThrowAway),this.mpReport=e.readMap(12,!1,this.mpReport),this.iIsBindBottomBar=e.readInt32(13,!1,this.iIsBindBottomBar),this.iBindBottomBarItemType=e.readInt32(14,!1,this.iBindBottomBarItemType),this.iMessageType=e.readInt32(15,!1,this.iMessageType),this.iIsBindMore=e.readInt32(16,!1,this.iIsBindMore)},t.ELiveRoomPopupWindowStrategyType={E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_KEY_FREQ_CONTROL:1,E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_TIME_UNIFIED:2,E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_MOMENT_FREQ_CONTROL:4,E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_NEGATIVE_FEEDBACK:8,E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_NO_REPLACE_OTHERS:16,E_LIVE_ROOM_POPUP_WINDOW_STRATEGY_TYPE_AGGREGATION_CONTROL:32},t.LiveRoomPopupWindowKeyFreqControlStrategy=function(){this.iDayShowMaxCount=0,this.iDayShowMaxCountDamnu=0},t.LiveRoomPopupWindowKeyFreqControlStrategy.prototype._clone=function(){return new t.LiveRoomPopupWindowKeyFreqControlStrategy},t.LiveRoomPopupWindowKeyFreqControlStrategy.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowKeyFreqControlStrategy.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowKeyFreqControlStrategy.prototype.writeTo=function(e){e.writeInt32(0,this.iDayShowMaxCount),e.writeInt32(1,this.iDayShowMaxCountDamnu)},t.LiveRoomPopupWindowKeyFreqControlStrategy.prototype.readFrom=function(e){this.iDayShowMaxCount=e.readInt32(0,!1,this.iDayShowMaxCount),this.iDayShowMaxCountDamnu=e.readInt32(1,!1,this.iDayShowMaxCountDamnu)},t.LiveRoomPopupWindowNegativeFeedbackStrategy=function(){this.iUserCloseGapSeconds=0},t.LiveRoomPopupWindowNegativeFeedbackStrategy.prototype._clone=function(){return new t.LiveRoomPopupWindowNegativeFeedbackStrategy},t.LiveRoomPopupWindowNegativeFeedbackStrategy.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowNegativeFeedbackStrategy.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowNegativeFeedbackStrategy.prototype.writeTo=function(e){e.writeInt32(0,this.iUserCloseGapSeconds)},t.LiveRoomPopupWindowNegativeFeedbackStrategy.prototype.readFrom=function(e){this.iUserCloseGapSeconds=e.readInt32(0,!1,this.iUserCloseGapSeconds)},t.LiveRoomPopupWindowNoReplaceOthersStrategy=function(){this.iUseless=0},t.LiveRoomPopupWindowNoReplaceOthersStrategy.prototype._clone=function(){return new t.LiveRoomPopupWindowNoReplaceOthersStrategy},t.LiveRoomPopupWindowNoReplaceOthersStrategy.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowNoReplaceOthersStrategy.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowNoReplaceOthersStrategy.prototype.writeTo=function(e){e.writeInt32(0,this.iUseless)},t.LiveRoomPopupWindowNoReplaceOthersStrategy.prototype.readFrom=function(e){this.iUseless=e.readInt32(0,!1,this.iUseless)},t.LiveRoomPopupWindowAggregationControlStrategy=function(){this.iEnterRoomDelaySeconds=0,this.iShowGapSeconds=0,this.iEnterRoomMaxCount=0,this.iOtherwiseMaxCount=0,this.iEnterRoomDelaySecondsDanmu=0,this.iShowGapSecondsDanmu=0,this.iEnterRoomMaxCountDanmu=0,this.iOtherwiseMaxCountDanmu=0,this.iShowGapMsgCountDanmu=0,this.iShowGapMsgTimeWindowDanmu=0},t.LiveRoomPopupWindowAggregationControlStrategy.prototype._clone=function(){return new t.LiveRoomPopupWindowAggregationControlStrategy},t.LiveRoomPopupWindowAggregationControlStrategy.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowAggregationControlStrategy.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowAggregationControlStrategy.prototype.writeTo=function(e){e.writeInt32(0,this.iEnterRoomDelaySeconds),e.writeInt32(1,this.iShowGapSeconds),e.writeInt32(2,this.iEnterRoomMaxCount),e.writeInt32(3,this.iOtherwiseMaxCount),e.writeInt32(4,this.iEnterRoomDelaySecondsDanmu),e.writeInt32(5,this.iShowGapSecondsDanmu),e.writeInt32(6,this.iEnterRoomMaxCountDanmu),e.writeInt32(7,this.iOtherwiseMaxCountDanmu),e.writeInt32(8,this.iShowGapMsgCountDanmu),e.writeInt32(9,this.iShowGapMsgTimeWindowDanmu)},t.LiveRoomPopupWindowAggregationControlStrategy.prototype.readFrom=function(e){this.iEnterRoomDelaySeconds=e.readInt32(0,!1,this.iEnterRoomDelaySeconds),this.iShowGapSeconds=e.readInt32(1,!1,this.iShowGapSeconds),this.iEnterRoomMaxCount=e.readInt32(2,!1,this.iEnterRoomMaxCount),this.iOtherwiseMaxCount=e.readInt32(3,!1,this.iOtherwiseMaxCount),this.iEnterRoomDelaySecondsDanmu=e.readInt32(4,!1,this.iEnterRoomDelaySecondsDanmu),this.iShowGapSecondsDanmu=e.readInt32(5,!1,this.iShowGapSecondsDanmu),this.iEnterRoomMaxCountDanmu=e.readInt32(6,!1,this.iEnterRoomMaxCountDanmu),this.iOtherwiseMaxCountDanmu=e.readInt32(7,!1,this.iOtherwiseMaxCountDanmu),this.iShowGapMsgCountDanmu=e.readInt32(8,!1,this.iShowGapMsgCountDanmu),this.iShowGapMsgTimeWindowDanmu=e.readInt32(9,!1,this.iShowGapMsgTimeWindowDanmu)},t.GetLiveBoxUserGrowthPageReq=function(){this.tId=new t.UserId,this.iFromType=0,this.lPid=0,this.sAdSdkInfo="",this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.GetLiveBoxUserGrowthPageReq.prototype._clone=function(){return new t.GetLiveBoxUserGrowthPageReq},t.GetLiveBoxUserGrowthPageReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveBoxUserGrowthPageReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveBoxUserGrowthPageReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iFromType),e.writeInt64(2,this.lPid),e.writeString(3,this.sAdSdkInfo),e.writeMap(4,this.mpExtend)},t.GetLiveBoxUserGrowthPageRsp=function(){this.sMessage="",this.vModule=new i.Vector(new t.LiveBoxPageModule)},t.GetLiveBoxUserGrowthPageRsp.prototype._clone=function(){return new t.GetLiveBoxUserGrowthPageRsp},t.GetLiveBoxUserGrowthPageRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveBoxUserGrowthPageRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveBoxUserGrowthPageRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.vModule=e.readVector(1,!1,this.vModule)},t.LiveBoxPageModule=function(){this.iType=0,this.vData=new i.BinBuffer},t.LiveBoxPageModule.prototype._clone=function(){return new t.LiveBoxPageModule},t.LiveBoxPageModule.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxPageModule.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxPageModule.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeBytes(1,this.vData)},t.LiveBoxPageModule.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.vData=e.readBytes(1,!1,this.vData)},t.LiveBoxPointMallModule=function(){this.tPointMall=new t.GetPointMallRecommendListRsp},t.LiveBoxPointMallModule.prototype._clone=function(){return new t.LiveBoxPointMallModule},t.LiveBoxPointMallModule.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxPointMallModule.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxPointMallModule.prototype.writeTo=function(e){e.writeStruct(0,this.tPointMall)},t.LiveBoxPointMallModule.prototype.readFrom=function(e){this.tPointMall=e.readStruct(0,!1,this.tPointMall)},t.GetPointMallRecommendListRsp=function(){this.vItemList=new i.Vector(new t.UserPointExchangeItem)},t.GetPointMallRecommendListRsp.prototype._clone=function(){return new t.GetPointMallRecommendListRsp},t.GetPointMallRecommendListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPointMallRecommendListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPointMallRecommendListRsp.prototype.readFrom=function(e){this.vItemList=e.readVector(0,!1,this.vItemList)},t.UserPointExchangeItem=function(){this.lItemId=0,this.sItemImage="",this.sItemName="",this.lUnitPrice=0,this.iStockStatus=0,this.iExchangeStatus=0,this.sItemClass="",this.sItemAttr="",this.iItemLevel=0,this.iPayType=0,this.iDiscount=0,this.lOriginalPrice=0,this.mExtra=new i.Map(new i.STRING,new i.STRING),this.iPointBack=0,this.sItemDesc="",this.vPayMethod=new i.Vector(new t.PointMallItemPayMethod),this.sUserDiscountUrl="",this.iHasCondLock=0,this.iShowRecommend=0,this.sItemRectImage=""},t.UserPointExchangeItem.prototype._clone=function(){return new t.UserPointExchangeItem},t.UserPointExchangeItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserPointExchangeItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserPointExchangeItem.prototype.writeTo=function(e){e.writeInt64(0,this.lItemId),e.writeString(1,this.sItemImage),e.writeString(3,this.sItemName),e.writeInt64(4,this.lUnitPrice),e.writeInt32(5,this.iStockStatus),e.writeInt32(6,this.iExchangeStatus),e.writeString(7,this.sItemClass),e.writeString(8,this.sItemAttr),e.writeInt32(9,this.iItemLevel),e.writeInt32(10,this.iPayType),e.writeInt32(11,this.iDiscount),e.writeInt64(12,this.lOriginalPrice),e.writeMap(13,this.mExtra),e.writeInt32(14,this.iPointBack),e.writeString(15,this.sItemDesc),e.writeVector(16,this.vPayMethod),e.writeString(17,this.sUserDiscountUrl),e.writeInt32(18,this.iHasCondLock),e.writeInt32(19,this.iShowRecommend),e.writeString(20,this.sItemRectImage)},t.UserPointExchangeItem.prototype.readFrom=function(e){this.lItemId=e.readInt64(0,!1,this.lItemId),this.sItemImage=e.readString(1,!1,this.sItemImage),this.sItemName=e.readString(3,!1,this.sItemName),this.lUnitPrice=e.readInt64(4,!1,this.lUnitPrice),this.iStockStatus=e.readInt32(5,!1,this.iStockStatus),this.iExchangeStatus=e.readInt32(6,!1,this.iExchangeStatus),this.sItemClass=e.readString(7,!1,this.sItemClass),this.sItemAttr=e.readString(8,!1,this.sItemAttr),this.iItemLevel=e.readInt32(9,!1,this.iItemLevel),this.iPayType=e.readInt32(10,!1,this.iPayType),this.iDiscount=e.readInt32(11,!1,this.iDiscount),this.lOriginalPrice=e.readInt64(12,!1,this.lOriginalPrice),this.mExtra=e.readMap(13,!1,this.mExtra),this.iPointBack=e.readInt32(14,!1,this.iPointBack),this.sItemDesc=e.readString(15,!1,this.sItemDesc),this.vPayMethod=e.readVector(16,!1,this.vPayMethod),this.sUserDiscountUrl=e.readString(17,!1,this.sUserDiscountUrl),this.iHasCondLock=e.readInt32(18,!1,this.iHasCondLock),this.iShowRecommend=e.readInt32(19,!1,this.iShowRecommend),this.sItemRectImage=e.readString(20,!1,this.sItemRectImage)},t.PointMallItemPayMethod=function(){this.iPayType=0,this.lPrice=0,this.iPointBack=0},t.PointMallItemPayMethod.prototype._clone=function(){return new t.PointMallItemPayMethod},t.PointMallItemPayMethod.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.PointMallItemPayMethod.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.PointMallItemPayMethod.prototype.writeTo=function(e){e.writeInt32(0,this.iPayType),e.writeInt64(1,this.lPrice),e.writeInt32(2,this.iPointBack)},t.PointMallItemPayMethod.prototype.readFrom=function(e){this.iPayType=e.readInt32(0,!1,this.iPayType),this.lPrice=e.readInt64(1,!1,this.lPrice),this.iPointBack=e.readInt32(2,!1,this.iPointBack)},t.LiveBoxGrowthTimingBoxModule=function(){this.iIdentityType=0,this.sTitle="",this.sIcon="",this.vBox=new i.Vector(new t.LiveBoxInfo),this.sAnimationText="",this.sAnimationIcon=""},t.LiveBoxGrowthTimingBoxModule.prototype._clone=function(){return new t.LiveBoxGrowthTimingBoxModule},t.LiveBoxGrowthTimingBoxModule.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxGrowthTimingBoxModule.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxGrowthTimingBoxModule.prototype.writeTo=function(e){e.writeInt32(0,this.iIdentityType),e.writeString(1,this.sTitle),e.writeString(2,this.sIcon),e.writeVector(3,this.vBox),e.writeString(4,this.sAnimationText),e.writeString(5,this.sAnimationIcon)},t.LiveBoxGrowthTimingBoxModule.prototype.readFrom=function(e){this.iIdentityType=e.readInt32(0,!1,this.iIdentityType),this.sTitle=e.readString(1,!1,this.sTitle),this.sIcon=e.readString(2,!1,this.sIcon),this.vBox=e.readVector(3,!1,this.vBox),this.sAnimationText=e.readString(4,!1,this.sAnimationText),this.sAnimationIcon=e.readString(5,!1,this.sAnimationIcon)},t.LiveBoxInfo=function(){this.iId=0,this.iResourceType=0,this.iOptType=0,this.iBizType=0,this.iStatus=0,this.iTimeWait=0,this.sActionUrl="",this.tTemplate=new t.LiveBoxTemplate,this.vAward=new i.Vector(new t.LiveBoxAward),this.mpExtend=new i.Map(new i.STRING,new i.STRING),this.vExtend=new i.BinBuffer},t.LiveBoxInfo.prototype._clone=function(){return new t.LiveBoxInfo},t.LiveBoxInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxInfo.prototype.writeTo=function(e){e.writeInt32(0,this.iId),e.writeInt32(1,this.iResourceType),e.writeInt32(2,this.iOptType),e.writeInt32(3,this.iBizType),e.writeInt32(4,this.iStatus),e.writeInt32(5,this.iTimeWait),e.writeString(6,this.sActionUrl),e.writeStruct(7,this.tTemplate),e.writeVector(8,this.vAward),e.writeMap(9,this.mpExtend),e.writeBytes(10,this.vExtend)},t.LiveBoxInfo.prototype.readFrom=function(e){this.iId=e.readInt32(0,!1,this.iId),this.iResourceType=e.readInt32(1,!1,this.iResourceType),this.iOptType=e.readInt32(2,!1,this.iOptType),this.iBizType=e.readInt32(3,!1,this.iBizType),this.iStatus=e.readInt32(4,!1,this.iStatus),this.iTimeWait=e.readInt32(5,!1,this.iTimeWait),this.sActionUrl=e.readString(6,!1,this.sActionUrl),this.tTemplate=e.readStruct(7,!1,this.tTemplate),this.vAward=e.readVector(8,!1,this.vAward),this.mpExtend=e.readMap(9,!1,this.mpExtend),this.vExtend=e.readBytes(10,!1,this.vExtend)},t.LiveBoxTemplate=function(){this.sTitle="",this.sTagText="",this.sTagIcon="",this.sTimingButton="",this.sTimingImage="",this.sFinishButton="",this.sFinishImage="",this.sReceiveButton="",this.sReceiveImage="",this.sFailedButton="",this.sFailedImage="",this.sBackImage=""},t.LiveBoxTemplate.prototype._clone=function(){return new t.LiveBoxTemplate},t.LiveBoxTemplate.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxTemplate.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxTemplate.prototype.writeTo=function(e){e.writeString(0,this.sTitle),e.writeString(1,this.sTagText),e.writeString(2,this.sTagIcon),e.writeString(3,this.sTimingButton),e.writeString(4,this.sTimingImage),e.writeString(5,this.sFinishButton),e.writeString(6,this.sFinishImage),e.writeString(7,this.sReceiveButton),e.writeString(8,this.sReceiveImage),e.writeString(9,this.sFailedButton),e.writeString(10,this.sFailedImage),e.writeString(11,this.sBackImage)},t.LiveBoxTemplate.prototype.readFrom=function(e){this.sTitle=e.readString(0,!1,this.sTitle),this.sTagText=e.readString(1,!1,this.sTagText),this.sTagIcon=e.readString(2,!1,this.sTagIcon),this.sTimingButton=e.readString(3,!1,this.sTimingButton),this.sTimingImage=e.readString(4,!1,this.sTimingImage),this.sFinishButton=e.readString(5,!1,this.sFinishButton),this.sFinishImage=e.readString(6,!1,this.sFinishImage),this.sReceiveButton=e.readString(7,!1,this.sReceiveButton),this.sReceiveImage=e.readString(8,!1,this.sReceiveImage),this.sFailedButton=e.readString(9,!1,this.sFailedButton),this.sFailedImage=e.readString(10,!1,this.sFailedImage),this.sBackImage=e.readString(11,!1,this.sBackImage)},t.LiveBoxAward=function(){this.iType=0,this.iCount=0,this.sName="",this.sIcon="",this.iSourceType=0,this.iSourceId=0},t.LiveBoxAward.prototype._clone=function(){return new t.LiveBoxAward},t.LiveBoxAward.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxAward.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxAward.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeInt32(1,this.iCount),e.writeString(2,this.sName),e.writeString(3,this.sIcon),e.writeInt32(4,this.iSourceType),e.writeInt32(5,this.iSourceId)},t.LiveBoxAward.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.iCount=e.readInt32(1,!1,this.iCount),this.sName=e.readString(2,!1,this.sName),this.sIcon=e.readString(3,!1,this.sIcon),this.iSourceType=e.readInt32(4,!1,this.iSourceType),this.iSourceId=e.readInt32(5,!1,this.iSourceId)},t.LiveBoxMixedTaskModule=function(){this.vTask=new i.Vector(new t.LiveBoxMixedTask)},t.LiveBoxMixedTaskModule.prototype._clone=function(){return new t.LiveBoxMixedTaskModule},t.LiveBoxMixedTaskModule.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxMixedTaskModule.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxMixedTaskModule.prototype.writeTo=function(e){e.writeVector(0,this.vTask)},t.LiveBoxMixedTaskModule.prototype.readFrom=function(e){this.vTask=e.readVector(0,!1,this.vTask)},t.LiveBoxMixedTask=function(){this.iType=0,this.vData=new i.BinBuffer},t.LiveBoxMixedTask.prototype._clone=function(){return new t.LiveBoxMixedTask},t.LiveBoxMixedTask.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxMixedTask.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxMixedTask.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeBytes(1,this.vData)},t.LiveBoxMixedTask.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.vData=e.readBytes(1,!1,this.vData)},t.FinishLiveBoxReq=function(){this.tId=new t.UserId,this.iBoxId=0,this.iResourceType=0,this.iFromType=0,this.lPid=0,this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.FinishLiveBoxReq.prototype._clone=function(){return new t.FinishLiveBoxReq},t.FinishLiveBoxReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.FinishLiveBoxReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.FinishLiveBoxReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iBoxId),e.writeInt32(2,this.iResourceType),e.writeInt32(3,this.iFromType),e.writeInt64(4,this.lPid),e.writeMap(5,this.mpExtend)},t.FinishLiveBoxRsp=function(){this.sMessage="",this.iBoxStatus=0,this.tAuth=new t.LiveBoxAuthInfo,this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.FinishLiveBoxRsp.prototype._clone=function(){return new t.FinishLiveBoxRsp},t.FinishLiveBoxRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.FinishLiveBoxRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.FinishLiveBoxRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.iBoxStatus=e.readInt32(1,!1,this.iBoxStatus),this.tAuth=e.readStruct(2,!1,this.tAuth),this.mpExtend=e.readMap(3,!1,this.mpExtend)},t.LiveBoxAuthInfo=function(){this.iId=0,this.sTitle="",this.sContent="",this.sConfirmButton="",this.sCancelButton="",this.sActionUrl=""},t.LiveBoxAuthInfo.prototype._clone=function(){return new t.LiveBoxAuthInfo},t.LiveBoxAuthInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveBoxAuthInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveBoxAuthInfo.prototype.writeTo=function(e){e.writeInt32(0,this.iId),e.writeString(1,this.sTitle),e.writeString(2,this.sContent),e.writeString(3,this.sConfirmButton),e.writeString(4,this.sCancelButton),e.writeString(5,this.sActionUrl)},t.LiveBoxAuthInfo.prototype.readFrom=function(e){this.iId=e.readInt32(0,!1,this.iId),this.sTitle=e.readString(1,!1,this.sTitle),this.sContent=e.readString(2,!1,this.sContent),this.sConfirmButton=e.readString(3,!1,this.sConfirmButton),this.sCancelButton=e.readString(4,!1,this.sCancelButton),this.sActionUrl=e.readString(5,!1,this.sActionUrl)},t.AwardLiveBoxReq=function(){this.tId=new t.UserId,this.iBoxId=0,this.iResourceType=0,this.iFromType=0,this.lPid=0,this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.AwardLiveBoxReq.prototype._clone=function(){return new t.AwardLiveBoxReq},t.AwardLiveBoxReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.AwardLiveBoxReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.AwardLiveBoxReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iBoxId),e.writeInt32(2,this.iResourceType),e.writeInt32(3,this.iFromType),e.writeInt64(4,this.lPid),e.writeMap(5,this.mpExtend)},t.AwardLiveBoxRsp=function(){this.sMessage="",this.iBoxStatus=0,this.tAuth=new t.LiveBoxAuthInfo,this.vAward=new i.Vector(new t.LiveBoxAward),this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.AwardLiveBoxRsp.prototype._clone=function(){return new t.AwardLiveBoxRsp},t.AwardLiveBoxRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.AwardLiveBoxRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.AwardLiveBoxRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.iBoxStatus=e.readInt32(1,!1,this.iBoxStatus),this.tAuth=e.readStruct(2,!1,this.tAuth),this.vAward=e.readVector(3,!1,this.vAward),this.mpExtend=e.readMap(4,!1,this.mpExtend)},t.GetUserPointCurrencyInfoReq=function(){this.tId=new t.UserId},t.GetUserPointCurrencyInfoReq.prototype._clone=function(){return new t.GetUserPointCurrencyInfoReq},t.GetUserPointCurrencyInfoReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetUserPointCurrencyInfoReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetUserPointCurrencyInfoReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId)},t.GetUserPointCurrencyInfoRsp=function(){this.iRetCode=0,this.tPointInfo=new t.UserPointCountInfo,this.lHuyaCoinCount=0},t.GetUserPointCurrencyInfoRsp.prototype._clone=function(){return new t.GetUserPointCurrencyInfoRsp},t.GetUserPointCurrencyInfoRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetUserPointCurrencyInfoRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetUserPointCurrencyInfoRsp.prototype.readFrom=function(e){this.iRetCode=e.readInt32(0,!1,this.iRetCode),this.tPointInfo=e.readStruct(1,!1,this.tPointInfo),this.lHuyaCoinCount=e.readInt64(2,!1,this.lHuyaCoinCount)},t.UserPointCountInfo=function(){this.lPointCount=0,this.lRecentExpireCount=0,this.lRecentExpireTime=0},t.UserPointCountInfo.prototype._clone=function(){return new t.UserPointCountInfo},t.UserPointCountInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserPointCountInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserPointCountInfo.prototype.writeTo=function(e){e.writeInt64(0,this.lPointCount),e.writeInt64(1,this.lRecentExpireCount),e.writeInt64(2,this.lRecentExpireTime)},t.UserPointCountInfo.prototype.readFrom=function(e){this.lPointCount=e.readInt64(0,!1,this.lPointCount),this.lRecentExpireCount=e.readInt64(1,!1,this.lRecentExpireCount),this.lRecentExpireTime=e.readInt64(2,!1,this.lRecentExpireTime)},t.ELiveBoxResourceType={ELIVE_BOX_RESOURCE_PANNEL_NORMAL:1,ELIVE_BOX_RESOURCE_PANNEL_CUSTOM:2,ELIVE_BOX_RESOURCE_BANNER:3,ELIVE_BOX_RESOURCE_CARD:4,ELIVE_BOX_RESOURCE_TASK:5,ELIVE_BOX_RESOURCE_REVENUE_TIMING:6,ELIVE_BOX_RESOURCE_GROWTH_TIMING:7},t.UserLevelTaskInfo=function(){this.iId=0,this.iTarget=0,this.iProgress=0,this.iReceivePrize=0,this.iType=0,this.sTitle="",this.sDesc="",this.sIcon="",this.lValidBegin=0,this.lValidTime=0,this.vPrize=new i.Vector(new t.UserLevelTaskPrize),this.iRuleId=0,this.mpRuleContent=new i.Map(new i.STRING,new i.STRING),this.sBizId="",this.sTaskAction="",this.sTaskText="",this.sPrizeAction="",this.sPrizeText="",this.iHasADTask=0,this.iTaskCategory=0,this.tOutsideLink=new t.UserLevelTaskLink,this.sTaskTemplate="",this.vAttachment=new i.Vector(new t.UserLevelTaskAttachment),this.tTips=new t.UserLevelTaskTips,this.sTagIcon="",this.iWeight=0,this.sBackImage="",this.sAdrPackageName="",this.iGoldTaskType=0,this.iGoldTaskCond=0,this.iRewardMethod=0},t.UserLevelTaskInfo.prototype._clone=function(){return new t.UserLevelTaskInfo},t.UserLevelTaskInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserLevelTaskInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserLevelTaskInfo.prototype.writeTo=function(e){e.writeInt32(0,this.iId),e.writeInt32(1,this.iTarget),e.writeInt32(2,this.iProgress),e.writeInt32(3,this.iReceivePrize),e.writeInt32(4,this.iType),e.writeString(5,this.sTitle),e.writeString(6,this.sDesc),e.writeString(7,this.sIcon),e.writeInt64(8,this.lValidBegin),e.writeInt64(9,this.lValidTime),e.writeVector(10,this.vPrize),e.writeInt32(11,this.iRuleId),e.writeMap(12,this.mpRuleContent),e.writeString(13,this.sBizId),e.writeString(14,this.sTaskAction),e.writeString(15,this.sTaskText),e.writeString(16,this.sPrizeAction),e.writeString(17,this.sPrizeText),e.writeInt32(18,this.iHasADTask),e.writeInt32(19,this.iTaskCategory),e.writeStruct(20,this.tOutsideLink),e.writeString(21,this.sTaskTemplate),e.writeVector(22,this.vAttachment),e.writeStruct(23,this.tTips),e.writeString(24,this.sTagIcon),e.writeInt32(25,this.iWeight),e.writeString(26,this.sBackImage),e.writeString(27,this.sAdrPackageName),e.writeInt32(28,this.iGoldTaskType),e.writeInt32(29,this.iGoldTaskCond),e.writeInt32(30,this.iRewardMethod)},t.UserLevelTaskInfo.prototype.readFrom=function(e){this.iId=e.readInt32(0,!1,this.iId),this.iTarget=e.readInt32(1,!1,this.iTarget),this.iProgress=e.readInt32(2,!1,this.iProgress),this.iReceivePrize=e.readInt32(3,!1,this.iReceivePrize),this.iType=e.readInt32(4,!1,this.iType),this.sTitle=e.readString(5,!1,this.sTitle),this.sDesc=e.readString(6,!1,this.sDesc),this.sIcon=e.readString(7,!1,this.sIcon),this.lValidBegin=e.readInt64(8,!1,this.lValidBegin),this.lValidTime=e.readInt64(9,!1,this.lValidTime),this.vPrize=e.readVector(10,!1,this.vPrize),this.iRuleId=e.readInt32(11,!1,this.iRuleId),this.mpRuleContent=e.readMap(12,!1,this.mpRuleContent),this.sBizId=e.readString(13,!1,this.sBizId),this.sTaskAction=e.readString(14,!1,this.sTaskAction),this.sTaskText=e.readString(15,!1,this.sTaskText),this.sPrizeAction=e.readString(16,!1,this.sPrizeAction),this.sPrizeText=e.readString(17,!1,this.sPrizeText),this.iHasADTask=e.readInt32(18,!1,this.iHasADTask),this.iTaskCategory=e.readInt32(19,!1,this.iTaskCategory),this.tOutsideLink=e.readStruct(20,!1,this.tOutsideLink),this.sTaskTemplate=e.readString(21,!1,this.sTaskTemplate),this.vAttachment=e.readVector(22,!1,this.vAttachment),this.tTips=e.readStruct(23,!1,this.tTips),this.sTagIcon=e.readString(24,!1,this.sTagIcon),this.iWeight=e.readInt32(25,!1,this.iWeight),this.sBackImage=e.readString(26,!1,this.sBackImage),this.sAdrPackageName=e.readString(27,!1,this.sAdrPackageName),this.iGoldTaskType=e.readInt32(28,!1,this.iGoldTaskType),this.iGoldTaskCond=e.readInt32(29,!1,this.iGoldTaskCond),this.iRewardMethod=e.readInt32(30,!1,this.iRewardMethod)},t.UserLevelTaskPrize=function(){this.iPrizeType=0,this.sPrizeId="",this.lPrizeNum=0,this.sPrizeName="",this.sPrizeIcon="",this.iNumDisplayType=0},t.UserLevelTaskPrize.prototype._clone=function(){return new t.UserLevelTaskPrize},t.UserLevelTaskPrize.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserLevelTaskPrize.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserLevelTaskPrize.prototype.writeTo=function(e){e.writeInt32(0,this.iPrizeType),e.writeString(1,this.sPrizeId),e.writeInt64(2,this.lPrizeNum),e.writeString(3,this.sPrizeName),e.writeString(4,this.sPrizeIcon),e.writeInt32(6,this.iNumDisplayType)},t.UserLevelTaskPrize.prototype.readFrom=function(e){this.iPrizeType=e.readInt32(0,!1,this.iPrizeType),this.sPrizeId=e.readString(1,!1,this.sPrizeId),this.lPrizeNum=e.readInt64(2,!1,this.lPrizeNum),this.sPrizeName=e.readString(3,!1,this.sPrizeName),this.sPrizeIcon=e.readString(4,!1,this.sPrizeIcon),this.iNumDisplayType=e.readInt32(6,!1,this.iNumDisplayType)},t.UserLevelTaskLink=function(){this.sLaunchUrl="",this.sDownloadUrl=""},t.UserLevelTaskLink.prototype._clone=function(){return new t.UserLevelTaskLink},t.UserLevelTaskLink.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserLevelTaskLink.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserLevelTaskLink.prototype.writeTo=function(e){e.writeString(0,this.sLaunchUrl),e.writeString(1,this.sDownloadUrl)},t.UserLevelTaskLink.prototype.readFrom=function(e){this.sLaunchUrl=e.readString(0,!1,this.sLaunchUrl),this.sDownloadUrl=e.readString(1,!1,this.sDownloadUrl)},t.UserLevelTaskAttachment=function(){this.iType=0,this.vData=new i.BinBuffer},t.UserLevelTaskAttachment.prototype._clone=function(){return new t.UserLevelTaskAttachment},t.UserLevelTaskAttachment.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserLevelTaskAttachment.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserLevelTaskAttachment.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeBytes(1,this.vData)},t.UserLevelTaskAttachment.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.vData=e.readBytes(1,!1,this.vData)},t.UserLevelTaskTips=function(){this.iIsEnabled=0,this.sTitle="",this.sBody=""},t.UserLevelTaskTips.prototype._clone=function(){return new t.UserLevelTaskTips},t.UserLevelTaskTips.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserLevelTaskTips.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserLevelTaskTips.prototype.writeTo=function(e){e.writeInt32(0,this.iIsEnabled),e.writeString(1,this.sTitle),e.writeString(2,this.sBody)},t.UserLevelTaskTips.prototype.readFrom=function(e){this.iIsEnabled=e.readInt32(0,!1,this.iIsEnabled),this.sTitle=e.readString(1,!1,this.sTitle),this.sBody=e.readString(2,!1,this.sBody)},t.ReceiveUserLevelTaskPrizeReq=function(){this.tId=new t.UserId,this.iTaskId=0,this.iSource=0,this.sPrizeId="",this.mpExtend=new i.Map(new i.STRING,new i.STRING)},t.ReceiveUserLevelTaskPrizeReq.prototype._clone=function(){return new t.ReceiveUserLevelTaskPrizeReq},t.ReceiveUserLevelTaskPrizeReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReceiveUserLevelTaskPrizeReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReceiveUserLevelTaskPrizeReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iTaskId),e.writeInt32(2,this.iSource),e.writeString(3,this.sPrizeId),e.writeMap(4,this.mpExtend)},t.ReceiveUserLevelTaskPrizeRsp=function(){this.iSuccess=0,this.vPrize=new i.Vector(new t.UserLevelTaskPrize),this.sMessage="",this.iUdbCode=0,this.sUdbData="",this.sButtonText="",this.sButtonAction="",this.sPopupImage="",this.sPopupText="",this.tRewardPanel=new t.CommonRewardPannel},t.ReceiveUserLevelTaskPrizeRsp.prototype._clone=function(){return new t.ReceiveUserLevelTaskPrizeRsp},t.ReceiveUserLevelTaskPrizeRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReceiveUserLevelTaskPrizeRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReceiveUserLevelTaskPrizeRsp.prototype.readFrom=function(e){this.iSuccess=e.readInt32(0,!1,this.iSuccess),this.vPrize=e.readVector(1,!1,this.vPrize),this.sMessage=e.readString(2,!1,this.sMessage),this.iUdbCode=e.readInt32(3,!1,this.iUdbCode),this.sUdbData=e.readString(4,!1,this.sUdbData),this.sButtonText=e.readString(5,!1,this.sButtonText),this.sButtonAction=e.readString(6,!1,this.sButtonAction),this.sPopupImage=e.readString(7,!1,this.sPopupImage),this.sPopupText=e.readString(8,!1,this.sPopupText),this.tRewardPanel=e.readStruct(9,!1,this.tRewardPanel)},t.LiveRoomPopupWindowNotice=function(){this.vWindow=new i.Vector(new t.LiveRoomPopupWindow),this.iControlType=0},t.LiveRoomPopupWindowNotice.prototype._clone=function(){return new t.LiveRoomPopupWindowNotice},t.LiveRoomPopupWindowNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindowNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindowNotice.prototype.writeTo=function(e){e.writeVector(0,this.vWindow),e.writeInt32(1,this.iControlType)},t.LiveRoomPopupWindowNotice.prototype.readFrom=function(e){this.vWindow=e.readVector(0,!1,this.vWindow),this.iControlType=e.readInt32(1,!1,this.iControlType)},t.GetLiveRoomPopupWindowReq=function(){this.tId=new t.UserId,this.lPid=0,this.iGameId=0,this.sTraceId=""},t.GetLiveRoomPopupWindowReq.prototype._clone=function(){return new t.GetLiveRoomPopupWindowReq},t.GetLiveRoomPopupWindowReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomPopupWindowReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomPopupWindowReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid),e.writeInt32(2,this.iGameId),e.writeString(3,this.sTraceId)},t.GetLiveRoomPopupWindowRsp=function(){this.sMsg="",this.vWindow=new i.Vector(new t.LiveRoomPopupWindow)},t.GetLiveRoomPopupWindowRsp.prototype._clone=function(){return new t.GetLiveRoomPopupWindowRsp},t.GetLiveRoomPopupWindowRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetLiveRoomPopupWindowRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetLiveRoomPopupWindowRsp.prototype.readFrom=function(e){this.sMsg=e.readString(0,!1,this.sMsg),this.vWindow=e.readVector(1,!1,this.vWindow)},t.LiveRoomPopupWindow=function(){this.iAppId=0,this.vData=new i.BinBuffer,this.sUAFilter="",this.lPid=0,this.iShowTime=0,this.sLiveRoomPopupKey="",this.mpReportData=new i.Map(new i.STRING,new i.STRING),this.iShowType=0,this.tExShow=new t.WindowExperimentShow,this.tExtAttr=new t.MsgDeliverExtAttr,this.mpBusData=new i.Map(new i.STRING,new i.STRING)},t.LiveRoomPopupWindow.prototype._clone=function(){return new t.LiveRoomPopupWindow},t.LiveRoomPopupWindow.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.LiveRoomPopupWindow.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.LiveRoomPopupWindow.prototype.writeTo=function(e){e.writeInt32(0,this.iAppId),e.writeBytes(1,this.vData),e.writeString(2,this.sUAFilter),e.writeInt64(3,this.lPid),e.writeInt32(4,this.iShowTime),e.writeString(5,this.sLiveRoomPopupKey),e.writeMap(6,this.mpReportData),e.writeInt32(7,this.iShowType),e.writeStruct(8,this.tExShow),e.writeStruct(9,this.tExtAttr),e.writeMap(10,this.mpBusData)},t.LiveRoomPopupWindow.prototype.readFrom=function(e){this.iAppId=e.readInt32(0,!1,this.iAppId),this.vData=e.readBytes(1,!1,this.vData),this.sUAFilter=e.readString(2,!1,this.sUAFilter),this.lPid=e.readInt64(3,!1,this.lPid),this.iShowTime=e.readInt32(4,!1,this.iShowTime),this.sLiveRoomPopupKey=e.readString(5,!1,this.sLiveRoomPopupKey),this.mpReportData=e.readMap(6,!1,this.mpReportData),this.iShowType=e.readInt32(7,!1,this.iShowType),this.tExShow=e.readStruct(8,!1,this.tExShow),this.tExtAttr=e.readStruct(9,!1,this.tExtAttr),this.mpBusData=e.readMap(10,!1,this.mpBusData)},t.CommonLiveRoomPopupWindow=function(){this.tBorderColor=new t.ARGBColor,this.tBackground=new t.ARGBBackGround,this.vAvatarPic=new i.Vector(new i.STRING),this.vTitle=new i.Vector(new t.ARGBText),this.vMsg=new i.Vector(new t.ARGBText),this.tButton=new t.ARGBButton,this.mpReportData=new i.Map(new i.STRING,new i.STRING),this.tProcessBar=new t.ARGBProcessBar,this.sAvatarMask="",this.iAvatarForm=0},t.CommonLiveRoomPopupWindow.prototype._clone=function(){return new t.CommonLiveRoomPopupWindow},t.CommonLiveRoomPopupWindow.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonLiveRoomPopupWindow.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonLiveRoomPopupWindow.prototype.writeTo=function(e){e.writeStruct(0,this.tBorderColor),e.writeStruct(1,this.tBackground),e.writeVector(2,this.vAvatarPic),e.writeVector(3,this.vTitle),e.writeVector(4,this.vMsg),e.writeStruct(5,this.tButton),e.writeMap(6,this.mpReportData),e.writeStruct(7,this.tProcessBar),e.writeString(8,this.sAvatarMask),e.writeInt32(9,this.iAvatarForm)},t.CommonLiveRoomPopupWindow.prototype.readFrom=function(e){this.tBorderColor=e.readStruct(0,!1,this.tBorderColor),this.tBackground=e.readStruct(1,!1,this.tBackground),this.vAvatarPic=e.readVector(2,!1,this.vAvatarPic),this.vTitle=e.readVector(3,!1,this.vTitle),this.vMsg=e.readVector(4,!1,this.vMsg),this.tButton=e.readStruct(5,!1,this.tButton),this.mpReportData=e.readMap(6,!1,this.mpReportData),this.tProcessBar=e.readStruct(7,!1,this.tProcessBar),this.sAvatarMask=e.readString(8,!1,this.sAvatarMask),this.iAvatarForm=e.readInt32(9,!1,this.iAvatarForm)},t.WindowExperimentShow=function(){this.sExKey="",this.sExValue="",this.iDefaultShow=0},t.WindowExperimentShow.prototype._clone=function(){return new t.WindowExperimentShow},t.WindowExperimentShow.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.WindowExperimentShow.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.WindowExperimentShow.prototype.writeTo=function(e){e.writeString(0,this.sExKey),e.writeString(1,this.sExValue),e.writeInt32(2,this.iDefaultShow)},t.WindowExperimentShow.prototype.readFrom=function(e){this.sExKey=e.readString(0,!1,this.sExKey),this.sExValue=e.readString(1,!1,this.sExValue),this.iDefaultShow=e.readInt32(2,!1,this.iDefaultShow)},t.MsgDeliverExtAttr=function(){this.sGroupId="",this.vExUid=new i.Vector(new i.INT64),this.vPushPlatform=new i.Vector(new i.STRING),this.vExPlatform=new i.Vector(new i.STRING),this.vPushExp=new i.Vector(new i.STRING),this.vExExp=new i.Vector(new i.STRING),this.iPushOverInTime=0,this.iOrderKey=0,this.iPushNotInGroup=0,this.vPushCountryCode=new i.Vector(new i.STRING),this.vExCountryCode=new i.Vector(new i.STRING),this.vPushLangCode=new i.Vector(new i.STRING),this.vExLangCode=new i.Vector(new i.STRING),this.mPushVersion=new i.Map(new i.STRING,new i.STRING),this.mExVersion=new i.Map(new i.STRING,new i.STRING),this.iJumpFrqLimit=0,this.iTimeout=3e3,this.iPushOfficeOnly=0,this.vPushIpRange=new i.Vector(new i.STRING),this.vExIpRange=new i.Vector(new i.STRING),this.vPushIpLocInfo=new i.Vector(new i.STRING),this.vExIpLocInfo=new i.Vector(new i.STRING)},t.MsgDeliverExtAttr.prototype._clone=function(){return new t.MsgDeliverExtAttr},t.MsgDeliverExtAttr.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MsgDeliverExtAttr.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MsgDeliverExtAttr.prototype.writeTo=function(e){e.writeString(0,this.sGroupId),e.writeVector(1,this.vExUid),e.writeVector(2,this.vPushPlatform),e.writeVector(3,this.vExPlatform),e.writeVector(4,this.vPushExp),e.writeVector(5,this.vExExp),e.writeInt32(6,this.iPushOverInTime),e.writeInt32(7,this.iOrderKey),e.writeInt32(8,this.iPushNotInGroup),e.writeVector(9,this.vPushCountryCode),e.writeVector(10,this.vExCountryCode),e.writeVector(11,this.vPushLangCode),e.writeVector(12,this.vExLangCode),e.writeMap(13,this.mPushVersion),e.writeMap(14,this.mExVersion),e.writeInt32(15,this.iJumpFrqLimit),e.writeInt32(16,this.iTimeout),e.writeInt32(17,this.iPushOfficeOnly),e.writeVector(18,this.vPushIpRange),e.writeVector(19,this.vExIpRange),e.writeVector(20,this.vPushIpLocInfo),e.writeVector(21,this.vExIpLocInfo)},t.MsgDeliverExtAttr.prototype.readFrom=function(e){this.sGroupId=e.readString(0,!1,this.sGroupId),this.vExUid=e.readVector(1,!1,this.vExUid),this.vPushPlatform=e.readVector(2,!1,this.vPushPlatform),this.vExPlatform=e.readVector(3,!1,this.vExPlatform),this.vPushExp=e.readVector(4,!1,this.vPushExp),this.vExExp=e.readVector(5,!1,this.vExExp),this.iPushOverInTime=e.readInt32(6,!1,this.iPushOverInTime),this.iOrderKey=e.readInt32(7,!1,this.iOrderKey),this.iPushNotInGroup=e.readInt32(8,!1,this.iPushNotInGroup),this.vPushCountryCode=e.readVector(9,!1,this.vPushCountryCode),this.vExCountryCode=e.readVector(10,!1,this.vExCountryCode),this.vPushLangCode=e.readVector(11,!1,this.vPushLangCode),this.vExLangCode=e.readVector(12,!1,this.vExLangCode),this.mPushVersion=e.readMap(13,!1,this.mPushVersion),this.mExVersion=e.readMap(14,!1,this.mExVersion),this.iJumpFrqLimit=e.readInt32(15,!1,this.iJumpFrqLimit),this.iTimeout=e.readInt32(16,!1,this.iTimeout),this.iPushOfficeOnly=e.readInt32(17,!1,this.iPushOfficeOnly),this.vPushIpRange=e.readVector(18,!1,this.vPushIpRange),this.vExIpRange=e.readVector(19,!1,this.vExIpRange),this.vPushIpLocInfo=e.readVector(20,!1,this.vPushIpLocInfo),this.vExIpLocInfo=e.readVector(21,!1,this.vExIpLocInfo)},t.ARGBColor=function(){this.iColorBright=0,this.iColorDark=0,this.iColorImmersive=0,this.iColorNewImmersive=0},t.ARGBColor.prototype._clone=function(){return new t.ARGBColor},t.ARGBColor.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ARGBColor.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ARGBColor.prototype.writeTo=function(e){e.writeInt32(0,this.iColorBright),e.writeInt32(1,this.iColorDark),e.writeInt32(2,this.iColorImmersive),e.writeInt32(3,this.iColorNewImmersive)},t.ARGBColor.prototype.readFrom=function(e){this.iColorBright=e.readInt32(0,!1,this.iColorBright),this.iColorDark=e.readInt32(1,!1,this.iColorDark),this.iColorImmersive=e.readInt32(2,!1,this.iColorImmersive),this.iColorNewImmersive=e.readInt32(3,!1,this.iColorNewImmersive)},t.ARGBBackGround=function(){this.sImg="",this.tColor=new t.ARGBColor},t.ARGBBackGround.prototype._clone=function(){return new t.ARGBBackGround},t.ARGBBackGround.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ARGBBackGround.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ARGBBackGround.prototype.writeTo=function(e){e.writeString(0,this.sImg),e.writeStruct(1,this.tColor)},t.ARGBBackGround.prototype.readFrom=function(e){this.sImg=e.readString(0,!1,this.sImg),this.tColor=e.readStruct(1,!1,this.tColor)},t.ARGBText=function(){this.sText="",this.tColor=new t.ARGBColor,this.sIcon=""},t.ARGBText.prototype._clone=function(){return new t.ARGBText},t.ARGBText.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ARGBText.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ARGBText.prototype.writeTo=function(e){e.writeString(0,this.sText),e.writeStruct(1,this.tColor),e.writeString(2,this.sIcon)},t.ARGBText.prototype.readFrom=function(e){this.sText=e.readString(0,!1,this.sText),this.tColor=e.readStruct(1,!1,this.tColor),this.sIcon=e.readString(2,!1,this.sIcon)},t.ARGBButton=function(){this.tText=new t.ARGBText,this.tBackGround=new t.ARGBBackGround,this.sLink="",this.sToast="",this.sColorLeftCfg="",this.sColorRightCfg="",this.iColorLeftCfg=0,this.iColorRightCfg=0,this.iColorMsgLightCfg=0,this.iColorMsgDarkCfg=0,this.iColorMsgInnerseCfg=0},t.ARGBButton.prototype._clone=function(){return new t.ARGBButton},t.ARGBButton.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ARGBButton.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ARGBButton.prototype.writeTo=function(e){e.writeStruct(0,this.tText),e.writeStruct(1,this.tBackGround),e.writeString(2,this.sLink),e.writeString(3,this.sToast),e.writeString(4,this.sColorLeftCfg),e.writeString(5,this.sColorRightCfg),e.writeInt32(6,this.iColorLeftCfg),e.writeInt32(7,this.iColorRightCfg),e.writeInt32(8,this.iColorMsgLightCfg),e.writeInt32(9,this.iColorMsgDarkCfg),e.writeInt32(10,this.iColorMsgInnerseCfg)},t.ARGBButton.prototype.readFrom=function(e){this.tText=e.readStruct(0,!1,this.tText),this.tBackGround=e.readStruct(1,!1,this.tBackGround),this.sLink=e.readString(2,!1,this.sLink),this.sToast=e.readString(3,!1,this.sToast),this.sColorLeftCfg=e.readString(4,!1,this.sColorLeftCfg),this.sColorRightCfg=e.readString(5,!1,this.sColorRightCfg),this.iColorLeftCfg=e.readInt32(6,!1,this.iColorLeftCfg),this.iColorRightCfg=e.readInt32(7,!1,this.iColorRightCfg),this.iColorMsgLightCfg=e.readInt32(8,!1,this.iColorMsgLightCfg),this.iColorMsgDarkCfg=e.readInt32(9,!1,this.iColorMsgDarkCfg),this.iColorMsgInnerseCfg=e.readInt32(10,!1,this.iColorMsgInnerseCfg)},t.ARGBProcessBar=function(){this.iNeedProcessBar=0,this.tBackColor=new t.ARGBColor,this.tFrontColor=new t.ARGBColor,this.lCurrentProcess=0,this.lFinishProcess=0},t.ARGBProcessBar.prototype._clone=function(){return new t.ARGBProcessBar},t.ARGBProcessBar.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ARGBProcessBar.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ARGBProcessBar.prototype.writeTo=function(e){e.writeInt32(0,this.iNeedProcessBar),e.writeStruct(1,this.tBackColor),e.writeStruct(2,this.tFrontColor),e.writeInt64(5,this.lCurrentProcess),e.writeInt64(6,this.lFinishProcess)},t.ARGBProcessBar.prototype.readFrom=function(e){this.iNeedProcessBar=e.readInt32(0,!1,this.iNeedProcessBar),this.tBackColor=e.readStruct(1,!1,this.tBackColor),this.tFrontColor=e.readStruct(2,!1,this.tFrontColor),this.lCurrentProcess=e.readInt64(5,!1,this.lCurrentProcess),this.lFinishProcess=e.readInt64(6,!1,this.lFinishProcess)},t.GetEndLiveMomentListForWebReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetEndLiveMomentListForWebReq.prototype._clone=function(){return new t.GetEndLiveMomentListForWebReq},t.GetEndLiveMomentListForWebReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetEndLiveMomentListForWebReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetEndLiveMomentListForWebReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetEndLiveMomentListForWebRsp=function(){this.vMoments=new i.Vector(new t.WebMomentInfo)},t.GetEndLiveMomentListForWebRsp.prototype._clone=function(){return new t.GetEndLiveMomentListForWebRsp},t.GetEndLiveMomentListForWebRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetEndLiveMomentListForWebRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetEndLiveMomentListForWebRsp.prototype.readFrom=function(e){this.vMoments=e.readVector(0,!1,this.vMoments)},t.ReportUserTaskClickEventReq=function(){this.tId=new t.UserId,this.iTaskId=0},t.ReportUserTaskClickEventReq.prototype._clone=function(){return new t.ReportUserTaskClickEventReq},t.ReportUserTaskClickEventReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReportUserTaskClickEventReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReportUserTaskClickEventReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iTaskId)},t.ReportUserTaskClickEventRsp=function(){this.sMessage=""},t.ReportUserTaskClickEventRsp.prototype._clone=function(){return new t.ReportUserTaskClickEventRsp},t.ReportUserTaskClickEventRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReportUserTaskClickEventRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReportUserTaskClickEventRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage)},t.ReportLiveStreamStatReq=function(){this.tId=new t.UserId,this.lPid=0,this.lPts=0,this.sContext=""},t.ReportLiveStreamStatReq.prototype._clone=function(){return new t.ReportLiveStreamStatReq},t.ReportLiveStreamStatReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReportLiveStreamStatReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReportLiveStreamStatReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid),e.writeInt64(2,this.lPts),e.writeString(3,this.sContext)},t.ReportLiveStreamStatRsp=function(){this.sMsg=""},t.ReportLiveStreamStatRsp.prototype._clone=function(){return new t.ReportLiveStreamStatRsp},t.ReportLiveStreamStatRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReportLiveStreamStatRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReportLiveStreamStatRsp.prototype.readFrom=function(e){this.sMsg=e.readString(0,!1,this.sMsg)},t.ReportLiveStreamStatNotice=function(){this.lPid=0,this.sContext=""},t.ReportLiveStreamStatNotice.prototype._clone=function(){return new t.ReportLiveStreamStatNotice},t.ReportLiveStreamStatNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ReportLiveStreamStatNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ReportLiveStreamStatNotice.prototype.writeTo=function(e){e.writeInt64(0,this.lPid),e.writeString(1,this.sContext)},t.ReportLiveStreamStatNotice.prototype.readFrom=function(e){this.lPid=e.readInt64(0,!1,this.lPid),this.sContext=e.readString(1,!1,this.sContext)},t.GetTeamViewPortForAudienceReq=function(){this.tId=new t.UserId,this.lPid=0},t.GetTeamViewPortForAudienceReq.prototype._clone=function(){return new t.GetTeamViewPortForAudienceReq},t.GetTeamViewPortForAudienceReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetTeamViewPortForAudienceReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetTeamViewPortForAudienceReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lPid)},t.GetTeamViewPortForAudienceRsp=function(){this.vViewPortInfo=new i.Vector(new t.ViewPortAudioStream),this.sMsg="",this.lPid=0,this.lSheduleId=0},t.GetTeamViewPortForAudienceRsp.prototype._clone=function(){return new t.GetTeamViewPortForAudienceRsp},t.GetTeamViewPortForAudienceRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetTeamViewPortForAudienceRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetTeamViewPortForAudienceRsp.prototype.readFrom=function(e){this.vViewPortInfo=e.readVector(0,!1,this.vViewPortInfo),this.sMsg=e.readString(1,!1,this.sMsg),this.lPid=e.readInt64(2,!1,this.lPid),this.lSheduleId=e.readInt64(3,!1,this.lSheduleId)},t.ViewPortAudioStream=function(){this.sViewPortName="",this.vAudienceStreamInfo=new i.Vector(new t.AudienceStreamInfo),this.sIconUrl="",this.lTeamId=0},t.ViewPortAudioStream.prototype._clone=function(){return new t.ViewPortAudioStream},t.ViewPortAudioStream.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ViewPortAudioStream.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ViewPortAudioStream.prototype.writeTo=function(e){e.writeString(0,this.sViewPortName),e.writeVector(2,this.vAudienceStreamInfo),e.writeString(3,this.sIconUrl),e.writeInt64(4,this.lTeamId)},t.ViewPortAudioStream.prototype.readFrom=function(e){this.sViewPortName=e.readString(0,!1,this.sViewPortName),this.vAudienceStreamInfo=e.readVector(2,!1,this.vAudienceStreamInfo),this.sIconUrl=e.readString(3,!1,this.sIconUrl),this.lTeamId=e.readInt64(4,!1,this.lTeamId)},t.AudienceStreamInfo=function(){this.sStreamName="",this.iAVType=0},t.AudienceStreamInfo.prototype._clone=function(){return new t.AudienceStreamInfo},t.AudienceStreamInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.AudienceStreamInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.AudienceStreamInfo.prototype.writeTo=function(e){e.writeString(0,this.sStreamName),e.writeInt32(1,this.iAVType)},t.AudienceStreamInfo.prototype.readFrom=function(e){this.sStreamName=e.readString(0,!1,this.sStreamName),this.iAVType=e.readInt32(1,!1,this.iAVType)},t.GetAllSubscribeToUidListReq=function(){this.tId=new t.UserId,this.lUid=0},t.GetAllSubscribeToUidListReq.prototype._clone=function(){return new t.GetAllSubscribeToUidListReq},t.GetAllSubscribeToUidListReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetAllSubscribeToUidListReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetAllSubscribeToUidListReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt64(1,this.lUid)},t.GetAllSubscribeToUidListRsp=function(){this.sMessage="",this.vAllUid=new i.Vector(new i.INT64)},t.GetAllSubscribeToUidListRsp.prototype._clone=function(){return new t.GetAllSubscribeToUidListRsp},t.GetAllSubscribeToUidListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetAllSubscribeToUidListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetAllSubscribeToUidListRsp.prototype.readFrom=function(e){this.sMessage=e.readString(0,!1,this.sMessage),this.vAllUid=e.readVector(1,!1,this.vAllUid)},t.UserRelationChangeNotice=function(){this.iAction=0,this.lFromUid=0,this.lToUid=0},t.UserRelationChangeNotice.prototype._clone=function(){return new t.UserRelationChangeNotice},t.UserRelationChangeNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserRelationChangeNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserRelationChangeNotice.prototype.writeTo=function(e){e.writeInt32(0,this.iAction),e.writeInt64(1,this.lFromUid),e.writeInt64(2,this.lToUid)},t.UserRelationChangeNotice.prototype.readFrom=function(e){this.iAction=e.readInt32(0,!1,this.iAction),this.lFromUid=e.readInt64(1,!1,this.lFromUid),this.lToUid=e.readInt64(2,!1,this.lToUid)},t.BackpackUpdateNotice=function(){this.lUid=0},t.BackpackUpdateNotice.prototype._clone=function(){return new t.BackpackUpdateNotice},t.BackpackUpdateNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.BackpackUpdateNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.BackpackUpdateNotice.prototype.writeTo=function(e){e.writeInt64(0,this.lUid)},t.BackpackUpdateNotice.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid)},t.GetUserCardPackageReq=function(){this.tId=new t.UserId,this.eTempleteType=0,this.eSource=0,this.lPid=0,this.lHomeOwnerUid=0},t.GetUserCardPackageReq.prototype._clone=function(){return new t.GetUserCardPackageReq},t.GetUserCardPackageReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetUserCardPackageReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetUserCardPackageReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.eTempleteType),e.writeInt32(2,this.eSource),e.writeInt64(3,this.lPid),e.writeInt64(4,this.lHomeOwnerUid)},t.GetUserCardPackageResp=function(){this.vUserCardItemCountLists=new i.Vector(new t.CardItemCountInfo)},t.GetUserCardPackageResp.prototype._clone=function(){return new t.GetUserCardPackageResp},t.GetUserCardPackageResp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetUserCardPackageResp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetUserCardPackageResp.prototype.readFrom=function(e){this.vUserCardItemCountLists=e.readVector(0,!1,this.vUserCardItemCountLists)},t.CardItemCountInfo=function(){this.iItemType=0,this.iItemCount=0,this.iExpireCount=0},t.CardItemCountInfo.prototype._clone=function(){return new t.CardItemCountInfo},t.CardItemCountInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CardItemCountInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CardItemCountInfo.prototype.writeTo=function(e){e.writeInt32(0,this.iItemType),e.writeInt64(1,this.iItemCount),e.writeInt32(2,this.iExpireCount)},t.CardItemCountInfo.prototype.readFrom=function(e){this.iItemType=e.readInt32(0,!1,this.iItemType),this.iItemCount=e.readInt64(1,!1,this.iItemCount),this.iExpireCount=e.readInt32(2,!1,this.iExpireCount)},t.UserGrowthPrivilegeChangeNotice=function(){this.lUid=0,this.tPrivilege=new t.UserGrowthPrivilege},t.UserGrowthPrivilegeChangeNotice.prototype._clone=function(){return new t.UserGrowthPrivilegeChangeNotice},t.UserGrowthPrivilegeChangeNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserGrowthPrivilegeChangeNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserGrowthPrivilegeChangeNotice.prototype.writeTo=function(e){e.writeInt64(0,this.lUid),e.writeStruct(1,this.tPrivilege)},t.UserGrowthPrivilegeChangeNotice.prototype.readFrom=function(e){this.lUid=e.readInt64(0,!1,this.lUid),this.tPrivilege=e.readStruct(1,!1,this.tPrivilege)},t.UserGrowthPrivilege=function(){this.iType=0,this.iIsEnabled=0,this.lCreateTime=0,this.lExpireTime=0,this.lRemainTime=0,this.sEnableUrl=""},t.UserGrowthPrivilege.prototype._clone=function(){return new t.UserGrowthPrivilege},t.UserGrowthPrivilege.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UserGrowthPrivilege.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UserGrowthPrivilege.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeInt32(1,this.iIsEnabled),e.writeInt64(2,this.lCreateTime),e.writeInt64(3,this.lExpireTime),e.writeInt64(4,this.lRemainTime),e.writeString(5,this.sEnableUrl)},t.UserGrowthPrivilege.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.iIsEnabled=e.readInt32(1,!1,this.iIsEnabled),this.lCreateTime=e.readInt64(2,!1,this.lCreateTime),this.lExpireTime=e.readInt64(3,!1,this.lExpireTime),this.lRemainTime=e.readInt64(4,!1,this.lRemainTime),this.sEnableUrl=e.readString(5,!1,this.sEnableUrl)},t.GetPanelOpenItemListReq=function(){this.tId=new t.UserId},t.GetPanelOpenItemListReq.prototype._clone=function(){return new t.GetPanelOpenItemListReq},t.GetPanelOpenItemListReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPanelOpenItemListReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPanelOpenItemListReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId)},t.GetPanelOpenItemListRsp=function(){this.vOpenPanelGroupConfigList=new i.Vector(new t.PanelGroupConfig),this.sMessage=""},t.GetPanelOpenItemListRsp.prototype._clone=function(){return new t.GetPanelOpenItemListRsp},t.GetPanelOpenItemListRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPanelOpenItemListRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPanelOpenItemListRsp.prototype.readFrom=function(e){this.vOpenPanelGroupConfigList=e.readVector(0,!1,this.vOpenPanelGroupConfigList),this.sMessage=e.readString(1,!1,this.sMessage)},t.PanelGroupConfig=function(){this.lId=0,this.sGroupName="",this.vPanelItemConfigList=new i.Vector(new t.PanelItemConfig)},t.PanelGroupConfig.prototype._clone=function(){return new t.PanelGroupConfig},t.PanelGroupConfig.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.PanelGroupConfig.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.PanelGroupConfig.prototype.writeTo=function(e){e.writeInt64(0,this.lId),e.writeString(1,this.sGroupName),e.writeVector(2,this.vPanelItemConfigList)},t.PanelGroupConfig.prototype.readFrom=function(e){this.lId=e.readInt64(0,!1,this.lId),this.sGroupName=e.readString(1,!1,this.sGroupName),this.vPanelItemConfigList=e.readVector(2,!1,this.vPanelItemConfigList)},t.PanelItemConfig=function(){this.lId=0,this.sKey="",this.sTitle="",this.iDefaultValue=0},t.PanelItemConfig.prototype._clone=function(){return new t.PanelItemConfig},t.PanelItemConfig.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.PanelItemConfig.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.PanelItemConfig.prototype.writeTo=function(e){e.writeInt64(0,this.lId),e.writeString(1,this.sKey),e.writeString(2,this.sTitle),e.writeInt32(3,this.iDefaultValue)},t.PanelItemConfig.prototype.readFrom=function(e){this.lId=e.readInt64(0,!1,this.lId),this.sKey=e.readString(1,!1,this.sKey),this.sTitle=e.readString(2,!1,this.sTitle),this.iDefaultValue=e.readInt32(3,!1,this.iDefaultValue)},t.ADImp=function(){this.id=0,this.slotCode="",this.slotCnt=0,this.campaignDate=0,this.slideCnt=0,this.bidReq=new t.BiddingInfo,this.position=0,this.extra=new i.Map(new i.STRING,new i.STRING)},t.ADImp.prototype._clone=function(){return new t.ADImp},t.ADImp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ADImp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ADImp.prototype.writeTo=function(e){e.writeInt32(0,this.id),e.writeString(1,this.slotCode),e.writeInt32(2,this.slotCnt),e.writeInt32(3,this.campaignDate),e.writeInt32(4,this.slideCnt),e.writeStruct(5,this.bidReq),e.writeInt32(6,this.position),e.writeMap(7,this.extra)},t.ADImp.prototype.readFrom=function(e){this.id=e.readInt32(0,!1,this.id),this.slotCode=e.readString(1,!1,this.slotCode),this.slotCnt=e.readInt32(2,!1,this.slotCnt),this.campaignDate=e.readInt32(3,!1,this.campaignDate),this.slideCnt=e.readInt32(4,!1,this.slideCnt),this.bidReq=e.readStruct(5,!1,this.bidReq),this.position=e.readInt32(6,!1,this.position),this.extra=e.readMap(7,!1,this.extra)},t.MaskShape=function(){this.points=new i.Vector(new i.INT64),this.type=0,this.x=0,this.y=0,this.w=0,this.h=0,this.ext="",this.pixelcolor=0,this.reqKey=0,this.pic_id=0,this.blurriness=0,this.style=0,this.pic_fallback=0,this.mosaic_fallback=0,this.blurriness_fallback=0,this.pic_id_fallback=0,this.stylePriority=new i.Vector(new i.INT64),this.color_fallback=0},t.MaskShape.prototype._clone=function(){return new t.MaskShape},t.MaskShape.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MaskShape.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MaskShape.prototype.writeTo=function(e){e.writeVector(0,this.points),e.writeUInt32(1,this.type),e.writeUInt32(2,this.x),e.writeUInt32(3,this.y),e.writeUInt32(4,this.w),e.writeUInt32(5,this.h),e.writeString(6,this.ext),e.writeUInt32(8,this.pixelcolor),e.writeInt64(10,this.reqKey),e.writeUInt32(11,this.pic_id),e.writeUInt32(12,this.blurriness),e.writeUInt32(13,this.style),e.writeUInt32(14,this.pic_fallback),e.writeUInt32(15,this.mosaic_fallback),e.writeUInt32(16,this.blurriness_fallback),e.writeUInt32(17,this.pic_id_fallback),e.writeVector(18,this.stylePriority),e.writeUInt32(19,this.color_fallback)},t.MaskShape.prototype.readFrom=function(e){this.points=e.readVector(0,!1,this.points),this.type=e.readUInt32(1,!1,this.type),this.x=e.readUInt32(2,!1,this.x),this.y=e.readUInt32(3,!1,this.y),this.w=e.readUInt32(4,!1,this.w),this.h=e.readUInt32(5,!1,this.h),this.ext=e.readString(6,!1,this.ext),this.pixelcolor=e.readUInt32(8,!1,this.pixelcolor),this.reqKey=e.readInt64(10,!1,this.reqKey),this.pic_id=e.readUInt32(11,!1,this.pic_id),this.blurriness=e.readUInt32(12,!1,this.blurriness),this.style=e.readUInt32(13,!1,this.style),this.pic_fallback=e.readUInt32(14,!1,this.pic_fallback),this.mosaic_fallback=e.readUInt32(15,!1,this.mosaic_fallback),this.blurriness_fallback=e.readUInt32(16,!1,this.blurriness_fallback),this.pic_id_fallback=e.readUInt32(17,!1,this.pic_id_fallback),this.stylePriority=e.readVector(18,!1,this.stylePriority),this.color_fallback=e.readUInt32(19,!1,this.color_fallback)},t.GetPropTipInfoReq=function(){this.tUserId=new t.UserId,this.lPid=0,this.iItemType=0,this.iItemCount=0,this.iSourceTab=0},t.GetPropTipInfoReq.prototype._clone=function(){return new t.GetPropTipInfoReq},t.GetPropTipInfoReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPropTipInfoReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPropTipInfoReq.prototype.writeTo=function(e){e.writeStruct(0,this.tUserId),e.writeInt64(1,this.lPid),e.writeInt32(2,this.iItemType),e.writeInt32(3,this.iItemCount),e.writeInt32(4,this.iSourceTab)},t.GetPropTipInfoRsp=function(){this.iRetCode=0,this.iType=0,this.vData=new i.BinBuffer,this.vBizItem=new i.Vector(new t.ItemHintBizData)},t.GetPropTipInfoRsp.prototype._clone=function(){return new t.GetPropTipInfoRsp},t.GetPropTipInfoRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetPropTipInfoRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetPropTipInfoRsp.prototype.readFrom=function(e){this.iRetCode=e.readInt32(0,!1,this.iRetCode),this.iType=e.readInt32(1,!1,this.iType),this.vData=e.readBytes(2,!1,this.vData),this.vBizItem=e.readVector(3,!1,this.vBizItem)},t.ItemHintBizData=function(){this.iType=0,this.vData=new i.BinBuffer},t.ItemHintBizData.prototype._clone=function(){return new t.ItemHintBizData},t.ItemHintBizData.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.ItemHintBizData.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.ItemHintBizData.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeBytes(1,this.vData)},t.ItemHintBizData.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.vData=e.readBytes(1,!1,this.vData)},t.SeriesGifts=function(){this.iType=0,this.sSeriesUrl="",this.vItem=new i.Vector(new t.SeriesItem),this.iAllSend=0,this.iSeriesId=0,this.sSeriesName=""},t.SeriesGifts.prototype._clone=function(){return new t.SeriesGifts},t.SeriesGifts.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.SeriesGifts.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.SeriesGifts.prototype.writeTo=function(e){e.writeInt32(0,this.iType),e.writeString(1,this.sSeriesUrl),e.writeVector(2,this.vItem),e.writeInt32(3,this.iAllSend),e.writeInt32(4,this.iSeriesId),e.writeString(5,this.sSeriesName)},t.SeriesGifts.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.sSeriesUrl=e.readString(1,!1,this.sSeriesUrl),this.vItem=e.readVector(2,!1,this.vItem),this.iAllSend=e.readInt32(3,!1,this.iAllSend),this.iSeriesId=e.readInt32(4,!1,this.iSeriesId),this.sSeriesName=e.readString(5,!1,this.sSeriesName)},t.SeriesItem=function(){this.iItemType=0,this.sItemTitle="",this.iLockStatus=0,this.sAction=""},t.SeriesItem.prototype._clone=function(){return new t.SeriesItem},t.SeriesItem.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.SeriesItem.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.SeriesItem.prototype.writeTo=function(e){e.writeInt32(0,this.iItemType),e.writeString(1,this.sItemTitle),e.writeInt32(2,this.iLockStatus),e.writeString(3,this.sAction)},t.SeriesItem.prototype.readFrom=function(e){this.iItemType=e.readInt32(0,!1,this.iItemType),this.sItemTitle=e.readString(1,!1,this.sItemTitle),this.iLockStatus=e.readInt32(2,!1,this.iLockStatus),this.sAction=e.readString(3,!1,this.sAction)},t.CustomFansBadgeResource=function(){this.lBadgeId=0,this.sIcon="",this.tControl=new t.CustomBadgeLevelControl,this.tFloorControl=new t.CustomBadgeLevelControl},t.CustomFansBadgeResource.prototype._clone=function(){return new t.CustomFansBadgeResource},t.CustomFansBadgeResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CustomFansBadgeResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CustomFansBadgeResource.prototype.writeTo=function(e){e.writeInt64(0,this.lBadgeId),e.writeString(1,this.sIcon),e.writeStruct(2,this.tControl),e.writeStruct(3,this.tFloorControl)},t.CustomFansBadgeResource.prototype.readFrom=function(e){this.lBadgeId=e.readInt64(0,!1,this.lBadgeId),this.sIcon=e.readString(1,!1,this.sIcon),this.tControl=e.readStruct(2,!1,this.tControl),this.tFloorControl=e.readStruct(3,!1,this.tFloorControl)},t.CommonFansBadgeResource=function(){this.iMaxBadgeLevel=0,this.tCommonBadge=new t.CommonFansBadgeCommResource,this.tCustomBadgeComm=new t.CustomFansBadgeCommResource},t.CommonFansBadgeResource.prototype._clone=function(){return new t.CommonFansBadgeResource},t.CommonFansBadgeResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonFansBadgeResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonFansBadgeResource.prototype.writeTo=function(e){e.writeInt32(0,this.iMaxBadgeLevel),e.writeStruct(1,this.tCommonBadge),e.writeStruct(2,this.tCustomBadgeComm)},t.CommonFansBadgeResource.prototype.readFrom=function(e){this.iMaxBadgeLevel=e.readInt32(0,!1,this.iMaxBadgeLevel),this.tCommonBadge=e.readStruct(1,!1,this.tCommonBadge),this.tCustomBadgeComm=e.readStruct(2,!1,this.tCustomBadgeComm)},t.CustomBadgeLevelControl=function(){this.iEffectLevel=0,this.iSFEffectLevel=0,this.iYearSFEffectLevel=0},t.CustomBadgeLevelControl.prototype._clone=function(){return new t.CustomBadgeLevelControl},t.CustomBadgeLevelControl.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CustomBadgeLevelControl.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CustomBadgeLevelControl.prototype.writeTo=function(e){e.writeInt32(0,this.iEffectLevel),e.writeInt32(1,this.iSFEffectLevel),e.writeInt32(2,this.iYearSFEffectLevel)},t.CustomBadgeLevelControl.prototype.readFrom=function(e){this.iEffectLevel=e.readInt32(0,!1,this.iEffectLevel),this.iSFEffectLevel=e.readInt32(1,!1,this.iSFEffectLevel),this.iYearSFEffectLevel=e.readInt32(2,!1,this.iYearSFEffectLevel)},t.CommonFansBadgeCommResource=function(){this.sResourceUrl="",this.sAppZipResourceUrl=""},t.CommonFansBadgeCommResource.prototype._clone=function(){return new t.CommonFansBadgeCommResource},t.CommonFansBadgeCommResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonFansBadgeCommResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonFansBadgeCommResource.prototype.writeTo=function(e){e.writeString(0,this.sResourceUrl),e.writeString(1,this.sAppZipResourceUrl)},t.CommonFansBadgeCommResource.prototype.readFrom=function(e){this.sResourceUrl=e.readString(0,!1,this.sResourceUrl),this.sAppZipResourceUrl=e.readString(1,!1,this.sAppZipResourceUrl)},t.CustomFansBadgeCommResource=function(){this.sLevelUrl="",this.sSFUrl="",this.sFloorAstrict=""},t.CustomFansBadgeCommResource.prototype._clone=function(){return new t.CustomFansBadgeCommResource},t.CustomFansBadgeCommResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CustomFansBadgeCommResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CustomFansBadgeCommResource.prototype.writeTo=function(e){e.writeString(0,this.sLevelUrl),e.writeString(1,this.sSFUrl),e.writeString(2,this.sFloorAstrict)},t.CustomFansBadgeCommResource.prototype.readFrom=function(e){this.sLevelUrl=e.readString(0,!1,this.sLevelUrl),this.sSFUrl=e.readString(1,!1,this.sSFUrl),this.sFloorAstrict=e.readString(2,!1,this.sFloorAstrict)},t.CommonFansBadgeSplitResource=function(){this.iMaxBadgeLevel=0,this.tCommonBadge=new t.CommonFansBadgeSplitCommResource,this.tCustomBadgeComm=new t.CustomFansBadgeCommResource},t.CommonFansBadgeSplitResource.prototype._clone=function(){return new t.CommonFansBadgeSplitResource},t.CommonFansBadgeSplitResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonFansBadgeSplitResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonFansBadgeSplitResource.prototype.writeTo=function(e){e.writeInt32(0,this.iMaxBadgeLevel),e.writeStruct(1,this.tCommonBadge),e.writeStruct(2,this.tCustomBadgeComm)},t.CommonFansBadgeSplitResource.prototype.readFrom=function(e){this.iMaxBadgeLevel=e.readInt32(0,!1,this.iMaxBadgeLevel),this.tCommonBadge=e.readStruct(1,!1,this.tCommonBadge),this.tCustomBadgeComm=e.readStruct(2,!1,this.tCustomBadgeComm)},t.CommonFansBadgeSplitCommResource=function(){this.sFloorUrl="",this.sIdentitySuffixUrl="",this.sAppZipUrl=""},t.CommonFansBadgeSplitCommResource.prototype._clone=function(){return new t.CommonFansBadgeSplitCommResource},t.CommonFansBadgeSplitCommResource.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonFansBadgeSplitCommResource.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonFansBadgeSplitCommResource.prototype.writeTo=function(e){e.writeString(0,this.sFloorUrl),e.writeString(1,this.sIdentitySuffixUrl),e.writeString(2,this.sAppZipUrl)},t.CommonFansBadgeSplitCommResource.prototype.readFrom=function(e){this.sFloorUrl=e.readString(0,!1,this.sFloorUrl),this.sIdentitySuffixUrl=e.readString(1,!1,this.sIdentitySuffixUrl),this.sAppZipUrl=e.readString(2,!1,this.sAppZipUrl)},t.PushWaterMark=function(){this.vWatermark=new i.Vector(new t.LiveWatermark),this.iUpdateMode=0},t.PushWaterMark.prototype._clone=function(){return new t.PushWaterMark},t.PushWaterMark.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.PushWaterMark.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.PushWaterMark.prototype.writeTo=function(e){e.writeVector(0,this.vWatermark),e.writeInt32(1,this.iUpdateMode)},t.PushWaterMark.prototype.readFrom=function(e){this.vWatermark=e.readVector(0,!1,this.vWatermark),this.iUpdateMode=e.readInt32(1,!1,this.iUpdateMode)},t.MessageRichTextNotice=function(){this.lPid=0,this.vBulletScreen=new i.Vector(new t.MessageRichText),this.vPublicScreen=new i.Vector(new t.MessageRichText),this.sReportData="",this.iFloatTime=0,this.iControlBy=0,this.lUid=0},t.MessageRichTextNotice.prototype._clone=function(){return new t.MessageRichTextNotice},t.MessageRichTextNotice.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MessageRichTextNotice.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MessageRichTextNotice.prototype.writeTo=function(e){e.writeInt64(0,this.lPid),e.writeVector(1,this.vBulletScreen),e.writeVector(2,this.vPublicScreen),e.writeString(3,this.sReportData),e.writeInt32(4,this.iFloatTime),e.writeInt32(5,this.iControlBy),e.writeInt64(6,this.lUid)},t.MessageRichTextNotice.prototype.readFrom=function(e){this.lPid=e.readInt64(0,!1,this.lPid),this.vBulletScreen=e.readVector(1,!1,this.vBulletScreen),this.vPublicScreen=e.readVector(2,!1,this.vPublicScreen),this.sReportData=e.readString(3,!1,this.sReportData),this.iFloatTime=e.readInt32(4,!1,this.iFloatTime),this.iControlBy=e.readInt32(5,!1,this.iControlBy),this.lUid=e.readInt64(6,!1,this.lUid)},t.MatchScorePopupWindow=function(){this.sKey="",this.lMinDelayMs=0,this.lMaxDelayMs=0},t.MatchScorePopupWindow.prototype._clone=function(){return new t.MatchScorePopupWindow},t.MatchScorePopupWindow.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.MatchScorePopupWindow.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.MatchScorePopupWindow.prototype.writeTo=function(e){e.writeString(0,this.sKey),e.writeInt64(1,this.lMinDelayMs),e.writeInt64(2,this.lMaxDelayMs)},t.MatchScorePopupWindow.prototype.readFrom=function(e){this.sKey=e.readString(0,!1,this.sKey),this.lMinDelayMs=e.readInt64(1,!1,this.lMinDelayMs),this.lMaxDelayMs=e.readInt64(2,!1,this.lMaxDelayMs)},t.GetMatchScoreCardPopupWindowReq=function(){this.tId=new t.UserId,this.sKey="",this.lPid=0},t.GetMatchScoreCardPopupWindowReq.prototype._clone=function(){return new t.GetMatchScoreCardPopupWindowReq},t.GetMatchScoreCardPopupWindowReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetMatchScoreCardPopupWindowReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetMatchScoreCardPopupWindowReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeString(1,this.sKey),e.writeInt64(2,this.lPid)},t.GetMatchScoreCardPopupWindowRsp=function(){this.iType=0,this.sTitle="",this.sAction="",this.vCard=new i.Vector(new t.CommonObjectCard),this.lAutoRollSec=0,this.sServerContext=""},t.GetMatchScoreCardPopupWindowRsp.prototype._clone=function(){return new t.GetMatchScoreCardPopupWindowRsp},t.GetMatchScoreCardPopupWindowRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.GetMatchScoreCardPopupWindowRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.GetMatchScoreCardPopupWindowRsp.prototype.readFrom=function(e){this.iType=e.readInt32(0,!1,this.iType),this.sTitle=e.readString(1,!1,this.sTitle),this.sAction=e.readString(2,!1,this.sAction),this.vCard=e.readVector(3,!1,this.vCard),this.lAutoRollSec=e.readInt64(4,!1,this.lAutoRollSec),this.sServerContext=e.readString(5,!1,this.sServerContext)},t.CommonObjectCard=function(){this.lObjectId=0,this.iType=0,this.sAvatarUrl="",this.sName="",this.sDesc="",this.dScore=0,this.lTotalScoreCount=0,this.lUserScore=0,this.lMomId=0,this.sDisplayTitle="",this.sNickName="",this.sIconUrl="",this.sCornerIcon="",this.iListId=0,this.sBackGroundURL="",this.sBackGroundColor="",this.mpExt=new i.Map(new i.STRING,new i.STRING),this.sAvatarOrigin="",this.iPlayerSpecialStyle=0,this.sShareBg="",this.sDynamicBg="",this.sDynamicAvatarPhoto="",this.sPlayerHalfBodyPhoto="",this.sBackGroundURL2024="",this.sAuthorName="",this.sBelongListName="",this.lBelongListId=0},t.CommonObjectCard.prototype._clone=function(){return new t.CommonObjectCard},t.CommonObjectCard.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonObjectCard.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonObjectCard.prototype.writeTo=function(e){e.writeInt64(0,this.lObjectId),e.writeInt32(1,this.iType),e.writeString(2,this.sAvatarUrl),e.writeString(3,this.sName),e.writeString(4,this.sDesc),e.writeDouble(5,this.dScore),e.writeInt64(6,this.lTotalScoreCount),e.writeInt64(7,this.lUserScore),e.writeInt64(8,this.lMomId),e.writeString(9,this.sDisplayTitle),e.writeString(10,this.sNickName),e.writeString(11,this.sIconUrl),e.writeString(12,this.sCornerIcon),e.writeInt32(13,this.iListId),e.writeString(14,this.sBackGroundURL),e.writeString(15,this.sBackGroundColor),e.writeMap(16,this.mpExt),e.writeString(17,this.sAvatarOrigin),e.writeInt32(18,this.iPlayerSpecialStyle),e.writeString(19,this.sShareBg),e.writeString(20,this.sDynamicBg),e.writeString(21,this.sDynamicAvatarPhoto),e.writeString(22,this.sPlayerHalfBodyPhoto),e.writeString(23,this.sBackGroundURL2024),e.writeString(24,this.sAuthorName),e.writeString(25,this.sBelongListName),e.writeInt64(26,this.lBelongListId)},t.CommonObjectCard.prototype.readFrom=function(e){this.lObjectId=e.readInt64(0,!1,this.lObjectId),this.iType=e.readInt32(1,!1,this.iType),this.sAvatarUrl=e.readString(2,!1,this.sAvatarUrl),this.sName=e.readString(3,!1,this.sName),this.sDesc=e.readString(4,!1,this.sDesc),this.dScore=e.readDouble(5,!1,this.dScore),this.lTotalScoreCount=e.readInt64(6,!1,this.lTotalScoreCount),this.lUserScore=e.readInt64(7,!1,this.lUserScore),this.lMomId=e.readInt64(8,!1,this.lMomId),this.sDisplayTitle=e.readString(9,!1,this.sDisplayTitle),this.sNickName=e.readString(10,!1,this.sNickName),this.sIconUrl=e.readString(11,!1,this.sIconUrl),this.sCornerIcon=e.readString(12,!1,this.sCornerIcon),this.iListId=e.readInt32(13,!1,this.iListId),this.sBackGroundURL=e.readString(14,!1,this.sBackGroundURL),this.sBackGroundColor=e.readString(15,!1,this.sBackGroundColor),this.mpExt=e.readMap(16,!1,this.mpExt),this.sAvatarOrigin=e.readString(17,!1,this.sAvatarOrigin),this.iPlayerSpecialStyle=e.readInt32(18,!1,this.iPlayerSpecialStyle),this.sShareBg=e.readString(19,!1,this.sShareBg),this.sDynamicBg=e.readString(20,!1,this.sDynamicBg),this.sDynamicAvatarPhoto=e.readString(21,!1,this.sDynamicAvatarPhoto),this.sPlayerHalfBodyPhoto=e.readString(22,!1,this.sPlayerHalfBodyPhoto),this.sBackGroundURL2024=e.readString(23,!1,this.sBackGroundURL2024),this.sAuthorName=e.readString(24,!1,this.sAuthorName),this.sBelongListName=e.readString(25,!1,this.sBelongListName),this.lBelongListId=e.readInt64(26,!1,this.lBelongListId)},t.UpdateCommonObjectScoreReq=function(){this.tId=new t.UserId,this.iFromScene=0,this.lObjectId=0,this.lScore=0,this.sServerContext=""},t.UpdateCommonObjectScoreReq.prototype._clone=function(){return new t.UpdateCommonObjectScoreReq},t.UpdateCommonObjectScoreReq.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UpdateCommonObjectScoreReq.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UpdateCommonObjectScoreReq.prototype.writeTo=function(e){e.writeStruct(0,this.tId),e.writeInt32(1,this.iFromScene),e.writeInt64(2,this.lObjectId),e.writeInt64(3,this.lScore),e.writeString(4,this.sServerContext)},t.UpdateCommonObjectScoreRsp=function(){this.sMsg="",this.tScoreRet=new t.CommonScoreInfo},t.UpdateCommonObjectScoreRsp.prototype._clone=function(){return new t.UpdateCommonObjectScoreRsp},t.UpdateCommonObjectScoreRsp.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.UpdateCommonObjectScoreRsp.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.UpdateCommonObjectScoreRsp.prototype.readFrom=function(e){this.sMsg=e.readString(0,!1,this.sMsg),this.tScoreRet=e.readStruct(1,!1,this.tScoreRet)},t.CommonScoreInfo=function(){this.dScore=0,this.lTotalScoreCount=0,this.lUserScore=-1,this.vScoreStatistics=new i.Vector(new t.CommonScoreStatisticsInfo),this.lRealTotalScoreCount=0},t.CommonScoreInfo.prototype._clone=function(){return new t.CommonScoreInfo},t.CommonScoreInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonScoreInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonScoreInfo.prototype.writeTo=function(e){e.writeDouble(0,this.dScore),e.writeInt64(1,this.lTotalScoreCount),e.writeInt64(2,this.lUserScore),e.writeVector(3,this.vScoreStatistics),e.writeInt64(4,this.lRealTotalScoreCount)},t.CommonScoreInfo.prototype.readFrom=function(e){this.dScore=e.readDouble(0,!1,this.dScore),this.lTotalScoreCount=e.readInt64(1,!1,this.lTotalScoreCount),this.lUserScore=e.readInt64(2,!1,this.lUserScore),this.vScoreStatistics=e.readVector(3,!1,this.vScoreStatistics),this.lRealTotalScoreCount=e.readInt64(4,!1,this.lRealTotalScoreCount)},t.CommonScoreStatisticsInfo=function(){this.lScore=0,this.lScoreCount=0,this.dScorePercent=0},t.CommonScoreStatisticsInfo.prototype._clone=function(){return new t.CommonScoreStatisticsInfo},t.CommonScoreStatisticsInfo.prototype._write=function(e,t,i){e.writeStruct(t,i)},t.CommonScoreStatisticsInfo.prototype._read=function(e,t,i){return e.readStruct(t,!0,i)},t.CommonScoreStatisticsInfo.prototype.writeTo=function(e){e.writeInt64(1,this.lScore),e.writeInt64(2,this.lScoreCount),e.writeDouble(3,this.dScorePercent)},t.CommonScoreStatisticsInfo.prototype.readFrom=function(e){this.lScore=e.readInt64(1,!1,this.lScore),this.lScoreCount=e.readInt64(2,!1,this.lScoreCount),this.dScorePercent=e.readDouble(3,!1,this.dScorePercent)};var d={HUYA:t,Taf:i,HUYAWEB:n,MidExtComm:r,ExtAdvertisement:a,GameRelease:o,GameReleaseCommon:s,AdTimeServer:c,AD:l,PresenterServer:u};return Object.assign(e,d)}}},"5vc3":function(e,t,i){e.exports=function(e,t){var n=e.utils,r=null,a=null,o=[],s=!1,c=t.adReport;function l(e){var t=$(e.currentTarget);if(t){var i=t.data("data");if(i){var n=i.landingUrl,r=i._sdkConf;n&&window.open(n),c.reportClick(r)}}}function u(e,t){for(var i=e.find(".tag-list"),n=t.length,r=0;r<n;r++){(e=$('<div class="tag-item"></div>')).text(t[r]),e.appendTo(i)}}function d(){r&&(r.unbind(),r.remove()),r=null,o=[],s=!1}function p(){for(var e=o.length,t=0;t<e;t++){var i=o[t]._sdkConf;c.reportClose(i)}d()}this.show=function(e){d();var t=i("F1Sr")();(r=$(t)).appendTo("#player-wrap"),r.find(".close-btn").click(p),a=r.find(".item-list");var h=e.length;h=Math.min(h,6);for(var f=0;f<h;f++){var m=i("8A5q")(),v=$(m),g=e[f],y=g.sdkConf,_=g.actionTxt,w=g.title,S=g.brand,b=g.tags,I=g.explain,E=g.iconUrl;I&&v.find(".explain-tag").show();try{var T=n.unescapeHTML(y),k=JSON.parse(T)}catch(e){console.log("componentAD ,showAD parse sdkConf error",e);continue}v.find(".tag-num").text(f+1),v.find(".item-title").text(S),v.find(".subtitle").text(w),v.find(".download-btn").text(_||"立即下载");var C=v.find(".icon"),x=$("<img />");x.attr("src",E);var A=k&&k.landingUrl?k.landingUrl:"";o.push({_sdkConf:T}),v.data("data",{landingUrl:A,_sdkConf:T}),v.click(l),C.append(x),u(v,b.split(",")),I?a.prepend(v):a.append(v),c.reportPageView(T)}s=!0},this.clear=d,this.getIsShow=function(){return s}}},"676x":function(e,t,i){(function(i){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/var a=e.exports&&void 0!==i?i:this||window;(a._gsQueue||(a._gsQueue=[])).push((function(){"use strict";var e,t,i;a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,i){var n=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},r=function(e,t,i){var n,r,a=e.cycle;for(n in a)r=a[n],e[n]="function"==typeof r?r(i,t[i]):r[i%r.length];delete e.cycle},a=function e(t,n,r){i.call(this,t,n,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=e.prototype.render},o=1e-10,s=i._internals,c=s.isSelector,l=s.isArray,u=a.prototype=i.to({},.1,{}),d=[];a.version="1.20.4",u.constructor=a,u.kill()._gc=!1,a.killTweensOf=a.killDelayedCallsTo=i.killTweensOf,a.getTweensOf=i.getTweensOf,a.lagSmoothing=i.lagSmoothing,a.ticker=i.ticker,a.render=i.render,u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(e,t){var n,r=this.ratio,a=this.vars.immediateRender||e.immediateRender;for(n in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[n]=e[n];if(this._initted||a)if(t)this._initted=!1,a&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||a)for(var s,c=1/(1-r),l=this._firstPT;l;)s=l.s+l.c,l.c*=c,l.s=s-l.c,l=l._next;return this},u.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,a,c,l,u,d,p,h,f,m=this._dirty?this.totalDuration():this._totalDuration,v=this._time,g=this._totalTime,y=this._cycle,_=this._duration,w=this._rawPrevTime;if(e>=m-1e-7&&e>=0?(this._totalTime=m,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=_,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,a="onComplete",n=n||this._timeline.autoRemoveChildren),0===_&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>w||0>=e&&e>=-1e-7||w===o&&"isPause"!==this.data)&&w!==e&&(n=!0,w>o&&(a="onReverseComplete")),this._rawPrevTime=h=!t||e||w===e?e:o)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===_&&w>0)&&(a="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===_&&(this._initted||!this.vars.lazy||n)&&(w>=0&&(n=!0),this._rawPrevTime=h=!t||e||w===e?e:o)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=_+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&e>=g&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=_-this._time,(f=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==f||this._initted?this._yoyoEase=f=!0===f?this._ease:f instanceof Ease?f:Ease.map[f]:(f=this.vars.ease,this._yoyoEase=f=f?f instanceof Ease?f:"function"==typeof f?new Ease(f,this.vars.easeParams):Ease.map[f]||i.defaultEase:i.defaultEase)),this.ratio=f?1-f.getRatio((_-this._time)/_):0)),this._time>_?this._time=_:this._time<0&&(this._time=0)),this._easeType&&!f?(u=this._time/_,(1===(d=this._easeType)||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===(p=this._easePower)?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),1===d?this.ratio=1-u:2===d?this.ratio=u:this._time/_<.5?this.ratio=u/2:this.ratio=1-u/2):f||(this.ratio=this._ease.getRatio(this._time/_))),v!==this._time||n||y!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=v,this._totalTime=g,this._rawPrevTime=w,this._cycle=y,s.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||r||f?r&&this._ease._calcEnd&&!f&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/_)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==v&&e>=0&&(this._active=!0),0===g&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,n):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===_)&&(t||this._callback("onStart"))),c=this._firstPT;c;)c.f?c.t[c.p](c.c*this.ratio+c.s):c.t[c.p]=c.c*this.ratio+c.s,c=c._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,!0,n),t||(this._totalTime!==g||a)&&this._callback("onUpdate")),this._cycle!==y&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),a&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===_&&this._rawPrevTime===o&&h!==o&&(this._rawPrevTime=0))}else g!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},a.to=function(e,t,i){return new a(e,t,i)},a.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new a(e,t,i)},a.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new a(e,t,n)},a.staggerTo=a.allTo=function(e,t,o,s,u,p,h){s=s||0;var f,m,v,g,y=0,_=[],w=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),u.apply(h||o.callbackScope||this,p||d)},S=o.cycle,b=o.startAt&&o.startAt.cycle;for(l(e)||("string"==typeof e&&(e=i.selector(e)||e),c(e)&&(e=n(e))),e=e||[],0>s&&((e=n(e)).reverse(),s*=-1),f=e.length-1,v=0;f>=v;v++){for(g in m={},o)m[g]=o[g];if(S&&(r(m,e,v),null!=m.duration&&(t=m.duration,delete m.duration)),b){for(g in b=m.startAt={},o.startAt)b[g]=o.startAt[g];r(m.startAt,e,v)}m.delay=y+(m.delay||0),v===f&&u&&(m.onComplete=w),_[v]=new a(e[v],t,m),y+=s}return _},a.staggerFrom=a.allFrom=function(e,t,i,n,r,o,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,a.staggerTo(e,t,i,n,r,o,s)},a.staggerFromTo=a.allFromTo=function(e,t,i,n,r,o,s,c){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,a.staggerTo(e,t,n,r,o,s,c)},a.delayedCall=function(e,t,i,n,r){return new a(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},a.set=function(e,t){return new a(e,0,t)},a.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var p=function e(t,n){for(var r=[],a=0,o=t._first;o;)o instanceof i?r[a++]=o:(n&&(r[a++]=o),a=(r=r.concat(e(o,n))).length),o=o._next;return r},h=a.getAllTweens=function(t){return p(e._rootTimeline,t).concat(p(e._rootFramesTimeline,t))};a.killAll=function(e,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var a,o,s,c=h(0!=r),l=c.length,u=i&&n&&r;for(s=0;l>s;s++)o=c[s],(u||o instanceof t||(a=o.target===o.vars.onComplete)&&n||i&&!a)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},a.killChildTweensOf=function(e,t){if(null!=e){var r,o,u,d,p,h=s.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),c(e)&&(e=n(e)),l(e))for(d=e.length;--d>-1;)a.killChildTweensOf(e[d],t);else{for(u in r=[],h)for(o=h[u].target.parentNode;o;)o===e&&(r=r.concat(h[u].tweens)),o=o.parentNode;for(p=r.length,d=0;p>d;d++)t&&r[d].totalTime(r[d].totalDuration()),r[d]._enabled(!1,!1)}}};var f=function(e,i,n,r){i=!1!==i,n=!1!==n;for(var a,o,s=h(r=!1!==r),c=i&&n&&r,l=s.length;--l>-1;)o=s[l],(c||o instanceof t||(a=o.target===o.vars.onComplete)&&n||i&&!a)&&o.paused(e)};return a.pauseAll=function(e,t,i){f(!0,e,t,i)},a.resumeAll=function(e,t,i){f(!1,e,t,i)},a.globalTimeScale=function(t){var n=e._rootTimeline,r=i.ticker.time;return arguments.length?(t=t||o,n._startTime=r-(r-n._startTime)*n._timeScale/t,n=e._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/t,n._timeScale=e._rootTimeline._timeScale=t,t):n._timeScale},u.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},u.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},u.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},a}),!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=i._internals,s=n._internals={},c=o.isSelector,l=o.isArray,u=o.lazyTweens,d=o.lazyRender,p=a._gsDefine.globals,h=function(e){var t,i={};for(t in e)i[t]=e[t];return i},f=function(e,t,i){var n,r,a=e.cycle;for(n in a)r=a[n],e[n]="function"==typeof r?r(i,t[i]):r[i%r.length];delete e.cycle},m=s.pauseCallback=function(){},v=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},g=n.prototype=new t;return n.version="1.20.4",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(e,t,n,r){var a=n.repeat&&p.TweenMax||i;return t?this.add(new a(e,t,n),r):this.set(e,n,r)},g.from=function(e,t,n,r){return this.add((n.repeat&&p.TweenMax||i).from(e,t,n),r)},g.fromTo=function(e,t,n,r,a){var o=r.repeat&&p.TweenMax||i;return t?this.add(o.fromTo(e,t,n,r),a):this.set(e,r,a)},g.staggerTo=function(e,t,r,a,o,s,l,u){var d,p,m=new n({onComplete:s,onCompleteParams:l,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),g=r.cycle;for("string"==typeof e&&(e=i.selector(e)||e),c(e=e||[])&&(e=v(e)),0>(a=a||0)&&((e=v(e)).reverse(),a*=-1),p=0;p<e.length;p++)(d=h(r)).startAt&&(d.startAt=h(d.startAt),d.startAt.cycle&&f(d.startAt,e,p)),g&&(f(d,e,p),null!=d.duration&&(t=d.duration,delete d.duration)),m.to(e[p],t,d,p*a);return this.add(m,o)},g.staggerFrom=function(e,t,i,n,r,a,o,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,r,a,o,s)},g.staggerFromTo=function(e,t,i,n,r,a,o,s,c){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,r,a,o,s,c)},g.call=function(e,t,n,r){return this.add(i.delayedCall(0,e,t,n),r)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var r,a,o,s,c=new n(e),l=c._timeline;for(null==t&&(t=!0),l._remove(c,!0),c._startTime=0,c._rawPrevTime=c._time=c._totalTime=l._time,o=l._first;o;)s=o._next,t&&o instanceof i&&o.target===o.vars.onComplete||(0>(a=o._startTime-o._delay)&&(r=1),c.add(o,a)),o=s;return l.add(c,0),r&&c.totalDuration(),c},g.add=function(r,a,o,s){var c,u,d,p,h,f;if("number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&l(r)){for(o=o||"normal",s=s||0,c=a,u=r.length,d=0;u>d;d++)l(p=r[d])&&(p=new n({tweens:p})),this.add(p,c),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?c=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),c+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,a);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(t.prototype.add.call(this,r,a),r._time&&r.render((this.rawTime()-r._startTime)*r._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(h=this).rawTime()>r._startTime;h._timeline;)f&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},g.remove=function(t){if(t instanceof e){this._remove(t,!1);var i=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:i._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,i){return t.prototype._remove.call(this,e,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},g.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,r){var a=i.delayedCall(0,m,n,r||this);return a.vars.onComplete=a.vars.onReverseComplete=t,a.data="isPause",this._hasPause=!0,this.add(a,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,i,n,r){var a,o;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(o=r.length;--o>-1;)r[o]instanceof e&&r[o].timeline===this&&this.remove(r[o]);if(a="number"!=typeof t||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-a:0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=a);else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?n?this._labels[t]=a+i:i:this._labels[t]+i;i=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,n):a}return Number(t)+i},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,a,o,s,c,l,p,h=this._time,f=this._dirty?this.totalDuration():this._totalDuration,m=this._startTime,v=this._timeScale,g=this._paused;if(h!==this._time&&(e+=this._time-h),e>=f-1e-7&&e>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(a=!0,s="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==e&&this._first&&(c=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=f+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=a=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,0===e&&a)for(n=this._first;n&&0===n._startTime;)n._duration||(a=!1),n=n._next;e=0,this._initted||(c=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=h)for(n=this._first;n&&n._startTime<=e&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=e=l._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==h&&this._first||i||c||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&e>0&&(this._active=!0),0===h&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(p=this._time)>=h)for(n=this._first;n&&(o=n._next,p===this._time&&(!this._paused||g));)(n._active||n._startTime<=p&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,p===this._time&&(!this._paused||g));){if(n._active||n._startTime<=h&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(e-l._startTime)*l._timeScale:(e-l._startTime)*l._timeScale,t,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=o}this._onUpdate&&(t||(u.length&&d(),this._callback("onUpdate"))),s&&(this._gc||(m===this._startTime||v!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(a&&(u.length&&d(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,r){r=r||-9999999999;for(var a=[],o=this._first,s=0;o;)o._startTime<r||(o instanceof i?!1!==t&&(a[s++]=o):(!1!==n&&(a[s++]=o),!1!==e&&(s=(a=a.concat(o.getChildren(!0,t,n))).length))),o=o._next;return a},g.getTweensOf=function(e,t){var n,r,a=this._gc,o=[],s=0;for(a&&this._enabled(!0,!0),r=(n=i.getTweensOf(e)).length;--r>-1;)(n[r].timeline===this||t&&this._contains(n[r]))&&(o[s++]=n[r]);return a&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,i){i=i||0;for(var n,r=this._first,a=this._labels;r;)r._startTime>=i&&(r._startTime+=e),r=r._next;if(t)for(n in a)a[n]>=i&&(a[n]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(e,t)&&(r=!0);return r},g.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},g.totalTime=function(t,i,n){this._forcingPlayhead=!0;var r=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,r=this._last,a=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>a&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):a=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),a=0),(i=r._startTime+r._totalDuration/r._timeScale)>n&&(n=i),r=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},g.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},n}),!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(e,t,i){var n=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},r=1e-10,o=t._internals,s=o.lazyTweens,c=o.lazyRender,l=a._gsDefine.globals,u=new i(null,null,1,0),d=n.prototype=new e;return d.constructor=n,d.kill()._gc=!1,n.version="1.20.4",d.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},d.addCallback=function(e,i,n,r){return this.add(t.delayedCall(0,e,n,r),i)},d.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),n=i.length,r=this._parseTimeOrLabel(t);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},d.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},d.tweenTo=function(e,i){i=i||{};var n,r,a,o={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=i.repeat&&l.TweenMax||t;for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(e),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,a=new s(this,n,o),o.onStart=function(){a.target.paused(!0),a.vars.time===a.target.time()||n!==a.duration()||a.isFromTo||a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale).render(a.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||a,i.onStartParams||[])},a},d.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(t,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-e)/this._timeScale||.001)},d.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,a,o,l,u,d,p,h,f=this._time,m=this._dirty?this.totalDuration():this._totalDuration,v=this._duration,g=this._totalTime,y=this._startTime,_=this._timeScale,w=this._rawPrevTime,S=this._paused,b=this._cycle;if(f!==this._time&&(e+=this._time-f),e>=m-1e-7&&e>=0)this._locked||(this._totalTime=m,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>w||w===r)&&w!==e&&this._first&&(u=!0,w>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=v,e=v+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===v&&w!==r&&(w>0||0>e&&w>=0)&&!this._locked)&&(l="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=a=!0,l="onReverseComplete"):w>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=v||!t||e||this._rawPrevTime===e?e:r,0===e&&a)for(n=this._first;n&&0===n._startTime;)n._duration||(a=!1),n=n._next;e=0,this._initted||(u=!0)}else if(0===v&&0>w&&(u=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(d=v+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&e>=g&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time),this._time>v?(this._time=v,e=v+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=f||this._repeat&&b!==this._cycle)for(n=this._first;n&&n._startTime<=e&&!p;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(p=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!p;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(p=n),n=n._prev;p&&p._startTime<v&&(this._time=e=p._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==b&&!this._locked){var I=this._yoyo&&0!=(1&b),E=I===(this._yoyo&&0!=(1&this._cycle)),T=this._totalTime,k=this._cycle,C=this._rawPrevTime,x=this._time;if(this._totalTime=b*v,this._cycle<b?I=!I:this._totalTime+=v,this._time=f,this._rawPrevTime=0===v?w-1e-4:w,this._cycle=b,this._locked=!0,f=I?0:v,this.render(f,t,0===v),t||this._gc||this.vars.onRepeat&&(this._cycle=k,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(E&&(this._cycle=b,this._locked=!0,f=I?v+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!S)return;this._time=x,this._totalTime=T,this._cycle=k,this._rawPrevTime=C}if(this._time!==f&&this._first||i||u||p){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&e>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(h=this._time)>=f)for(n=this._first;n&&(o=n._next,h===this._time&&(!this._paused||S));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(p===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,h===this._time&&(!this._paused||S));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(p===n){for(p=n._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(e-p._startTime)*p._timeScale:(e-p._startTime)*p._timeScale,t,i),p=p._prev;p=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=o}this._onUpdate&&(t||(s.length&&c(),this._callback("onUpdate"))),l&&(this._locked||this._gc||(y===this._startTime||_!==this._timeScale)&&(0===this._time||m>=this.totalDuration())&&(a&&(s.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this._callback(l)))}else g!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},d.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var n,r,a=[],o=this.getChildren(e,t,i),s=0,c=o.length;for(n=0;c>n;n++)(r=o[n]).isActive()&&(a[s++]=r);return a},d.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),n=i.length;for(t=0;n>t;t++)if(i[t].time>e)return i[t].name;return null},d.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(t[i].time<e)return t[i].name;return null},d.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort((function(e,t){return e.time-t.time})),t},d.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},d.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},d.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},d.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},d.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},d.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},d.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},d.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},d.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},n}),!0),function(){var e=180/Math.PI,t=[],i=[],n=[],r={},o=a._gsDefine.globals,s=function(e,t,i,n){i===n&&(i=n-(n-t)/1e6),e===t&&(t=e+(i-e)/1e6),this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},c=function(e,t,i,n){var r={a:e},a={},o={},s={c:n},c=(e+t)/2,l=(t+i)/2,u=(i+n)/2,d=(c+l)/2,p=(l+u)/2,h=(p-d)/8;return r.b=c+(e-c)/4,a.b=d+h,r.c=a.a=(r.b+a.b)/2,a.c=o.a=(d+p)/2,o.b=p-h,s.b=u+(n-u)/4,o.c=s.a=(o.b+s.b)/2,[r,a,o,s]},l=function(e,r,a,o,s){var l,u,d,p,h,f,m,v,g,y,_,w,S,b=e.length-1,I=0,E=e[0].a;for(l=0;b>l;l++)u=(h=e[I]).a,d=h.d,p=e[I+1].d,s?(_=t[l],S=((w=i[l])+_)*r*.25/(o?.5:n[l]||.5),v=d-((f=d-(d-u)*(o?.5*r:0!==_?S/_:0))+(((m=d+(p-d)*(o?.5*r:0!==w?S/w:0))-f)*(3*_/(_+w)+.5)/4||0))):v=d-((f=d-(d-u)*r*.5)+(m=d+(p-d)*r*.5))/2,f+=v,m+=v,h.c=g=f,h.b=0!==l?E:E=h.a+.6*(h.c-h.a),h.da=d-u,h.ca=g-u,h.ba=E-u,a?(y=c(u,E,g,d),e.splice(I,1,y[0],y[1],y[2],y[3]),I+=4):I++,E=m;(h=e[I]).b=E,h.c=E+.4*(h.d-E),h.da=h.d-h.a,h.ca=h.c-h.a,h.ba=E-h.a,a&&(y=c(h.a,E,h.c,h.d),e.splice(I,1,y[0],y[1],y[2],y[3]))},u=function(e,n,r,a){var o,c,l,u,d,p,h=[];if(a)for(c=(e=[a].concat(e)).length;--c>-1;)"string"==typeof(p=e[c][n])&&"="===p.charAt(1)&&(e[c][n]=a[n]+Number(p.charAt(0)+p.substr(2)));if(0>(o=e.length-2))return h[0]=new s(e[0][n],0,0,e[0][n]),h;for(c=0;o>c;c++)l=e[c][n],u=e[c+1][n],h[c]=new s(l,0,0,u),r&&(d=e[c+2][n],t[c]=(t[c]||0)+(u-l)*(u-l),i[c]=(i[c]||0)+(d-u)*(d-u));return h[c]=new s(e[c][n],0,0,e[c+1][n]),h},d=function(e,a,o,s,c,d){var p,h,f,m,v,g,y,_,w={},S=[],b=d||e[0];for(h in c="string"==typeof c?","+c+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==a&&(a=1),e[0])S.push(h);if(e.length>1){for(_=e[e.length-1],y=!0,p=S.length;--p>-1;)if(h=S[p],Math.abs(b[h]-_[h])>.05){y=!1;break}y&&(e=e.concat(),d&&e.unshift(d),e.push(e[1]),d=e[e.length-3])}for(t.length=i.length=n.length=0,p=S.length;--p>-1;)h=S[p],r[h]=-1!==c.indexOf(","+h+","),w[h]=u(e,h,r[h],d);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),i[p]=Math.sqrt(i[p]);if(!s){for(p=S.length;--p>-1;)if(r[h])for(g=(f=w[S[p]]).length-1,m=0;g>m;m++)v=f[m+1].da/i[m]+f[m].da/t[m]||0,n[m]=(n[m]||0)+v*v;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=S.length,m=o?4:1;--p>-1;)f=w[h=S[p]],l(f,a,o,s,r[h]),y&&(f.splice(0,m),f.splice(f.length-m,m));return w},p=function(e,t,i){var n,r,a,o,c,l,u,d,p,h,f,m={},v="cubic"===(t=t||"soft")?3:2,g="soft"===t,y=[];if(g&&i&&(e=[i].concat(e)),null==e||e.length<v+1)throw"invalid Bezier data";for(p in e[0])y.push(p);for(l=y.length;--l>-1;){for(p=y[l],m[p]=c=[],h=0,d=e.length,u=0;d>u;u++)n=null==i?e[u][p]:"string"==typeof(f=e[u][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),g&&u>1&&d-1>u&&(c[h++]=(n+c[h-2])/2),c[h++]=n;for(d=h-v+1,h=0,u=0;d>u;u+=v)n=c[u],r=c[u+1],a=c[u+2],o=2===v?0:c[u+3],c[h++]=f=3===v?new s(n,r,a,o):new s(n,(2*r+n)/3,(2*r+a)/3,a);c.length=h}return m},h=function(e,t,i){for(var n,r,a,o,s,c,l,u,d,p,h,f=1/i,m=e.length;--m>-1;)for(a=(p=e[m]).a,o=p.d-a,s=p.c-a,c=p.b-a,n=r=0,u=1;i>=u;u++)n=r-(r=((l=f*u)*l*o+3*(d=1-l)*(l*s+d*c))*l),h=m*i+u-1,t[h]=(t[h]||0)+n*n},f=function(e,t){var i,n,r,a,o=[],s=[],c=0,l=0,u=(t=t>>0||6)-1,d=[],p=[];for(i in e)h(e[i],o,t);for(r=o.length,n=0;r>n;n++)c+=Math.sqrt(o[n]),p[a=n%t]=c,a===u&&(l+=c,d[a=n/t>>0]=p,s[a]=l,c=0,p=[]);return{length:l,lengths:s,segments:d}},m=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,r,a,o,s,c=t.values||[],l={},u=c[0],h=t.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",!0===h?0:Number(h)||0]]:null,u)this._props.push(n);for(a=this._props.length;--a>-1;)n=this._props[a],this._overwriteProps.push(n),r=this._func[n]="function"==typeof e[n],l[n]=r?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),s||l[n]!==c[0][n]&&(s=l);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?d(c,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):p(c,t.type,l),this._segCount=this._beziers[n].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),a=h.length;--a>-1;){for(o=0;3>o;o++)n=h[a][o],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=h[a][2],this._initialRotations[a]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,r,a,o,s,c,l,u,d,p=this._segCount,h=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(u=this._lengths,d=this._curSeg,t*=this._length,r=this._li,t>this._l2&&p-1>r){for(l=p-1;l>r&&(this._l2=u[++r])<=t;);this._l1=u[r-1],this._li=r,this._curSeg=d=this._segments[r],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&r>0){for(;r>0&&(this._l1=u[--r])>=t;);0===r&&t<this._l1?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=d=this._segments[r],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}if(i=r,t-=this._l1,r=this._si,t>this._s2&&r<d.length-1){for(l=d.length-1;l>r&&(this._s2=d[++r])<=t;);this._s1=d[r-1],this._si=r}else if(t<this._s1&&r>0){for(;r>0&&(this._s1=d[--r])>=t;);0===r&&t<this._s1?this._s1=0:r++,this._s2=d[r],this._si=r}s=(r+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(i=0>t?0:t>=1?p-1:p*t>>0)*(1/p))*p;for(n=1-s,r=this._props.length;--r>-1;)a=this._props[r],c=(s*s*(o=this._beziers[a][i]).da+3*n*(s*o.ca+n*o.ba))*s+o.a,this._mod[a]&&(c=this._mod[a](c,f)),h[a]?f[a](c):f[a]=c;if(this._autoRotate){var v,g,y,_,w,S,b,I=this._autoRotate;for(r=I.length;--r>-1;)a=I[r][2],S=I[r][3]||0,b=!0===I[r][4]?1:e,o=this._beziers[I[r][0]],v=this._beziers[I[r][1]],o&&v&&(o=o[i],v=v[i],g=o.a+(o.b-o.a)*s,g+=((_=o.b+(o.c-o.b)*s)-g)*s,_+=(o.c+(o.d-o.c)*s-_)*s,y=v.a+(v.b-v.a)*s,y+=((w=v.b+(v.c-v.b)*s)-y)*s,w+=(v.c+(v.d-v.c)*s-w)*s,c=m?Math.atan2(w-y,_-g)*b+S:this._initialRotations[r],this._mod[a]&&(c=this._mod[a](c,f)),h[a]?f[a](c):f[a]=c)}}}),v=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=c,m._autoCSS=!0,m.quadraticToCubic=function(e,t,i){return new s(e,(2*t+e)/3,(2*t+i)/3,i)},m._cssRegister=function(){var e=o.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,a,o,s,c){t instanceof Array&&(t={values:t}),c=new m;var l,u,d,p=t.values,h=p.length-1,f=[],v={};if(0>h)return s;for(l=0;h>=l;l++)d=i(e,p[l],o,s,c,h!==l),f[l]=d.end;for(u in t)v[u]=t[u];return v.values=f,(s=new r(e,"bezier",0,0,d.pt,2)).data=d,s.plugin=c,s.setRatio=n,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(l=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=d.end.left?[["left","top","rotation",l,!1]]:null!=d.end.x&&[["x","y","rotation",l,!1]]),v.autoRotate&&(o._transform||o._enableTransforms(!1),d.autoRotate=o._target._gsTransform,d.proxy.rotation=d.autoRotate.rotation||0,o._overwriteProps.push("rotation")),c._onInitTween(d.proxy,v,o._tween),s}})}},v._mod=function(e){for(var t,i=this._overwriteProps,n=i.length;--n>-1;)(t=e[i[n]])&&"function"==typeof t&&(this._mod[i[n]]=t)},v._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)e[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,e)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(e,t){var i,n,o,s,c=function t(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=t.prototype.setRatio},l=a._gsDefine.globals,u={},d=c.prototype=new e("css");d.constructor=c,c.version="1.20.4",c.API=2,c.defaultTransformPerspective=0,c.defaultSkewType="compensated",c.defaultSmoothOrigin=!0,c.suffixMap={top:d="px",right:d,bottom:d,left:d,width:d,height:d,fontSize:d,padding:d,margin:d,perspective:d,lineHeight:""};var p,h,f,m,v,g,y,_,w=/(?:\-|\.|\b)(\d|\.|e\-)+/g,S=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,I=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,k=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,A=/([A-Z])/g,R=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,L=function(e,t){return t.toUpperCase()},M=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,B=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,U=/[\s,\(]/i,F=Math.PI/180,O=180/Math.PI,H={},G={style:{}},V=a.document||{createElement:function(){return G}},W=function(e,t){return V.createElementNS?V.createElementNS(t||"http://www.w3.org/1999/xhtml",e):V.createElement(e)},q=W("div"),j=W("img"),z=c._internals={_specialProps:u},Y=(a.navigator||{}).userAgent||"",$=function(){var e=Y.indexOf("Android"),t=W("a");return f=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===e||parseFloat(Y.substr(e+8,2))>3),v=f&&parseFloat(Y.substr(Y.indexOf("Version/")+8,2))<6,m=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(g=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),J=function(e){return T.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},K=function(e){a.console&&console.log(e)},Z="",X="",Q=function(e,t){var i,n,r=(t=t||q).style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+e];);return n>=0?(Z="-"+(X=3===n?"ms":i[n]).toLowerCase()+"-",X+e):null},ee=V.defaultView?V.defaultView.getComputedStyle:function(){},te=c.getStyle=function(e,t,i,n,r){var a;return $||"opacity"!==t?(!n&&e.style[t]?a=e.style[t]:(i=i||ee(e))?a=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(A,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==r||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:r):J(e)},ie=z.convertToPixels=function(e,i,n,r,a){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var o,s,l,u=M.test(i),d=e,p=q.style,h=0>n,f=1===n;if(h&&(n=-n),f&&(n*=100),"lineHeight"!==i||r)if("%"===r&&-1!==i.indexOf("border"))o=n/100*(u?e.clientWidth:e.clientHeight);else{if(p.cssText="border:0 solid red;position:"+te(e,"position")+";line-height:0;","%"!==r&&d.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)p[u?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(d=e.parentNode||V.body,-1!==te(d,"display").indexOf("flex")&&(p.position="absolute"),s=d._gsCache,l=t.ticker.frame,s&&u&&s.time===l)return s.width*n/100;p[u?"width":"height"]=n+r}d.appendChild(q),o=parseFloat(q[u?"offsetWidth":"offsetHeight"]),d.removeChild(q),u&&"%"===r&&!1!==c.cacheWidths&&((s=d._gsCache=d._gsCache||{}).time=l,s.width=o/n*100),0!==o||a||(o=ie(e,i,n,r,!0))}else s=ee(e).lineHeight,e.style.lineHeight=n,o=parseFloat(ee(e).lineHeight),e.style.lineHeight=s;return f&&(o/=100),h?-o:o},ne=z.calculateOffset=function(e,t,i){if("absolute"!==te(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=te(e,"margin"+n,i);return e["offset"+n]-(ie(e,t,parseFloat(r),r.replace(E,""))||0)},re=function(e,t){var i,n,r,a={};if(t=t||ee(e,null))if(i=t.length)for(;--i>-1;)(-1===(r=t[i]).indexOf("-transform")||Pe===r)&&(a[r.replace(R,L)]=t.getPropertyValue(r));else for(i in t)(-1===i.indexOf("Transform")||Re===i)&&(a[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===a[i]&&(a[i.replace(R,L)]=t[i]);return $||(a.opacity=J(e)),n=je(e,t,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,Me&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},ae=function(e,t,i,n,r){var a,o,s,c={},l=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(a=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof a||"string"==typeof a)&&(c[o]="auto"!==a||"left"!==o&&"top"!==o?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[o]||""===t[o].replace(I,"")?a:0:ne(e,o),void 0!==l[o]&&(s=new we(l,o,l[o],s)));if(n)for(o in n)"className"!==o&&(c[o]=n[o]);return{difs:c,firstMPT:s}},oe={width:["Left","Right"],height:["Top","Bottom"]},se=["marginLeft","marginRight","marginTop","marginBottom"],ce=function(e,t,i){if("svg"===(e.nodeName+"").toLowerCase())return(i||ee(e))[t]||0;if(e.getCTM&&Ve(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=oe[t],a=r.length;for(i=i||ee(e,null);--a>-1;)n-=parseFloat(te(e,"padding"+r[a],i,!0))||0,n-=parseFloat(te(e,"border"+r[a]+"Width",i,!0))||0;return n},le=function e(t,i){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var n,r=t.split(" "),a=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];if(r.length>3&&!i){for(r=t.split(", ").join(",").split(","),t=[],n=0;n<r.length;n++)t.push(e(r[n]));return t.join(",")}return null==o?o="center"===a?"50%":"0":"center"===o&&(o="50%"),("center"===a||isNaN(parseFloat(a))&&-1===(a+"").indexOf("="))&&(a="50%"),t=a+" "+o+(r.length>2?" "+r[2]:""),i&&(i.oxp=-1!==a.indexOf("%"),i.oyp=-1!==o.indexOf("%"),i.oxr="="===a.charAt(1),i.oyr="="===o.charAt(1),i.ox=parseFloat(a.replace(I,"")),i.oy=parseFloat(o.replace(I,"")),i.v=t),i||t},ue=function(e,t){return"function"==typeof e&&(e=e(_,y)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},de=function(e,t){return"function"==typeof e&&(e=e(_,y)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},pe=function(e,t,i,n){var r,a,o,s,c;return"function"==typeof e&&(e=e(_,y)),null==e?s=t:"number"==typeof e?s=e:(r=360,a=e.split("_"),o=((c="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(-1===e.indexOf("rad")?1:O)-(c?0:t),a.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&((o%=r)!==o%180&&(o=0>o?o+r:o-r)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*r)%r-(o/r|0)*r:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(o/r|0)*r)),s=t+o),1e-6>s&&s>-1e-6&&(s=0),s},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},fe=function(e,t,i){return 255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+(i-t)*e*6:.5>e?i:2>3*e?t+(i-t)*(2/3-e)*6:t)+.5|0},me=c.parseColor=function(e,t){var i,n,r,a,o,s,c,l,u,d,p;if(e)if("number"==typeof e)i=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),he[e])i=he[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),r=e.charAt(2),a=e.charAt(3),e="#"+n+n+r+r+a+a),i=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(i=p=e.match(w),t){if(-1!==e.indexOf("="))return e.match(S)}else o=Number(i[0])%360/360,s=Number(i[1])/100,n=2*(c=Number(i[2])/100)-(r=.5>=c?c*(s+1):c+s-c*s),i.length>3&&(i[3]=Number(i[3])),i[0]=fe(o+1/3,n,r),i[1]=fe(o,n,r),i[2]=fe(o-1/3,n,r);else i=e.match(w)||he.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=he.black;return t&&!p&&(n=i[0]/255,r=i[1]/255,a=i[2]/255,c=((l=Math.max(n,r,a))+(u=Math.min(n,r,a)))/2,l===u?o=s=0:(d=l-u,s=c>.5?d/(2-l-u):d/(l+u),o=l===n?(r-a)/d+(a>r?6:0):l===r?(a-n)/d+2:(n-r)/d+4,o*=60),i[0]=o+.5|0,i[1]=100*s+.5|0,i[2]=100*c+.5|0),i},ve=function(e,t){var i,n,r,a=e.match(ge)||[],o=0,s="";if(!a.length)return e;for(i=0;i<a.length;i++)n=a[i],o+=(r=e.substr(o,e.indexOf(n,o)-o)).length+n.length,3===(n=me(n,t)).length&&n.push(1),s+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+e.substr(o)},ge="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(d in he)ge+="|"+d+"\\b";ge=new RegExp(ge+")","gi"),c.colorStringFilter=function(e){var t,i=e[0]+" "+e[1];ge.test(i)&&(t=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),e[0]=ve(e[0],t),e[1]=ve(e[1],t)),ge.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=c.colorStringFilter);var ye=function(e,t,i,n){if(null==e)return function(e){return e};var r,a=t?(e.match(ge)||[""])[0]:"",o=e.split(a).join("").match(b)||[],s=e.substr(0,e.indexOf(o[0])),c=")"===e.charAt(e.length-1)?")":"",l=-1!==e.indexOf(" ")?" ":",",u=o.length,d=u>0?o[0].replace(w,""):"";return u?r=t?function(e){var t,p,h,f;if("number"==typeof e)e+=d;else if(n&&N.test(e)){for(f=e.replace(N,"|").split("|"),h=0;h<f.length;h++)f[h]=r(f[h]);return f.join(",")}if(t=(e.match(ge)||[a])[0],h=(p=e.split(t).join("").match(b)||[]).length,u>h--)for(;++h<u;)p[h]=i?p[(h-1)/2|0]:o[h];return s+p.join(l)+l+t+c+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,p;if("number"==typeof e)e+=d;else if(n&&N.test(e)){for(a=e.replace(N,"|").split("|"),p=0;p<a.length;p++)a[p]=r(a[p]);return a.join(",")}if(p=(t=e.match(b)||[]).length,u>p--)for(;++p<u;)t[p]=i?t[(p-1)/2|0]:o[p];return s+t.join(l)+c}:function(e){return e}},_e=function(e){return e=e.split(","),function(t,i,n,r,a,o,s){var c,l=(i+"").split(" ");for(s={},c=0;4>c;c++)s[e[c]]=l[c]=l[c]||l[(c-1)/2>>0];return r.parse(t,s,a,o)}},we=(z._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,a,o=this.data,s=o.proxy,c=o.firstMPT;c;)t=s[c.v],c.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),c.t[c.p]=t,c=c._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(c=o.firstMPT,a=1===e?"e":"b";c;){if((i=c.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[a]=r}}else i[a]=i.s+i.xs0;c=c._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),Se=(z._parseToProxy=function(e,t,i,n,r,a){var o,s,c,l,u,d=n,p={},h={},f=i._transform,m=H;for(i._transform=null,H=t,n=u=i.parse(e,t,n,r),H=m,a&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(h[s=n.p]=n.s+n.c,p[s]=n.s,a||(l=new we(n,"s",s,l,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)c="xn"+o,h[s=n.p+"_"+c]=n.data[c],p[s]=n[c],a||(l=new we(n,c,s,l,n.rxp[c]));n=n._next}return{proxy:p,end:h,firstMPT:l,pt:u}},z.CSSPropTween=function(e,t,n,r,a,o,c,l,u,d,p){this.t=e,this.p=t,this.s=n,this.c=r,this.n=c||t,e instanceof Se||s.push(this.n),this.r=l,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===d?n:d,this.e=void 0===p?n+r:p,a&&(this._next=a,a._prev=this)}),be=function(e,t,i,n,r,a){var o=new Se(e,t,i,n-i,r,-1,a);return o.b=i,o.e=o.xs0=n,o},Ie=c.parseComplex=function(e,t,i,n,r,a,o,s,l,u){i=i||a||"","function"==typeof n&&(n=n(_,y)),o=new Se(e,t,0,0,o,u?2:1,null,!1,s,i,n),n+="",r&&ge.test(n+i)&&(c.colorStringFilter(n=[i,n]),i=n[0],n=n[1]);var d,h,f,m,v,g,b,I,E,T,k,C,x,A=i.split(", ").join(",").split(" "),R=n.split(", ").join(",").split(" "),P=A.length,L=!1!==p;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(A=A.join(" ").replace(N,", ").split(" "),R=R.join(" ").replace(N,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),R=R.join(" ").split(",").join(", ").split(" ")),P=A.length),P!==R.length&&(P=(A=(a||"").split(" ")).length),o.plugin=l,o.setRatio=u,ge.lastIndex=0,d=0;P>d;d++)if(m=A[d],v=R[d],(I=parseFloat(m))||0===I)o.appendXtra("",I,ue(v,I),v.replace(S,""),L&&-1!==v.indexOf("px"),!0);else if(r&&ge.test(m))C=")"+((C=v.indexOf(")")+1)?v.substr(C):""),x=-1!==v.indexOf("hsl")&&$,T=v,m=me(m,x),v=me(v,x),(E=m.length+v.length>6)&&!$&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(R[d]).join("transparent")):($||(E=!1),x?o.appendXtra(T.substr(0,T.indexOf("hsl"))+(E?"hsla(":"hsl("),m[0],ue(v[0],m[0]),",",!1,!0).appendXtra("",m[1],ue(v[1],m[1]),"%,",!1).appendXtra("",m[2],ue(v[2],m[2]),E?"%,":"%"+C,!1):o.appendXtra(T.substr(0,T.indexOf("rgb"))+(E?"rgba(":"rgb("),m[0],v[0]-m[0],",",!0,!0).appendXtra("",m[1],v[1]-m[1],",",!0).appendXtra("",m[2],v[2]-m[2],E?",":C,!0),E&&(m=m.length<4?1:m[3],o.appendXtra("",m,(v.length<4?1:v[3])-m,C,!1))),ge.lastIndex=0;else if(g=m.match(w)){if(!(b=v.match(S))||b.length!==g.length)return o;for(f=0,h=0;h<g.length;h++)k=g[h],T=m.indexOf(k,f),o.appendXtra(m.substr(f,T-f),Number(k),ue(b[h],k),"",L&&"px"===m.substr(T+k.length,2),0===h),f=T+k.length;o["xs"+o.l]+=m.substr(f)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+v:v;if(-1!==n.indexOf("=")&&o.data){for(C=o.xs0+o.data.s,d=1;d<o.l;d++)C+=o["xs"+d]+o.data["xn"+d];o.e=C+o["xs"+d]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},Ee=9;for((d=Se.prototype).l=d.pr=0;--Ee>0;)d["xn"+Ee]=0,d["xs"+Ee]="";d.xs0="",d._next=d._prev=d.xfirst=d.data=d.plugin=d.setRatio=d.rxp=null,d.appendXtra=function(e,t,i,n,r,a){var o=this,s=o.l;return o["xs"+s]+=a&&(s||o["xs"+s])?" "+e:e||"",i||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",s>0?(o.data["xn"+s]=t+i,o.rxp["xn"+s]=r,o["xn"+s]=t,o.plugin||(o.xfirst=new Se(o,"xn"+s,t,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=r,o)):(o["xs"+s]+=t+(n||""),o)};var Te=function(e,t){t=t||{},this.p=t.prefix&&Q(e)||e,u[e]=u[this.p]=this,this.format=t.formatter||ye(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ke=z._registerComplexSpecialProp=function(e,t,i){"object"!=r(t)&&(t={parser:i});var n,a=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;n<a.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,new Te(a[n],t)},Ce=z._registerPluginProp=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ke(e,{parser:function(e,i,n,r,a,o,s){var c=l.com.greensock.plugins[t];return c?(c._cssRegister(),u[n].parse(e,i,n,r,a,o,s)):(K("Error: "+t+" js file not loaded."),a)}})}};(d=Te.prototype).parseComplex=function(e,t,i,n,r,a){var o,s,c,l,u,d,p=this.keyword;if(this.multi&&(N.test(i)||N.test(t)?(s=t.replace(N,"|").split("|"),c=i.replace(N,"|").split("|")):p&&(s=[t],c=[i])),c){for(l=c.length>s.length?c.length:s.length,o=0;l>o;o++)t=s[o]=s[o]||this.dflt,i=c[o]=c[o]||this.dflt,p&&((u=t.indexOf(p))!==(d=i.indexOf(p))&&(-1===d?s[o]=s[o].split(p).join(""):-1===u&&(s[o]+=" "+p)));t=s.join(", "),i=c.join(", ")}return Ie(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,a)},d.parse=function(e,t,i,n,r,a,s){return this.parseComplex(e.style,this.format(te(e,this.p,o,!1,this.dflt)),this.format(t),r,a)},c.registerSpecialProp=function(e,t,i){ke(e,{parser:function(e,n,r,a,o,s,c){var l=new Se(e,r,0,0,o,2,r,!1,i);return l.plugin=s,l.setRatio=t(e,n,a._tween,r),l},priority:i})},c.useSVGTransformAttr=!0;var xe,Ae="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Re=Q("transform"),Pe=Z+"transform",Le=Q("transformOrigin"),Me=null!==Q("perspective"),De=z.Transform=function(){this.perspective=parseFloat(c.defaultTransformPerspective)||0,this.force3D=!(!1===c.defaultForce3D||!Me)&&(c.defaultForce3D||"auto")},Be=a.SVGElement,Ne=function(e,t,i){var n,r=V.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(a,"$1-$2").toLowerCase(),i[n]);return t.appendChild(r),r},Ue=V.documentElement||{},Fe=function(){var e,t,i,n=g||/Android/i.test(Y)&&!a.chrome;return V.createElementNS&&!n&&(e=Ne("svg",Ue),i=(t=Ne("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[Le]="50% 50%",t.style[Re]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(m&&Me),Ue.removeChild(e)),n}(),Oe=function(e,t,i,n,r,a){var o,s,l,u,d,p,h,f,m,v,g,y,_,w,S=e._gsTransform,b=qe(e,!0);S&&(_=S.xOrigin,w=S.yOrigin),(!n||(o=n.split(" ")).length<2)&&(0===(h=e.getBBox()).x&&0===h.y&&h.width+h.height===0&&(h={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),o=[(-1!==(t=le(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),i.xOrigin=u=parseFloat(o[0]),i.yOrigin=d=parseFloat(o[1]),n&&b!==We&&(p=b[0],h=b[1],f=b[2],m=b[3],v=b[4],g=b[5],(y=p*m-h*f)&&(s=u*(m/y)+d*(-f/y)+(f*g-m*v)/y,l=u*(-h/y)+d*(p/y)-(p*g-h*v)/y,u=i.xOrigin=o[0]=s,d=i.yOrigin=o[1]=l)),S&&(a&&(i.xOffset=S.xOffset,i.yOffset=S.yOffset,S=i),r||!1!==r&&!1!==c.defaultSmoothOrigin?(s=u-_,l=d-w,S.xOffset+=s*b[0]+l*b[2]-s,S.yOffset+=s*b[1]+l*b[3]-l):S.xOffset=S.yOffset=0),a||e.setAttribute("data-svg-origin",o.join(" "))},He=function e(t){var i,n=W("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(Ue.appendChild(n),n.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=e}catch(e){}else this._originalGetBBox&&(i=this._originalGetBBox());return a?r.insertBefore(this,a):r.appendChild(this),Ue.removeChild(n),this.style.cssText=o,i},Ge=function(e){try{return e.getBBox()}catch(t){return He.call(e,!0)}},Ve=function(e){return!(!Be||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Ge(e))},We=[1,0,0,1,0,0],qe=function(e,t){var i,n,r,a,o,s,c=e._gsTransform||new De,l=e.style;if(Re?n=te(e,Pe,null,!0):e.currentStyle&&(n=(n=e.currentStyle.filter.match(D))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),c.x||0,c.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Re||!(s=!ee(e)||"none"===ee(e).display)&&e.parentNode||(s&&(a=l.display,l.display="block"),e.parentNode||(o=1,Ue.appendChild(e)),i=!(n=te(e,Pe,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,a?l.display=a:s&&Je(l,"display"),o&&Ue.removeChild(e)),(c.svg||e.getCTM&&Ve(e))&&(i&&-1!==(l[Re]+"").indexOf("matrix")&&(n=l[Re],i=0),r=e.getAttribute("transform"),i&&r&&(n="matrix("+(r=e.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return We;for(r=(n||"").match(w)||[],Ee=r.length;--Ee>-1;)a=Number(r[Ee]),r[Ee]=(o=a-(a|=0))?(1e5*o+(0>o?-.5:.5)|0)/1e5+a:a;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},je=z.getTransform=function(e,i,n,r){if(e._gsTransform&&n&&!r)return e._gsTransform;var a,o,s,l,u,d,p=n&&e._gsTransform||new De,h=p.scaleX<0,f=2e-5,m=1e5,v=Me&&(parseFloat(te(e,Le,i,!1,"0 0 0").split(" ")[2])||p.zOrigin)||0,g=parseFloat(c.defaultTransformPerspective)||0;if(p.svg=!(!e.getCTM||!Ve(e)),p.svg&&(Oe(e,te(e,Le,i,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),xe=c.useSVGTransformAttr||Fe),(a=qe(e))!==We){if(16===a.length){var y,_,w,S,b,I=a[0],E=a[1],T=a[2],k=a[3],C=a[4],x=a[5],A=a[6],R=a[7],P=a[8],L=a[9],M=a[10],D=a[12],B=a[13],N=a[14],U=a[11],F=Math.atan2(A,M);p.zOrigin&&(D=P*(N=-p.zOrigin)-a[12],B=L*N-a[13],N=M*N+p.zOrigin-a[14]),p.rotationX=F*O,F&&(y=C*(S=Math.cos(-F))+P*(b=Math.sin(-F)),_=x*S+L*b,w=A*S+M*b,P=C*-b+P*S,L=x*-b+L*S,M=A*-b+M*S,U=R*-b+U*S,C=y,x=_,A=w),F=Math.atan2(-T,M),p.rotationY=F*O,F&&(_=E*(S=Math.cos(-F))-L*(b=Math.sin(-F)),w=T*S-M*b,L=E*b+L*S,M=T*b+M*S,U=k*b+U*S,I=y=I*S-P*b,E=_,T=w),F=Math.atan2(E,I),p.rotation=F*O,F&&(y=I*(S=Math.cos(F))+E*(b=Math.sin(F)),_=C*S+x*b,w=P*S+L*b,E=E*S-I*b,x=x*S-C*b,L=L*S-P*b,I=y,C=_,P=w),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY=180-p.rotationY),F=Math.atan2(C,x),p.scaleX=(Math.sqrt(I*I+E*E+T*T)*m+.5|0)/m,p.scaleY=(Math.sqrt(x*x+A*A)*m+.5|0)/m,p.scaleZ=(Math.sqrt(P*P+L*L+M*M)*m+.5|0)/m,I/=p.scaleX,C/=p.scaleY,E/=p.scaleX,x/=p.scaleY,Math.abs(F)>f?(p.skewX=F*O,C=0,"simple"!==p.skewType&&(p.scaleY*=1/Math.cos(F))):p.skewX=0,p.perspective=U?1/(0>U?-U:U):0,p.x=D,p.y=B,p.z=N,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*I-p.yOrigin*C),p.y-=p.yOrigin-(p.yOrigin*E-p.xOrigin*x))}else if(!Me||r||!a.length||p.x!==a[4]||p.y!==a[5]||!p.rotationX&&!p.rotationY){var H=a.length>=6,G=H?a[0]:1,V=a[1]||0,W=a[2]||0,q=H?a[3]:1;p.x=a[4]||0,p.y=a[5]||0,s=Math.sqrt(G*G+V*V),l=Math.sqrt(q*q+W*W),u=G||V?Math.atan2(V,G)*O:p.rotation||0,d=W||q?Math.atan2(W,q)*O+u:p.skewX||0,p.scaleX=s,p.scaleY=l,p.rotation=u,p.skewX=d,Me&&(p.rotationX=p.rotationY=p.z=0,p.perspective=g,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*G+p.yOrigin*W),p.y-=p.yOrigin-(p.xOrigin*V+p.yOrigin*q))}for(o in Math.abs(p.skewX)>90&&Math.abs(p.skewX)<270&&(h?(p.scaleX*=-1,p.skewX+=p.rotation<=0?180:-180,p.rotation+=p.rotation<=0?180:-180):(p.scaleY*=-1,p.skewX+=p.skewX<=0?180:-180)),p.zOrigin=v,p)p[o]<f&&p[o]>-f&&(p[o]=0)}return n&&(e._gsTransform=p,p.svg&&(xe&&e.style[Re]?t.delayedCall(.001,(function(){Je(e.style,Re)})):!xe&&e.getAttribute("transform")&&t.delayedCall(.001,(function(){e.removeAttribute("transform")})))),p},ze=function(e){var t,i,n=this.data,r=-n.rotation*F,a=r+n.skewX*F,o=1e5,s=(Math.cos(r)*n.scaleX*o|0)/o,c=(Math.sin(r)*n.scaleX*o|0)/o,l=(Math.sin(a)*-n.scaleY*o|0)/o,u=(Math.cos(a)*n.scaleY*o|0)/o,d=this.t.style,p=this.t.currentStyle;if(p){i=c,c=-l,l=-i,t=p.filter,d.filter="";var h,f,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==p.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+c+", M21="+l+", M22="+u,w=n.x+m*n.xPercent/100,S=n.y+v*n.yPercent/100;if(null!=n.ox&&(w+=(h=(n.oxp?m*n.ox*.01:n.ox)-m/2)-(h*s+(f=(n.oyp?v*n.oy*.01:n.oy)-v/2)*c),S+=f-(h*l+f*u)),y?_+=", Dx="+((h=m/2)-(h*s+(f=v/2)*c)+w)+", Dy="+(f-(h*l+f*u)+S)+")":_+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(B,_):d.filter=_+" "+t,(0===e||1===e)&&1===s&&0===c&&0===l&&1===u&&(y&&-1===_.indexOf("Dx=0, Dy=0")||T.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!y){var b,I,k,C=8>g?1:-1;for(h=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>s?-s:s)*m+(0>c?-c:c)*v))/2+w),n.ieOffsetY=Math.round((v-((0>u?-u:u)*v+(0>l?-l:l)*m))/2+S),Ee=0;4>Ee;Ee++)k=(i=-1!==(b=p[I=se[Ee]]).indexOf("px")?parseFloat(b):ie(this.t,I,parseFloat(b),b.replace(E,""))||0)!==n[I]?2>Ee?-n.ieOffsetX:-n.ieOffsetY:2>Ee?h-n.ieOffsetX:f-n.ieOffsetY,d[I]=(n[I]=Math.round(i-k*(0===Ee||2===Ee?1:C)))+"px"}}},Ye=z.set3DTransformRatio=z.setTransformRatio=function(e){var t,i,n,r,a,o,s,c,l,u,d,p,h,f,v,g,y,_,w,S,b,I,E,T=this.data,k=this.t.style,C=T.rotation,x=T.rotationX,A=T.rotationY,R=T.scaleX,P=T.scaleY,L=T.scaleZ,M=T.x,D=T.y,B=T.z,N=T.svg,U=T.perspective,O=T.force3D,H=T.skewY,G=T.skewX;if(H&&(G+=H,C+=H),!((1!==e&&0!==e||"auto"!==O||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&O||B||U||A||x||1!==L)||xe&&N||!Me)C||G||N?(C*=F,I=G*F,E=1e5,i=Math.cos(C)*R,a=Math.sin(C)*R,n=Math.sin(C-I)*-P,o=Math.cos(C-I)*P,I&&"simple"===T.skewType&&(t=Math.tan(I-H*F),n*=t=Math.sqrt(1+t*t),o*=t,H&&(t=Math.tan(H*F),i*=t=Math.sqrt(1+t*t),a*=t)),N&&(M+=T.xOrigin-(T.xOrigin*i+T.yOrigin*n)+T.xOffset,D+=T.yOrigin-(T.xOrigin*a+T.yOrigin*o)+T.yOffset,xe&&(T.xPercent||T.yPercent)&&(v=this.t.getBBox(),M+=.01*T.xPercent*v.width,D+=.01*T.yPercent*v.height),(v=1e-6)>M&&M>-v&&(M=0),v>D&&D>-v&&(D=0)),w=(i*E|0)/E+","+(a*E|0)/E+","+(n*E|0)/E+","+(o*E|0)/E+","+M+","+D+")",N&&xe?this.t.setAttribute("transform","matrix("+w):k[Re]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+w):k[Re]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+R+",0,0,"+P+","+M+","+D+")";else{if(m&&((v=1e-4)>R&&R>-v&&(R=L=2e-5),v>P&&P>-v&&(P=L=2e-5),!U||T.z||T.rotationX||T.rotationY||(U=0)),C||G)C*=F,g=i=Math.cos(C),y=a=Math.sin(C),G&&(C-=G*F,g=Math.cos(C),y=Math.sin(C),"simple"===T.skewType&&(t=Math.tan((G-H)*F),g*=t=Math.sqrt(1+t*t),y*=t,T.skewY&&(t=Math.tan(H*F),i*=t=Math.sqrt(1+t*t),a*=t))),n=-y,o=g;else{if(!(A||x||1!==L||U||N))return void(k[Re]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+D+"px,"+B+"px)"+(1!==R||1!==P?" scale("+R+","+P+")":""));i=o=1,n=a=0}u=1,r=s=c=l=d=p=0,h=U?-1/U:0,f=T.zOrigin,v=1e-6,S=",",b="0",(C=A*F)&&(g=Math.cos(C),c=-(y=Math.sin(C)),d=h*-y,r=i*y,s=a*y,u=g,h*=g,i*=g,a*=g),(C=x*F)&&(t=n*(g=Math.cos(C))+r*(y=Math.sin(C)),_=o*g+s*y,l=u*y,p=h*y,r=n*-y+r*g,s=o*-y+s*g,u*=g,h*=g,n=t,o=_),1!==L&&(r*=L,s*=L,u*=L,h*=L),1!==P&&(n*=P,o*=P,l*=P,p*=P),1!==R&&(i*=R,a*=R,c*=R,d*=R),(f||N)&&(f&&(M+=r*-f,D+=s*-f,B+=u*-f+f),N&&(M+=T.xOrigin-(T.xOrigin*i+T.yOrigin*n)+T.xOffset,D+=T.yOrigin-(T.xOrigin*a+T.yOrigin*o)+T.yOffset),v>M&&M>-v&&(M=b),v>D&&D>-v&&(D=b),v>B&&B>-v&&(B=0)),w=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",w+=(v>i&&i>-v?b:i)+S+(v>a&&a>-v?b:a)+S+(v>c&&c>-v?b:c),w+=S+(v>d&&d>-v?b:d)+S+(v>n&&n>-v?b:n)+S+(v>o&&o>-v?b:o),x||A||1!==L?(w+=S+(v>l&&l>-v?b:l)+S+(v>p&&p>-v?b:p)+S+(v>r&&r>-v?b:r),w+=S+(v>s&&s>-v?b:s)+S+(v>u&&u>-v?b:u)+S+(v>h&&h>-v?b:h)+S):w+=",0,0,0,0,1,0,",w+=M+S+D+S+B+S+(U?1+-B/U:1)+")",k[Re]=w}};(d=De.prototype).x=d.y=d.z=d.skewX=d.skewY=d.rotation=d.rotationX=d.rotationY=d.zOrigin=d.xPercent=d.yPercent=d.xOffset=d.yOffset=0,d.scaleX=d.scaleY=d.scaleZ=1,ke("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,a,s,l){if(n._lastParsedTransform===l)return a;n._lastParsedTransform=l;var u,d=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(u=l[i],l[i]=t),d&&(l.scale=d(_,e));var p,h,f,m,v,g,w,S,b,I=e._gsTransform,E=e.style,T=Ae.length,k=l,C={},x="transformOrigin",A=je(e,o,!0,k.parseTransform),R=k.transform&&("function"==typeof k.transform?k.transform(_,y):k.transform);if(A.skewType=k.skewType||A.skewType||c.defaultSkewType,n._transform=A,R&&"string"==typeof R&&Re)(h=q.style)[Re]=R,h.display="block",h.position="absolute",V.body.appendChild(q),p=je(q,null,!1),"simple"===A.skewType&&(p.scaleY*=Math.cos(p.skewX*F)),A.svg&&(g=A.xOrigin,w=A.yOrigin,p.x-=A.xOffset,p.y-=A.yOffset,(k.transformOrigin||k.svgOrigin)&&(R={},Oe(e,le(k.transformOrigin),R,k.svgOrigin,k.smoothOrigin,!0),g=R.xOrigin,w=R.yOrigin,p.x-=R.xOffset-A.xOffset,p.y-=R.yOffset-A.yOffset),(g||w)&&(S=qe(q,!0),p.x-=g-(g*S[0]+w*S[2]),p.y-=w-(g*S[1]+w*S[3]))),V.body.removeChild(q),p.perspective||(p.perspective=A.perspective),null!=k.xPercent&&(p.xPercent=de(k.xPercent,A.xPercent)),null!=k.yPercent&&(p.yPercent=de(k.yPercent,A.yPercent));else if("object"==r(k)){if(p={scaleX:de(null!=k.scaleX?k.scaleX:k.scale,A.scaleX),scaleY:de(null!=k.scaleY?k.scaleY:k.scale,A.scaleY),scaleZ:de(k.scaleZ,A.scaleZ),x:de(k.x,A.x),y:de(k.y,A.y),z:de(k.z,A.z),xPercent:de(k.xPercent,A.xPercent),yPercent:de(k.yPercent,A.yPercent),perspective:de(k.transformPerspective,A.perspective)},null!=(v=k.directionalRotation))if("object"==r(v))for(h in v)k[h]=v[h];else k.rotation=v;"string"==typeof k.x&&-1!==k.x.indexOf("%")&&(p.x=0,p.xPercent=de(k.x,A.xPercent)),"string"==typeof k.y&&-1!==k.y.indexOf("%")&&(p.y=0,p.yPercent=de(k.y,A.yPercent)),p.rotation=pe("rotation"in k?k.rotation:"shortRotation"in k?k.shortRotation+"_short":"rotationZ"in k?k.rotationZ:A.rotation,A.rotation,"rotation",C),Me&&(p.rotationX=pe("rotationX"in k?k.rotationX:"shortRotationX"in k?k.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",C),p.rotationY=pe("rotationY"in k?k.rotationY:"shortRotationY"in k?k.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",C)),p.skewX=pe(k.skewX,A.skewX),p.skewY=pe(k.skewY,A.skewY)}for(Me&&null!=k.force3D&&(A.force3D=k.force3D,m=!0),(f=A.force3D||A.z||A.rotationX||A.rotationY||p.z||p.rotationX||p.rotationY||p.perspective)||null==k.scale||(p.scaleZ=1);--T>-1;)((R=p[b=Ae[T]]-A[b])>1e-6||-1e-6>R||null!=k[b]||null!=H[b])&&(m=!0,a=new Se(A,b,A[b],R,a),b in C&&(a.e=C[b]),a.xs0=0,a.plugin=s,n._overwriteProps.push(a.n));return R=k.transformOrigin,A.svg&&(R||k.svgOrigin)&&(g=A.xOffset,w=A.yOffset,Oe(e,le(R),p,k.svgOrigin,k.smoothOrigin),a=be(A,"xOrigin",(I?A:p).xOrigin,p.xOrigin,a,x),a=be(A,"yOrigin",(I?A:p).yOrigin,p.yOrigin,a,x),(g!==A.xOffset||w!==A.yOffset)&&(a=be(A,"xOffset",I?g:A.xOffset,A.xOffset,a,x),a=be(A,"yOffset",I?w:A.yOffset,A.yOffset,a,x)),R="0px 0px"),(R||Me&&f&&A.zOrigin)&&(Re?(m=!0,b=Le,R=(R||te(e,b,o,!1,"50% 50%"))+"",(a=new Se(E,b,0,0,a,-1,x)).b=E[b],a.plugin=s,Me?(h=A.zOrigin,R=R.split(" "),A.zOrigin=(R.length>2&&(0===h||"0px"!==R[2])?parseFloat(R[2]):h)||0,a.xs0=a.e=R[0]+" "+(R[1]||"50%")+" 0px",(a=new Se(A,"zOrigin",0,0,a,-1,a.n)).b=h,a.xs0=a.e=A.zOrigin):a.xs0=a.e=R):le(R+"",A)),m&&(n._transformType=A.svg&&xe||!f&&3!==this._transformType?2:3),u&&(l[i]=u),d&&(l.scale=d),a},prefix:!0}),ke("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ke("borderRadius",{defaultValue:"0px",parser:function(e,t,i,r,a,s){t=this.format(t);var c,l,u,d,p,h,f,m,v,g,y,_,w,S,b,I,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),c=t.split(" "),l=0;l<E.length;l++)this.p.indexOf("border")&&(E[l]=Q(E[l])),-1!==(p=d=te(e,E[l],o,!1,"0px")).indexOf(" ")&&(d=p.split(" "),p=d[0],d=d[1]),h=u=c[l],f=parseFloat(p),_=p.substr((f+"").length),(w="="===h.charAt(1))?(m=parseInt(h.charAt(0)+"1",10),h=h.substr(2),m*=parseFloat(h),y=h.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(h),y=h.substr((m+"").length)),""===y&&(y=n[i]||_),y!==_&&(S=ie(e,"borderLeft",f,_),b=ie(e,"borderTop",f,_),"%"===y?(p=S/v*100+"%",d=b/g*100+"%"):"em"===y?(p=S/(I=ie(e,"borderLeft",1,"em"))+"em",d=b/I+"em"):(p=S+"px",d=b+"px"),w&&(h=parseFloat(p)+m+y,u=parseFloat(d)+m+y)),a=Ie(T,E[l],p+" "+d,h+" "+u,!1,"0px",a);return a},prefix:!0,formatter:ye("0px 0px 0px 0px",!1,!0)}),ke("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,n,r,a){return Ie(e.style,i,this.format(te(e,i,o,!1,"0px 0px")),this.format(t),!1,"0px",r)},prefix:!0,formatter:ye("0px 0px",!1,!0)}),ke("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,r,a){var s,c,l,u,d,p,h="background-position",f=o||ee(e,null),m=this.format((f?g?f.getPropertyValue(h+"-x")+" "+f.getPropertyValue(h+"-y"):f.getPropertyValue(h):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&((p=te(e,"backgroundImage").replace(P,""))&&"none"!==p)){for(s=m.split(" "),c=v.split(" "),j.setAttribute("src",p),l=2;--l>-1;)(u=-1!==(m=s[l]).indexOf("%"))!==(-1!==c[l].indexOf("%"))&&(d=0===l?e.offsetWidth-j.width:e.offsetHeight-j.height,s[l]=u?parseFloat(m)/100*d+"px":parseFloat(m)/d*100+"%");m=s.join(" ")}return this.parseComplex(e.style,m,v,r,a)},formatter:le}),ke("backgroundSize",{defaultValue:"0 0",formatter:function(e){return le(-1===(e+="").indexOf(" ")?e+" "+e:e)}}),ke("perspective",{defaultValue:"0px",prefix:!0}),ke("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ke("transformStyle",{prefix:!0}),ke("backfaceVisibility",{prefix:!0}),ke("userSelect",{prefix:!0}),ke("margin",{parser:_e("marginTop,marginRight,marginBottom,marginLeft")}),ke("padding",{parser:_e("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ke("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,r,a){var s,c,l;return 9>g?(c=e.currentStyle,l=8>g?" ":",",s="rect("+c.clipTop+l+c.clipRight+l+c.clipBottom+l+c.clipLeft+")",t=this.format(t).split(",").join(l)):(s=this.format(te(e,this.p,o,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,r,a)}}),ke("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ke("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),ke("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,r,a){var s=te(e,"borderTopWidth",o,!1,"0px"),c=this.format(t).split(" "),l=c[0].replace(E,"");return"px"!==l&&(s=parseFloat(s)/ie(e,"borderTopWidth",1,l)+l),this.parseComplex(e.style,this.format(s+" "+te(e,"borderTopStyle",o,!1,"solid")+" "+te(e,"borderTopColor",o,!1,"#000")),c.join(" "),r,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ge)||["#000"])[0]}}),ke("borderWidth",{parser:_e("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ke("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r,a){var o=e.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new Se(o,s,0,0,r,-1,i,!1,0,o[s],t)}});var $e=function(e){var t,i=this.t,n=i.filter||te(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!te(this.data,"filter")):(i.filter=n.replace(C,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(T,"opacity="+r))};ke("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,r,a){var s=parseFloat(te(e,"opacity",o,!1,"1")),c=e.style,l="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),l&&1===s&&"hidden"===te(e,"visibility",o)&&0!==t&&(s=0),$?r=new Se(c,"opacity",s,t-s,r):((r=new Se(c,"opacity",100*s,100*(t-s),r)).xn1=l?1:0,c.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=a,r.setRatio=$e),l&&((r=new Se(c,"visibility",0,0,r,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Je=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(A,"-$1").toLowerCase())):e.removeAttribute(t))},Ke=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Je(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ke("className",{parser:function(e,t,n,r,a,s,c){var l,u,d,p,h,f=e.getAttribute("class")||"",m=e.style.cssText;if((a=r._classNamePT=new Se(e,n,0,0,a,2)).setRatio=Ke,a.pr=-11,i=!0,a.b=f,u=re(e,o),d=e._gsClassPT){for(p={},h=d.data;h;)p[h.p]=1,h=h._next;d.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:f.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),l=ae(e,u,re(e),c,p),e.setAttribute("class",f),a.data=l.firstMPT,e.style.cssText=m,a.xfirst=r.parse(e,l.difs,a,s)}});var Ze=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,r,a,o=this.t.style,s=u.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(n=(t=this.e.split(" ").join("").split(",")).length;--n>-1;)i=t[n],u[i]&&(u[i].parse===s?r=!0:i="transformOrigin"===i?Le:u[i].p),Je(o,i);r&&(Je(o,Re),(a=this.t._gsTransform)&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ke("clearProps",{parser:function(e,t,n,r,a){return(a=new Se(e,n,0,0,a,2)).setRatio=Ze,a.e=t,a.pr=-10,a.data=r._tween,i=!0,a}}),d="bezier,throwProps,physicsProps,physics2D".split(","),Ee=d.length;Ee--;)Ce(d[Ee]);(d=c.prototype)._firstPT=d._lastParsedTransform=d._transform=null,d._onInitTween=function(e,t,r,a){if(!e.nodeType)return!1;this._target=y=e,this._tween=r,this._vars=t,_=a,p=t.autoRound,i=!1,n=t.suffixMap||c.suffixMap,o=ee(e,""),s=this._overwriteProps;var l,d,m,g,w,S,b,I,E,T=e.style;if(h&&""===T.zIndex&&(("auto"===(l=te(e,"zIndex",o))||""===l)&&this._addLazySet(T,"zIndex",0)),"string"==typeof t&&(g=T.cssText,l=re(e,o),T.cssText=g+";"+t,l=ae(e,l,re(e)).difs,!$&&k.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,T.cssText=g),t.className?this._firstPT=d=u.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(E=3===this._transformType,Re?f&&(h=!0,""===T.zIndex&&(("auto"===(b=te(e,"zIndex",o))||""===b)&&this._addLazySet(T,"zIndex",0)),v&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):T.zoom=1,m=d;m&&m._next;)m=m._next;I=new Se(e,"transform",0,0,null,2),this._linkCSSP(I,null,m),I.setRatio=Re?Ye:ze,I.data=this._transform||je(e,o,!0),I.tween=r,I.pr=-1,s.pop()}if(i){for(;d;){for(S=d._next,m=g;m&&m.pr>d.pr;)m=m._next;(d._prev=m?m._prev:w)?d._prev._next=d:g=d,(d._next=m)?m._prev=d:w=d,d=S}this._firstPT=g}return!0},d.parse=function(e,t,i,r){var a,s,c,l,d,h,f,m,v,g,w=e.style;for(a in t){if("function"==typeof(h=t[a])&&(h=h(_,y)),s=u[a])i=s.parse(e,h,a,this,i,r,t);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,e.style,"setProperty",ee(e).getPropertyValue(a)+"",h+"",a,!1,a);continue}d=te(e,a,o)+"",v="string"==typeof h,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||v&&x.test(h)?(v||(h=((h=me(h)).length>3?"rgba(":"rgb(")+h.join(",")+")"),i=Ie(w,a,d,h,!0,"transparent",i,0,r)):v&&U.test(h)?i=Ie(w,a,d,h,!0,null,i,0,r):(f=(c=parseFloat(d))||0===c?d.substr((c+"").length):"",(""===d||"auto"===d)&&("width"===a||"height"===a?(c=ce(e,a,o),f="px"):"left"===a||"top"===a?(c=ne(e,a,o),f="px"):(c="opacity"!==a?0:1,f="")),(g=v&&"="===h.charAt(1))?(l=parseInt(h.charAt(0)+"1",10),h=h.substr(2),l*=parseFloat(h),m=h.replace(E,"")):(l=parseFloat(h),m=v?h.replace(E,""):""),""===m&&(m=a in n?n[a]:f),h=l||0===l?(g?l+c:l)+m:t[a],f!==m&&(""!==m||"lineHeight"===a)&&(l||0===l)&&c&&(c=ie(e,a,c,f),"%"===m?(c/=ie(e,a,100,"%")/100,!0!==t.strictUnits&&(d=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=ie(e,a,1,m):"px"!==m&&(l=ie(e,a,l,m),m="px"),g&&(l||0===l)&&(h=l+c+m)),g&&(l+=c),!c&&0!==c||!l&&0!==l?void 0!==w[a]&&(h||h+""!="NaN"&&null!=h)?(i=new Se(w,a,l||c||0,0,i,-1,a,!1,0,d,h)).xs0="none"!==h||"display"!==a&&-1===a.indexOf("Style")?h:d:K("invalid "+a+" tween value: "+t[a]):(i=new Se(w,a,c,l-c,i,0,a,!1!==p&&("px"===m||"zIndex"===a),0,d,h)).xs0=m)}r&&i&&!i.plugin&&(i.plugin=r)}return i},d.setRatio=function(e){var t,i,n,r=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+t+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},d._enableTransforms=function(e){this._transform=this._transform||je(this._target,o,!0),this._transformType=this._transform.svg&&xe||!e&&3!==this._transformType?2:3};var Xe=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};d._addLazySet=function(e,t,i){var n=this._firstPT=new Se(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=Xe,n.data=this},d._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},d._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},d._kill=function(t){var i,n,r,a=t;if(t.autoAlpha||t.alpha){for(n in a={},t)a[n]=t[n];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(t.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(t),n=i.plugin),i=i._next;return e.prototype._kill.call(this,a)};var Qe=function e(t,i,n){var r,a,o,s;if(t.slice)for(a=t.length;--a>-1;)e(t[a],i,n);else for(a=(r=t.childNodes).length;--a>-1;)s=(o=r[a]).type,o.style&&(i.push(re(o)),n&&n.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||e(o,i,n)};return c.cascadeTo=function(e,i,n){var r,a,o,s,c=t.to(e,i,n),l=[c],u=[],d=[],p=[],h=t._internals.reservedProps;for(e=c._targets||c.target,Qe(e,u,p),c.render(i,!0,!0),Qe(e,d),c.render(0,!0,!0),c._enabled(!0),r=p.length;--r>-1;)if((a=ae(p[r],u[r],d[r])).firstMPT){for(o in a=a.difs,n)h[o]&&(a[o]=n[o]);for(o in s={},a)s[o]=u[r][o];l.push(t.fromTo(p[r],i,s,a))}return l},e.activate([c]),c}),!0),e=a._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=Math.round),e=e._next},(i=e.prototype)._onInitAllProps=function(){for(var e,i,n,r=this._tween,a=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),o=a.length,s={},c=r._propLookup.roundProps;--o>-1;)s[a[o]]=Math.round;for(o=a.length;--o>-1;)for(e=a[o],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(s):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[e]=c)),i=n;return!1},i._add=function(e,t,i,n){this._addTween(e,t,i,i+n,t,Math.round),this._overwriteProps.push(t)},a._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,i,n){var r,a;if("function"!=typeof e.setAttribute)return!1;for(r in t)"function"==typeof(a=t[r])&&(a=a(n,e)),this._addTween(e,"setAttribute",e.getAttribute(r)+"",a+"",r,!1,r),this._overwriteProps.push(r);return!0}}),a._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,i,n){"object"!=r(t)&&(t={rotation:t}),this.finals={};var a,o,s,c,l,u,d=!0===t.useRadians?2*Math.PI:360;for(a in t)"useRadians"!==a&&("function"==typeof(c=t[a])&&(c=c(n,e)),o=(u=(c+"").split("_"))[0],s=parseFloat("function"!=typeof e[a]?e[a]:e[a.indexOf("set")||"function"!=typeof e["get"+a.substr(3)]?a:"get"+a.substr(3)]()),l=(c=this.finals[a]="string"==typeof o&&"="===o.charAt(1)?s+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-s,u.length&&(-1!==(o=u.join("_")).indexOf("short")&&((l%=d)!==l%(d/2)&&(l=0>l?l+d:l-d)),-1!==o.indexOf("_cw")&&0>l?l=(l+9999999999*d)%d-(l/d|0)*d:-1!==o.indexOf("ccw")&&l>0&&(l=(l-9999999999*d)%d-(l/d|0)*d)),(l>1e-6||-1e-6>l)&&(this._addTween(e,a,s,s+l,a),this._overwriteProps.push(a)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],(function(e){var t,i,n,r,o=a.GreenSockGlobals||a,s=o.com.greensock,c=2*Math.PI,l=Math.PI/2,u=s._class,d=function(t,i){var n=u("easing."+t,(function(){}),!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,n},p=e.register||function(){},h=function(e,t,i,n,r){var a=u("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return p(a,e),a},f=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},m=function(t,i){var n=u("easing."+t,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e){return new n(e)},n},v=h("Back",m("BackOut",(function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1})),m("BackIn",(function(e){return e*e*((this._p1+1)*e-this._p1)})),m("BackInOut",(function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}))),g=u("easing.SlowMo",(function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i}),!0),y=g.prototype=new e;return y.constructor=g,y.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},g.ease=new g(.7,.7),y.config=g.config=function(e,t,i){return new g(e,t,i)},(y=(t=u("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0)).prototype=new e).constructor=t,y.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},y.config=t.config=function(e,i){return new t(e,i)},(y=(i=u("easing.ExpoScaleEase",(function(e,t,i){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=i}),!0)).prototype=new e).constructor=i,y.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},y.config=i.config=function(e,t,n){return new i(e,t,n)},(y=(n=u("easing.RoughEase",(function(t){for(var i,n,r,a,o,s,c=(t=t||{}).taper||"none",l=[],u=0,d=0|(t.points||20),p=d,h=!1!==t.randomize,m=!0===t.clamp,v=t.template instanceof e?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)i=h?Math.random():1/d*p,n=v?v.getRatio(i):i,"none"===c?r=g:"out"===c?r=(a=1-i)*a*g:"in"===c?r=i*i*g:.5>i?r=(a=2*i)*a*.5*g:r=(a=2*(1-i))*a*.5*g,h?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),l[u++]={x:i,y:n};for(l.sort((function(e,t){return e.x-t.x})),s=new f(1,1,null),p=d;--p>-1;)o=l[p],s=new f(o.x,o.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)}),!0)).prototype=new e).constructor=n,y.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},y.config=function(e){return new n(e)},n.ease=new n,h("Bounce",d("BounceOut",(function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375})),d("BounceIn",(function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)})),d("BounceInOut",(function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}))),h("Circ",d("CircOut",(function(e){return Math.sqrt(1-(e-=1)*e)})),d("CircIn",(function(e){return-(Math.sqrt(1-e*e)-1)})),d("CircInOut",(function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}))),h("Elastic",(r=function(t,i,n){var r=u("easing."+t,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/c*(Math.asin(1/this._p1)||0),this._p2=c/this._p2}),!0),a=r.prototype=new e;return a.constructor=r,a.getRatio=i,a.config=function(e,t){return new r(e,t)},r})("ElasticOut",(function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1}),.3),r("ElasticIn",(function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)}),.3),r("ElasticInOut",(function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1}),.45)),h("Expo",d("ExpoOut",(function(e){return 1-Math.pow(2,-10*e)})),d("ExpoIn",(function(e){return Math.pow(2,10*(e-1))-.001})),d("ExpoInOut",(function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}))),h("Sine",d("SineOut",(function(e){return Math.sin(e*l)})),d("SineIn",(function(e){return 1-Math.cos(e*l)})),d("SineInOut",(function(e){return-.5*(Math.cos(Math.PI*e)-1)}))),u("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),p(o.SlowMo,"SlowMo","ease,"),p(n,"RoughEase","ease,"),p(t,"SteppedEase","ease,"),v}),!0)})),a._gsDefine&&a._gsQueue.pop()(),function(i,a){"use strict";var o={},s=i.document,c=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!c.TweenLite){var l,u,d,p,h,f=function(e){var t,i=e.split("."),n=c;for(t=0;t<i.length;t++)n[i[t]]=n=n[i[t]]||{};return n},m=f("com.greensock"),v=1e-10,g=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},y=function(){},_=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==r(i)&&!!i.push&&e.call(i)===t)}}(),w={},S=function i(r,s,l,u){this.sc=w[r]?w[r].sc:[],w[r]=this,this.gsClass=null,this.func=l;var d=[];this.check=function(p){for(var h,m,v,g,y=s.length,_=y;--y>-1;)(h=w[s[y]]||new i(s[y],[])).gsClass?(d[y]=h.gsClass,_--):p&&h.sc.push(this);if(0===_&&l){if(v=(m=("com.greensock."+r).split(".")).pop(),g=f(m.join("."))[v]=this.gsClass=l.apply(l,d),u)if(c[v]=o[v]=g,e.exports)if(r===a)for(y in e.exports=o[a]=g,o)g[y]=o[y];else o[a]&&(o[a][v]=g);else void 0===(n=function(){return g}.apply(t,[]))||(e.exports=n);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},b=i._gsDefine=function(e,t,i,n){return new S(e,t,i,n)},I=m._class=function(e,t,i){return t=t||function(){},b(e,[],(function(){return t}),i),t};b.globals=c;var E=[0,0,1,1],T=I("easing.Ease",(function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?E.concat(t):E}),!0),k=T.map={},C=T.register=function(e,t,i,n){for(var r,a,o,s,c=t.split(","),l=c.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(a=c[l],r=n?I("easing."+a,null,!0):m.easing[a]||{},o=u.length;--o>-1;)s=u[o],k[a+"."+s]=k[s+a]=r[s]=e.getRatio?e:e[s]||new e};for((d=T.prototype)._calcEnd=!1,d.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},u=(l=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--u>-1;)d=l[u]+",Power"+u,C(new T(null,null,1,u),d,"easeOut",!0),C(new T(null,null,2,u),d,"easeIn"+(0===u?",easeNone":"")),C(new T(null,null,3,u),d,"easeInOut");k.linear=m.easing.Linear.easeIn,k.swing=m.easing.Quad.easeInOut;var x=I("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(d=x.prototype).addEventListener=function(e,t,i,n,r){r=r||0;var a,o,s=this._listeners[e],c=0;for(this!==p||h||p.wake(),null==s&&(this._listeners[e]=s=[]),o=s.length;--o>-1;)(a=s[o]).c===t&&a.s===i?s.splice(o,1):0===c&&a.pr<r&&(c=o+1);s.splice(c,0,{c:t,s:i,up:n,pr:r})},d.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},d.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for((t=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--t>-1;)(n=r[t])&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var A=i.requestAnimationFrame,R=i.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},L=P();for(u=(l=["ms","moz","webkit","o"]).length;--u>-1&&!A;)A=i[l[u]+"RequestAnimationFrame"],R=i[l[u]+"CancelAnimationFrame"]||i[l[u]+"CancelRequestAnimationFrame"];I("Ticker",(function(e,t){var i,n,r,a,o,c=this,l=P(),u=!(!1===t||!A)&&"auto",d=500,f=33,m=function e(t){var s,u,p=P()-L;p>d&&(l+=p-f),L+=p,c.time=(L-l)/1e3,s=c.time-o,(!i||s>0||!0===t)&&(c.frame++,o+=s+(s>=a?.004:a-s),u=!0),!0!==t&&(r=n(e)),u&&c.dispatchEvent("tick")};x.call(c),c.time=c.frame=0,c.tick=function(){m(!0)},c.lagSmoothing=function(e,t){return arguments.length?(d=e||1/v,void(f=Math.min(t,d,0))):1/v>d},c.sleep=function(){null!=r&&(u&&R?R(r):clearTimeout(r),n=y,r=null,c===p&&(h=!1))},c.wake=function(e){null!==r?c.sleep():e?l+=-L+(L=P()):c.frame>10&&(L=P()-d+5),n=0===i?y:u&&A?A:function(e){return setTimeout(e,1e3*(o-c.time)+1|0)},c===p&&(h=!0),m(2)},c.fps=function(e){return arguments.length?(a=1/((i=e)||60),o=this.time+a,void c.wake()):i},c.useRAF=function(e){return arguments.length?(c.sleep(),u=e,void c.fps(i)):u},c.fps(e),setTimeout((function(){"auto"===u&&c.frame<5&&"hidden"!==(s||{}).visibilityState&&c.useRAF(!1)}),1500)})),(d=m.Ticker.prototype=new m.events.EventDispatcher).constructor=m.Ticker;var M=I("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Z){h||p.wake();var i=this.vars.useFrames?K:Z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));p=M.ticker=new m.Ticker,(d=M.prototype)._dirty=d._gc=d._initted=d._paused=!1,d._totalTime=d._time=0,d._rawPrevTime=-1,d._next=d._last=d._onUpdate=d._timeline=d.timeline=null,d._paused=!1;(function e(){h&&P()-L>2e3&&("hidden"!==(s||{}).visibilityState||!p.lagSmoothing())&&p.wake();var t=setTimeout(e,2e3);t.unref&&t.unref()})(),d.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},d.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},d.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},d.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},d.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},d.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},d.render=function(e,t,i){},d.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},d.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<i+this.totalDuration()/this._timeScale-1e-7},d._enabled=function(e,t){return h||p.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},d._kill=function(e,t){return this._enabled(!1,!1)},d.kill=function(e,t){return this._kill(e,t),this},d._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},d._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},d._callback=function(e){var t=this.vars,i=t[e],n=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},d.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=_(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},d.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},d.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},d.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},d.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},d.totalTime=function(e,t,i){if(h||p.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(U.length&&Q(),this.render(e,t,!1),U.length&&Q())}return this},d.progress=d.totalProgress=function(e,t){var i=this.duration();return arguments.length?this.totalTime(i*e,t):i?this._time/i:this.ratio},d.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},d.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},d.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,i;for(e=e||v,this._timeline&&this._timeline.smoothChildTiming&&(i=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/e),this._timeScale=e,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},d.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},d.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(h||e||p.wake(),i=(t=n.rawTime())-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var D=I("core.SimpleTimeline",(function(e){M.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(d=D.prototype=new M).constructor=D,d.kill()._gc=!1,d._first=d._last=d._recent=null,d._sortChildren=!1,d.add=d.insert=function(e,t,i,n){var r,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(a=e._startTime;r&&r._startTime>a;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},d._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},d.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},d.rawTime=function(){return h||p.wake(),this._totalTime};var B=I("TweenLite",(function(e,t,n){if(M.call(this,t,n),this.render=B.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:B.selector(e)||e;var r,a,o,s=e.jquery||e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType),c=this.vars.overwrite;if(this._overwrite=c=null==c?J[B.defaultOverwrite]:"number"==typeof c?c>>0:J[c],(s||e instanceof Array||e.push&&_(e))&&"number"!=typeof e[0])for(this._targets=o=g(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(a=o[r])?"string"!=typeof a?a.length&&a!==i&&a[0]&&(a[0]===i||a[0].nodeType&&a[0].style&&!a.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(g(a))):(this._siblings[r]=ee(a,this,!1),1===c&&this._siblings[r].length>1&&ie(a,this,null,1,this._siblings[r])):"string"==typeof(a=o[r--]=B.selector(a))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=ee(e,this,!1),1===c&&this._siblings.length>1&&ie(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))}),!0),N=function(e){return e&&e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType)};(d=B.prototype=new M).constructor=B,d.kill()._gc=!1,d.ratio=0,d._firstPT=d._targets=d._overwrittenProps=d._startAt=null,d._notifyPluginsOfEnabled=d._lazy=!1,B.version="1.20.4",B.defaultEase=d._ease=new T(null,null,1,1),B.defaultOverwrite="auto",B.ticker=p,B.autoSleep=120,B.lagSmoothing=function(e,t){p.lagSmoothing(e,t)},B.selector=i.$||i.jQuery||function(e){var t=i.$||i.jQuery;return t?(B.selector=t,t(e)):void 0===s?e:s.querySelectorAll?s.querySelectorAll(e):s.getElementById("#"===e.charAt(0)?e.substr(1):e)};var U=[],F={},O=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=/[\+-]=-?[\.\d]/,G=function(e){for(var t,i=this._firstPT;i;)t=i.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:i.c*e+i.s,i.m?t=i.m(t,this._target||i.t):1e-6>t&&t>-1e-6&&!i.blob&&(t=0),i.f?i.fp?i.t[i.p](i.fp,t):i.t[i.p](t):i.t[i.p]=t,i=i._next},V=function(e,t,i,n){var r,a,o,s,c,l,u,d=[],p=0,h="",f=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",i&&(i(d),e=d[0],t=d[1]),d.length=0,r=e.match(O)||[],a=t.match(O)||[],n&&(n._next=null,n.blob=1,d._firstPT=d._applyPT=n),c=a.length,s=0;c>s;s++)u=a[s],h+=(l=t.substr(p,t.indexOf(u,p)-p))||!s?l:",",p+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),u===r[s]||r.length<=s?h+=u:(h&&(d.push(h),h=""),o=parseFloat(r[s]),d.push(o),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:o,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-o)||0,f:0,m:f&&4>f?Math.round:0}),p+=u.length;return(h+=t.substr(p))&&d.push(h),d.setRatio=G,H.test(t)&&(d.end=null),d},W=function(e,t,i,n,a,o,s,c,l){"function"==typeof n&&(n=n(l||0,e));var u=r(e[t]),d="function"!==u?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),p="get"!==i?i:d?s?e[d](s):e[d]():e[t],h="string"==typeof n&&"="===n.charAt(1),f={t:e,p:t,s:p,f:"function"===u,pg:0,n:a||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:h?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-p||0};return("number"!=typeof p||"number"!=typeof n&&!h)&&(s||isNaN(p)||!h&&isNaN(n)||"boolean"==typeof p||"boolean"==typeof n?(f.fp=s,f={t:V(p,h?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,c||B.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:a||t,pr:0,m:0}):(f.s=parseFloat(p),h||(f.c=parseFloat(n)-f.s||0))),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},q=B._internals={isArray:_,isSelector:N,lazyTweens:U,blobDif:V},j=B._plugins={},z=q.tweenLookup={},Y=0,$=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},J={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},K=M._rootFramesTimeline=new D,Z=M._rootTimeline=new D,X=30,Q=q.lazyRender=function(){var e,t=U.length;for(F={};--t>-1;)(e=U[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);U.length=0};Z._startTime=p.time,K._startTime=p.frame,Z._active=K._active=!0,setTimeout(Q,1),M._updateRoot=B.render=function(){var e,t,i;if(U.length&&Q(),Z.render((p.time-Z._startTime)*Z._timeScale,!1,!1),K.render((p.frame-K._startTime)*K._timeScale,!1,!1),U.length&&Q(),p.frame>=X){for(i in X=p.frame+(parseInt(B.autoSleep,10)||120),z){for(e=(t=z[i].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete z[i]}if((!(i=Z._first)||i._paused)&&B.autoSleep&&!K._first&&1===p._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||p.sleep()}}},p.addEventListener("tick",M._updateRoot);var ee=function(e,t,i){var n,r,a=e._gsTweenID;if(z[a||(e._gsTweenID=a="t"+Y++)]||(z[a]={target:e,tweens:[]}),t&&((n=z[a].tweens)[r=n.length]=t,i))for(;--r>-1;)n[r]===t&&n.splice(r,1);return z[a].tweens},te=function(e,t,i,n){var r,a,o=e.vars.onOverwrite;return o&&(r=o(e,t,i,n)),(o=B.onOverwrite)&&(a=o(e,t,i,n)),!1!==r&&!1!==a},ie=function(e,t,i,n,r){var a,o,s,c;if(1===n||n>=4){for(c=r.length,a=0;c>a;a++)if((s=r[a])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===n)break;return o}var l,u=t._startTime+v,d=[],p=0,h=0===t._duration;for(a=r.length;--a>-1;)(s=r[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||ne(t,0,h),0===ne(s,l,h)&&(d[p++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((h||!s._initted)&&u-s._startTime<=2e-10||(d[p++]=s)));for(a=p;--a>-1;)if(s=d[a],2===n&&s._kill(i,e,t)&&(o=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!te(s,t))continue;s._enabled(!1,!1)&&(o=!0)}return o},ne=function(e,t,i){for(var n=e._timeline,r=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(a/=r)>t?a-t:i&&a===t||!e._initted&&2*v>a-t?v:(a+=e.totalDuration()/e._timeScale/r)>t+v?0:a-t-v};d._init=function(){var e,t,i,n,r,a,o=this.vars,s=this._overwrittenProps,c=this._duration,l=!!o.immediateRender,u=o.ease;if(o.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},o.startAt)r[n]=o.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=B.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==c)return}else if(o.runBackwards&&0!==c)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},o)$[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==o.lazy,i.immediateRender=l,this._startAt=B.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof T?u:"function"==typeof u?new T(u,o.easeParams):k[u]||B.defaultEase:B.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;a>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&B._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},d._initProps=function(e,t,n,r,a){var o,s,c,l,u,d;if(null==e)return!1;for(o in F[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==i&&e.nodeType&&j.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)$[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,e),this.vars)if(d=this.vars[o],$[o])d&&(d instanceof Array||d.push&&_(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[o]=d=this._swapSelfInParams(d,this));else if(j[o]&&(l=new j[o])._onInitTween(e,this.vars[o],this,a)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)t[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(c=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else t[o]=W.call(this,e,o,"get",d,o,0,null,this.vars.stringFilter,a);return r&&this._kill(r,e)?this._initProps(e,t,n,r,a):this._overwrite>1&&this._firstPT&&n.length>1&&ie(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),c)},d.render=function(e,t,i){var n,r,a,o,s=this._time,c=this._duration,l=this._rawPrevTime;if(e>=c-1e-7&&e>=0)this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===c&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>l||0>=e&&e>=-1e-7||l===v&&"isPause"!==this.data)&&l!==e&&(i=!0,l>v&&(r="onReverseComplete")),this._rawPrevTime=o=!t||e||l===e?e:v);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===c&&l>0)&&(r="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===c&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==v||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!t||e||l===e?e:v)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/c,d=this._easeType,p=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===d?1-u:2===d?u:.5>e/c?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/c);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,U.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/c):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===c)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,i),t||(this._time!==s||n||i)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===c&&this._rawPrevTime===v&&o!==v&&(this._rawPrevTime=0))}},d._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:B.selector(t)||t;var n,a,o,s,c,l,u,d,p,h=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((_(t)||N(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){c=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;c=this._propLookup,a=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(c){if(u=e||c,d=e!==a&&"all"!==a&&e!==c&&("object"!=r(e)||!e._tempKill),i&&(B.onOverwrite||this.vars.onOverwrite)){for(o in u)c[o]&&(p||(p=[]),p.push(o));if((p||!e)&&!te(this,i,t,p))return!1}for(o in u)(s=c[o])&&(h&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete c[o]),d&&(a[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},d.invalidate=function(){return this._notifyPluginsOfEnabled&&B._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},d._enabled=function(e,t){if(h||p.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=ee(n[i],this,!0);else this._siblings=ee(this.target,this,!0)}return M.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&B._onPluginEvent(e?"_onEnable":"_onDisable",this)},B.to=function(e,t,i){return new B(e,t,i)},B.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new B(e,t,i)},B.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new B(e,t,n)},B.delayedCall=function(e,t,i,n,r){return new B(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},B.set=function(e,t){return new B(e,0,t)},B.getTweensOf=function(e,t){if(null==e)return[];var i,n,r,a;if(e="string"!=typeof e?e:B.selector(e)||e,(_(e)||N(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(B.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(a=n[i],r=i;--r>-1;)a===n[r]&&n.splice(i,1)}else if(e._gsTweenID)for(i=(n=ee(e).concat()).length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n||[]},B.killTweensOf=B.killDelayedCallsTo=function(e,t,i){"object"==r(t)&&(i=t,t=!1);for(var n=B.getTweensOf(e,t),a=n.length;--a>-1;)n[a]._kill(i,e)};var re=I("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype}),!0);if(d=re.prototype,re.version="1.19.0",re.API=2,d._firstPT=null,d._addTween=W,d.setRatio=G,d._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},d._mod=d._roundProps=function(e){for(var t,i=this._firstPT;i;)(t=e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===i.f?i.t._applyPT.m=t:i.m=t),i=i._next},B._onPluginEvent=function(e,t){var i,n,r,a,o,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(o=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:a=s,s=o}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(i=!0),s=s._next;return i},re.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===re.API&&(j[(new e[t])._propName]=e[t]);return!0},b.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=I("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){re.call(this,i,n),this._overwriteProps=r||[]}),!0===e.global),s=o.prototype=new re(i);for(t in s.constructor=o,o.API=e.API,a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return o.version=e.version,re.activate([o]),o},l=i._gsQueue){for(u=0;u<l.length;u++)l[u]();for(d in w)w[d].func||i.console.log("GSAP encountered missing dependency: "+d)}h=!1}}(e.exports&&void 0!==i?i:this||window,"TweenMax")}).call(this,i("yLpj"))},"6DbF":function(e,t){e.exports=function(e,t,i){var n=e.Event;n.addEvent(n.SHIELD_DANMU_AREA,(function(e){r=e,s()}));var r=null,a=null,o=t;function s(){if(r){var e=r,t=e.top,n=e.height;if(t>0&&n>0){var s=r,c=s.top,l=s.height,u=c-i,d=Math.floor(u/o),p=Math.ceil((u+l)/o);return void(a={min:d,max:p})}}a=null}this.updateItemHeight=function(e){o=e,s()},this.isInShieldLine=function(e){if(a){var t=a,i=t.min,n=t.max;if(i<e+1&&e+1<=n)return!0}return!1}}},"6WfL":function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.ISDEBUG;function a(e){n.isShieldingEffect||n.isSupportWebp&&function(e){var n=t.newId(),a=i("VkgB")({id:n,content:e.text}),o=$(a).data("data",e);o.click((function(){var t="//www.huya.com/"+e.iRoomId;r&&(t="//test-www.huya.com/"+e.iRoomId),0==e.iRoomId&&(t="//www.huya.com/yy/"+e.lYYId),window.open(t)})),t.addBanner(o)}({bannerType:"pugc",actionType:"fadeOut",text:"点击可进入主播直播间，和主播亲密互动！",iRoomId:e.iRoomId,lYYId:e.lYYId})}e.addTafListener("1025801",a),window.testBannerPugc=function(e){a({iRoomId:123,lYYId:456})}}},"6cwl":function(e,t,i){},"6dBs":function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},c=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,i,n,r,a,o,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(i in t)n=u(d,i),d!==(r=u(t,i))&&(f&&r&&(c(r)||(a=s(r)))?(a?(a=!1,o=n&&s(n)?n:[]):o=n&&c(n)?n:{},l(d,{name:i,newValue:e(f,o,r)})):void 0!==r&&l(d,{name:i,newValue:r}));return d}},"6ezL":function(e,t,i){e.exports=function(e,t){var n,r,a,o,s,c,l,u=!1,d=!1,p=0,h=100,f=100,m=!1,v=0,g="",y=!1,_=!1,w=!1,S=!1,b=0,I=e.G,E=e.Event,T=e.R,k=e.ENV,C=e.utils,x=2e4;function A(){n.find(".ab-default-bg").hide()}function R(){d&&(T.adHuyaReport("/presenter/tracking/close",{id:c.id,type:1,cnt:c.iPushTime,uid:I.yyuid}),T.newHuyaReport({eid_desc:"点击/直播间/直播广告展示/收起",eid:"click/position",position:"zhibo/LiveAdPlugin/fold",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus}),uid:I.yyuid})),N()}function P(){Math.round(r.currentTime)!=Math.floor(r.duration/4)||y?Math.round(r.currentTime)!=Math.floor(r.duration/2)||_?Math.round(r.currentTime)!=Math.floor(3*r.duration/4)||w?Math.round(r.currentTime)!=Math.floor(r.duration)||S||(setTimeout((function(){T.adHuyaReport("/presenter/tracking/conversion",{id:c.id,type:1,cnt:c.iPushTime,progress:100,uid:I.yyuid}),T.newHuyaReport({eid_desc:"时长/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin/time",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus,live_progress:"100%"}),uid:I.yyuid})}),C.getRandomValues()*x),S=!0):(setTimeout((function(){T.adHuyaReport("/presenter/tracking/conversion",{id:c.id,type:1,cnt:c.iPushTime,progress:75,uid:I.yyuid}),T.newHuyaReport({eid_desc:"时长/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin/time",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus,live_progress:"75%"}),uid:I.yyuid})}),C.getRandomValues()*x),w=!0):(setTimeout((function(){T.adHuyaReport("/presenter/tracking/conversion",{id:c.id,type:1,cnt:c.iPushTime,progress:50,uid:I.yyuid}),T.newHuyaReport({eid_desc:"时长/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin/time",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus,live_progress:"50%"}),uid:I.yyuid})}),C.getRandomValues()*x),_=!0):(setTimeout((function(){T.adHuyaReport("/presenter/tracking/conversion",{id:c.id,type:1,cnt:c.iPushTime,progress:25,uid:I.yyuid}),T.newHuyaReport({eid_desc:"时长/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin/time",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus,live_progress:"25%"}),uid:I.yyuid})}),C.getRandomValues()*x),y=!0)}function L(){d?(T.adHuyaReport("/presenter/tracking/click",{id:c.id,type:1,cnt:c.iPushTime,uid:I.yyuid}),T.newHuyaReport({eid_desc:"点击/直播间/直播广告展示",eid:"click/position",position:"zhibo/LiveAdPlugin",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus}),uid:I.yyuid})):(T.adHuyaReport("/presenter/tracking/click",{id:c.id,type:2,cnt:c.iPushTime,uid:I.yyuid}),T.newHuyaReport({eid_desc:"点击/直播间/插件广告展示",eid:"click/position",position:"zhibo/AdPlugin",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus}),uid:I.yyuid})),window.open(g)}function M(){var e=Date.now();e-p<500||(p=e,u=!u,D())}function D(){$(".ab-sound-btn").removeClass("ab-sound-off ab-sound-on"),u?$(".ab-sound-btn").addClass("ab-sound-off"):$(".ab-sound-btn").addClass("ab-sound-on"),r.muted=u,U()}function B(){m&&r&&r.paused&&r.play()}function N(){clearTimeout(b),r.pause(),n.hide(),m=!1,t.adStateChange(m)}function U(){r&&("MATCH"==k.roomInfo.type&&I.playerConfig&&I.playerConfig.adVolume&&I.volume>0?r.volume=I.volume/100*I.playerConfig.adVolume:r.volume=I.volume/100)}function F(){if(m){var e=$("#player-video").width(),t=$("#player-video").height(),i=f*t/a,r=i*h/f;if(6==o)n.css({width:r,height:i,top:t-i-10,left:10});else if(99==o){var c=s.layoutType,l=s.ratioW,u=s.ratioH;1==c?n.css({width:r,height:i,top:t*u,left:e*l}):2==c?n.css({width:r,height:i,top:t*u,left:e-r>>1}):3==c?n.css({width:r,height:i,top:t*u,left:e*l-r}):4==c?n.css({width:r,height:i,top:t*u-i,left:e*l}):5==c?n.css({width:r,height:i,top:t*u-i,left:e-r>>1}):6==c?n.css({width:r,height:i,top:t*u-i,left:e*l-r}):7==c?n.css({width:r,height:i,top:t-i>>1,left:e*l}):8==c?n.css({width:r,height:i,top:t-i>>1,left:e*l-r}):9==c?n.css({width:r,height:i,top:t-i>>1,left:e-r>>1}):10==c&&n.css({width:e,height:t})}}}l=i("rE85")(),(n=$(l)).addClass("old-commercialization-ad"),(r=n.find("#video-ab")[0]).ontimeupdate=P,n.find(".ab-close-btn").click(R),n.find(".ab-sound-btn").click(M),n.find("#video-ab").click(L),n.find("#video-ab")[0].onload=A,E.addEvent(E.VOLUME_CHANGE,U),E.addEvent(E.HUYA_AD_PLAY,B),$(window).resize(F),this.isAdShowing=function(){return m},this.getdata=function(){return c},this.show=function(e,i){m||(d=e,v=i||(c.material.showTime||15),d?setTimeout((function(){T.adHuyaReport("/presenter/tracking/show",{id:c.id,type:1,cnt:c.iPushTime,uid:I.yyuid}),T.newHuyaReport({eid_desc:"展示/直播间/直播广告展示",eid:"pageview/position",position:"zhibo/LiveAdPlugin",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus}),uid:I.yyuid})}),C.getRandomValues()*x):(T.adHuyaReport("/presenter/tracking/show",{id:c.id,type:2,cnt:c.iPushTime,uid:I.yyuid}),T.newHuyaReport({eid_desc:"展示/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin",resourceid:c.id,prop:JSON.stringify({live_mode:I.screenStatus}),uid:I.yyuid})),u=!d,r.loop=!0,m=!0,t.adStateChange(m),y=!1,_=!1,w=!1,S=!1,r.currentTime=0,n.appendTo("#huya-ab"),r.play(),n.show(),D(),n.find(".ab-close-btn").css("visibility",d?"hidden":"visible"),d&&""!=g&&setTimeout((function(){n.find(".ab-close-btn").css("visibility","visible")}),5e3),d&&(b=setTimeout(N,1e3*v)),F())},this.setData=function(e){c=e;var t=e.material;o=t.adType,t.imageUrl=t.imageUrl.replace("http:","https:"),t.videoUrl=t.videoUrl.replace("http:","https:"),n.find("#video-ab").attr("poster",t.imageUrl),n.find("#video-ab").attr("src",t.videoUrl),n.find(".ab-close-btn").show(),n.find(".ab-default-bg").hide(),v=t.showTime||15;var i=t.layout;s=i,i.templateW||1334,a=i.templateH||750,h=i.width||800,f=i.height||450,g=t.webLandingUrl,n.find("#video-ab").css("pointer-events",g?"auto":"none")},this.clear=function(){N()},this.setPushTime=function(e){c.iPushTime=e}}},"6gIT":function(e,t,i){e.exports=function(e){var t=e.G,n=e.ENV;this.show=function(){var e=i("9quj")();$("#player-wrap").append(e);var r=n.avatarImg;t.isHttps()&&(r=r.replace("http:","https:")),$(".player-copyright-tip-bg").attr("src",r),$(".player-videotype").hide(),t.isCopyright=!0}}},"6n84":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="box-ab-wrap">\n    <img class="bg-img"/>\n    <div class="bg-cover"></div>\n    <div id="box-ab"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="box-ab-close">\n        <div class="small-logo"></div>\n        <i></i>\n        <div class="line"></div>\n        <div class="x-btn"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n    <div class="banner-group">\n        <img class="banner-icon"/>\n        <div class="group-text title"></div>\n        <div class="group-text explain"></div>\n        <div class="ab-common-details-btn details-btn2">点击卡片，了解详情</div>\n        <div class="logo-text">广告</div>\n    </div>\n    \n    <div class="bottom-wrap">\n        <div class="next-reward"></div>\n    </div>\n    <div class="popup-pannel">\n        <div class="big-icon"><img/></div>\n        <div class="reward"></div>\n        <div class="btn leave">狠心离开</div>\n        <div class="btn goon">继续看视频</div>\n    </div>\n</div>',__filename="src/tpl/ad/box-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="box-ab-wrap">\n    <img class="bg-img"/>\n    <div class="bg-cover"></div>\n    <div id="box-ab"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="box-ab-close">\n        <div class="small-logo"></div>\n        <i></i>\n        <div class="line"></div>\n        <div class="x-btn"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n    <div class="banner-group">\n        <img class="banner-icon"/>\n        <div class="group-text title"></div>\n        <div class="group-text explain"></div>\n        <div class="ab-common-details-btn details-btn2">点击卡片，了解详情</div>\n        <div class="logo-text">广告</div>\n    </div>\n    \n    <div class="bottom-wrap">\n        <div class="next-reward"></div>\n    </div>\n    <div class="popup-pannel">\n        <div class="big-icon"><img/></div>\n        <div class="reward"></div>\n        <div class="btn leave">狠心离开</div>\n        <div class="btn goon">继续看视频</div>\n    </div>\n</div>'),__line=39;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"6pxN":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="end-ab-banner">\n    <img class="banner-image"/>\n    <div class="explain-group">\n        <div class="title"></div>\n        <div class="explain"></div>\n        <div class="details-btn">点击卡片，了解详情</div>\n    </div>\n    <div class="ab-logo"></div>\n    <i>广告</i>\n    <div class="ab-close"></div>\n</div>\n',__filename="src/tpl/ad/end-ad-banner.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="end-ab-banner">\n    <img class="banner-image"/>\n    <div class="explain-group">\n        <div class="title"></div>\n        <div class="explain"></div>\n        <div class="details-btn">点击卡片，了解详情</div>\n    </div>\n    <div class="ab-logo"></div>\n    <i>广告</i>\n    <div class="ab-close"></div>\n</div>\n'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"7AYe":function(e,t){e.exports=function(e,t){var i,n,r=null,a=null,o=null,s=100,c=!1,l=t.G,u=t.Event,d=t.Console,p=t.logUtils,h=0;var f=!0;function m(e,i){d.log("onPlayVideo");var o=i.canvas;if(a&&(a.pause(),a.src=""),a=i.video,1==f){var s=Date.now()-l.beginTime;l.firstVideoTime=s,f=!1,t.trigger("videoOnLoad"),u.fireEvent(u.HLS_FIRST_PLAY),u.fireEvent(u.VIDEO_FIRST_PLAY)}a.autoplay=!0,a.defaultMuted=!1,$("#hy-video").remove(),$(o||a).attr("id","hy-video"),r.append(o||a),clearTimeout(n),u.fireEvent(u.HIDE_RECOMMEND),l.vplayer.hideLoading(),l.isPause=!1,l.isPlaying=!0}function v(e,t){d.log("onBrowerPause",e,t),clearTimeout(n),l.browerPause=!0,u.fireEvent(u.SHOW_BROWER_PAUSE_TIPS),o.setVolume(0)}function g(e,t){logger.log(e,t),l.browerAutoPlayFail=!0,l.isPlaying=!1,u.fireEvent("BROWSER_AUTOPLAY_FAIL")}function y(e,t){d.log("onStopVideo",t),l.isPlaying&&_()}function _(){clearTimeout(n),n=setTimeout(w,2e4)}function w(){u.fireEvent(u.SHOW_RECOMMEND)}function S(e,t){d.log("onAnchorStop"),C()}function b(e,t){d.log("onNoVideo")}function I(e,t){d.log("onFlvUrlUnavailable"),C()}function E(e,t){d.log("onH5PlayerError"),C()}function T(e,t){d.log("onPlayStatus",t)}function k(e,t){u.fireEvent(u.DATA_METRIC_SDK,t)}function C(){var e=Date.now();if(e-h<1e3)return!1;h=e,u.fireEvent(u.GET_GAMELIVE_HISUPON_REQ)}function x(e){if(o){var t=e.sHlsUrl,i=e.iVideoSyncTime,n=e.iBitRate;d.log("重播："+t),p.addLog("重播流："+t);var r=e.sHlsUrl;l.isHttps()&&(r=r.replace("http:","https:")),d.log("iVideoSyncTime:",i);var a={type:H5Player.HLS,url:r,isLive:!1,h5Root:l.H5ROOT,lineType:l.videoLine,liveType:2,uid:l.isLogin?l.yyuid:l.anonymousUid,sGuid:l.getGuid(),presenterUid:l.presenterUid,seekTime:i,gameId:l.gameId,iBitRate:n};if(e.ts){var s=e.byteRangeEndOffset,c=e.byteRangeStartOffset;a.tsInfo={tsUrl:e.ts,byteRangeEndOffset:s,byteRangeStartOffset:c}}a.vStreamInfo=e.vStreamInfo||[],a.curBitrate=n,a.originalBitrate="原画"==e.sDisplayName?0:1,a.adBlock=l.adBlock,0===a.originalBitrate&&(a.iBitRate=0),d.log("===start:",a),o.start(a),_()}}function A(){l.isPause=!0,l.isPlaying=!1,t.showPlayTip("pause"),t.setDanmuVisible(!1),o.stop()}function R(e){o&&o.setTafHandler(e)}this.init=function(e){(r=e.target)||console.warn("%cvideo container undefined.","font-size:xx-large"),r=$(r),function(){if(!H5Player.isSupported())return void t.changeToFlash("H5Player not support. ");o=new H5Player,l.h5player=o;var e=parseInt(localStorage.sdkLogLevel);isNaN(e)||(d.log("logLevel:",e),o.setLogLevel(e));o.setConfig(100,""),o.setConfig(101,!1),o.setExtendConfig(l.sdkExtendConfig),u.addEvent(u.REPlAY_START_PLAY,x),u.addEvent("setTafHandlerReplay",R),o.on(H5Player.Events.VIDEO_PLAY,m),o.on(H5Player.Events.VIDEO_STOP,y),o.on(H5Player.Events.ANCHOR_STOP,S),o.on(H5Player.Events.NO_VIDEO,b),o.on(H5Player.Events.FLV_URL_UNAVAILABLE,I),o.on(H5Player.Events.H5_PLAYER_ERROR,E),o.on(H5Player.Events.PLAY_STATUS,T),o.on(H5Player.Events.DATA_METRIC2,k),o.on(H5Player.Events.BROWSER_PAUSE,v),o.on(H5Player.Events.BROWSER_AUTOPLAY_FAIL,g),u.addEvent(u.PAUSE_VIDEO,A),c&&(c=!1,o.setVolume(.01*s))}(),_()},this.play=function(){d.log("play"),l.vplayer.showLoading(),u.fireEvent(u.GET_GAMELIVE_HISUPON_REQ)},this.stopVideo=function(){},this.pause=A,this.refresh=function(){var e=Date.now();e-i<1e3||(i=e,l.vplayer.showLoading(),u.fireEvent(u.GET_GAMELIVE_HISUPON_REQ))},this.isLowestBitRate=function(){},this.getSDKLog=function(){return o?o.getLog():""},this.getMetrics=function(){return{}},this.getCurrentTime=function(){return o.getCurrentTime()},Object.defineProperties(e,{volume:{get:function(){return s},set:function(e){e=Math.min(e,100),e=Math.max(e,0),s=e,o?o.setVolume(.01*e):c=!0}}})}},"7NV2":function(e,t,i){var n,r,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return function(t){var i=e,n=i.lib,r=n.WordArray,a=n.Hasher,o=i.algo,s=[],c=[];!function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(s[r]=i(t.pow(n,.5))),c[r]=i(t.pow(n,1/3)),r++),n++}();var l=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],u=i[5],d=i[6],p=i[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=l[h-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[h]=m+l[h-7]+g+l[h-16]}var y=n&r^n&a^r&a,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];p=d,d=u,u=s,s=o+w|0,o=a,a=r,r=n,n=w+(_+y)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+s|0,i[5]=i[5]+u|0,i[6]=i[6]+d|0,i[7]=i[7]+p|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=a._createHelper(u),i.HmacSHA256=a._createHmacHelper(u)}(Math),e.SHA256},"object"==s(t)?e.exports=t=o(i("TdfZ")):(r=[i("TdfZ")],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))},"7QxG":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-gift-dialog">\n    <i class="close"></i>\n    <p class="word"></p>\n    <div class="check-box sel">\n        <span></span>\n        <p>下次送礼不再提示</p>\n    </div>\n    <span class="btn confirm">确定</span>\n    <span class="btn cancel">取消</span>\n</div>',__filename="src/tpl/gift/gift-dialog.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-gift-dialog">\n    <i class="close"></i>\n    <p class="word"></p>\n    <div class="check-box sel">\n        <span></span>\n        <p>下次送礼不再提示</p>\n    </div>\n    <span class="btn confirm">确定</span>\n    <span class="btn cancel">取消</span>\n</div>'),__line=10;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"7apI":function(e,t,i){e.exports=function(e){var t=e.G,n=e.Console,r=null,a=null,o=!1;this.play=function(){if(!o){o=!0;var e=i("qzho")();r=$(e);var s=$("#player-video").width()+175;r.css({transition:"transform  ".concat(2,"s linear"),transform:"translateX(-".concat(s,"px)")}),$("#player-video").append(r),r.outerWidth(),r.css({transform:"translateX(0px)"}),r.bind("transitionend webkitTransitionEnd",(function(){!function(){null==a&&(a=i("eNXa"));var e=$("#player-video-transition-logo");e.show();var s={container:e[0],renderer:"svg",loop:!1,autoplay:!0,path:t.H5ROOT+"json/video-transition-logo.json"},c=a.loadAnimation(s);c.addEventListener("complete",(function(){n.log("Lottie动画播放完成"),c.destroy(),function(){r&&(r.unbind(),r.remove(),r=null);o=!1}()}))}()}))}}}},"7jgw":function(e,t,i){e.exports=function(e,t){var n,r=e.Event,a=e.G,o=e.utils,s=null,c=0,l=[-1,2,4],u=null,d=null,p=[];function h(e){if(s&&!s[0].contains(e)){var t=$(".player-face-arrow");t.hasClass("arrow-down")&&t.removeClass("arrow-down"),m()}}function f(){t.removePanelGiftEvent(y()),d.empty();for(var e=p.length,i=0;i<e;i++){var n=p[i],r=n.itemDiv,a=n.data.vWebSpecilInfo.value[0].iTabId,o=l[c];-1!=o&&(o&a)!=o||d.append(r)}t.addPanelGiftEvent(y())}function m(){r.removeEvent("bodyClick",h),s&&s.hasClass("effect-show")&&s.removeClass("effect-show")}function v(e){var t=e.currentTarget;"on"!=t.className&&g(t)}function g(e){u.find("li").each((function(t,i){i==e&&(c=t,f()),$(i).attr("class",i==e?"on":"")}))}function y(){return s}n=i("nm1K"),s=$(n()),$("#player-face").prepend(s),u=s.find(".tag-list"),d=s.find(".panel-current-page-gift"),o.scrollbarPreventDefault(d),function(){for(var e=["礼物","特权","贵族"],t=0,i=e.length;t<i;t++){var n=$("<li><p></p><i></i></li>");n.find("p").text(e[t]),n.click(v),u.append(n),t==c&&g(n[0])}}(),a.vplayerUI.addBodyClickEvent(),this.setData=function(e,t){var n=e.length;p=[];for(var r=0;r<n;r++){var a=e[r],o=t(a),s=a.iPropsId,c=a.iPropsPermission,l=i("B4zd");l=l({iPropsId:s,iPropsPermission:c,icon:o});var u=$(l);p.push({itemDiv:u,data:e[r]})}f()},this.showPanel=function(){s.addClass("effect-show"),r.addEvent("bodyClick",h)},this.hidePanel=m,this.getLayer=y}},"7vau":function(e,t,i){e.exports=function(e){var t=e.Event,n=e.G,r=e.logUtils,a=e.R,o=e.taf.HUYA,s=!1;function c(){n.isOBWatch&&(s||(n.isUserInfoInited()?m():t.addEvent(t.USER_INFO_INITED,m),t.addEvent(t.SET_PERSPECTIVE,y),e.addTafListener("1130003",h),function(){if(localStorage.obTips)return;var e=i("0r9D")();$("#player-ob-watch-wrap").html(e),$("#player-ob-watch-wrap").show(),$(".player-ob-btn").click(u),localStorage.obTips=!0,setTimeout(l,5e3),a.newHuyaReport({eid_desc:"展示/新手引导/ob直播间",eid:"sys/pageshow/tips/oblive",prop:"",uid:n.yyuid})}(),s=!0))}function l(){d(),a.newHuyaReport({eid_desc:"隐藏/新手引导/ob直播间",eid:"sys/pagehide/tips/oblive",prop:"",uid:n.yyuid})}function u(){d(),a.newHuyaReport({eid_desc:"点击/新手引导/ob直播间",eid:"usr/click/tips/oblive",prop:"",uid:n.yyuid})}function d(){$("#player-ob-watch-wrap").remove()}t.addEvent(t.VIDEO_FIRST_PLAY,c),c();var p=0;function h(e){if(r.addLog("1130003 onHonourOfKingsStatusNotify:"+JSON.stringify(e)),r.addLog("G.presenterUid:"+n.presenterUid),n.presenterUid==e.lPid){var t=e.iStatus;if(n.obStatus!=t){e.lGameTime;n.obStatus=t,r.addLog("ob状态改变了 广播 iStatus"+n.obStatus);var i=3e3*Math.random()+2e3;2==n.obStatus&&(i+=1e4),r.addLog("延迟拉流 time:"+i),clearTimeout(p),p=setTimeout(f,i)}}}function f(){n.streamSetFlag=!0,r.addLog("拉流"+n.obStatus),e.vcore.stopVideo("onHonourOfKingsStatusNotify"),n.isUIPause||n.vplayer.showLoading(),n.obCurPid=n.presenterUid,e.getLivingInfo(),g(),e.trigger("perspectiveChange",n.obCurrentPerspective),1==n.obStatus?(e.trigger("obMatchBegin"),m()):2==n.obStatus&&e.trigger("obMatchEnd"),e.trigger("matchStatusChange",{status:n.obStatus})}function m(){var t=new o.GetPlayerViewListReq;t.tUserId=n.userId,t.lPid=n.presenterUid+"",e.sendWup2("wupui","getPlayerViewList",t,v)}function v(t){n.obPerspectiveList=[],n.obCurPid=n.presenterUid,n.obPerspectiveList.push({pid:n.presenterUid,name:"上帝视角"});for(var i=t.vInfo.value,a=0;a<i.length;a++){var o=i[a],s={pid:o.lPid,name:o.sName};n.obPerspectiveList.push(s)}g(),n.presenterUid==t.tStatus.lPid&&n.obStatus!=t.tStatus.iStatus&&(n.obStatus=t.tStatus.iStatus,n.streamSetFlag=!0,e.vcore.stopVideo("onGetPlayerViewList"),r.addLog("ob状态改变了 拉取 iStatus"+n.obStatus),n.isUIPause||n.vplayer.showLoading(),e.getLivingInfo(),1==n.obStatus?e.trigger("obMatchBegin"):2==n.obStatus&&e.trigger("obMatchEnd"))}function g(){for(var e={},t=0;t<n.obPerspectiveList.length;t++)n.obPerspectiveList[t].pid==n.obCurPid&&(e.pid=n.obPerspectiveList[t].pid,e.name=n.obPerspectiveList[t].name);n.obCurrentPerspective=e}function y(t){n.obCurPid=t.pid,g(),n.streamSetFlag=!0,e.turnPlayButtonOn(),e.vcore.stopVideo("setPerspective"),n.vplayer.showLoading(),e.getLivingInfo(),r.addLog("设置视角 G.obCurPid"+n.obCurPid)}this.upDateCurrentPerspective=g}},"80jK":function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.taf,a=e.R,o=e.VER,s=e.Console,c=r.GameRelease,l=null,u=null,d=null,p=null,h=1,f=30,m=this,v="",g=null,y={};function _(i,r,o){var s;u=i,f=r.iShowTime||f,v=r.sLiveRoomPopupKey,g=r,(s=u.handleAlertInfo.alertTag).startsWith("anchor-")?h=1:s.startsWith("admin-")&&(h=2),function(){null==l&&((l=$('<div class="ab-icon xsb-icon"><i></i><span></span></div>')).click(w),$(".player-gift-left").append(l));var e=u.handleAlertInfo.entranceTxt||"主播推荐";l.find("span").text(e),l.show(),k(u,1,1),n.fireEvent(n.ACTIVITY_ICON_COUNT_UPDATE,{icon:l,priority:995,key:"xsbad",value:1});var t=S();a.newHuyaReport({eid_desc:"曝光主播游戏入口",eid:"show/anchor_game_entrance",prop:JSON.stringify(t)},"huya_web")}();var d=i.handleAlertInfo.actionType;if(o&&3==d)!function(i,n){var r=i.apkInfo,a=i.handleGameInfo,o=r.chId,s=a.gameId,l=a.gameType,u=new c.GetGameReserveStatusReq;u.tId=t.userId,u.anchorId=t.presenterUid,u.gameId=s,u.client=3,u.channelId=o,u.gameType=l,e.sendWup2("webGameCenterui","getGameReserveStatus",u,(function(e){n(e)}))}(i,(function(e){var t=e.GameReserveStatus;if(0==e.response.res){if(u.handleGameInfo.isReserve=t,1==t)return void T();b(i,t,o)}}));else{var p=u.handleGameInfo.isReserve;3!=d||1!=p?b(u,p,o):T()}}function w(){var e,t,i,r,o;if(7==u.handleGameInfo.gameType)return t=(e=u).handleGameInfo,i=e.handleAlertInfo,r=t.linkUrl,void(1==(o=i.actionType)||2==o?window.open(r):4==o&&n.fireEvent(n.HY_ACTION_NEW,r));I(u);var s=S();a.newHuyaReport({eid_desc:"点击主播游戏入口",eid:"click/anchor_game_entrance",prop:JSON.stringify(s)},"huya_web")}function S(){var e=u,i=e.handleGameInfo,n=e.apkInfo,r=i.gameId,a=i.gameType,o=n.chId,s={anchor_uid:t.presenterUid,game_id:t.gameId,room_id:t.roomId,gameid:r,ch_id:o,gametype:a,type:h};return v&&(s.popup_key=v),s}function b(t,n,r){if(!r&&d&&d.isShowIng())T();else{var a=f;a*=1e3;var o=g.mpReportData.value,s={popup_ext:JSON.stringify(o)},c={liveroomPopupKey:v,showTime:a,additionReportParams:s,unlimitedTime:!0},l=e.popupManager.nativePopupEnQueue(c,(function(a){if(y=a.data.reportParams,!r&&d&&d.isShowIng())return T(),void e.popupManager.nativePopupDeQueue({liveroomPopupKey:v,initiative:!1});var o=a.data.showTime/1e3;if(null==p){var s=i("D+HU");p=new s(e,m)}p.showTip(t,n,o,v,y),k(u,3,1)}),(function(e){p&&p.clear()}));if(l){var h=0==l.res?1:0,_=l.msg;k(u,2,h,_)}}}function I(t){if(p&&(p.clear(),e.popupManager.nativePopupDeQueue({liveroomPopupKey:v})),null==d){var n=i("vbbf");d=new n(e,m)}d.showPannel(t,h)}n.fireEvent("smallHandleReady",_);var E=null;function T(){var t=g.mpReportData.value,i={popup_id:v,popup_ext:JSON.stringify(t)};e.popupManager.reportGetLiveRoomPopup(i)}function k(i,n,r,a){var s=i.handleGameInfo,l=i.handleAlertInfo,u=s.gameId,d=l.traceId,p=new c.GameMonitorReportReq;p.userId=t.userId,p.time=(new Date).getTime(),p.traceId=d,p.gameId=u,p.bizType=h,p.eventId=n,p.status=r,p.msg=a||"",p.platform="web",p.version=o,p.anchorUid=t.presenterUid,p.liveGid=t.gameId,e.sendWupNew("GameReportUI","gameMonitorReport",p,c.GameMonitorReportRsp).then((function(e){}))}this.creatReportProp=S,this.gameReserve=function(i,n){var r=i.apkInfo,a=i.handleGameInfo,o=r.chId,s=a.gameId,l=a.gameType,u=new c.GameReserveReq;u.tId=t.userId,u.anchorId=t.presenterUid,u.gameId=s,u.client=3,u.channelId=o,u.gameType=l,e.sendWup2("webGameCenterui","gameReserve",u,(function(e){n(e)}))},this.showSmallHandlePanel=I,this.updateHasReserveView=function(){p&&p.updateHasReserveView()},this.gameDlEventReport=function(i){var n=i.apkInfo,r=i.handleGameInfo,a=i.handleAlertInfo,l=n.chId,u=r.gameId,d=r.gameType,p=a.authInfo,h=new c.GameDlEventReportReq;h.tId=t.userId,h.gameId=u,h.action=3,h.chId=l,h.appId=1,h.extReq.gameId=u,h.extReq.authInfo=p,h.extReq.gameType=d,h.extReq.anchorId=t.presenterUid,h.extReq.customInfo="{ver:".concat(o,"}"),h.extReq.reqTime=(new Date).getTime(),e.sendWup2("webGameDownloadui","gameDlEventReport",h,(function(e){s.log("gameDlEventReport",e)}))},this.showGameHandleAlert=_,this.gameMonitorReport=k,this.gameReserveWifiDl=function(i){var n=i.handleGameInfo.gameId,r=new c.GameReserveWifiDlReq;r.tId=t.userId,r.gameId=n,r.wifi=1,r.appId=1,e.sendWupNew("webGameCenterui","gameReserveWifiDl",r,c.GameReserveWifiDlResp).then((function(e){}))},this.showSmallHandleReserve=function(t){if(null==E){var n=i("rbXk");E=new n(e,m)}E.show(t)}}},"85+e":function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.logUtils,r=e.utils,a=[],o=0;function s(){i.removeEvent(i.WEBSOCKET_INITED,s),c()}function c(){var i=new e.taf.HUYA.GetVideoHisUponReq;i.lUid=t.presenterUid,n.addLog("重播主播uid："+i.lUid),e.sendWup2("liveui","getVideoHisUpon",i,l);var r=Date.now();t.livingInfoTime=r}function l(n){var s=Date.now();t.livingInfoTime=s-t.livingInfoTime;var c=n.vHistoryList.value;if(0!=c.length){t.hasVideo=!0;var l=c[0],d=l.iVideoSyncTime,p=l.sHlsUrl,h=l.vDefinitions.value;if(0==h.length)return i.fireEvent(i.REPlAY_START_PLAY,{iVideoSyncTime:d,sHlsUrl:p,iBitRate:2e3}),void e.setBitRateList({list:[{iBitRate:2e3,sDisplayName:"原画"}],default:2e3});!function(e){a=[];for(var i=0,n=e.length;i<n;i++){var o=e[i],s=o.sDefinition,c=o.sM3u8,l=o.sDefName,u=o.sTs1Url,d=o.sTs1Offset,p=o.iLineIndex;c=t.makeHttpsUrl(c),u=t.makeHttpsUrl(u);for(var h=e[i].vStreamInfo.value.concat(),f=0;f<h.length;f++)h[f].sM3u8=t.makeHttpsUrl(h[f].sM3u8),h[f].sUrl=t.makeHttpsUrl(h[f].sUrl),h[f].sTs1Url=t.makeHttpsUrl(h[f].sTs1Url);a.push({iBitRate:parseInt(s,10),sDisplayName:l,sM3u8:c,sTs1Url:u,sTs1Offset:d,vStreamInfo:h,iLineIndex:p})}a.sort(r.sortCompare("iBitRate"))}(h),o=function(e){for(var t=0,i=a.length;t<i;t++){if(a[t].iBitRate==e)return!0}return!1}(o)?o:parseInt(h[0].sDefinition,10),e.setBitRateList({list:a,default:o}),u(o,d)}}function u(n,r){t.vplayer.showLoading();for(var s=0,c=a.length;s<c;s++){var l=a[s],u=l.iBitRate,p=l.sM3u8,h=l.sTs1Url,f=l.sTs1Offset,m=l.vStreamInfo,v=l.sDisplayName,g=l.iLineIndex;if(u==n){t.videoLine=g,o=u;var y=r||e.getCurrentTime(),_=d(f),w=_.byteRangeStartOffset,S=_.byteRangeEndOffset;i.fireEvent(i.REPlAY_START_PLAY,{iVideoSyncTime:y,sHlsUrl:p,ts:h,iBitRate:u,byteRangeStartOffset:w,byteRangeEndOffset:S,vStreamInfo:m,sDisplayName:v});break}}}function d(e){var t=0,i=0,n=e.split("@");if(n.length>1){var r=parseInt(n[0],10),a=parseInt(n[1],10);t=a,i=a+r}return{byteRangeStartOffset:t,byteRangeEndOffset:i}}$("#videoContainer").addClass("mod-replay"),t.vplayer.showLoading(),i.addEvent(i.WEBSOCKET_INITED,s),i.addEvent(i.GET_GAMELIVE_HISUPON_REQ,c),this.switchBitrate=u}},"8A5q":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="component-ab-item">\n    <div class="icon">\n        <div class="tag-num"></div>\n        <div class="explain-tag"></div>\n    </div>\n    <div class="group">\n        <div class="item-title"></div>\n        <div class="subtitle"></div>\n        <div class="tag-list"></div>\n    </div>\n    <div class="download-btn">立即下载</div>\n</div>',__filename="src/tpl/ad/component-ab-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="component-ab-item">\n    <div class="icon">\n        <div class="tag-num"></div>\n        <div class="explain-tag"></div>\n    </div>\n    <div class="group">\n        <div class="item-title"></div>\n        <div class="subtitle"></div>\n        <div class="tag-list"></div>\n    </div>\n    <div class="download-btn">立即下载</div>\n</div>'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"8MWB":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="commentator-item selected">\n    <img class="head"></img>\n    <div class="name-wrap">\n        <div class="name"></div>\n        <div class="sound-icon"></div>\n    </div>\n</div>',__filename="src/tpl/ctrl/commentator-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="commentator-item selected">\n    <img class="head"></img>\n    <div class="name-wrap">\n        <div class="name"></div>\n        <div class="sound-icon"></div>\n    </div>\n</div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"8hAE":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="banner-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <iframe id=\'huya-ab-iframe\'></iframe>\n    <img id="banner-ab"></img>\n    <div class="ab-qrcode-card-container"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>',__filename="src/tpl/ad/banner-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="banner-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <iframe id=\'huya-ab-iframe\'></iframe>\n    <img id="banner-ab"></img>\n    <div class="ab-qrcode-card-container"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>'),__line=21;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"8oUx":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-no-vr-tip">\n   <img class="player-no-vr-tip-bg"></img>\n   <div class="player-no-vr-content">\n        <div class="player-no-vr-icon"></div>\n        <span>VR直播正快马加鞭地赶来嗷~</span>\n   </div>\n</div>\n',__filename="src/tpl/vr/no-vr-stream-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-no-vr-tip">\n   <img class="player-no-vr-tip-bg"></img>\n   <div class="player-no-vr-content">\n        <div class="player-no-vr-icon"></div>\n        <span>VR直播正快马加鞭地赶来嗷~</span>\n   </div>\n</div>\n'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"98Ts":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-ctrl-wrap"></div>\n<div id="player-guess-wrap"></div>\n<div id="player-gift-wrap"></div>\n<div id="player-ob-watch-wrap"></div>\n<div id="player-marquee-wrap"></div>\n<div id="player-pc-watch-btn" class="player-top-right-btn"><i></i><span></span></div>\n<div id="player-danmu-report">\n    <i></i><em id="player-danmu-copy">复制</em><span></span>\n</div>\n<div id="danmu-copy-tips"></div>\n<div id="player-community-contaier"></div>\n<div id="player-fullpage-right-btn"></div>\n<div id="pc-watch-download-tips"><span></span></div>\n<div id="player-secret-wrap"></div>',__filename="src/tpl/ui-top-group.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-ctrl-wrap"></div>\n<div id="player-guess-wrap"></div>\n<div id="player-gift-wrap"></div>\n<div id="player-ob-watch-wrap"></div>\n<div id="player-marquee-wrap"></div>\n<div id="player-pc-watch-btn" class="player-top-right-btn"><i></i><span></span></div>\n<div id="player-danmu-report">\n    <i></i><em id="player-danmu-copy">复制</em><span></span>\n</div>\n<div id="danmu-copy-tips"></div>\n<div id="player-community-contaier"></div>\n<div id="player-fullpage-right-btn"></div>\n<div id="pc-watch-download-tips"><span></span></div>\n<div id="player-secret-wrap"></div>'),__line=14;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"9OqN":function(e,t,i){var n,r,a;e.exports=(a=i("Ib8C"),i("OLod"),a.mode.CTR=(n=a.lib.BlockCipherMode.extend(),r=n.Encryptor=n.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0);var o=a.slice(0);i.encryptBlock(o,0),a[n-1]=a[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}}),n.Decryptor=r,n),a.mode.CTR)},"9ZdH":function(e,t,i){e.exports=function(e,t){var n=this,r=null,a=!1;this.isActive=!1;var o=e.G,s=e.Event,c=e.R,l=e.ISDEBUG,u=e.taf.HUYA;function d(e){o.bDirector?p():h(e)}function p(){var t=new u.GetLinkMicPresenterInfoReq;t.tId=o.userId,t.lUid=o.presenterUid,e.sendWup2("liveui","getLinkMicPresenterListByUid",t,h)}function h(e){o.bDirector=e.bDirector;var c=e.vLMPresenterInfos.value;if(n.isActive=2==e.iLinkMicStatus&&c.length>1,r.empty(),n.isActive&&!a)for(var l=i("pep2")(),u=0,d=c.length;u<d;u++){var p=c[u];if(!(p.lChannelId<=0)&&p.lUid!=o.presenterUid){var h=$(l);h.attr("lYYId",p.lYYId),h.attr("iRoomId",p.iRoomId),h.find(".head-type span").text("连麦"),h.find(".nick-name").text(p.sNick),h.find(".head-type i").addClass("head-type-mic"),h.find("img").attr("src",p.sAvatarUrl),h.click(f),r.append(h)}}s.fireEvent(s.LINK_MIC_STATE_CHANGE,n.isActive),t.layout()}function f(e){e.stopPropagation();var t=$(this).attr("iRoomId"),i=$(this).attr("lYYId"),n="//www.huya.com/"+t;l&&(n="//test-www.huya.com/"+t),0==t&&(n="//www.huya.com/yy/"+i),window.open(n),c.huyuReport("click/zhibo/lianmai")}e.addTafListener("42008",d),r=$("#player-link-mic ul"),s.addEvent(s.USER_INFO_INITED,p),this.isPkActive=function(e){(a=e)&&r.empty()},window.testLinkMic=function(e){for(var t={iLinkMicStatus:2},i=[],n=0;n<e;n++){var r=new u.LMPresenterInfo;r.lChannelId=1,r.lUid=1,r.sNick="用户的名字会很长"+n,r.sAvatarUrl="https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",i.push(r)}t.vLMPresenterInfos={},t.vLMPresenterInfos.value=i,h(t)}}},"9quj":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-copyright-tip">\n   <img class="player-copyright-tip-bg"></img>\n   <div class="copyright-tip-content">\n        <div class="copyright-tip-icon"></div>\n        <span>应版权方要求，你所在的区域不能观看</span>\n   </div>\n</div>\n',__filename="src/tpl/others/copyright-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-copyright-tip">\n   <img class="player-copyright-tip-bg"></img>\n   <div class="copyright-tip-content">\n        <div class="copyright-tip-icon"></div>\n        <span>应版权方要求，你所在的区域不能观看</span>\n   </div>\n</div>\n'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"9r+K":function(e,t,i){e.exports=function(e,t,n){var r=e.G,a=e.Console,o=e.Event,s=e.VER,c=e.utils,l=e.logUtils,u=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,y=0,_=0,w=!1,S=0,b=0,I=0,E=0,T=0,k=0,C=0,x=0,A={chrome:22e5,edge:45e5,safari:45e5,sogou:15e5,firefox:15e5,qq:15e5,"360ee":15e5},R=0,P=0,L=i("rXj1"),M=!1;function D(){r.visibilityState=document.visibilityState,M=!0}r.dropDanmuOpen=!r.isPresenter,document.addEventListener("visibilitychange",D),localStorage.closeFPSReport||setTimeout((function(){E=c.getCurTime(),p=c.getCurTime(),f=c.getCurTime(),w=!0,q(),b=0,S=0,B(),setInterval((function(){H()}),2e4),function(){var e=!1;if(L&&L.browser){var t=L.browser.name,i=localStorage.getItem("benchmark-cpuScore"),n=A[t];a.log("机器评分 当前机器评分，中高端浏览器标准",t,i,n),n&&i&&(e=parseInt(i)<n)}return e}()&&null==localStorage.danmuMask&&n.closeDanmuMaskInLowFPS()}),5e3);var B=function e(){h+=1;var i=c.getCurTime(),n=i-f;if(f=i,u+=n||0,V(n),u<1e3)window.requestAnimationFrame(e);else{u=0,k=0;var a=0;if(a=Math.round(1e3/n),i>1e3+p&&(a=Math.round(1e3*h/(i-p)),h=0,p=i),window.fps=a,b+=a,m+=a,y+=r.danmuShowCount,t&&(_+=t.getWaitDanmuLen()),r.danmuPerformanceReport=!0,d++,r.dropDanmuOpen&&d>=5){d=0;var o=parseInt(b/5),s=Number(S/5);if(o>55||s<2)N(0);else if(o<50&&s>2){N(0+.02*(50-o))}b=0,S=0}window.requestAnimationFrame(e)}};function N(e){window.filterDanmuRatio=e}var U=0,F=0,O=c.getCookie("__yamid_new"),H=function(){if(!(m<0||m>2e5)){P=(new Date).getTime();var t=20;0!=R&&(t=(P-R)/1e3),R=P;var i=parseInt(m/t),u=Number(v/t).toFixed(2),d=Number(g/t).toFixed(2),p=Number(u)+Number(d),h=Number(y/t).toFixed(2),f=Number(window.dropDanmuCount/t).toFixed(2),w=Number(_/t).toFixed(2);T=c.getCurTime();var S=parseInt(T-E),b=function(){var e=0,t=0,i=0;try{var n=performance.memory;n&&(e=n.totalJSHeapSize,t=n.usedJSHeapSize,i=n.jsHeapSizeLimit)}catch(e){}return{total_js_heap_size:e,used_js_heap_size:t,js_heap_size_limit:i}}(),k=b.total_js_heap_size,C=b.used_js_heap_size,x=b.js_heap_size_limit,A=I,L=r.videoBadQualityCount;U++,F+=m,U>=5&&(U=0,G()),q();var M=document.visibilityState;r.visibilityState=M;var D="visible"===M?1:0;a.log("上报  fps:".concat(i,",danmunormal:").concat(u,",danmutv:").concat(d,",danmutotal:").concat(p,",danmurender:").concat(h,",danmudrop:").concat(f,",lagcount:").concat(A,",videobad:").concat(L,",danmuwait:").concat(w));var B=r.isShowDanmu&&n?n.getAreaIndex()+1:0,N=r.isLowPerformance?1:0,H={pagegid:W(),version:s,danmumask:r.hasDanmuMask?1:0,fullscreen:r.isFullscreen?1:0,mid:O||"",oexp:r.mpExperiment,danmuarea:B,visibilitystate:D,lagcount:A,lowperformance:N},V={fps:i,danmunormal:u,danmutv:d,danmutotal:p,danmurender:h,danmudrop:f,danmuwait:w,retention_time:S,videobad:L,total_js_heap_size:k,used_js_heap_size:C,js_heap_size_limit:x,timegap:t},Y={sMetricName:"fed.main_room_fps",vDimension:H,vField:V};a.log("上报===",H,V),o.fireEvent(o.DATA_METRIC2,[Y]),j(i,D),function(t,i){if(r.isLowPerformance)return;t<=20&&t>0&&1===i?z++:z=0;z>=2&&(s=3)>0&&(window.isLowPerformance=!0,r.isLowPerformance=!0,window.msgDegradeLevel=s,e.sendWSUpdateUserInfoReq(),r.danmuP2P=!1,o.fireEvent(o.STOP_SIGNAL_P2P),a.log("触发了降级逻辑"),l.addLog("触发了降级逻辑"),n.closeDanmuMaskInLowFPS());var s}(i,D)}},G=function(){var e=parseInt(F/100),t={sMetricName:"fed.main_room_fps_100",vDimension:{pagegid:W(),version:s},vField:{fps:e}};o.fireEvent(o.DATA_METRIC2,[t]),a.log("100s上报  fps:".concat(e)),F=0},V=function(t){if((k+=t||0)>200){var i=e.getCurrentTime();i?(i==C&&x!=i&&r.videoBadQualityCount++,x=C,C=i):(x=0,C=0),k=0}},W=function(){return performanceInfo&&performanceInfo.pageGid||0},q=function(){m=0,v=0,g=0,y=0,_=0,window.dropDanmuCount=0,I=0,r.videoBadQualityCount=0,k=0,u=0};var j=function(e,t){0!==t&&(e<20&&r.hasDanmuMask&&!M&&null==localStorage.danmuMask&&n.closeDanmuMaskInLowFPS(),M=!1)},z=0;this.updateCount=function(e){w&&(1==e?v++:g++,S++)};this.setPerformanceReportTime=function(e,t,i){var n=t-e-1e3*i;n>200&&n<1e4&&I++}}},"A+Wi":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="end-ab-banner qrcode-mode-style">\n    <div class="bg"></div>\n    <img class="banner-image"/>\n    <div class="explain-group">\n        <div class="title"></div>\n        <div class="explain"></div>\n    </div>\n    <div class="ab-qr-code-wrap">\n        <div class="ab-qr-code-container">\n            <div class="ab-qr-code"></div>\n        </div>\n        <div class="ab-qr-code-desc"></div>\n    </div>\n    <div class="ab-common-details-btn"><span></span></div>\n    <div class="ab-logo"></div>\n    <i>广告</i>\n    <div class="ab-close"></div>\n</div>\n',__filename="src/tpl/ad/end-ad-banner-qrcode.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="end-ab-banner qrcode-mode-style">\n    <div class="bg"></div>\n    <img class="banner-image"/>\n    <div class="explain-group">\n        <div class="title"></div>\n        <div class="explain"></div>\n    </div>\n    <div class="ab-qr-code-wrap">\n        <div class="ab-qr-code-container">\n            <div class="ab-qr-code"></div>\n        </div>\n        <div class="ab-qr-code-desc"></div>\n    </div>\n    <div class="ab-common-details-btn"><span></span></div>\n    <div class="ab-logo"></div>\n    <i>广告</i>\n    <div class="ab-close"></div>\n</div>\n'),__line=19;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},A3DX:function(e,t,i){e.exports=function(e,t){var n,r,a,o,s,c,l,u,d=-1,p=-1,h="",f=!1,m="",v="",g=t.utils,y=t.G,_=t.Event,w=t.R,S=-1,b=null,I=!1,E=null,T=!1,k="",C=null,x=t.taf.HUYA;function A(){T=!0,y.followList&&(0==p||r||(null==b&&(b=$(i("zVS7")()),n.append(b),b.find(".accompany-subscribe-btn").click(L),b.find(".accompany-subscribed-btn").click(L),b.find(".accompany-order-btn").click(D)),!function(){if(!y.accMasterData)return!1;var e=y.accMasterData.vMaster.value;for(var t in e)if(e[t].tUserBase.lUid==p)return!0;return!1}()?(b.find(".accompany-order-btn").css("display","none"),b.css("height","33px")):(b.find(".accompany-order-btn").css("display","flex"),b.css("height","60px")),-1==S?function(){var e=new x.SubscribeStatusReq;e.tId=y.userId,e.tFrom.iType=1,e.tFrom.sKey=y.yyuid,e.tTo.iType=2,e.tTo.sKey=p,y.vplayerUI.sendWup2("liveui","getSubscribeStatus",e,R)}():b.show(),w.newHuyaReport({eid_desc:"用户/鼠标悬停/大神头像/派单厅",eid:"usr/hover/masterhead/dispatchroom",prop:JSON.stringify({master_uid:p}),uid:y.yyuid})))}function R(e){if(S=e.iStatus,M(),y.followList){var t=y.followList.add(y.yyuid,p,(function(){var e=t.target,i=t.state;e==p&&(1==(S=1==i?1:0)&&I&&(I=!1,_.fireEvent(_.SHOW_COMMON_TOAST,"关注成功")),M())}));y.presenterUid!=p&&(1==S?t._on():t._off())}T&&b.show()}function P(){T=!1,b&&b.hide()}function L(){w.newHuyaReport({eid_desc:"用户/点击/大神头像旁的关注按钮/派单厅",eid:"usr/click/masterheadfollowbtn/dispatchroom",prop:JSON.stringify({master_uid:p}),uid:y.yyuid}),P(),y.isLogin?0==S?(I=!0,y.followList.get(p).on()):y.followList.get(p).off():t.popLogin()}function M(){1==S?(b.find(".accompany-subscribed-btn").css("display","flex"),b.find(".accompany-subscribe-btn").css("display","none")):(b.find(".accompany-subscribed-btn").css("display","none"),b.find(".accompany-subscribe-btn").css("display","flex"))}function D(){P(),w.newHuyaReport({eid_desc:"用户/点击/大神头像旁的下单按钮/派单厅",eid:"usr/click/masterheadorderbtn/dispatchroom",prop:JSON.stringify({master_uid:p}),uid:y.yyuid}),y.isLogin?_.fireEvent(_.SHOW_ACCOMPANY_PANEL,{uid:p}):t.popLogin()}function B(){0!=p||r||e.showTips("下载小鹿APP，上麦和主播互动")}u=i("3PPS")(),(n=$(u)).appendTo("#make-friend .make-friend-head-container"),n.click(B),y.isPeiWan&&n.hover(A,P),c=n.find(".make-friend-seat-url"),l=n.find(".make-friend-source-url"),E=n.find(".wave-effect");var N=0;this.showWaveEffect=function(){f||o||s||(f=!0,E.show(),E.attr("src",k),clearTimeout(N),N=setTimeout((function(){f=!1,E.hide()}),2e3))},this.testCharm=function(e){charm=countsTransform(e),n.find(".make-friend-charm span").text(charm)},this.setData=function(t){C=t,d=t.iPos,o=t.iSilence,s=t.iMute,a=t.iGender,k=t.sRippleUrl||e.defalutWave;var i=t.sName,u=t.mpContext.value;""==t.sNick&&(t.sNick=i);var f=g.setLongString(t.sNick,5),_=u.super_fans||0;n.find(".make-friend-nick").css("color",_?"#FF4C66":"#FFF"),n.find(".make-friend-nick").text(f);var w=t.sSeatUrl||"";w&&m!=w&&(m=w,c.attr("src",m)),c.css("display",""!=w?"block":"none");var S=t.sSourceUrl||"";S&&v!=S&&(v=S,l.attr("src",v)),l.css("display",""!=S?"block":"none");var b=t.sCharm||0;b=g.countsTransform(b),n.find(".make-friend-charm span").text(b),n.find(".make-friend-charm").css("display",""!=t.sCharm?"block":"none"),n.find(".make-friend-close-mic").css("display",t.lUid&&(o||s)?"block":"none"),n.css("cursor",t.iLocked||t.lUid?"default":"pointer"),p==t.lUid&&r==t.iLocked||(p=t.lUid,r=t.iLocked,n.removeClass("make-friend-item-noraml make-friend-item-lock make-friend-item-empty"),0!=p?(n.addClass("make-friend-item-noraml"),a?n.find(".make-friend-head").css("border","2px solid #96caff"):n.find(".make-friend-head").css("border","2px solid #ffa5f0")):(n.find(".make-friend-head").css("border","2px solid rgba(0, 0, 0, 0.2)"),r?n.addClass("make-friend-item-lock"):n.addClass("make-friend-item-empty")));var I=n.find(".make-friend-head img");p?(""==t.sAvatarUrl&&(t.sAvatarUrl=y.H5ROOT+"src/img/make-friend/default-head.png"),h!=t.sAvatarUrl&&(h=t.sAvatarUrl,I.attr("src",h)),I.show()):I.hide()},this.item=function(){return n},this.pos=function(){return d},this.uid=function(){return p},this.getData=function(){return C}}},A6Vu:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="danmu-effect-wrap">\n    <div class="bg"></div>\n    <div id="danmu-effect-1" class="word">\n        <div class="word-container">\n            <div class="word-item"></div>\n        </div>\n    </div>\n    <div id="danmu-effect-2" class="word">\n        <div class="word-container word-container-center">\n            <div class="word-item word-center"></div>\n        </div>\n    </div>\n    <div id="danmu-effect-3" class="word">\n        <div class="word-container word-container-bottom">\n            <div class="word-item word-bottom"></div>\n        </div>\n    </div>\n</div>',__filename="src/tpl/notice/danmu-effect.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="danmu-effect-wrap">\n    <div class="bg"></div>\n    <div id="danmu-effect-1" class="word">\n        <div class="word-container">\n            <div class="word-item"></div>\n        </div>\n    </div>\n    <div id="danmu-effect-2" class="word">\n        <div class="word-container word-container-center">\n            <div class="word-item word-center"></div>\n        </div>\n    </div>\n    <div id="danmu-effect-3" class="word">\n        <div class="word-container word-container-bottom">\n            <div class="word-item word-bottom"></div>\n        </div>\n    </div>\n</div>'),__line=18;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},AAUK:function(e,t){e.exports=function(e){var t=0,i=0,n=0,r=0,a=!1;function o(){t=0,i=0,n=0,a=!1,clearInterval(r),s(!1)}function s(t){t?(c(),e.removeClass("normal"),e.addClass("combo")):(e.text("赠送"),e.addClass("normal"),e.removeClass("combo"))}function c(){a&&(e.text("连送("+n+")"),--n<0&&o())}this.setCombo=function(e,o){t=e,i=parseInt(o),n=31,a=!0,s(!0),clearInterval(r),r=setInterval(c,1e3),c()},this.clearCombo=o,this.setNum=function(e,r){s(a=t==e&&i>0&&i==r&&n>0)},this.getInfo=function(){return{num:i,propsId:t}}}},ALsQ:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,i,n){var r,a=this._iv;a?(r=a.slice(0),this._iv=void 0):r=this._prevBlock,n.encryptBlock(r,0);for(var o=0;o<i;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize;t.call(this,e,i,r,n),this._prevBlock=e.slice(i,i+r)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,a=e.slice(i,i+r);t.call(this,e,i,r,n),this._prevBlock=a}}),e}(),n.mode.CFB)},AWlx:function(e,t,i){e.exports=function(e){var t=e.G,n=e.ISDEBUG,r=e.utils;e.addTafListener("2410002",(function(e){var a=e.tItemHome,o=e.tItemLatest,s=e.sSessionId,c=a.sAvatarUrl,l=a.sNickName,u=a.lPid===o.lPid,d=o.iRoomId;if(t.presenterUid==o.lPid)return;var p=i("YNoF")(),h=$(p),f="<span>".concat(l,"</span> 回到自己的直播间");u||(f="<span>".concat(l,"</span> 正在逛 <span>").concat(o.sNickName,"</span> 的直播间"));h.find(".content").html(f),h.find(".btn").text(u?"回去咯":"去逛逛"),h.find("img").attr("src",c);var m=$("#player-wrap").width();h.css({transition:"transform 10s linear",transform:"translateX("+m+"px)"}),$("#player-wrap").append(h);var v=h.width()+5;h.css({transform:"translateX("+-v+"px)"}),h.click((function(e){if(r.stopPropagation(e),d){var t=u?"":"?strollSid=".concat(s),i="//www.huya.com/".concat(d).concat(t);n&&(i="//test-www.huya.com/".concat(d).concat(t)),window.open(i,"_self")}})),h.bind("transitionend webkitTransitionEnd",(function(){h.unbind(),h.remove()}))}))}},AZov:function(e,t,i){e.exports=function(e){var t,n=!1,r=e.G,a=null;function o(e){r.isShieldingEffect||(n||(n=!0,c(e.iEffectType,e.sEffectWord)))}e.addTafListener("1025302",o);var s=0;function c(e,r){var o=i("A6Vu")();t=$(o),$("#videoContainer").append(t),null==a&&(a=i("676x"));var s=$("#danmu-effect-1"),c=$("#danmu-effect-2"),p=$("#danmu-effect-3");$(".word-item").text(r),t.find(".bg").addClass("bg-type-"+e),setTimeout((function(){t.show(),u(s,-100,0,null,0,0),u(p,-100,0,null,0,0),u(c,100,0,null,0,0),setTimeout((function(){d(s,l,.1,.1),d(c,l,.1,.1),d(p,l,.1,.1)}),3500)}),1e3),setTimeout((function(){t.remove(),n=!1}),5500)}function l(e){e.remove()}function u(e,t,i,n,r,a){TweenLite.killTweensOf(e),TweenLite.fromTo(e,.5,{left:t,opacity:a,ease:Back.ease},{left:i,opacity:1,ease:Back.ease,onComplete:n}).delay(r)}function d(e,t,i,n){TweenLite.killTweensOf(e),TweenLite.to(e,n,{opacity:.2,ease:Back.ease}).delay(i),TweenLite.to(e,n,{opacity:1,ease:Back.ease}).delay(2*i),TweenLite.to(e,n,{opacity:.2,ease:Back.ease}).delay(3*i),TweenLite.to(e,n,{opacity:1,ease:Back.ease}).delay(4*i),TweenLite.to(e,.5,{opacity:0,ease:Back.ease,onComplete:t,onCompleteParams:[e]}).delay(5*i)}window.danmuEffect=function(e){c(e,"测试的文字"),clearInterval(s),s=setInterval(c,6e3,e,"测试的文字")}}},AkUI:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.taf,a=e.utils,o=e.Console,s=r.HUYA,c=0,l=0,u=1,d=null,p={},h=null;function f(){var i=new s.GetEffectsMessengerListReq;i.tId=t.userId,i.lPid=t.presenterUid,e.sendWup2("wupui","getEffectsMessengerList",i,m)}function m(e){var t=e.tRoomDefaultComm,i=e.tRoomDefaultStyle;!function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i],r=n.lEffectsId,a=n.tStyleInfo;if(r>0){var o=w(a.sBackground),s=w(a.sHeadIcon),c=w(a.sTailIcon),l={sBackground:o,sHeadIcon:s,sTailIcon:c};p[r]=l}}}(e.vRoomBusiStyleList.value),g(t),_(i)}function v(e){var i=e.tRoomDefaultComm,n=e.tRoomDefaultStyle,r=e.tRoomInfo;g(i),_(n),function(e){var i=e.iStart,n=e.sRoomEffectsMessengerName,r=e.sHeadIcon;if(1!=i)return;var a=$('<div class="player-danmu-effect-notice"><img /><span></span></div>'),o=(new Date).toLocaleDateString(),s=0,c=n;0==t.isShowDanmu?(c="".concat(n,"，开启弹幕查看哦～"),s=1):"1"==localStorage.shieldDanmuEffect?(c="".concat(n,"，开启弹幕特效查看哦～"),s=2):a.css("background","rgba(255, 122, 0, 0.7)");if(s>0){var l="danmuEffectTips".concat(s);if(localStorage.getItem(l)==o)return;localStorage.setItem(l,o)}var u=w(r);a.find("span").text(c),a.find("img").attr("src",u);var d=$("#player-wrap").width();a.css({transition:"transform 10s linear",transform:"translateX("+d+"px)"}),$("#player-wrap").append(a);var p=a.width()+5;a.css({transform:"translateX("+-p+"px)"}),a.bind("transitionend webkitTransitionEnd",(function(){a.unbind(),a.remove()}))}(r)}function g(e){e.lEffectsId>0?(d=e.tCommInfo,c=d.iAngle,u=d.iDirection,l=d.iDepthOfField,o.log("tttt",c,u,l),n.fireEvent("undateEffectCommInfo",{iAngle:c,iDirection:u,iDepthOfField:l})):n.fireEvent("undateEffectCommInfo",null)}t.isUserInfoInited()?f():n.addEvent(n.USER_INFO_INITED,f),e.addTafListener("7772",v);var y=55;function _(e){var t=e.lEffectsId,i=e.tStyleInfo;if(t>0){var r=w(i.sBackground),a=w(i.sHeadIcon),o=w(i.sTailIcon);h={sBackground:r,sHeadIcon:a,sTailIcon:o},n.fireEvent("undateEffectDefaultStyle",h)}else n.fireEvent("undateEffectDefaultStyle",null)}function w(e){return e=a.unescapeHTML(e),(e=t.makeHttpsUrl(e)).replace("<ua>","3")}function S(){return c<=-70||c>=70}function b(e,t){e.css("background","url(".concat(t,") no-repeat")),e.css("background-size","100% 100%")}this.getMoveDistance=function(e,t){return 0==c?e:90==c||-90==c?t:70==c||-70==c?t+.3*e/2:Math.sqrt(e*e+t*t)},this.getDanmuLine=function(e,t,i,n,r){return 90==c||-90==c?e/(i+r)>>0:(t-n)/(i+r)>>0},this.setDanmuContainerStyle=function(e,t,i,n){var r=0,a=1==u?-c:c;a=90==c||-90==c?0:a,70==c&&1==u||-70==c&&2==u?a=20:(-70==c&&1==u||70==c&&2==u)&&(a=-20);var o={transform:"rotate(".concat(a,"deg)")};if(90==c||-90==c){var s=(n-t)/2;o.width="".concat(i,"px"),o.left=0,o.height="".concat(t,"px"),o.top="".concat(s,"px")}else if(70==c||-70==c){r=(i-n)/2;s=(n-t)/2;o.width="".concat(n,"px"),o.left="".concat(r,"px"),o.height="".concat(t,"px"),o.top="".concat(s,"px")}else r=(i-t)/2,o.width="".concat(t,"px"),o.left="".concat(r,"px");e.css(o)},this.resetDanmuContainerStyle=function(e){e.css({transform:"none",top:0,left:0,width:"100%",height:"100%"})},this.getEffectConfig=function(){return d},this.addDepthOfField=function(e){return Math.random()>.5&&(e.addClass("depth-of-field-mode"),!0)},this.getDanmuEffectStyle=function(e){return p[e]||h},this.setDanmuVertical=function(e,t){S()&&(e.addClass("danmu-item-vertical-mode"),t.isTv&&e.css("width","35px"))},this.setBgStyle=function(e,t,i){var n=t.makeResult,r=e.find("span");if(i&&S()){var a=r.height()+y+5,o=Math.max(142,a);n&&n.hasFace&&(o+=28*n.faceCount),e.find(".content").css({height:o,width:"40px"});var s=e.find(".bg");s.css({width:o,height:"40px"}),c<=-70&&(s.css({transform:"rotate(90deg)",top:"-15px","transform-origin":"0% 100%"}),r.css("top",y))}else{var l=r.width()+y+5,d=Math.max(142,l);n&&n.hasFace&&(d+=28*n.faceCount),e.find(".bg").css({height:"40px",width:d}),r.css("top","0"),2==u&&i&&e.addClass("reverse")}},this.isVertical=S,this.toDown=function(){return 90==c||70==c},this.toUp=function(){return-90==c||-70==c},this.setDanmuBG=function(e,t){var n=e.sBackground,r=e.sHeadIcon,a=e.sTailIcon,o=i("14aF")(),s=$(o),l=!1;return l=!!t&&(S()?c>=70:2==u),b(s.find(".head"),l?a:r),b(s.find(".bg"),n),b(s.find(".tail"),l?r:a),s}}},B0bP:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e,t){var n=e.G,a=e.R,o=e.Console,s=e.logUtils,c=e.Event,l=e.utils,u=i("wQPa"),d=u.STRATEGY_TYPE_KEY_FREQ_CONTROL,p=u.STRATEGY_TYPE_NEGATIVE_FEEDBACK,h=u.STRATEGY_TYPE_NO_REPLACE_OTHERS,f=u.STRATEGY_TYPE_AGGREGATION_CONTROL,m=null,v=null,g=null,y=null,_=i("YKGR").default,w=null,S=0,b=[],I={},E={},T=null,k=3e4,C=12e4,x=!1,A=!0,R=!1,P=0;function L(e,n){var r=e.liveroomPopupKey,c=e.additionReportParams,l="popupManager ".concat(n," ：");s.log(l,"=========",e);var u=e.showTime,v=t.findPopupWindowSummary(r);if(!v){var g="未找到".concat(r,"对应的配置");return t.reportGetLiveRoomPopup({popup_id:r}),t.reportLoseLiveRoomPopup({popup_id:r},g),s.log(l,g),{res:2,msg:g,data:{}}}s.log(l,"找到".concat(r,"对应的配置:"),v);var y=t.makeReportParams(v,c,e);t.reportGetLiveRoomPopup(y);var _=1e3*v.iAutoCloseSeconds,I=e.unlimitedTime||!1;!u||I?u=_||k:_>0&&(u=Math.min(_,u)),function(){if(null==T){var e=i("CmEr");T=new e("popup")}}();var E=T.creatId(r),C={vSummary:v,noticeKey:E,liveroomPopupKey:r,showTime:u,reportParams:y,unlimitedTime:I},L=function(e){var t=e.vSummary.sKey,i=function(e){var t=e.vSummary,i=t.iDayShowMaxCount,n=t.lStrategyTypeCombination;if(i>=0)return i;if(m&&m.iDayShowMaxCount&&(n&d)==d)return m.iDayShowMaxCount;return-1}(e);if(i<=0)return{isshowMaxLimit:!1,countFunc:null};var n=(new Date).toLocaleDateString(),r=JSON.parse(localStorage.getItem("PopupShowCount"))||{};r.date!==n&&(r={date:n,counts:{}});return r.counts[t]?r.counts[t]>=i?{isshowMaxLimit:!0,countFunc:null}:{isshowMaxLimit:!1,countFunc:function(){r.counts[t]++,localStorage.setItem("PopupShowCount",JSON.stringify(r))}}:{isshowMaxLimit:!1,countFunc:function(){r.counts[t]=1,localStorage.setItem("PopupShowCount",JSON.stringify(r))}}}(C),M=L.isshowMaxLimit,U=L.countFunc;if(M){var H="".concat(r," 超过每日显示次数");return s.log(l,H),t.reportLoseLiveRoomPopup(y,H),{res:3,msg:H,data:{}}}return e.holdPopupData&&(C.holdPopupData=e.holdPopupData,C.extPopupCacheData={noticeKey:E,showTime:u,reportParams:y}),function(e,i){if(e.countFunc=i,s.log("popupManager pushPopupWindow ".concat(e.liveroomPopupKey),e),e.nAggCtr=function(e){if((e.vSummary.lStrategyTypeCombination&f)==f)return!0;return!1}(e),e.nNegFeedBack=function(e){if((e.vSummary.lStrategyTypeCombination&p)==p)return!0;return!1}(e),x){var n=!e.nAggCtr||0==A&&P>0,r=!e.nNegFeedBack||0==R;if(s.log("popupManager pushPopupWindow ,passAggCtr=".concat(n,",passNegFeedBack=").concat(r)),n&&r){s.log("popupManager pushPopupWindow ,curPopupData",w);var c=w&&function(e,t){var i=e.vSummary.iReplaced,n=t.vSummary.lStrategyTypeCombination;if(o.log("popupManager popupCanReplce",e,t),1==i&&(n&h)!=h)return!0;return!1}(w,e);if(s.log("popupManager pushPopupWindow ,canReplce",c),c||!w){if(b.unshift(e),w){if(w.isHoldIng)return s.log("popupManager pushPopupWindow 小程序弹窗占位状态，被高优弹窗插入",w),t.extPopup.canceleHolding(w.holdPopupData.liveRoomPopupWindowId),b.splice(1,0,w),N(w.noticeKey),F(),w=null,S=0,void O();s.log("popupManager 被顶掉了",w&&w.liveroomPopupKey),a.newHuyaReport({eid_desc:"冲突公屏弹窗反馈",eid:"state/conflict_liveroom_universal_popup",prop:JSON.stringify(w.reportParams)},"huya_web"),B(!1,!0)}else D();return}}}s.log("popupManager pushPopupWindow 加入队列中"),b.push(e),b.sort((function(e,t){return t.vSummary.lRankValue-e.vSummary.lRankValue}))}(C,U),s.log(l,"成功"),{res:0,msg:"成功",data:{noticeKey:E,showTime:u,reportParams:y}}}function M(i){i.countFunc&&i.countFunc();var r=i.noticeKey,a=i.showTime,o=i.reportParams,l=i.unlimitedTime?C:a;I[r]=setTimeout((function(){B()}),l),n.popupPosition++,s.log("popupManager 显示弹窗",r,o,i);var u={noticeKey:r,status:o.trigger_type===2?'sholdHide':"canShow",showTime:a,reportParams:o};e.trigger("popupStatusChange",u),c.fireEvent(c.POPUP_STATUS_CHANGE,u),t.reportShowLiveRoomPopup(o,i,b),s.log("popupManager 弹窗状态变更，通知小程序显示 popupStatusChange",u)}function D(){s.log("popupManager showNextPopup",b.concat()),S>0?s.log("popupManager 弹窗还在展示中或者占位待展示中，等状态结束后再执行下一个弹窗",w):b.length>0&&(S=1,l.requestAnimFrame((function(){var e;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=b.shift()){i.next=5;break}return s.log("popupManager showNextPopup nextPopup is null"),D(),i.abrupt("return");case 5:if(w=e,!e.holdPopupData){i.next=20;break}return t.extPopup.setExtPopHolding(e),s.log("popupManager 占位中 等待nextPopup promise完成",e),i.prev=9,i.next=12,regeneratorRuntime.awrap(e.promise);case 12:s.log("popupManager holding 完成"),i.next=20;break;case 15:return i.prev=15,i.t0=i.catch(9),s.log("popupManager 占位 等待nextPopup promise完成，出错",i.t0),100!=i.t0.code&&300!=i.t0.code||(N(w.noticeKey),F(),w=null,S=0,O()),i.abrupt("return");case 20:s.log("popupManager curPopupData 当前的",w),M(e),S=2;case 23:case"end":return i.stop()}}),null,null,[[9,15]])})))}function B(t,i){if(s.log("popupManager 清理弹窗",w),!w)throw D(),new Error("curPopupData is null");var n=w,l=n.noticeKey,u=n.reportParams,d=n.showTime;N(l);var p=r({},u,{close_type:t?2:1});a.newHuyaReport({eid_desc:"关闭公屏弹窗",eid:"state/close_liveroom_universal_popup",prop:JSON.stringify(p)},"huya_web"),o.log("popupManager 关闭公屏弹窗上报 state/close_liveroom_universal_popup",p),w.nNegFeedBack=w.nNegFeedBack&&t,F(),w=null,S=0;var h={noticeKey:l,status:"shouldHide",showTime:d,reportParams:u};e.trigger("popupStatusChange",h),c.fireEvent(c.POPUP_STATUS_CHANGE,r({},h,{conflict:i})),s.log("popupManager 弹窗状态变更，通知小程序影藏 popupStatusChange",h),O()}function N(e){clearTimeout(I[e]),delete I[e]}function U(e){var t=e.status,i=e.noticeKey,n=e.conflict;if(E[i]){var r=E[i],a=r.showFun,o=r.hideFun,c=r.result;if("canShow"==t)try{a&&a(c)}catch(e){s.log("nativePopupEnQueue showFun error",e),B(),console.error(e)}else"shouldHide"==t&&(null!=n&&(c.conflict=n),o&&o(c),delete E[i])}}function F(){w.nAggCtr||w.nNegFeedBack?(w.nNegFeedBack&&(R=!0,function(){var e=m.iUserCloseGapSeconds;s.log("popupManager 负反馈锁定");var t=function(){R=!1,s.log("popupManager 负反馈解锁"),H()};0==e?t():(_.removeTimer(y),y=_.startTimer(e,t,!0))}()),w.nAggCtr&&(0==--P?(A=!0,G()):(s.log("popupManager 当前窗口期还能展示"+P),H()))):G()}function O(){s.log("popupManager checkWaitPopup");for(var e=b.length,t=0;t<e;t++){var i=b[t],n=!i.nAggCtr||0==A&&P>0,r=!i.nNegFeedBack||0==R;if(n&&r)return b.splice(t,1),b.unshift(i),D(),!0}return!1}function H(){if(null==w&&O())return;A||R?s.log("popupManager 通道是锁住状态，暂时无法显示下一个弹窗 gapLock:".concat(A," negativeFeedbackLock:").concat(R)):D()}function G(){var e=m,t=e.iShowGapSeconds,i=e.iOtherwiseMaxCount,n=t;s.log("popupManager 聚合频控锁定");var r=function(){A=!1,P=i,s.log("popupManager 聚合频控解锁"),H()};0==n?r():(_.removeTimer(g),g=_.startTimer(n,r,!0))}c.addEvent(c.POPUP_STATUS_CHANGE,U),this.doEnQueue=L,this.doDeQuene=function(e,t){var i=e.liveroomPopupKey,n="popupManager ".concat(t," ：");s.log(n,"=========",e),s.log(n,"curPopupData,liveroomPopupKey",w,i),w&&w.liveroomPopupKey==i?(s.log(n," 清掉当前显示的"),B(!1!==e.initiative)):(b=b.filter((function(e){return e.liveroomPopupKey!==i})),s.log(n,"等待列表删除后".concat(i),b.concat()))},this.nativePopupEnQueue=function(e,t,i){e.additionReportParams=e.additionReportParams||{};var n=L(e,"nativePopupEnQueue");if(n&&0==n.res){var r=n.data.noticeKey;E[r]={param:e,showFun:t,hideFun:i,result:n}}else s.log("nativePopupEnQueue fail",n);return n},this.startQueneTimer=function(e,t){var i=m=t,n=i.iEnterRoomDelaySeconds,r=i.iEnterRoomMaxCount,a=n-(Math.floor(Date.now()/1e3)-e),o=function(){s.log("popupManager 弹窗通道ready"),A=!1,x=!0,P=r,D()};0==(a=a>0?a:0)?o():(_.removeTimer(v),v=_.startTimer(a,o,!0))},this.pushExtPopupWindow=function(e){var t=L({liveroomPopupKey:e.liveRoomPopupWindow.sLiveRoomPopupKey,holdPopupData:e},"newExtPopup");t&&0==t.res?s.log("popupManager pushExtPopupWindow  success",t):s.log("popupManager pushExtPopupWindow fail",t)}}},B4zd:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<li class="gift-panel-item" propsId="<%=iPropsId%>" iPropsPermission="<%=iPropsPermission%>">\n    <div class="plaer-face-icon-bg"></div>\n    <img class="player-face-icon" src="<%=icon%>">\n    <i></i>\n    <div class="player-superfans-card-count"></div>\n</li>',__filename="src/tpl/gift/gift-panel-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<li class="gift-panel-item" propsId="'),__append(escapeFn(iPropsId)),__append('" iPropsPermission="'),__append(escapeFn(iPropsPermission)),__append('">\n    <div class="plaer-face-icon-bg"></div>\n    <img class="player-face-icon" src="'),__line=3,__append(escapeFn(icon)),__append('">\n    <i></i>\n    <div class="player-superfans-card-count"></div>\n</li>'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},B9Qt:function(e,t){e.exports=function(e){var t=e.taf,i=e.Event,n=(e.G,e.R,t.HUYA,parseInt(localStorage.getItem("msgConnectBanner"))||0),r=0;function a(e){r=e[20007]}i.addEvent(i.MSG_SHIELD_CFG,a);var o=null;this.getMsgConnectData=function(e){var t=e.iFlag,i=e.sPrefix;return t&&i?e:null},this.showMsgConnectBanner=function(){if(!(n>=3)&&null==o){o=$('<div class="player-msg-connect">本直播间当前已开启弹幕互通，各位水友们要友好交流哦~</div>');var e=$("#player-wrap").width();o.css({transition:"transform 10s linear",transform:"translateX("+e+"px)"}),$("#player-wrap").append(o);var t=o.width()+5;o.css({transform:"translateX("+-t+"px)"});var i=parseInt(localStorage.msgConnectBanner)||0;i++,localStorage.msgConnectBanner=i,o.bind("transitionend webkitTransitionEnd",(function(){o.unbind(),o.remove()}))}},this.isMsgConnectClose=function(){return 1==r}}},BIcx:function(e,t,i){e.exports=function(e){var t=e.G,n=e.utils,r=e.R,a=[],o=null,s=null,c=0,l="matchrecommend_operationstrigger",u={};function d(){var i=s,n=i.sWebLinkUrl,r=i.iPushType;i.lAnchorUid;if(n){if(2==r)if(0==n.indexOf("huyapc://huyaaction")){var a={pcHuyaAction:n,channel:"actDialog",successCb:function(e){h("go",{click_type:e.isInstall?1:0})}};return void TT.openPc(a)}var o=t.makeHttpsUrl(n);window.open(o),h("go")}e.popupManager.reportClickLiveRoomPopup(u,"body")}function p(){f(),h("close")}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s,n={push_type:i.iPushType,anchor_uid:i.lAnchorUid,game_id:i.iGameId,url:i.sWebLinkUrl,button_name:e};t.click_type&&(n.click_type=t.click_type),r.newHuyaReport({eid_desc:"点击直播间推送",eid:"click/liveroom_push",prop:JSON.stringify(n)},"huya_web")}function f(){clearTimeout(c),o&&(o.unbind(),o.remove(),o=null)}this.onMatchLiveRoomRecMsg=function(c){var h,m,v=c.iPushId,g=c.iPushType;s=c,(1==g||2==g)&&-1==a.indexOf(v)&&(a.push(v),h=s.ishowTime,m={liveroomPopupKey:l,showTime:1e3*h},e.popupManager.nativePopupEnQueue(m,(function(a){u=a.data.reportParams,function(){f();var a=i("zCle")(),c=s,u=c.iPushType,h=c.sTitle,m=c.iGameId,v=c.lAnchorUid,g=c.ishowTime,y=c.sWebLinkUrl,_=c.sBanner,w=(o=$(a)).find("img");_?(w[0].onerror=function(){w.attr("src",t.H5ROOT+"src/img/match/default-banner.png")},w.attr("src",_)):w.attr("src",t.H5ROOT+"src/img/match/default-banner.png"),2==u&&(o.addClass("activity"),o.find(".btn").text("去参与"));var S=n.unescapeHTML(h);o.find("h5").text(S),o.click(d),o.find(".close").click((function(t){n.stopPropagation(t),e.popupManager.nativePopupDeQueue({liveroomPopupKey:l}),p()})),$("#huya-ab-fixed").before(o);var b={push_type:u,anchor_uid:v,game_id:m,url:y,duration:g};r.newHuyaReport({eid_desc:"曝光直播间推送",eid:"show/liveroom_push",prop:JSON.stringify(b)},"huya_web")}()}),(function(e){p()})))}}},BeMa:function(e,t,i){var n,r,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(s,c){"object"==o(t)?e.exports=t=c(i("TdfZ")):(r=[i("TdfZ")],void 0===(a="function"==typeof(n=c)?n.apply(t,r):n)||(e.exports=a))}(0,(function(e){var t,i,n;i=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,l=0;l<i;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})}))},BlJU:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="ext-gift-tip">\n    <div class="ext-gift-tip-icon"></div>\n    <span></span>\n    <div class="ext-gift-tip-close"></div>\n    <div class="player-arrow-down arrow"></div>\n</div>',__filename="src/tpl/gift/ext-gift-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="ext-gift-tip">\n    <div class="ext-gift-tip-icon"></div>\n    <span></span>\n    <div class="ext-gift-tip-close"></div>\n    <div class="player-arrow-down arrow"></div>\n</div>'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},CchG:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<a href='javascript:;' class='player-subscribe-banner subscribe'><span>点我一下，关注主播</span></a>\n",__filename="src/tpl/others/subscribe-banner.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append("<a href='javascript:;' class='player-subscribe-banner subscribe'><span>点我一下，关注主播</span></a>\n"),__line=2;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},CmEr:function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pre=t,this._id=0}var t,n,r;return t=e,(n=[{key:"creatId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e+ ++this._id:this._pre+ ++this._id}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=n},Cqih:function(e,t,i){e.exports=function(e,t){var n=null,r=null,a=null,o=null,s=null,c=e.G,l=e.utils,u=e.Console,d=e.Event,p=e.R,h=0,f=-1,m=0,v={},g=null,y=!0,_=[],w=0,S=1,b=30,I=!0,E=0,T=100,k=12e4,C=3e3,x=20,A=25,R=.5,P=.8,L=t.configJson,M=t.broadcastGroup;i("676x");var D,B=i("csDN"),N=this;function U(e){if("hidden"!=c.visibilityState){var t=e.lUid,i=e.eTsType,n=e.tPtsInterval,r=e.tSeiDtsInterval,a=e.vPayload,o=e.vExtData,s=e.lId;if(t==c.presenterUid){!function(e){f!=e&&(f=e,z());H()}(i);var d=1!=f?n:r,p=d.lStartTs,h=d.lEndTs,g=h-m;if(h<m||g>k)u.log("异常丢弃，onCaptionInfoNotice======= lId tsType curPts lStartTs,lEndTs,lEndTs-curPts",s,f,m,p,h,g);else{v[s]=v[s]||{},v[s][p]=v[s][p]||{lId:s,lStartTs:p,lEndTs:0,context:""};var y=a.getBuffer(),_=l.ab2str(y,!0),w=o.getBuffer(),S=l.ab2str(w,!0),b=S.split(":"),I=b[0]||"unk",E=b[1]||"#FFFFFF";h>v[s][p].lEndTs&&(v[s][p].lEndTs=h,v[s][p].context=_,v[s][p].label=I,v[s][p].color=E),u.log("ttttt============lId ,curPts,lStartTs,lEndTs,lStartTs-curPts,vedStr,context",s,m,p,h,p-m,S,_),F()}}}}function F(){0==h&&(h=setInterval(V,T))}function O(){clearInterval(h),h=0}function H(){m=c.matchTeamAudioPlay&&c.matchTeamAudioH5Player?1==f?c.matchTeamAudioH5Player.getCurrentSeiDts():c.matchTeamAudioH5Player.getCurrentTime():1==f?c.vplayer.getCurrentSeiDts():c.vplayer.getCurrentTime()}this.setAlpha=function(e){S=e,r.css("opacity",S)},this.setWordSize=function(e){b=e+10,J(),n.css({height:"".concat(b,"px")}),r.css({"font-size":"".concat(e,"px")}),a.css({height:"".concat(b,"px")}),o.css({"font-size":"".concat(e,"px"),bottom:"-".concat(b,"px")}),K()},this.setCaptionShow=function(e){(I=e)?(F(),c.vplayerUI.registerGroup(M)):(O(),Y(),c.vplayerUI.unRegisterGroup(M));K()},D=i("SJG4")(),(s=$(D)).appendTo($("#player-video")),s.hide(),n=$("#video-ai-caption-main"),r=n.find(".caption-context"),a=$("#video-ai-caption-effect"),o=a.find(".caption-context"),e.addTafListener("1210000",U),new B(e,N,L).show(),Z(),$(window).resize(l.throttle(Z,200)),d.addEvent(d.MATCH_REPLAY_MODE_CHANGE,X);var G="";function V(){H();var e=function(){var e=null;for(var t in v){for(var i in v[t]){var n=v[t][i];m>n.lEndTs&&delete v[t][i],n&&n.lStartTs<m&&m<n.lEndTs&&(e=n)}if(e)return e;0==Object.keys(v[t]).length&&delete v[t]}return null}();if(e){var t=g=e,i=t.context,n=t.lStartTs,a=t.lId,o=t.label,l=t.color,u="".concat(a,":").concat(i);G!=u&&(G=u,function(e,t,i,n,r,a,o){var s=function(e,t){for(var i=t.length-1;i>=0;i--)if(t[i]&&t[i].lId==e)return t[i].div;return null}(t,n),c="".concat(a,"：").concat(i);"unk"===a&&(c="".concat(i));s?s.text(c):((s=$("<span></span>")).attr("ts",e),s.text(c),s.appendTo(r),n.push({lId:t,div:s}));o!=s.attr("color")&&(s.attr("color",o),s.css("color",o))}(n,a,i,_,r,o,l),q()),y&&(s.fadeIn("normal",(function(){y=!1,s.show()})),function(){if(W)return;p.newHuyaReport({eid_desc:"系统/曝光/实时字幕",eid:"sys/pageshow/realtime_subtitle",prop:JSON.stringify({ayyuid:c.presenterUid}),uid:c.yyuid})}())}if(g&&m>g.lEndTs+C){var d=g,h=d.lStartTs,f=d.lId;v&&v[f]&&delete v[f][h],z(),0==Object.keys(v).length&&O()}}var W=!1;function q(e){var t=r.height();if(t!=w){if(w&&!e){var i=(E||$("#player-video").height())*A/100;n.css("bottom","".concat(i-b,"px")),TweenLite.killTweensOf(n),TweenLite.to(n,R,{bottom:"".concat(i,"px"),ease:Linear.easeNone});var s=r.html();o.html(s),a.css("opacity",S),TweenLite.killTweensOf(a),a.css("bottom","".concat(i,"px")),TweenLite.to(a,R,{bottom:"".concat(i+b,"px"),ease:Linear.easeNone,onComplete:j})}w=t}}function j(){TweenLite.to(a,P,{opacity:0,ease:Linear.easeNone}),function(){if(_.length>x){J(),a.css({opacity:0});for(var e=parseInt(x-3),t=0;t<e;t++){var i=_[t].div;i&&i.remove()}_=_.slice(e),q(!0)}}()}function z(){s.fadeOut("normal",(function(){Y()}))}function Y(){J(),g=null,y=!0,s.hide(),r.empty(),o.empty(),_=[],w=0,v={}}function J(){TweenLite.killTweensOf(n),TweenLite.killTweensOf(a)}function K(){var e=null;if(I){var t,i=E||$("#player-video").height();e={top:(100-A)/100*i-(t=2*b),height:t}}d.fireEvent(d.SHIELD_DANMU_AREA,e)}function Z(){J();var e=(E=$("#player-video").height())*A/100;n.css("bottom","".concat(e,"px")),a.css({bottom:"".concat(e,"px"),opacity:0}),K()}function X(e){1==e&&Y()}this.isOpen=function(){return I},this.setGroudName=function(e){M=e,z()},this.turnOff=O}},Cv2n:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.alert,a=e.R,o=e.logUtils,s=e.Console,c=e.ISDEBUG,l=e.taf,u=l.HUYA,d=l.Taf,p=3,h=null,f=null,m=null,v=!1,g=null,y=0,_=!1;function w(e){1==e&&v&&x()}function S(){if(null==h){var e=i("+wow")();(h=$(e)).click(T),n.fireEvent(n.ACTIVITY_ICON_COUNT_UPDATE,{icon:h,priority:1e3,key:"box",value:1,appendCallback:b})}}function b(e){_=e,e&&g&&g.hide()}t.isLogin?(t.isUserInfoInited()?k():n.addEvent(n.USER_INFO_INITED,k),n.addEvent(n.PLAYER_FLOAT,w)):S();var I=0,E=0;function T(){t.isLogin?(!function(){if(v)return;k(),clearTimeout(y),y=setTimeout((function(){v=!1}),5e3),v=!0}(),g&&g.fadeOut("normal",(function(){g.hide()})),n.fireEvent(n.QUIT_FULL_SCREEN)):e.popLogin()}function k(){var i=new u.GetLiveBoxUserGrowthPageReq;i.tId=t.userId,i.lPid=t.presenterUid,i.iFromType=p,e.sendWupNew("wupui","getLiveBoxUserGrowthPage",i,u.GetLiveBoxUserGrowthPageRsp).then(C)}function C(t){if(clearTimeout(y),0==t.bcode){var n=t.vModule.value,r=n.length;m={};for(var a=0;a<r;a++){var c=n[a],l=c.iType,p=c.vData;switch(l){case 9:var h=new d.JceInputStream(p),g=new u.LiveBoxPointMallModule;g.readFrom(h),m.liveBoxPointMallModule=g;break;case 10:h=new d.JceInputStream(p);var _=new u.LiveBoxGrowthTimingBoxModule;_.readFrom(h),m.liveBoxGrowthTimingBoxModule=_;break;case 11:h=new d.JceInputStream(p);var w=new u.LiveBoxMixedTaskModule;w.readFrom(h),m.liveBoxMixedTaskModule=w}}if(s.log("宝箱数据",m),!m.liveBoxGrowthTimingBoxModule)return s.log("宝箱数据异常,请刷新重试"),o.addLog("box data",t),void o.addLog("box panelData",m);S(),function(){if(null==f){var t=i("vCu3");f=new t(e)}}(),v&&f.show(),f&&f.setData(m)}}function x(){v=!1,f&&f.hide()}function A(){e.trigger("bindPhone"),a.huyuReport("click/bindphone/beansbox")}this.hideBoxPanel=x,this.getLiveBoxPage=k,this.finishLiveBox=function(i,n,r){var a=new u.FinishLiveBoxReq;return a.tId=t.userId,a.iBoxId=parseInt(i),a.iResourceType=n,a.iFromType=p,a.lPid=t.presenterUid,Object.assign(a.mpExtend.value,r),e.sendWupNew("wupui","finishLiveBox",a,u.FinishLiveBoxRsp)},this.awardLiveBox=function(i,n,r){var a=new u.AwardLiveBoxReq;return a.tId=t.userId,a.iBoxId=parseInt(i),a.iResourceType=n,a.iFromType=p,a.lPid=t.presenterUid,Object.assign(a.mpExtend.value,r),e.sendWupNew("wupui","awardLiveBox",a,u.AwardLiveBoxRsp)},this.getUserPointCurrencyInfo=function(){var i=new u.GetUserPointCurrencyInfoReq;return i.tId=t.userId,e.sendWupNew("wupui","getUserPointCurrencyInfo",i,u.GetUserPointCurrencyInfoRsp)},this.receiveUserLevelTaskPrize=function(i){var n=new u.ReceiveUserLevelTaskPrizeReq;return n.tId=t.userId,n.iTaskId=parseInt(i),e.sendWupNew("commui","receiveUserLevelTaskPrize",n,u.ReceiveUserLevelTaskPrizeRsp)},this.showBindPhone=function(e){var t={msg:e,type:2,btnLabel:"立即绑定",clickFun:A};r.show(t),a.huyuReport("pageview/bindphone/beansbox")},this.showToast=function e(t){if(f){var i=e.hdl;i&&clearTimeout(i);var n=$(".player-box-toast");n.show(),n.fadeIn("fast"),n.text(t),i=setTimeout((function(){n.fadeOut("normal",(function(){n.hide()}))}),2e3),e.hdl=i}},this.showTip=function(e){v||_||0!=function(){var e=localStorage.getItem("lastBoxTipTime");e=e?parseInt(e):0;var t=(new Date).getTime();if((t-e)/36e5>=1)return localStorage.setItem("lastBoxTipTime",t.toString()),!0;return!1}()&&(null==g?(g=$('<div class="player-box-icon-tip"><span>你有新宝箱可领取~</span><div class="player-arrow-down arrow"></div></div>'),h.append(g)):e&&g&&g.show(),clearInterval(I),E=10,g.find("span").text("你有新宝箱可领取~".concat(E,"s")),I=setInterval((function(){E--,g.find("span").text("你有新宝箱可领取~".concat(E,"s")),E<=0&&(clearInterval(I),g&&g.hide())}),1e3))},this.openJfCenter=function(){var e="https://i.huya.com/index.php?m=UserLevel";c&&(e="https://test-i.huya.com/index.php?m=UserLevel"),window.open(e)}}},"D+HU":function(e,t,i){e.exports=function(e,t){var n=e.Event,r=e.R,a=e.G,o=e.utils,s=e.Console,c=null,l=null,u=null,d=0,p=!1,h=0,f="",m={};function v(e){o.stopPropagation(e),w("close"),y(),b()}var g=null;function y(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i={liveroomPopupKey:f,initiative:t};e.popupManager.nativePopupDeQueue(i)}function _(){if(!c.hasClass("qrcode-mode")){var e=u.handleGameInfo.gameIcon;c.addClass("qrcode-mode"),c.find(".smallhandle-qr-code-wrap img").attr("src",e),w("fixed"),g&&g.pause()}}function w(e){var i=t.creatReportProp(u);i.area=e,r.newHuyaReport({eid_desc:"点击主播游戏气泡",eid:"click/anchor_game_bubble",prop:JSON.stringify(i)},"huya_web")}function S(){7!=u.handleGameInfo.gameType?(t.showSmallHandlePanel(u),w("info"),y(),b(),e.popupManager.reportClickLiveRoomPopup(m,"body")):s.log("点击虎牙弹幕小游戏类型不需要弹面板")}function b(){g&&(g.pause(),g=null),c&&(c.unbind(),c.remove(),c=null),l=null}this.showTip=function(s,I,E,T,k){u=s,d=I,h=E,f=T,m=k,b(),function(){var s=i("2Xuc")();c=$(s);var f=u,I=f.handleGameInfo,E=f.handleAlertInfo,T=I.gameType,k=I.gameName,C=I.gameBrief,x=I.gameIcon,A=E.actionType;p=(1==T||5==T||8==T)&&3!=A,c.find(".logo").attr("src",x),c.find(".title").text(o.unescapeHTML(k)),c.find(".subtitle").text(o.unescapeHTML(C));var R=I.tags.value;R.length>0&&function(e){for(var t=c.find(".tag-list"),i=e.length,n=0;n<i;n++){var r=$('<div class="tag-item"></div>');r.text(e[n]),r.appendTo(t)}}(R);var P=c.find(".close-btn");P.click(v),function(e,t){if(null==g){var n=i("uvt+");g=new n(e[0],16,1.5,1e3*t,"white",(function(){y(!1),b()}))}g.start()}(P,h||30),l=c.find(".download-btn"),function(){var s=u.handleAlertInfo,h=s.actionTxt,f=s.actionType;if(3==f&&1==d)return l.text("已预约"),void l.addClass("gray");p&&(v=c.find(".smallhandle-qr-code"),g=i("bNM7"),I=u.handleGameInfo.linkUrl,E=new g({text:I,render:"svg",size:120,correctLevel:3,background:"#ffffff",foreground:"#000000"}),T=$(E),v.append(T));var v,g,I,E,T;l.text(h),p&&l.mouseenter((function(){_()}));if(l.click((function(i){if(o.stopPropagation(i),p)_();else{!function(){var i=u,o=i.handleAlertInfo,s=i.handleGameInfo,c=o.actionType,p=s.linkUrl;switch(c){case 1:case 2:window.open(p);break;case 3:!function(){if(!a.isLogin)return void e.popLogin();t.gameReserve(u,(function(e){var i=e.response,a=i.res,o=i.msg;if(0==a){d=1,u.handleGameInfo.isReserve=d;var s=t.creatReportProp(u);r.newHuyaReport({eid_desc:"游戏预约成功",eid:"state/game_oder_success",prop:JSON.stringify(s)},"huya_web"),t.showSmallHandleReserve(u),l&&(l.text("已预约"),l.addClass("gray"))}else o&&n.fireEvent(n.SHOW_COMMON_TOAST,o)}))}();break;case 4:n.fireEvent(n.HY_ACTION_NEW,p),y(),b()}}();var s="download";if(1==f){var c=t.creatReportProp(u);r.newHuyaReport({eid_desc:"成功开始下载",eid:"state/start_download_success",prop:JSON.stringify(c)},"huya_web"),t.gameDlEventReport(u)}else if(2==f){s="open";c=t.creatReportProp(u);r.newHuyaReport({eid_desc:"成功打开页游链接",eid:"state/open_webgame_link",prop:JSON.stringify(c)},"huya_web")}else 3==f?s="order":4==f&&(s="open");w(s),e.popupManager.reportClickLiveRoomPopup(m,"button")}})),7==u.handleGameInfo.gameType)return void c.css("cursor","default");c.click(S)}(),c.appendTo("#videoContainer"),c.mouseleave((function(){p&&(c.removeClass("qrcode-mode"),g&&g.start())}));var L=t.creatReportProp(u);r.newHuyaReport({eid_desc:"曝光主播游戏气泡",eid:"show/anchor_game_bubble",prop:JSON.stringify(L)},"huya_web")}()},this.updateHasReserveView=function(){l&&u&&(d=1,u.handleGameInfo.isReserve=d,l.text("已预约"),l.addClass("gray"))},this.clear=b}},"D+OB":function(e,t){e.exports=function(e){var t=e.taf,i=e.G,n=e.utils,r=t.HUYAVIDEO,a=60,o=30,s=[],c=null,l=null,u=null;c=document.getElementById("match-replay-thermodynamic").getContext("2d"),l=$("#match-replay-thermodynamic"),u=$(".thermodynamic-container"),this.show=function(){u.show()},this.hide=function(){u.hide()},this.getLiveBarrageThermodynamic=function(t,u){var d=new r.LiveBarrageThermodynamicReq;n.copy(d.reqHeader.userId,i.userId),d.anchorUid=i.presenterUid,d.start=t,d.end=u,d.interval=20,e.sendWup2("huyaVideoUI","getLiveBarrageThermodynamic",d,(function(e){!function(e,t){var i=e.length;if(0==i)return;t=e[i-1].to-e[0].from,s=[{x:0,y:0}],a=function(e){for(var t=e.length,i=0,n=0;n<t;n++){var r=e[n].count;i=Math.max(r,i)}return i}(e)||a;for(var n=o/a,r=0;r<i;r++){var u=e[r],d=u.count,p=(u.from,u.to/t),h=Math.min(a,d)*n;s.push({x:p,y:h})}var f=e[i-1].to/t;s.push({x:f,y:0}),function(){var e=$("#player-video").width();c.clearRect(0,0,e,o),l.attr({width:e,height:o}),c.fillStyle="rgba(255, 255, 255, 0.24)",c.strokeStyle="rgba(255,255,255,0.24)",c.lineWidth=1,c.lineJoin="round",c.lineCap="round";for(var t=s,i=t.length,n=null,r=0;r<i;r++){var a=t[r];a.x=a.x*e,0==r?(c.beginPath(),c.moveTo(a.x,a.y),beginPoint=a):r==i-1?(c.quadraticCurveTo(n.x,n.y,a.x,a.y),c.closePath(),c.fill(),c.stroke()):r%2==0&&c.quadraticCurveTo(n.x,n.y,a.x,a.y),n=a}}()}(e.thermodynamics.value,u-t)}))}}},D7TG:function(e,t){e.exports=function(e){var t=e.G,i=e.taf.HUYA,n=null;function r(e){var i=e.lPid,n=e.tInfo;t.presenterUid==i&&a(n)}function a(t){var i=t.lSendInterval,r=t.lSendCnt,a=t.lSendLimitTime;n={lSendInterval:i,lSendCnt:r,lSendLimitTime:a},e.trigger("setDanmuFreqLimit",n)}this.init=function(){!function(){var n=new i.GetLiveRoomSettingReq;n.tId=t.userId,n.lPid=t.presenterUid,e.sendWupNew("wupui","getLiveRoomSetting",n,i.GetLiveRoomSettingRsp).then((function(e){var t=e.tInfo;1===t.iType&&a(t.tInfo)}))}(),t.tafSignal.on("uri:7902",r)},this.getBarrageWebCDConfig=function(){var e=n||{lSendInterval:10,lSendCnt:5,lSendLimitTime:20};return{value:e=JSON.stringify(e)}}}},DNSu:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-secret-panel">\n\t<span>直播间上锁了哟，请输入密码进入</span>\n\t<input class="player-secret-password"  type="text" placeholder="请在这里输入密码" maxlength="34">\n\t<span class="player-secret-input-btn player-secret-input-btn-enable">提交</span>\n\t<div class="player-possword-error">\n\t<i></i>\n\t    <p>密码不正确</p>\n\t</div>\n</div>\n',__filename="src/tpl/others/secret.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-secret-panel">\n\t<span>直播间上锁了哟，请输入密码进入</span>\n\t<input class="player-secret-password"  type="text" placeholder="请在这里输入密码" maxlength="34">\n\t<span class="player-secret-input-btn player-secret-input-btn-enable">提交</span>\n\t<div class="player-possword-error">\n\t<i></i>\n\t    <p>密码不正确</p>\n\t</div>\n</div>\n'),__line=10;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},DSMG:function(e,t,i){e.exports=function(e,t,n){var r=e.G,a=e.Event,o=(e.utils,e.Console),s=e.logUtils,c=null,l=null,u=null,d=null,p=null,h=i("leE4"),f=i("GpTP"),m="gift_all_send_need_dialog",v=null;function g(e){return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i){var n=0,r=e.length,s=!1;!function c(){s||n>=r?i():(o.log("SeriesGift sendGift: ".concat(e[n])),t.sendGift(e[n],1,"",!0),a.addEvent("SendCardPackageItemBack",(function e(t){a.removeEvent("SendCardPackageItemBack",e),0==t.iPayRespCode?(o.log("SeriesGift Gift sent successfully: ".concat(t.iItemType)),n++,c()):(o.log("SeriesGift Failed to send gift: ".concat(t.iItemType)),s=!0,i())})))}()})));case 1:case"end":return i.stop()}}))}function y(){var e=d.scrollLeft();d.scrollLeft(e-104),w()}function _(){var e=d.scrollLeft();d.scrollLeft(e+104),w()}function w(){var e=d.scrollLeft(),t=d.width(),i=d[0].scrollWidth;l.css("visibility",0==e?"hidden":"visible"),u.css("visibility",e>=i-t?"hidden":"visible")}function S(){c&&(c.unbind(),c.remove(),c=null)}this.setData=function(b,I){if(S(),o.log("SeriesGift setData",b,I),null!=b){r.currentAllSendGiftId=I||0;var E=b.sSeriesUrl,T=b.iAllSend,k=b.sSeriesName,C=i("0LPl")();if(c=$(C),n.append(c),1==T&&c.addClass("has-send-all"),d=c.find(".series-gift-container"),p=d.find(".series-gift-list"),E){var x=$("<img class='title-icon'></img>").attr("src",E);p.append(x)}for(var A=b.vItem.value,R=0,P=[],L=[],M=0;M<A.length;M++){var D=i("Q8V2")(),B=$(D),N=A[M],U=N.iItemType,F=N.sItemTitle,O=N.iLockStatus,H=(N.sAction,r.newPropDict[U]);if(H){P.push(U);var G=F||H.sPropsName,V=t.getIconUrl(H);B.find(".item-name").text(G),B.find(".item-right-icon img").attr("src",V),R+=.01*H.iPropsYb;var W=parseFloat((.01*H.iPropsYb).toFixed(2));B.find(".price").text(W),0==O&&(B.addClass("lock"),B.css("cursor","auto"),B.find(".price").text("未解锁")),B.attr("data-item-type",U),p.append(B),L.push({icon:V,name:G,id:U})}}if(l=c.find(".pre-btn"),u=c.find(".next-btn"),l.click(y),u.click(_),c.css("bottom",n.outerHeight()-8+"px"),w(),p.find("li").click((function(e){var t=e.currentTarget;"on"!=t.className&&"lock"!=t.className&&function(e){p.find("li").each((function(t,i){$(i).attr("class",i==e?"on":"")}));var t=$(e).attr("data-item-type");o.log("SeriesGift switchItem",t),a.fireEvent("seriesGiftItemChange",{itemType:t})}(t)})),1==T){var q=c.find(".send-all"),j=parseFloat(R.toFixed(2));q.find(".price").text(j),q.click((function(t){h.isLock(t.currentTarget,2e3)||(h.lock(t.currentTarget),"1"!==localStorage.getItem(m)?function(t,i,n){v||(v=new f(e));v.show(t,i,n,(function(e){localStorage.setItem(m,e?"0":"1"),e,g(t.map((function(e){return e.id})))}))}(L,k,j):(g(P),s.log("seriesGift sendAllBtn click",P)))}))}}},this.clear=S}},DcsG:function(e,t,i){e.exports=function(e,t){var n=this,r=null;this.isActive=!1;var a=e.G,o=e.Event,s=e.R,c=e.ISDEBUG,l=(e.Console,e.utils,e.taf),u=l.HUYA,d=l.Taf;e.addTafListener("1500001",h),e.addTafListener("1500002",h),a.isUserInfoInited()?f():o.addEvent(o.USER_INFO_INITED,f);var p=0;function h(e){var t=1e3*e.iRandomDelay*Math.random();clearTimeout(p),p=setTimeout(f,t)}function f(){var t=new u.GetSplitScreenListReq;t.tId=a.userId,t.lPid=a.presenterUid,e.sendWup2("wupui","getSplitScreenList",t,m)}function m(e){var o=e.bcode,c=e.mpItems;if(!(o<0)){for(var l in n.isActive=!1,r&&r.empty(),function(e){for(var t in a.spliteSceenType=0,a.splitScreenId=0,e)for(var i=e[t].value,n=0,r=i.length;n<r;n++){var o=i[n],s=o.lUid;o.sSplitScreenId;if(s==a.presenterUid)return void(a.spliteSceenType=t)}}(c.value),c.value)if(2==l||3==l){g();for(var u=c.value[l].value,d=i("pep2")(),p=0,h=u.length;p<h;p++){var f=u[p],m=f.lUid,y=f.sNick,_=f.sAvatarUrl,w=f.iRoomId,S=f.sSplitScreenId;if(m!=a.presenterUid){var b=$(d);b.attr("iRoomId",w),b.attr("clickUid",m),b.attr("type",l),b.attr("id",S),b.find(".nick-name").text(y),2==l?(b.find(".head-type").addClass("head-zd-style"),b.find(".head-type span").text("组队"),b.find(".head-type i").addClass("head-type-zd")):(b.find(".head-type").addClass("head-zc-style"),b.find(".head-type span").text("撞车"),b.find(".head-type i").addClass("head-type-zc")),b.find("img").attr("src",_),b.click(v),r.append(b),n.isActive=!0;var I={pid:a.presenterUid,click_pid:m,type:l,id:S};s.newHuyaReport({eid_desc:"展示/组队撞车切换入口/直播间",eid:"show/team_anchor_entry/liveroom",prop:JSON.stringify(I)})}}}t.layout()}}function v(e){e.stopPropagation();var t=$(this).attr("iRoomId"),i=$(this).attr("id"),n=$(this).attr("type"),r=$(this).attr("clickUid");if(0!=t){var o="//www.huya.com/"+t;c&&(o="//test-www.huya.com/"+t),window.open(o);var l={pid:a.presenterUid,click_pid:r,type:n,id:i};s.newHuyaReport({eid_desc:"点击/组队撞车切换入口/直播间",eid:"click/team_anchor_entry/liveroom",prop:JSON.stringify(l)})}}function g(){if(null==r){var e=$("<div id='player-split-screen'><ul></ul></div>");$("#player-left-head").prepend(e),r=$("#player-split-screen ul")}}window.testSplitScreen=function(){var e=new u.GetSplitScreenListRsp;e.bcode=0;for(var t=new d.Vector,i=0;i<5;i++){var n=new u.SplitScreenItem;n.lUid=1,n.sChannelTitle="队名",n.sNick="用户的名字会很长"+i,n.teamType=i>2?2:1,n.sAvatarUrl="https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",t.value.push(n)}e.mpItems.value[2]=t,m(e)}}},"Dl3+":function(e,t,i){e.exports=function e(t){var n=t.ENV;function r(e){TweenMax.killTweensOf(e[0]),TweenMax.to(e[0],.12,{scale:1.5,delay:.3,onComplete:a,onCompleteParams:[e]})}function a(e){TweenMax.killTweensOf(e[0]),e.remove()}i("676x"),this.play=function(t,a,o){var s=function(){var t=e.id||0;return e.id=++t}(),c=i("nR6k")({id:s,icon:o,num:a}),l=$(c),u=$(n.idDom),d=$(t).offset(),p=u.offset(),h=d.left-p.left+10,f=d.top-p.top+12;l.css({left:h+"px",top:f+"px"}),u.append(l);var m=(u.width()>>1)-18;!function(e,t){TweenMax.to(e[0],.4,{delay:.1,bezier:t,onComplete:r,onCompleteParams:[e]})}(l,[{left:h+.1*(m-h),top:f-100},{left:h+.6*(m-h),top:f-260},{left:m,top:u.height()-300}])}}},Dstj:function(e,t,i){var n=i("gPcb"),r=i("YJXF");e.exports=function(e){var t,i,a,o,s,c,l;this.show=function(){s=!0,t&&(t.style.display="block");i.style.display="block",o.toCenter(),h(),c&&c()},this.hide=d,this.toFront=h,Object.defineProperties(this,{isShow:{get:function(){return s}},onShow:{set:function(e){c=e}},onHide:{set:function(e){l=e}}});var u={id:"",title:"",mask:!0,htmlText:""};function d(e){s=!1,r.stopPropagation(e),t&&(t.style.display="none"),i.style.display="none",l&&l()}function p(){o.toCenter()}function h(e){r.stopPropagation(e),t&&o.container.appendChild(t),o.container.appendChild(i)}!function(){for(var s in e)u[s]=e[s];var c='<div class="player-panel" id="player-panel-'+u.id+'"><h2>'+u.title+'</h2><span class="player-panel-close" title="关闭"></span><div class="player-panel-content">'+u.htmlText+"</div></div>";$("#videoContainer").append(c),function(){var e="#player-panel-"+u.id;t=document.querySelector("#player-mask-"+u.id),i=document.querySelector(e),a=document.querySelector(e+" .player-panel-close"),$(a).click(d),t&&$(t).click(r.stopPropagation);var s=i.getElementsByTagName("h2")[0];$(s).bind("mousedown",h),o=new n(i,{limit:!1,handle:s,container:$("#videoContainer")[0]}),$("#player-video").resize(r.throttle(p,200))}(),h()}()}},E4JC:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("ETIr"),i("cv67"),i("K3mO"),i("OLod"),function(){var e=n,t=e.lib.StreamCipher,i=e.algo,r=[],a=[],o=[],s=i.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var a=t.words,o=a[0],s=a[1],l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(r[0]^=l,r[1]^=d,r[2]^=u,r[3]^=p,r[4]^=l,r[5]^=d,r[6]^=u,r[7]^=p,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,s=n>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&n)*n|0)+((65535&n)*n|0);o[i]=c^l}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),n.Rabbit)},ELcG:function(e,t,i){var n;e.exports=(n=i("Ib8C"),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=r.create([0,1518500249,1859775393,2400959708,2840853838]),p=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=a.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a,o,h,w,S,b,I,E,T,k,C,x=this._hash.words,A=d.words,R=p.words,P=s.words,L=c.words,M=l.words,D=u.words;for(b=a=x[0],I=o=x[1],E=h=x[2],T=w=x[3],k=S=x[4],i=0;i<80;i+=1)C=a+e[t+P[i]]|0,C+=i<16?f(o,h,w)+A[0]:i<32?m(o,h,w)+A[1]:i<48?v(o,h,w)+A[2]:i<64?g(o,h,w)+A[3]:y(o,h,w)+A[4],C=(C=_(C|=0,M[i]))+S|0,a=S,S=w,w=_(h,10),h=o,o=C,C=b+e[t+L[i]]|0,C+=i<16?y(I,E,T)+R[0]:i<32?g(I,E,T)+R[1]:i<48?v(I,E,T)+R[2]:i<64?m(I,E,T)+R[3]:f(I,E,T)+R[4],C=(C=_(C|=0,D[i]))+k|0,b=k,k=T,T=_(E,10),E=I,I=C;C=x[1]+h+T|0,x[1]=x[2]+w+k|0,x[2]=x[3]+S+b|0,x[3]=x[4]+a+I|0,x[4]=x[0]+o+E|0,x[0]=C},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,a=r.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,i){return e^t^i}function m(e,t,i){return e&t|~e&i}function v(e,t,i){return(e|~t)^i}function g(e,t,i){return e&i|t&~i}function y(e,t,i){return e^(t|~i)}function _(e,t){return e<<t|e>>>32-t}t.RIPEMD160=a._createHelper(h),t.HmacRIPEMD160=a._createHmacHelper(h)}(Math),n.RIPEMD160)},EQRH:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-danmu-plus-one-banner">\n    <img class="logo"></img>\n    <div class="content"></div>\n    <div class="plus-one-btn">\n        <div class="btn-hover-style"></div>\n        <div class="plus-one-effect"></div>\n    </div>\n</div>',__filename="src/tpl/danmu/danmu-plus-one.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-danmu-plus-one-banner">\n    <img class="logo"></img>\n    <div class="content"></div>\n    <div class="plus-one-btn">\n        <div class="btn-hover-style"></div>\n        <div class="plus-one-effect"></div>\n    </div>\n</div>'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ETIr:function(e,t,i){var n,r,a;e.exports=(a=i("Ib8C"),r=(n=a).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],a=0;a<i;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<i;s++)r.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var a=0;a<i.length;a++)n[i.charCodeAt(a)]=a}var o=i.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,i){for(var n=[],a=0,o=0;o<t;o++)if(o%4){var s=i[e.charCodeAt(o-1)]<<o%4*2,c=i[e.charCodeAt(o)]>>>6-o%4*2,l=s|c;n[a>>>2]|=l<<24-a%4*8,a++}return r.create(n,a)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},Eadi:function(e,t,i){e.exports=function(e,t){var n=this,r=null,a=!1,o=null;this.isActive=!1;var s=e.G,c=e.Event,l=e.R,u=e.Console,d=e.ISDEBUG,p=e.taf.HUYA;function h(e){a||(v(e.vPidList.value,!1),u.log("查房通知",e))}function f(){var t=new p.GetCurCheckRoomStatusReq;t.tUserId=s.userId,t.lPid=s.presenterUid,e.sendWup2("presenterui","GetCurCheckRoomStatus",t,m)}function m(e){v(e.vPidList.value,!1),u.log("查房查询",e)}function v(e,c){if(n.isActive=!1,o.empty(),e.length>0&&((r=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.lPid==s.presenterUid)return i}return null}(e))||c)){var l;if(c||(e=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n];r.lTopCid<=0||r.lPid==t.lPid||1==t.iType&&2==r.iType&&i.push(r)}return i}(e,r)),0==e.length&&localStorage.chatroom){var u=JSON.parse(localStorage.chatroom);u.curpid==s.presenterUid&&(l=u),a=!0}else e.length>0&&(l=e[0]);if(!l)return;var d=i("pep2")(),p=$(d);p.attr("lYYId",l.lYYId),p.attr("iRoomId",l.lRoomId),p.attr("lToPid",l.lPid);var h=0==e.length?"回家":"查房";p.find(".head-type span").text(h),p.find(".nick-name").text(l.sNickName),p.find(".head-type i").addClass("head-type-room"),p.find("img").attr("src",l.sIconUrl),p.click(g),o.append(p),n.isActive=!0}t.layout()}function g(t){t.stopPropagation();var i=$(this).attr("iRoomId"),n=$(this).attr("lYYId"),a=$(this).attr("lToPid"),o="//www.huya.com/"+i;d&&(o="//test-www.huya.com/"+i),0==i&&(o="//www.huya.com/yy/"+n);var c=new p.CKRoomUserEnterReq;c.tUserId=s.userId,c.lFromPid=s.presenterUid,c.lToPid=a,e.sendWup2("presenterui","CKRoomUserEnter",c,y),r.curpid=a,localStorage.chatroom=JSON.stringify(r),window.open(o),l.huyuReport("click/zhibo/lianmai")}function y(e){e.iRet,e.sDes}o=$("#player-check-room ul"),e.addTafListener("6340",h),c.addEvent(c.USER_INFO_INITED,f),window.testCheckRoom=function(){_isTest=!0,n.isActive=!0;var e=[];(i=new p.CRPresenterInfo).sNickName="航道上公司aabb水管是的公司"+t,i.lPid=s.presenterUid,i.lRoomId=10006516,i.lYYId=1010255904,i.iType=1,i.lTopCid=123,i.sIconUrl="https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",e.push(i);for(var t=0;t<1;t++){var i;(i=new p.CRPresenterInfo).sNickName="航道上公司aabb水管是的公司"+t,i.lPid=1010255904,i.lRoomId=10004859,i.lYYId=977419054,i.iType=2,i.lTopCid=123,i.sIconUrl="https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",e.push(i)}v(e,!0)}}},EoLl:function(e,t){var i;!function(e,t,i){var n,r=e([]),a=e.resize=e.extend(e.resize,{}),o="setTimeout",s="resize",c=s+"-special-event",l="delay",u="throttleWindow";a[l]=250,a[u]=!0,e.event.special[s]={setup:function(){if(!a[u]&&this[o])return!1;var t=e(this);r=r.add(t),e.data(this,c,{w:t.width(),h:t.height()}),1===r.length&&function t(){n=setTimeout((function(){r.each((function(){var t=e(this),i=t.width(),n=t.height(),r=e.data(this,c);i===r.w&&n===r.h||t.trigger(s,[r.w=i,r.h=n])})),t()}),a[l])}()},teardown:function(){if(!a[u]&&this[o])return!1;var t=e(this);r=r.not(t),t.removeData(c),r.length||clearTimeout(n)},add:function(t){if(!a[u]&&this[o])return!1;var n;function r(t,r,a){var o=e(this),s=e.data(this,c);s&&(s.w=r!==i?r:o.width()),s&&(s.h=a!==i?a:o.height()),n.apply(this,arguments)}if(e.isFunction(t))return n=t,r;n=t.handler,t.handler=r}}}(jQuery),(i=jQuery).fn.mousestop=function(e){return this.each((function(){var t,n=0,r=0,a=0,o=0,s=!1,c=this;i(this).mousemove((function(i){a=i.pageX,o=i.pageY,!s&&(t=setInterval((function(){n==a&&r==o&&(clearInterval(t),s=!1,e&&e.call(c)),n=a,r=o}),300)),s=!0})).mouseout((function(){clearInterval(t),s=!1}))}))}},Epu9:function(e,t,i){e.exports=function(e){var t=e.utils,n=60,r=50,a=8,o=4,s=null,c=i("yfqf"),l=i("ScJi"),u=[],d=0;function p(e,t,i){for(var a=t.webpArr.length>0,o=0;o<e;o++){var c=f(o,i);if(s.append(c),a)c.attr("src",h(t.webpArr));else{var d=new l({targetID:"",framesUrl:t.imgArr,width:n,height:r,loop:!0,target:c});d.play(!0),u.push(d)}c.css({width:n,height:r})}}function h(e){return Math.floor(100*Math.random())<40?e[0]:e[Math.floor(Math.random()*(e.length-1))+1]}function f(e,i){var s=$('<img class="egg-effect-item">'),c=e*n,l={left:t.pixelValue(t.randomInteger(c,c+10)),top:-r},u=0;return u=m(2==i?t.randomFloat(o,2*o):t.randomFloat(0,o)),l["animation-delay"]=u,l["animation-duration"]=m(t.randomFloat(a-2,a)),s.css(l),s}function m(e){return e+"s"}function v(){for(var e in u)u[e].clear();u=[],s&&s.empty()}this.setData=function(e){v(),function(){if(s)return;s=$("<div id='player-egg-effect'></div>"),$("#player-wrap").append(s)}(),c.getPngListData((function(e){!function(e){if(0==e.imgArr.length&&0==e.webpArr.length)return;var t=new Image;t.onload=function(){n=t.width/2,r=t.height/2;var i=$("#player-wrap").width(),s=parseInt(i/n);p(s,e,1),p(s,e,2),clearTimeout(d),d=setTimeout((function(){v()}),1e3*(a+2*o))},t.onerror=function(){},t.src=e.imgArr[0]?e.imgArr[0]:e.webpArr[0]}(e)}),e)}}},ErL0:function(e,t,i){"use strict";i.r(t),i.d(t,"detectAdBlockerByImg",(function(){return n}));var n=function(e){return new Promise((function(t){var i=!1;e.onload=function(){i=!0,t(!1)},e.onerror=function(){i=!0,t(!0)},setTimeout((function(){i||t(!0)}),200)}))}},"F+F2":function(e,t,i){var n;e.exports=(n=i("Ib8C"),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var i=e.byteLength,n=[],r=0;r<i;r++)n[r>>>2]|=e[r]<<24-r%4*8;t.call(this,n,i)}else t.apply(this,arguments)}).prototype=e}}(),n.lib.WordArray)},F1Sr:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="component-ab-pannel">\n    <div class="title">主播推荐</div>\n    <div class="close-btn"></div>\n    <div class="item-list"></div>\n</div>',__filename="src/tpl/ad/component-ab-pannel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="component-ab-pannel">\n    <div class="title">主播推荐</div>\n    <div class="close-btn"></div>\n    <div class="item-list"></div>\n</div>'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},F2sD:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="yanzhi-bg">\n     <img class="bg-img" src="">\n     <div class="bg-cover"></div>\n</div>\n',__filename="src/tpl/others/yanzhi-bg.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="yanzhi-bg">\n     <img class="bg-img" src="">\n     <div class="bg-cover"></div>\n</div>\n'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},FMYs:function(e,t){e.exports=function(){var e,t={},i=null;this.hasStar=function(e){return t.hasOwnProperty(e)},this.setGiftWeekStar=function(n){$(".player-face-gift i").removeClass("icon-week-star"),e=n.iWeekStarType,n.iType,t={};$(".player-face-gift i").removeAttr("class");for(var r=0,a=(i=n.vPropsId.value).length;r<a;r++){var o=i[r],s=".player-face-gift[propsId={0}] i";s=s.replace("{0}",o),$(s).addClass("icon-week-star"),t[o]=!0}},this.updateWeekStar=function(n){$(".player-face-gift i").removeClass("icon-week-star");var r=n.mapType2Props.value;if(r[e]){t={};for(var a=0,o=(i=r[e].vPropsId.value).length;a<o;a++){var s=i[a],c=".player-face-gift[propsId={0}] i";c=c.replace("{0}",s),$(c).addClass("icon-week-star"),t[s]=!0}}}}},FRey:function(e,t,i){e.exports=function(e,t){var n=t.G,r=t.Event,a=t.ENV,o=null,s=null,c=null;function l(e){e.currentTarget.focus()}function u(e){38!=e.keyCode&&40!=e.keyCode||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),38==e.keyCode?n.vplayer.addViewport({x:0,y:0,z:-.1}):39==e.keyCode?n.vplayer.addViewport({x:10,y:0,z:0}):40==e.keyCode?n.vplayer.addViewport({x:0,y:0,z:.1}):37==e.keyCode&&n.vplayer.addViewport({x:-10,y:0,z:0})}function d(){null==s&&(s=i("w2x3")(),$("#player-wrap").append(s),$(".player-vr-lead-close").click((function(){$("#player-vr-lead").remove()})),setTimeout((function(){$("#player-vr-lead").remove()}),4e3)),function(){null==o&&(o=i("Pahd")(),$("#player-wrap").append(o),$(".vr-arrow").click(h));$(".player-vr-control").show()}(),y()}function p(){m(),y()}function h(e){var t=e.currentTarget.className,i=0,r=0;-1!=t.indexOf("vr-arrow-left")?i=-1:-1!=t.indexOf("vr-arrow-right")?i=1:-1!=t.indexOf("vr-arrow-down")?r=1:-1!=t.indexOf("vr-arrow-up")&&(r=-1),n.vplayer.addViewport({x:i,y:r})}function f(){m(),g()}function m(){$(".player-vr-control").hide()}function v(){n.vrSwitch||p()}function g(){n.vplayer.hideLoading(),null==c&&(c=i("8oUx")(),$("#player-wrap").append(c)),$("#player-no-vr-tip").show();var e=a.avatarImg;n.isHttps()&&(e=e.replace("http:","https:")),$(".player-no-vr-tip-bg").attr("src",e)}function y(){$("#player-no-vr-tip").hide()}n.vrNoStream&&(n.vplayer.hideLoading(),g()),r.addEvent(r.SHOW_VR_UI,d),r.addEvent(r.HIDE_VR_UI,p),r.addEvent(r.VR_MODEL_CHANGE,v),r.addEvent(r.GET_VR_STREAM_ERR,f),r.addEvent(r.HIDE_NO_VR_TIPS,y),n.is360Video&&($("#player-wrap").click(l),window.addEventListener("keydown",u),n.isPlaying&&d(),$("#player-mouse-event-wrap").css({width:0,height:0}))}},"Fd//":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-danmu-egg-popup">\n    <img class="bg">\n    <img class="icon">\n    <div class="title"></div>\n    <div class="content"></div>\n    <div class="btn"></div>\n    <div class="close"><span></span></div>\n    <div class="time-close">\n        <span id="time-text"></span><span class="gray">|</span><span>&nbsp;关闭</span>\n    </div>\n</div>',__filename="src/tpl/danmu/egg-popup.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-danmu-egg-popup">\n    <img class="bg">\n    <img class="icon">\n    <div class="title"></div>\n    <div class="content"></div>\n    <div class="btn"></div>\n    <div class="close"><span></span></div>\n    <div class="time-close">\n        <span id="time-text"></span><span class="gray">|</span><span>&nbsp;关闭</span>\n    </div>\n</div>'),__line=11;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},Fp8d:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="box-mask">\n    <div id="box-reward-panel">\n        <div class="title-bg"></div>\n        <div class="content">\n            <div class="reward-list"></div>\n            <div class="error-icon"></div>\n            <div class="btn">我知道了</div>\n        </div>\n    </div>\n</div>\n\n\n\n\n',__filename="src/tpl/box/box-award-panel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="box-mask">\n    <div id="box-reward-panel">\n        <div class="title-bg"></div>\n        <div class="content">\n            <div class="reward-list"></div>\n            <div class="error-icon"></div>\n            <div class="btn">我知道了</div>\n        </div>\n    </div>\n</div>\n\n\n\n\n'),__line=15;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},FyD9:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.Console,o=e.utils,s=e.R,c=e.taf,l=c.AdxServer,u=c.Taf,d=null,p=null,h=!1,f=null,m=0,v=null,g=null,y=null,_=null,w=null,S=null,b={},I=null,E=.6,T=0,k=0,C=null,x=0,A="",R="",P=i("ZVwP"),L=P.Ad_Brand,M=P.Ad_Description,D=P.Ad_ActionTxt,B=i("Tx78").creatAdQrcodeCard;function N(){f.reportClick(w,b),e.huyaAD.openAdUrl(g,S,!1)}function U(){F(),t()}function F(){_&&(_.remove(),_.unbind(),_=null),d&&(d.remove(),d.unbind(),d=null),I&&I.clear(),clearTimeout(m),r.removeEvent(r.VOLUME_CHANGE,G)}function O(e){o.stopPropagation(e),h=!h,H();var t={ad_id:g.id,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"mute"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(t)},"huya_web")}function H(){var e=d.find("#sound");e.removeClass("sound-close"),h&&e.addClass("sound-close");var t=h?0:E;I&&I.setVolume(t)}function G(){i("uEkN").getData("adVolume",(function(e){var t=function(e){if(!e)return-1;var t;if(e.gameid)for(var i in t=e.gameid){var r=t[i],a=r.time,o=r.value,s=r.gid;if(n.gameId==s&&V(a))return o}if(e.all)for(var i in t=e.all){var c=t[i],l=c.time,u=c.value;if(V(l))return u}return-1}(e);a.log("dealVolumValue",e,t),-1!=t?(E=n.volume/100*t,!h&&I&&I.setVolume(E)):I&&(E=n.playerConfig&&n.playerConfig.adVolume&&n.volume>0?n.volume/100*n.playerConfig.adVolume:n.volume/100,!h&&I.setVolume(E))}))}function V(e){var t=e.split("-");return 2==t.length&&o.checkAuditTime(t[0],t[1])}function W(t,i){var r=d.find("#end-ab");d.find(".ab-video").remove();var a=i||t;$(a).attr("class","ab-video"),r.append(a),clearTimeout(m),m=setTimeout((function(){$("#player-recommend").addClass("recommend-ab-full-mode"),function(){if(0===x)return;var t=g.element,i=t.brand,n=t.iconUrl||g.iconUrl,r=B(e,d,{brand:i,iconUrl:n},C,"ab-qrcode-show");d.append(r);var a=d.find(".details-btn");setTimeout((function(){a.hide()}),2e3)}()}),1e3),y.find(".line").show(),p.show(),T=0,k=0,function(){f.reportPageView(w,b);var e={ad_id:g.id,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2};s.newHuyaReport({eid_desc:"曝光主（视频）广告",eid:"show/main_video_ad",prop:JSON.stringify(e)},"huya_web")}()}function q(e,t){T=t,k=e;var i=Math.floor(t)-Math.floor(e);i>0&&p&&p.text("".concat(i,"s"))}function j(t){a.log("广告播放结束",t),t?F():(F(),$("#player-recommend").removeClass("recommend-ab-full-mode"),$(".recommend-top-ui").hide(),function(){var t,r=g,a=r.element,c=r.id,l=a.actionTxt,u=a.brand,d=a.description,p=a.iconUrl||g.iconUrl;if(""==(p=n.makeHttpsUrl(p)))return void U();t=x>0?i("A+Wi")():i("6pxN")();(_=$(t)).appendTo(".player-recommend-container"),_.css("cursor",1!=x?"pointer":"default"),_.find(".banner-image").attr("src",p),_.find(".title").text(u||L),_.find(".explain").text(d||M),2==x&&(_.addClass("qrcodeMode2"),_.find(".ab-common-details-btn span").text("".concat(l||D)));if(x>0){var h=e.huyaAD.createQrcode(134,R);_.find(".ab-qr-code-container .ab-qr-code").append(h),_.find(".ab-qr-code-desc").text(A)}else{var m=_.find(".details-btn");m.text("".concat(l||D)),m.click((function(e){if(1!=x){Y(e);var t={ad_id:c,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"detail"};s.newHuyaReport({eid_desc:"点击视频banner广告",eid:"click/banner_ad",prop:JSON.stringify(t)},"huya_web")}}))}_.click(Y),_.find(".ab-close").click((function(e){o.stopPropagation(e),f.reportElementSkip(w,b),U()})),f.reportElementPageView(w,b);var v={ad_id:c,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2};s.newHuyaReport({eid_desc:"曝光视频banner广告",eid:"show/banner_ad",prop:JSON.stringify(v)},"huya_web"),$("#player-recommend").hasClass("recommend-ab-full-mode")||$("#player-recommend").addClass("recommend-ab-full-mode")}())}function z(){h=!0;var e=d.find("#sound");e.removeClass("sound-close"),h&&e.addClass("sound-close")}function Y(t){if(1!=x){o.stopPropagation(t),e.huyaAD.openAdUrl(g,S,!1),f.reportElementClick(w,b),f.reportClick(w,b);var i={ad_id:g.id,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:isClickClose?"close":"info"};s.newHuyaReport({eid_desc:"点击视频banner广告",eid:"click/banner_ad",prop:JSON.stringify(i)},"huya_web")}}f=e.getADReport(),r.addEvent("closeCurrentAd",U),this.setData=function(t){F(),a.log("下播主广告",t),g=t;var c=t.sdkConf,h=t.id,m=t.adExtCommonInfo,_=t.videoUrl,E=new u.JceInputStream(m.buffer),T=new l.AdExtCommonInfo;T.readFrom(E),a.log("下播广告视频信息 adComInfo",T);var k=e.huyaAD.getVideoInfo(T);if(null==k){if(!_)return a.log("未获取到下播广告信息"),!1;k={videoUrl:_,isMp4:!0}}w=o.unescapeHTML(c);try{S=JSON.parse(w)}catch(e){return console.log("EndAd parse sdkConf error"),!1}C=e.huyaAD.getQrcodeInfo(g),x=C.mode,A=C.qrcodeTips,R=C.qrcodeUrl,b=e.huyaAD.setADEnv(g,b);var P=i("rD0H")();return(d=$(P)).css("cursor",1!=x?"pointer":"default"),function(t){var r=g,a=r.id,c=r.iconUrl;if(c){var l=d.find(".bg-img");l.css("background","url("+c+") no-repeat"),l.css("background-size","100% 100%"),l.show()}(function(t){if(null==I){var n=i("vNGJ");I=new n(e,W,q,j,z,b)}I.startPlay(t,g,w)})(t),d.click((function(e){if(1!=x){o.stopPropagation(e),N();var t={ad_id:a,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"video"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(t)},"huya_web")}}))}(k),d.appendTo(".player-recommend-container"),y=d.find(".end-ab-close"),p=y.find("i"),y.click((function(e){o.stopPropagation(e),f.reportClose(w,b);var t={ad_id:h,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"close"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(t)},"huya_web"),I&&I.onCloseReportVideo(),U()})),d.find(".ab-logo").click(O),H(),function(){var e=g,t=e.actionTxt,i=e.id;(v=d.find(".details-btn")).find("span").text("".concat(t||D)),x>0&&v.addClass("qrcode-style");v.click((function(e){if(1!=x){o.stopPropagation(e),N();var t={ad_id:i,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"detail"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(t)},"huya_web")}}))}(),r.addEvent(r.VOLUME_CHANGE,G),G(),!0},this.stopAd=function(){var e=g.id;if(_){var t={ad_id:e,mode:n.isFullscreen?"fullscreen":"window",status:3};s.newHuyaReport({eid_desc:"视频banner广告异常关闭",eid:"state/banner_ad_shut",prop:JSON.stringify(t)},"huya_web")}else if(I){var i={ad_id:e,mode:n.isFullscreen?"fullscreen":"window",status:3,play_ratio:"".concat(100*k/T,"%")};s.newHuyaReport({eid_desc:"主（视频）广告异常关闭",eid:"state/main_video_ad_shut",prop:JSON.stringify(i)},"huya_web")}F()}}},"G/j0":function(e,t,i){var n,r,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */!function(i,s){"object"==o(t)&&void 0!==e?s(t):(r=[t],void 0===(a="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=a))}(0,(function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);var c=new Array(60);t(c);var l=new Array(512);t(l);var u=new Array(256);t(u);var d=new Array(29);t(d);var p,h,f,m=new Array(30);function v(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function g(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(m);var y=function(e){return e<256?l[e]:l[256+(e>>>7)]},_=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},w=function(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},S=function(e,t,i){w(e,i[2*t],i[2*t+1])},b=function(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},I=function(e,t,i){var n,r,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=b(a[s]++,s))}},E=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},T=function(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},k=function(e,t,i,n){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]},C=function(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&k(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!k(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},x=function(e,t,r){var a,o,s,c,l=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===a?S(e,o,t):(s=u[o],S(e,s+256+1,t),0!==(c=i[s])&&(o-=d[s],w(e,o,c)),a--,s=y(a),S(e,s,r),0!==(c=n[s])&&(a-=m[s],w(e,a,c)))}while(l<e.last_lit);S(e,256,t)},A=function(e,t){var i,n,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==a[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=l,i=e.heap_len>>1;i>=1;i--)C(e,a,i);r=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,a[2*r]=a[2*i]+a[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,a[2*i+1]=a[2*n+1]=r,e.heap[1]=r++,C(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,a,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(a=c[2*c[2*(n=e.heap[i])+1]+1]+1)>f&&(a=f,m++),c[2*n+1]=a,n>l||(e.bl_count[a]++,o=0,n>=h&&(o=p[n-h]),s=c[2*n],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==m){do{for(a=f-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(a=f;0!==a;a--)for(n=e.bl_count[a];0!==n;)(r=e.heap[--i])>l||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),n--)}}(e,t),I(a,l,e.bl_count)},R=function(e,t,i){var n,r,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<c&&r===o||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(c=138,l=3):r===o?(c=6,l=3):(c=7,l=4))},P=function(e,t,i){var n,r,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<c&&r===o)){if(s<l)do{S(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(S(e,r,e.bl_tree),s--),S(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(S(e,17,e.bl_tree),w(e,s-3,3)):(S(e,18,e.bl_tree),w(e,s-11,7));s=0,a=r,0===o?(c=138,l=3):r===o?(c=6,l=3):(c=7,l=4)}},L=!1,M=function(e,t,i,n){w(e,0+(n?1:0),3),function(e,t,i,n){T(e),_(e,i),_(e,~i),e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i}(e,t,i)},D=function(e){L||(function(){var e,t,a,o,g,y=new Array(16);for(a=0,o=0;o<28;o++)for(d[o]=a,e=0;e<1<<i[o];e++)u[a++]=o;for(u[a-1]=o,g=0,o=0;o<16;o++)for(m[o]=g,e=0;e<1<<n[o];e++)l[g++]=o;for(g>>=7;o<30;o++)for(m[o]=g<<7,e=0;e<1<<n[o]-7;e++)l[256+g++]=o;for(t=0;t<=15;t++)y[t]=0;for(e=0;e<=143;)s[2*e+1]=8,e++,y[8]++;for(;e<=255;)s[2*e+1]=9,e++,y[9]++;for(;e<=279;)s[2*e+1]=7,e++,y[7]++;for(;e<=287;)s[2*e+1]=8,e++,y[8]++;for(I(s,287,y),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=b(e,5);p=new v(s,i,257,286,15),h=new v(c,n,0,30,15),f=new v(new Array(0),r,0,19,7)}(),L=!0),e.l_desc=new g(e.dyn_ltree,p),e.d_desc=new g(e.dyn_dtree,h),e.bl_desc=new g(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,E(e)},B=M,N=function(e,t,i,n){var r,o,l=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),A(e,e.l_desc),A(e,e.d_desc),l=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),A(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*a[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?M(e,t,i,n):4===e.strategy||o===r?(w(e,2+(n?1:0),3),x(e,s,c)):(w(e,4+(n?1:0),3),function(e,t,i,n){var r;for(w(e,t-257,5),w(e,i-1,5),w(e,n-4,4),r=0;r<n;r++)w(e,e.bl_tree[2*a[r]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),x(e,e.dyn_ltree,e.dyn_dtree)),E(e),n&&T(e)},U=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(u[i]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},F=function(e){w(e,2,3),S(e,256,s),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},O=function(e,t,i,n){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+t[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0},H=new Uint32Array(function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}()),G=function(e,t,i,n){var r=H,a=n+i;e^=-1;for(var o=n;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e},V={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},q=D,j=B,z=N,Y=U,$=F,J=W.Z_NO_FLUSH,K=W.Z_PARTIAL_FLUSH,Z=W.Z_FULL_FLUSH,X=W.Z_FINISH,Q=W.Z_BLOCK,ee=W.Z_OK,te=W.Z_STREAM_END,ie=W.Z_STREAM_ERROR,ne=W.Z_DATA_ERROR,re=W.Z_BUF_ERROR,ae=W.Z_DEFAULT_COMPRESSION,oe=W.Z_FILTERED,se=W.Z_HUFFMAN_ONLY,ce=W.Z_RLE,le=W.Z_FIXED,ue=W.Z_DEFAULT_STRATEGY,de=W.Z_UNKNOWN,pe=W.Z_DEFLATED,he=262,fe=function(e,t){return e.msg=V[t],t},me=function(e){return(e<<1)-(e>4?9:0)},ve=function(e){for(var t=e.length;--t>=0;)e[t]=0},ge=function(e,t,i){return(t<<e.hash_shift^i)&e.hash_mask},ye=function(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},_e=function(e,t){z(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ye(e.strm)},we=function(e,t){e.pending_buf[e.pending++]=t},Se=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},be=function(e,t,i,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=O(e.adler,t,r,i):2===e.state.wrap&&(e.adler=G(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},Ie=function(e,t){var i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-he?e.strstart-(e.w_size-he):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+258,h=l[a+o-1],f=l[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+o]===f&&l[i+o-1]===h&&l[i]===l[a]&&l[++i]===l[a+1]){a+=2,i++;do{}while(l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&a<p);if(n=258-(p-a),a=p-258,n>o){if(e.match_start=t,o=n,n>=s)break;h=l[a+o-1],f=l[a+o]}}}while((t=d[t&u])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead},Ee=function(e){var t,i,n,r,a,o=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-he)){e.window.set(e.window.subarray(o,o+o),0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--i);t=i=o;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--i);r+=o}if(0===e.strm.avail_in)break;if(i=be(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ge(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ge(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<he&&0!==e.strm.avail_in)},Te=function(e,t){for(var i,n;;){if(e.lookahead<he){if(Ee(e),e.lookahead<he&&t===J)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=ge(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-he&&(e.match_length=Ie(e,i)),e.match_length>=3)if(n=Y(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ge(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ge(e,e.ins_h,e.window[e.strstart+1]);else n=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===X?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2},ke=function(e,t){for(var i,n,r;;){if(e.lookahead<he){if(Ee(e),e.lookahead<he&&t===J)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=ge(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-he&&(e.match_length=Ie(e,i),e.match_length<=5&&(e.strategy===oe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=Y(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=ge(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(_e(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Y(e,0,e.window[e.strstart-1]))&&_e(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Y(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===X?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2};function Ce(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}var xe=[new Ce(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ee(e),0===e.lookahead&&t===J)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,_e(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-he&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===X?(_e(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(_e(e,!1),e.strm.avail_out),1)})),new Ce(4,4,8,4,Te),new Ce(4,5,16,8,Te),new Ce(4,6,32,32,Te),new Ce(4,4,16,16,ke),new Ce(8,16,32,32,ke),new Ce(8,16,128,128,ke),new Ce(8,32,128,256,ke),new Ce(32,128,258,1024,ke),new Ce(32,258,258,4096,ke)];function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Re=function(e){if(!e||!e.state)return fe(e,ie);e.total_in=e.total_out=0,e.data_type=de;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=J,q(t),ee},Pe=function(e){var t,i=Re(e);return i===ee&&((t=e.state).window_size=2*t.w_size,ve(t.head),t.max_lazy_match=xe[t.level].max_lazy,t.good_match=xe[t.level].good_length,t.nice_match=xe[t.level].nice_length,t.max_chain_length=xe[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i},Le=function(e,t,i,n,r,a){if(!e)return ie;var o=1;if(t===ae&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>9||i!==pe||n<8||n>15||t<0||t>9||a<0||a>le)return fe(e,ie);8===n&&(n=9);var s=new Ae;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=i,Pe(e)},Me={deflateInit:function(e,t){return Le(e,t,pe,15,8,ue)},deflateInit2:Le,deflateReset:Pe,deflateResetKeep:Re,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ie:(e.state.gzhead=t,ee):ie},deflate:function(e,t){var i,n;if(!e||!e.state||t>Q||t<0)return e?fe(e,ie):ie;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==X)return fe(e,0===e.avail_out?re:ie);r.strm=e;var a=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,we(r,31),we(r,139),we(r,8),r.gzhead?(we(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),we(r,255&r.gzhead.time),we(r,r.gzhead.time>>8&255),we(r,r.gzhead.time>>16&255),we(r,r.gzhead.time>>24&255),we(r,9===r.level?2:r.strategy>=se||r.level<2?4:0),we(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(we(r,255&r.gzhead.extra.length),we(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=G(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(we(r,0),we(r,0),we(r,0),we(r,0),we(r,0),we(r,9===r.level?2:r.strategy>=se||r.level<2?4:0),we(r,3),r.status=113);else{var o=pe+(r.w_bits-8<<4)<<8;o|=(r.strategy>=se||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=113,Se(r,o),0!==r.strstart&&(Se(r,e.adler>>>16),Se(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),ye(e),i=r.pending,r.pending!==r.pending_buf_size));)we(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),ye(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,we(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),ye(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,we(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>i&&(e.adler=G(e.adler,r.pending_buf,r.pending-i,i)),0===n&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ye(e),r.pending+2<=r.pending_buf_size&&(we(r,255&e.adler),we(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(ye(e),0===e.avail_out)return r.last_flush=-1,ee}else if(0===e.avail_in&&me(t)<=me(a)&&t!==X)return fe(e,re);if(666===r.status&&0!==e.avail_in)return fe(e,re);if(0!==e.avail_in||0!==r.lookahead||t!==J&&666!==r.status){var s=r.strategy===se?function(e,t){for(var i;;){if(0===e.lookahead&&(Ee(e),0===e.lookahead)){if(t===J)return 1;break}if(e.match_length=0,i=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===X?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===ce?function(e,t){for(var i,n,r,a,o=e.window;;){if(e.lookahead<=258){if(Ee(e),e.lookahead<=258&&t===J)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&((n=o[r=e.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r])){a=e.strstart+258;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Y(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===X?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2}(r,t):xe[r.level].func(r,t);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),ee;if(2===s&&(t===K?$(r):t!==Q&&(j(r,0,0,!1),t===Z&&(ve(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ye(e),0===e.avail_out))return r.last_flush=-1,ee}return t!==X?ee:r.wrap<=0?te:(2===r.wrap?(we(r,255&e.adler),we(r,e.adler>>8&255),we(r,e.adler>>16&255),we(r,e.adler>>24&255),we(r,255&e.total_in),we(r,e.total_in>>8&255),we(r,e.total_in>>16&255),we(r,e.total_in>>24&255)):(Se(r,e.adler>>>16),Se(r,65535&e.adler)),ye(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ee:te)},deflateEnd:function(e){if(!e||!e.state)return ie;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?fe(e,ie):(e.state=null,113===t?fe(e,ne):ee)},deflateSetDictionary:function(e,t){var i=t.length;if(!e||!e.state)return ie;var n=e.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return ie;if(1===r&&(e.adler=O(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(ve(n.head),n.strstart=0,n.block_start=0,n.insert=0);var a=new Uint8Array(n.w_size);a.set(t.subarray(i-n.w_size,i),0),t=a,i=n.w_size}var o=e.avail_in,s=e.next_in,c=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Ee(n);n.lookahead>=3;){var l=n.strstart,u=n.lookahead-2;do{n.ins_h=ge(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--u);n.strstart=l,n.lookahead=2,Ee(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=c,e.avail_in=o,n.wrap=r,ee},deflateInfo:"pako deflate (from Nodeca project)"},De=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Be=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=o(i))throw new TypeError(i+"must be non-object");for(var n in i)De(i,n)&&(e[n]=i[n])}}return e};try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){!1}for(var Ne=new Uint8Array(256),Ue=0;Ue<256;Ue++)Ne[Ue]=Ue>=252?6:Ue>=248?5:Ue>=240?4:Ue>=224?3:Ue>=192?2:1;Ne[254]=Ne[254]=1;var Fe=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,i,n,r,a,o=e.length,s=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&(56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&(56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},Oe=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},He=Object.prototype.toString,Ge=W.Z_NO_FLUSH,Ve=W.Z_SYNC_FLUSH,We=W.Z_FULL_FLUSH,qe=W.Z_FINISH,je=W.Z_OK,ze=W.Z_STREAM_END,Ye=W.Z_DEFAULT_COMPRESSION,$e=W.Z_DEFAULT_STRATEGY,Je=W.Z_DEFLATED;function Ke(e){this.options=Be({level:Ye,method:Je,chunkSize:16384,windowBits:15,memLevel:8,strategy:$e},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oe,this.strm.avail_out=0;var i=Me.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==je)throw new Error(V[i]);if(t.header&&Me.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?Fe(t.dictionary):"[object ArrayBuffer]"===He.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=Me.deflateSetDictionary(this.strm,n))!==je)throw new Error(V[i]);this._dict_set=!0}}function Ze(e,t){var i=new Ke(t);if(i.push(e,!0),i.err)throw i.msg||V[i.err];return i.result}Ke.prototype.push=function(e,t){var i,n,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?qe:Ge,"string"==typeof e?r.input=Fe(e):"[object ArrayBuffer]"===He.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(n===Ve||n===We)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((i=Me.deflate(r,n))===ze)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Me.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===je;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Ke.prototype.onData=function(e){this.chunks.push(e)},Ke.prototype.onEnd=function(e){e===je&&(this.result=function(e){for(var t=0,i=0,n=e.length;i<n;i++)t+=e[i].length;for(var r=new Uint8Array(t),a=0,o=0,s=e.length;a<s;a++){var c=e[a];r.set(c,o),o+=c.length}return r}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xe=Ke,Qe=Ze,et=function(e,t){return(t=t||{}).raw=!0,Ze(e,t)},tt=function(e,t){return(t=t||{}).gzip=!0,Ze(e,t)},it=W,nt={Deflate:Xe,deflate:Qe,deflateRaw:et,gzip:tt,constants:it};e.Deflate=Xe,e.constants=it,e.default=nt,e.deflate=Qe,e.deflateRaw=et,e.gzip=tt,Object.defineProperty(e,"__esModule",{value:!0})}))},"GK+E":function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=t,this.hdl=0,this.time=i}var t,n,r;return t=e,(n=[{key:"show",value:function(e,t){var i=this;this.clear(),2==this.pos?this.toastDiv=$('<div class="player-common-toast pos-top"><div/>'):this.toastDiv=$('<div class="player-common-toast pos-bottom"><div/>'),t?this.toastDiv.html(e):this.toastDiv.text(e),$("#videoContainer").append(this.toastDiv),this.toastDiv.fadeIn("fast"),this.hdl=setTimeout((function(){i.toastDiv.fadeOut("normal",(function(){i.clear()}))}),2e3)}},{key:"clear",value:function(){this.toastDiv&&(this.toastDiv.remove(),this.toastDiv=null),clearTimeout(this.hdl)}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=n},GLp0:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="box-item" index=\'<%=index%>\'>\n    <div class="item-bg">\n        <img></img>\n    </div>\n    <div class="reward">\n        <img class="reward-icon"/>\n        <span class="reward-text"></span>\n    </div>\n    <p></p>\n    <img class="tag"/>\n</div>',__filename="src/tpl/box/box-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="box-item" index=\''),__append(escapeFn(index)),__append('\'>\n    <div class="item-bg">\n        <img></img>\n    </div>\n    <div class="reward">\n        <img class="reward-icon"/>\n        <span class="reward-text"></span>\n    </div>\n    <p></p>\n    <img class="tag"/>\n</div>'),__line=11;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},GRuw:function(e,t,i){var n,r,a,o,s,c;e.exports=(c=i("Ib8C"),i("lPiR"),r=(n=c).lib.WordArray,a=n.algo,o=a.SHA256,s=a.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=o._createHelper(s),n.HmacSHA224=o._createHmacHelper(s),c.SHA224)},GYB3:function(e,t){e.exports=function(e,t){var i,n,r,a,o=!0,s=0,c=t.G,l=t.Event,u=t.Console,d=t.logUtils,p=t.R;function h(){if(c.roomFeatures&&c.roomFeatures.player){var e=c.roomFeatures.player.status;if(void 0===e)return;var t=!1;"playing"==e?v():"paused"==e&&(g(),t=!0),a.css("visibility",t?"hidden":"visible"),n.css("visibility",t?"hidden":"visible")}}function f(e){c.paymentStatus=e,u.log("paymentWatchStatusChange",e),c.isUIPause||(1==c.paymentStatus?c.isPip?(document.exitPictureInPicture(),setTimeout((function(){o=!1,c.vplayer.hideLoading(),l.fireEvent(l.PAUSE_VIDEO)}),1e3)):(o=!1,c.vplayer.hideLoading(),l.fireEvent(l.PAUSE_VIDEO)):0==c.paymentStatus&&0==o&&(t.vcore.play(),I()))}function m(){a.hide()}function v(){o||_(null,!0)}function g(){o&&_(null,!0)}function y(){o=!1,c.isUIPause=!0,S()}function _(e,i){if((c.hasVideo||c.isMakeFriend)&&1!=c.paymentStatus&&!c.isPip){if(!i){var n=Date.now();if(n-s<500)return!1;s=n}if(o!=c.isPlaying)return d.addLog("播放状态不对返回"),void setTimeout((function(){c.isPlaying=o}),1e3);o=!o,c.isUIPause=!o,o?(d.addLog("点击播放"),c.pullStreamFrom=6,t.vcore.play(),l.fireEvent(l.HUYA_AD_PLAY),p.huyuReport("click/kongzhi/bofang")):(l.fireEvent(l.PAUSE_VIDEO),d.addLog("点击暂停"),p.huyuReport("click/kongzhi/zanting")),S(),l.fireEvent(l.VIDEO_PLAY_STAUS_CHANGE,c.isUIPause),t.trigger("videoStatusChange",{videoStatus:w()})}}function w(){return o&&!c.isUIPause?0:!o&&c.isUIPause?1:2}function S(){o?(i.removeClass("player-play-btn"),i.addClass("player-pause-btn"),i.attr("title","暂停观看"),n.hide(),a.hide(),r.show()):(c.vplayer.hideLoading(),i.removeClass("player-pause-btn"),i.addClass("player-play-btn"),i.attr("title","开始观看"),n.show(),a.show(),r.hide())}function b(){c.hasVideo&&(1!=c.paymentStatus&&(c.isPip||(c.matchReplayStatus?l.fireEvent(l.MATCHREPLAY_BACK_LIVE):(c.pullStreamFrom=7,d.addLog("点击刷新"),c.pullStreamFrom=7,t.vcore.refresh()&&p.huyuReport("click/kongzhi/shuaxin")))))}function I(){o||(o=!0,c.isUIPause=!1,i.removeClass("player-play-btn"),i.addClass("player-pause-btn"),i.attr("title","暂停观看"),n.hide(),a.hide(),r.show())}i=$("#player-btn"),n=$(".player-play-big"),a=$(".player-app-qrcode"),r=$(".player-refresh-btn"),i.click(_),n.click(_),r.click(b),l.addEvent(l.VIDEO_STOP,m),l.addEvent(l.SHIPIN_PLAY,v),l.addEvent(l.SHIPIN_PAUSE,g),l.addEvent(l.PAYMENT_WATCH_STATUS_CHANGE,f),l.addEvent(l.SET_LIVEROOM_REATURES,h),l.addEvent("BROWSER_AUTOPLAY_FAIL",y),c.browerAutoPlayFail&&y(),this.turnPlayButtonOn=I,this.showPlayTip=function(e){var t;c.isCopyright||("pause"==e?t="已暂停":"play"==e?t="播放中":"loading"==e?t="直播加载中":"refresh"==e?t="直播刷新中":"flac-open"==e?t="已开启无损音质":"flac-close"==e?t="已关闭无损音质":"vr-live"==e?t="正在观看全景直播":"normal-live"==e?t="正在观看普通直播":"player-tip-vr-err"==e&&(t="主播暂未开启全景直播"),t&&l.fireEvent(l.SHOW_COMMON_TOAST,t))},this.isPlaying=function(e){if(null==e)return o;o=!!e,S()}}},"GZ/b":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<div class='player-presenter-recommend' id='player-presenter-recommend'>\n   <div class='player-presenter-recommend-title'></div>\n   <div class='player-presenter-recommend-close'></div>\n   <ul class='ppr-list'>\n   </ul>\n</div>\n",__filename="src/tpl/presenterrecommend/presenter-recommend.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append("<div class='player-presenter-recommend' id='player-presenter-recommend'>\n   <div class='player-presenter-recommend-title'></div>\n   <div class='player-presenter-recommend-close'></div>\n   <ul class='ppr-list'>\n   </ul>\n</div>\n"),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},GcOO:function(e,t,i){e.exports=function(e,t){var n,r,a,o,s=e.G,c=e.Event,l=e.utils,u=e.ENV,d=e.Console,p=e.taf,h=e.logUtils,f=p.AdxServer,m=p.Taf,v=.6,g=!1,y=100,_=100,w=!1,S=0,b=0,I=0,E=0,T=[],k=null,C=null,x=null,A={},R=!1,P=1,L=t.adReport,M=null,D=!1,B=null,N=null,U=null,F=0,O=i("Tx78").creatAdQrcodeCard,H=i("ZVwP").Ad_ActionTxt,G="",V=null,W={};function q(a,s){o=a,d.log("当前广告插件信息：",o);var c=null,u=a.videoUrl,p=a.imageUrl,h=a.sdkConf,f=a.actionTxt;if(C=l.unescapeHTML(h),x=JSON.parse(C),U=e.huyaAD.getQrcodeInfo(o),F=U.mode,A=e.huyaAD.setADEnv(o,A),!R){var m=a.pluginWidth,v=a.pluginHeight,g=a.pluginLocate,b=a.showSec;S=b||15,1334,r=750,y=m,_=v,P=g}var I=null;if(s||u)c=i("IvBl")(),n=$(c),null==s&&(s={videoUrl:u,isMp4:!0}),function(t){if(null==N){var n=i("vNGJ");N=new n(e,z,K,Z,X,A)}N.startPlay(t,o,C)}(s),I=n.find(".ab-container"),n.find(".common-ab-logo").click(ie),ne();else{if(!p)return re(),void Q();c=i("8hAE")(),I=(n=$(c)).find("#banner-ab"),p=p.replace("http:","https:"),I.attr("src",p),n.find(".ab-default-bg").hide()}var E=n.find(".details-btn"),T="".concat(f||H);F>0&&E.addClass("qrcode-style"),E.find("span").text(T),n.css("cursor",1!=F?"pointer":"default"),n.click(ee),(k=n.find(".ab-close-btn")).click(J),I.css("pointer-events",x.landingUrl?"auto":"none"),k.show(),w=!0,t.adStateChange(w),n.appendTo("#huya-ab"),n.show(),L.reportPageView(C,A),14!=P&&17!=P||k.addClass("fullscreen-state"),17==P&&function(){if(D)return;var t=$("#hy-video");B=$('<div class="huya-video-ad-fullscreen"></div>'),$("#player-wrap").append(B),$(B).append(t),D=!0,o&&"1"==o.extra.value.volume&&(e.vcore.volume=0)}(),function(){if(0==F)return;var t=O(e,n,o,U,"",!1);n.find(".ab-qrcode-card-container").append(t),clearTimeout(j),j=setTimeout((function(){n.find(".details-btn").hide()}),2e3)}()}c.addEvent(c.VOLUME_CHANGE,ae),$("#player-wrap").resize(oe);var j=0;function z(e,t){var i=n.find(".ab-container");n.find(".ab-video").remove();var r=t||e;$(r).attr("class","ab-video"),i.append(r),n.find(".ab-default-bg").hide(),ae()}function Y(){T=null,re(),c.removeEvent(c.VOLUME_CHANGE,ae),$("#player-wrap").unbind("resize",oe)}function J(t){l.stopPropagation(t),R&&e.popupManager.nativePopupDeQueue({liveroomPopupKey:G}),L.reportClose(C,A),N&&N.onCloseReportVideo();var i=o.extra.value.slotCode;if(i){var n={slotcode:i,style:"bigarea",close_type:"close"};e.huyaAD.huyaReportClose(o,n)}Y()}function K(e,t){b&&e>=b&&Z()}function Z(){R&&e.popupManager.nativePopupDeQueue({liveroomPopupKey:G,initiative:!1}),re(),Q()}function X(){g=!0;var e=n.find(".ab-sound-btn");e.removeClass("ab-sound-off ab-sound-on"),g?e.addClass("ab-sound-off"):e.addClass("ab-sound-on")}function Q(){if(null!=T)if(T.length<=0)Y();else{var t=T.shift();if(R){var i=1e3*S,n=function(t){var i=t.adExtCommonInfo,n=new m.JceInputStream(i.buffer),r=new f.AdExtCommonInfo;r.readFrom(n);var a=e.huyaAD.getVideoInfo(r);return d.log("AdExtCommonInfo:",r,a),a}(t),r=n||t.videoUrl,a={liveroomPopupKey:G,showTime:i,unlimitedTime:!!r};e.popupManager.nativePopupEnQueue(a,(function(e){W=e.data.reportParams,q(t,n),oe()}),(function(e){re(),Q()}))}else q(t,n),oe()}}function ee(t){l.stopPropagation(t),1!=F&&(L.reportClick(C,A),e.huyaAD.openAdUrl(o,x),e.popupManager.reportClickLiveRoomPopup(W,"body"))}var te=0;function ie(e){l.stopPropagation(e);var t=Date.now();t-te<500||(te=t,g=!g,ne())}function ne(){var e=n.find(".common-ab-logo #sound");e.removeClass("sound-close"),g&&e.addClass("sound-close");var t=g?0:v;N&&N.setVolume(t)}function re(){clearTimeout(I),clearTimeout(E),clearTimeout(j),N&&N.clear(),n&&(n.remove(),n.unbind(),n=null),w=!1,t.adStateChange(w),function(){if(!D)return;var t=$("#hy-video"),n=$("#player-video").width(),r=$("#player-video").height();null==M&&(M=i("676x"));M.to(B,.5,{left:0,top:0,width:"".concat(n,"px"),height:"".concat(r,"px"),ease:Linear.easeNone,onComplete:function(){$("#player-video").append(t),B.remove()}}),D=!1,e.vcore.volume=s.volume}()}function ae(){N&&(v=R?Math.min(s.volume,.25):"MATCH"==u.roomInfo.type&&s.playerConfig&&s.playerConfig.adVolume?s.volume/100*s.playerConfig.adVolume:s.volume/100,!g&&N.setVolume(v))}function oe(){if(w){var e=$("#player-video").width(),t=$("#player-video").height(),i=_*t/r,o=i*y/_;if(R){var s=a.layoutType,c=a.ratioW,l=a.ratioH;1==s?n.css({width:o,height:i,top:t*l,left:e*c}):2==s?n.css({width:o,height:i,top:t*l,left:e-o>>1}):3==s?n.css({width:o,height:i,top:t*l,left:e*c-o}):4==s?n.css({width:o,height:i,top:t*l-i,left:e*c}):5==s?n.css({width:o,height:i,top:t*l-i,left:e-o>>1}):6==s?n.css({width:o,height:i,top:t*l-i,left:e*c-o}):7==s?n.css({width:o,height:i,top:t-i>>1,left:e*c}):8==s?n.css({width:o,height:i,top:t-i>>1,left:e*c-o}):9==s?n.css({width:o,height:i,top:t-i>>1,left:e-o>>1}):10==s&&n.css({width:e,height:t})}else{var u=[[0,0],[.0299,.0533],[.5,.0533],[.9685,.0533],[.0299,.1866],[.5,.1866],[.9685,.1866],[.0299,.8106],[.5,.8106],[.9685,.8106],[.0299,.944],[.5,.944],[.9685,.944],[0,1],[0,0],[.0299,.5],[.9685,.5],[0,0]];c=u[P][0],l=u[P][1];switch(P){case 1:case 4:n.css({width:o,height:i,top:t*l,left:e*c});break;case 2:case 5:n.css({width:o,height:i,top:t*l,left:e-o>>1});break;case 3:case 6:n.css({width:o,height:i,top:t*l,left:e*c-o});break;case 7:case 10:n.css({width:o,height:i,top:t*l-i,left:e*c});break;case 8:case 11:n.css({width:o,height:i,top:t*l-i,left:e-o>>1});break;case 9:case 12:n.css({width:o,height:i,top:t*l-i,left:e*c-o});break;case 13:n.css({width:o,height:i,top:t*l-i,left:e*c});break;case 15:n.css({width:o,height:i,top:t-i>>1,left:e*c});break;case 16:n.css({width:o,height:i,top:t-i>>1,left:e*c-o});break;case 14:case 17:n.css({width:e,height:t})}}!function(){if(0==F)return;var e=n.find(".ab-qrcode-card-container");n.height()<254?e.hasClass("small-style")||(e.addClass("small-style"),2==F&&e.find(".ab-qr-code-desc").text(U.qrcodeTips+" >")):e.hasClass("small-style")&&(e.removeClass("small-style"),e.find(".ab-qr-code-desc").text(U.qrcodeTips))}()}}this.isAdShowing=function(){return w},this.setData=function(e,t){h.addLog("赏金广告",e,t),G=t,R=e.isReward;var i=e.ads.value;if(!i||i.length<1)Y();else{if(V=e.roomAdInfo,T=i.concat(),R){var n=V,o=n.layout,c=n.maxDuration,l=n.videoMaxDuration;S=c||30,b=l||60,a=o,o.templateW||1334,r=o.templateH||750,y=o.width||800,_=o.height||450}else a=null;V&&V.env&&V.env.value&&(A=V.env.value),s.mpExperiment&&(A.exp=s.mpExperiment),Q()}},this.clear=Y}},GpTP:function(e,t,i){e.exports=function(e){var t=null,n=null,r=null;function a(){var e=t.find(".gift-check-box").hasClass("normal");n&&n(e),t.hide()}function o(){t.hide(),r&&r()}function s(){var e=t.find(".gift-check-box");e.hasClass("normal")?(e.removeClass("normal"),e.addClass("selected")):(e.removeClass("selected"),e.addClass("normal"))}this.show=function(e,c,l,u,d){n=u,r=d;var p=$("#videoContainer");if(!t){var h=i("w0Uv")({gifts:e});t=$(h),p.append(t),t.find(".btn").click(a),t.find(".close").click(o),t.find(".gift-check-box").click(s)}t.css({left:.5*(p.width()-t.width())+"px",top:.5*(p.height()-t.height())+"px"}),t.find(".tittle").text(c),t.find(".price-value").text(l),t.find(".gift-check-box").removeClass("normal selected"),t.find(".gift-check-box").addClass("selected"),t.show()}}},H7XF:function(e,t,i){"use strict";t.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,n=l(e),o=n[0],s=n[1],c=new a(function(e,t,i){return 3*(t+i)/4-i}(0,o,s)),u=0,d=s>0?o-4:o;for(i=0;i<d;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,c[u++]=255&t);1===s&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],o=0,s=i-r;o<s;o+=16383)a.push(d(e,o,o+16383>s?s:o+16383));1===r?(t=e[i-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,i){for(var n,r=[],a=t;a<i;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(u(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HJX7:function(e,t,i){e.exports=function(e){var t=null,n=e.G,r=e.Event,a=e.ENV,o=e.Console,s=e.R,c=e.taf.HUYA,l={};function u(){var t=new c.BadgeInfoListReq;t.tUserId=n.userId,t.lToUid=n.yyuid,e.sendWup2("liveui","queryBadgeInfoList",t,d)}function d(e){o.log("onQueryBadgeInfoList",e),function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.lBadgeId;l[n]=i}}(e.vBadgeInfo.value),h(v(n.presenterUid))}function p(e){if(0!=e.iSuperFansInfoChanged){var t=e.tBadgeInfo,i=t.lBadgeId;l[i]=t,i==n.presenterUid&&h(t.tSuperFansInfo)}}function h(e){if(e){var t=e.lSFExpiredTS,i=e.iSFFlag;n.isSuperFans=0!=i,n.superFanstime=g(1e3*t),n.isSuperFans&&f()}}function f(){var t=new c.GetSuperFansCardReq;t.lUid=n.yyuid,t.lPid=n.presenterUid,e.sendWup2("revenueui","getSuperFansCard",t,m)}function m(e){var t=e.iCardCount;r.fireEvent(r.SET_SUPERFANS_CARD_COUNT,{count:t})}function v(e){return l[e]?l[e].tSuperFansInfo:null}function g(e){var t=new Date(e),i="(有效期至{0}/{1}/{2})";return i=i.format(t.getFullYear(),t.getMonth()+1,t.getDate())}function y(){null==t&&(t=i("K6D0")(),$(a.idDom).append(t),$(".player-super-fans-close").click(_),$(".player-super-fans-btn").click(w),$(".super-fans-privilege-list li:nth-of-type(3)").click(S)),$(".player-super-fans").show(),s.newHuyaReport({eid_desc:"点击/直播间/礼物栏/超级粉丝卡出现弹窗提示",eid:"sys/click/superfanspop/superfansgift",prop:JSON.stringify({presenter_uid:n.presenterUid,room_id:a.profileRoom,uid:n.yyuid})})}function _(){$(".player-super-fans").hide()}function w(){_();var e=n.curSendUid&&n.curSendUid!=n.presenterUid?n.curSendUid:0;n.vplayer.trigger("clickSuperFansRecharge",e),s.newHuyaReport({eid_desc:"点击/直播间/礼物栏/超级粉丝卡/立即开通",eid:"usr/click/inceptionsuperfans/giftintroduce",prop:JSON.stringify({presenter_uid:n.presenterUid,room_id:a.profileRoom,uid:n.yyuid})})}function S(){window.open("https://hd.huya.com/huyaDIYzt/3745/pc/index.html?client=auto")}e.addTafListener("6232",p),r.addEvent(r.SHOW_OPEN_SUPER_FANS,y),n.isLogin&&(n.isUserInfoInited()?u():r.addEvent(r.USER_INFO_INITED,u)),this.getSuperFansInfoByUid=function(e){var t=!1,i=0,n=v(e);if(n){var r=n.lSFExpiredTS;t=0!=n.iSFFlag,i=g(1e3*r)}return{isSuperFans:t,superFanstime:i}},this.getSuperFansCard=f}},HLlQ:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-login-guide-tip">\n    <div class="player-login-guide-close"></div>\n    <div class="player-login-guide-text">登录免费享蓝光画质<span>&nbsp立即登录</span></div>\n</div>\n',__filename="src/tpl/login/login-guide-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-login-guide-tip">\n    <div class="player-login-guide-close"></div>\n    <div class="player-login-guide-text">登录免费享蓝光画质<span>&nbsp立即登录</span></div>\n</div>\n'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},IDXf:function(e,t,i){e.exports=function(e,t){var n,r=null,a=null,o=null,s=null,c=e.R,l=e.G;t=0;function u(){a.unbind(),a.remove()}function d(){u(),o&&o()}function p(){u(),s&&s()}function h(){window.open("https://kefu.zbase.huya.com/s/dist/tpl/serviceCenter.html#/home")}this.show=function(e,f,m,v,g){a&&u(),r=i("++EQ")(),a=$(r),n=e,o=m,s=v,t=g,$("#videoContainer").append(a),function(e,i){if(1==n){a.find(".accompany-alter-title").text("支付订单");var r="确定要支付<span>{0}</span>虎牙币？";r=r.replace("{0}",i),a.find(".accompany-alter-context").html(r),a.find(".btn-sure").click(d),a.find(".btn-cancel").click(u),c.newHuyaReport({eid_desc:"系统/页面展示/确认支付弹窗",eid:"sys/pageshow/paymentorderpop-ups",prop:JSON.stringify({scr_type:1==t?200:201}),uid:l.yyuid})}else 2==n?(a.find(".accompany-alter-title").text("提示"),a.find(".accompany-alter-context").text("余额不足"),a.find(".btn-charge").click(p),c.newHuyaReport({eid_desc:"系统/页面展示/余额不足弹窗",eid:"sys/pageshow/nomoneypopups",prop:JSON.stringify({scr_type:1==t?200:201}),uid:l.yyuid})):3==n&&(a.find(".accompany-alter-title").text("充值"),a.find(".accompany-alter-context").text("是否已完成充值？"),a.css("height","196px"),a.find(".btn-done").click(d),a.find(".btn-undone").click(u),a.find(".accompany-alter-kefu").click(h));$(".accompany-alter-type-"+e).show()}(e,f),$(".accompany-alter-close").click(u)}}},Ib8C:function(e,t,i){(function(t){var n;e.exports=(n=n||function(e,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==t&&t.crypto&&(r=t.crypto),!r)try{r=i(0)}catch(e){}var a=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),s={},c=s.lib={},l=c.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var o=i[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=o<<24-(n+a)%4*8}else for(var s=0;s<r;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(a());return new u.init(t,e)}}),d=s.enc={},p=d.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(i,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(i,t)}},f=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*c,a);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(r,d);i=r.splice(0,c),n.sigBytes-=l}return new u.init(i,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(c.Hasher=m.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new v.HMAC.init(e,i).finalize(t)}}}),s.algo={});return s}(Math),n)}).call(this,i("yLpj"))},IrSx:function(e,t,i){e.exports=function(e){var t,n,r=e.G,a=e.Event,o=e.ENV,s=e.utils,c=e.Console,l=e.R,u=e.taf,d=u.HUYA,p=u.Taf,h=100,f=[],m=0,v=[],g=[],y=0;function _(){!function(){var t=new d.ActivityDIYReq;t.tUserId=r.userId,t.lPid=r.presenterUid,t.lTid=r.topsid,t.lSid=r.subsid,t.lRoomId=o.profileRoom,t.iGameId=parseInt(r.gameId),e.sendWup2("wupui","getDIYActivityInfo",t,x)}(),function(){var t=new d.GetLiveRoomBottomBarReq;t.tId=r.userId,t.lPid=r.presenterUid,t.iGameId=r.gameId,e.sendWupNew("wupui","getLiveRoomBottomBar",t,d.GetLiveRoomBottomBarRsp).then((function(e){!function(e){for(var t=0;t<e.length;t++){var i=e[t],n=(i.lId,i.iType),r=i.vData;if(3==n)g.push({key:"xfcad"});else if(4==n)g.push({key:"xsbad"});else if(6==n){var a=new p.JceInputStream(r),o=new d.ActIssueItem;o.readFrom(a),c.log("小黄车",o);var s=o.iIssueId;g.push({key:"diy-activity-icon-"+s})}}}(e.vEntrance.value)}))}(),new(i("LRRj"))(e)}function w(e){var t=S(e.key);null==t?f.push(e):t.value=e.value,clearTimeout(y),y=setTimeout(b,h)}function S(e){for(var t=0;t<f.length;t++)if(f[t].key==e)return f[t];return null}function b(){var e,i,o=function(){for(var e=0,t=0;t<f.length;t++)1==f[t].value&&e++;return e}();f.sort(s.sortCompare("priority")),e=[],i=0,g.forEach((function(t){var n=f.findIndex((function(e){return e.key===t.key}));if(-1!==n&&i<2){var r=f.splice(n,1)[0];e.push(r),i++}})),i>0&&Array.prototype.splice.apply(f,[1,0].concat(e)),function(){if(!r.hasPlayerScoreIcon)return;var e=f.findIndex((function(e){return"playerscore"===e.key}));if(f.length>4&&-1!==e){var t=f[e];f.splice(e,1),f.splice(3,0,t)}}(),null==t&&(t=$('<div class="more-activity-icon"><div class="more-activity-icon-box"><div class="icon-bg"></div><div class="icon-span">更多</div><div id="more-red-circle" class="red-circle"></div></div></div>'),n=$('<div class="more-attivity-panel"><div class="player-arrow-down arrow"></div><div class="panel-gap"></div></div>'),document.body.appendChild(n[0]),$("#main_col").on("scroll",(function(){T()}))),t.off("mouseenter").off("mouseleave"),n.off("mouseenter").off("mouseleave"),o>5?(C(4),$(".player-gift-left").append(t),function(){var e=n,t=64*Math.min(m,4),i=60*(parseInt((m-1)/4)+1);e.css({width:t,height:i});var r=e.outerWidth()/2;e.find(".arrow").css({left:r+"px"})}(),t.hover(E,T),n.hover(E,T)):(C(5),t.remove()),a.fireEvent(a.GIFT_RESIZE),k()}r.isUserInfoInited()?_():a.addEvent(a.USER_INFO_INITED,_),a.addEvent(a.ACTIVITY_ICON_COUNT_UPDATE,w),a.addEvent(a.ADD_DIY_ICON,P),a.addEvent(a.DEL_DIY_ICON,L),a.addEvent(a.SHOW_DIY_BADGE,M),a.addEvent("changeDiyText",D),a.addEvent(a.OPEN_ACTIVITY_PANNEL,U),a.addEvent(a.OPEN_DIY_ACTIVITY_BY_ID,F),a.addEvent(a.OPEN_NATIVE_URL,H),a.addEvent("interactive",O);var I=0;function E(){clearTimeout(I),n.show(),t.find("#more-red-circle").hide(),k()}function T(){clearTimeout(I),I=setTimeout((function(){n.hide()}),100)}function k(){var e=t[0].getBoundingClientRect();e&&n.css({left:e.left-n.outerWidth()/2+t.outerWidth()/2+"px",top:e.top-n.outerHeight()-15+"px"})}function C(e){var t=0;m=0,v=[];for(var i=$(".player-gift-left"),r=0;r<f.length;r++)if(1==f[r].value){var a=f[r],o=a.icon,s=a.appendCallback;s&&s(t>=e),t<e?(t++,i.append(o)):(n.append(o),m++,v.push(f[r]))}}function x(t){for(var i=t.vActList.value,n=0;n<i.length;n++){var o=i[n],s=o.tInfo,c=o.iIssueId,u=o.tWebCfg,d=s.iWeight,p=s.sBubbleTips,h=s.sActName,f=u.iSatus,m=u.sJumpUrl;if(1==f){var v=$('<div id="diy-activity-icon-'+c+'" class="diy-activity-icon"><div class="diy-activity-icon-box"><img></img><span></span></div></div>'),g=s.sEnterIcon;""!=g&&(g=(g=g.replace("&","?")).replace("http:","https:"),v.find("img").attr("src",g)),v.find("span").text(s.sEnterName);var y={bubble:p,name:h,id:c};if(-1!=m.indexOf("slotcode:")){var _=m.split(":")[1];_&&e.huyaAD.reqDiyActivityADD(_,{vActData:i[n],diyData:y,diyIcon:v},(function(e,t,i){var n=e.vActData,o=e.diyData,s=e.diyIcon;l.newHuyaReport({eid_desc:"用户/曝光/互动通道/直播间",eid:"usr/pageshow/interaction-icon/liveroom",prop:JSON.stringify({pid:r.presenterUid,id:o.id}),uid:r.yyuid}),w({icon:s,priority:n.tInfo.iWeight,key:"diy-activity-icon-"+o.id,value:1,diyData:o,data:n});var c=s.find(".diy-activity-icon-box");c.data("data",{landingUrl:t,id:n.iIssueId,callback:i}),c.click((function(e){var t=e.currentTarget,i=$(t).data("data"),n=i.landingUrl;n&&window.open(n),a.fireEvent(a.QUIT_FULL_SCREEN),l.newHuyaReport({eid_desc:"用户/点击/互动通道/直播间",eid:"usr/click/interaction-icon/liveroom",prop:JSON.stringify({pid:r.presenterUid,id:i.id}),uid:r.yyuid});var o=i.callback;o&&o()}))}))}else{l.newHuyaReport({eid_desc:"用户/曝光/互动通道/直播间",eid:"usr/pageshow/interaction-icon/liveroom",prop:JSON.stringify({pid:r.presenterUid,id:c}),uid:r.yyuid}),w({icon:v,priority:d,key:"diy-activity-icon-"+c,value:1,diyData:y,data:i[n]});var S=v.find(".diy-activity-icon-box");S.data("data",i[n]),A(i[n]),S.click((function(e){var t=e.currentTarget,i=$(t).data("data");if(r.isCFMiNi)return l.huyuReport("click/CFmini/Interactive/",null,i.tInfo.sActName),void a.fireEvent(a.CF_MINI_JUMP);R(i),a.fireEvent(a.QUIT_FULL_SCREEN),l.newHuyaReport({eid_desc:"用户/点击/互动通道/直播间",eid:"usr/click/interaction-icon/liveroom",prop:JSON.stringify({pid:r.presenterUid,id:i.iIssueId}),uid:r.yyuid})}))}}}}function A(e){if(0!=i){var t=e.iIssueId,i=e.iIsPop;(function(e,t,i){if(2==i)return!0;if(3==i){B||(B=localStorage.diyIconTime?JSON.parse(localStorage.diyIconTime):{});var n=(new Date).getTime(),r=B[e]||0;return n-r>(t=1e3*t*60)&&(B[e]=n,localStorage.diyIconTime=JSON.stringify(B),!0)}if(1==i)return N||(N=localStorage.diyIconShow?JSON.parse(localStorage.diyIconShow):{}),"1"!=(N[e]||0)&&(N[e]=1,localStorage.diyIconShow=JSON.stringify(N),!0)})(t,e.iPopTime,e.iPopFrequency)&&R(e)}}function R(t){e.trigger("clickDIYActivityIcon",t.tWebCfg,t)}function P(t){if(t&&t.icon&&t.name){var i=t.id,n=null;n=$("#front-"+i).length>0?$("#front-"+i):$('<div id="front-'+i+'" class="diy-activity-icon"><div class="diy-activity-icon-box"><img></img><span></span><div class="red-circle"></div></div></div>'),t.icon=t.icon.replace("http:","https:"),n.find("img").attr("src",t.icon);var r=t.weight||1;n.find("span").text(t.name),w({icon:n,priority:r,key:i,value:1,redTips:0,data:t});var o=n.find(".diy-activity-icon-box");o.unbind(),o.data("data",t),o.click((function(t){var i=t.currentTarget,n=$(i).data("data");c.log("clickDiyIcon",n),e.trigger("clickDiyIcon",n),a.fireEvent(a.QUIT_FULL_SCREEN)}))}}function L(e){var t=e.id;$("#front-"+t).remove(),function(e){for(var t=0;t<f.length;t++)if(f[t].key==e){f.splice(t,1);break}}(t),clearTimeout(y),y=setTimeout(b,h)}function M(e){var i=e.id,n=e.value,r=S(i);if(r&&r.icon){r.redTips=n;var a=r.icon;0==n?a.find(".red-circle").hide():(a.find(".red-circle").show(),function(e){for(var i in t.find("#more-red-circle").hide(),e){if(e[i].redTips){t.find("#more-red-circle").show();break}}}(v))}}function D(e){var t=e.id,i=e.text;$("#front-"+t).length>0&&$("#front-"+t).find("span").text(i)}var B=null,N=null;function U(t){for(var i=t.id,n=t.param,r=n?decodeURIComponent(n):"",o=0;o<f.length;o++){if(f[o].key=="diy-activity-icon-"+i){var s=f[o].data,l={};Object.assign(l,s.tWebCfg);var u=l.sNativeUrl;return r&&(-1!=u.indexOf("?")?l.sNativeUrl+="&"+r:l.sNativeUrl+="?"+r),c.log(l.sNativeUrl,r),a.fireEvent(a.QUIT_FULL_SCREEN),e.trigger("clickDIYActivityIcon",l,s),{res:0,msg:"成功",data:{}}}if(-1!=f[o].key.indexOf(i))return e.trigger("clickDiyIcon",{id:i,query:r}),a.fireEvent(a.QUIT_FULL_SCREEN),{res:0,msg:"成功",data:{}}}return{res:10,msg:"互通通道没有这个id的活动，id为：".concat(i),data:{}}}function F(e){return U(e)}function O(e){var t=e.extuuid,i=e.param;t&&U({id:"".concat(t,"_web_video_com"),param:i})}function H(t){var i=t.nativeUrl,n=t.pos,r=t.width,a=t.height,o=new d.ActIssueItem;o.tWebCfg.iIconPage=2,o.tWebCfg.iPos=parseInt(n)||5,o.tWebCfg.sNativeUrl=decodeURIComponent(i),o.tWebCfg.iHeight=parseInt(a),o.tWebCfg.iWidth=parseInt(r),e.trigger("clickDIYActivityIcon",o.tWebCfg,o)}this.openActivityPannel=U,this.openDIYActivityById=F,this.openNativeUrl=H}},IvBl:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="video-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <div class="ab-container"></div>\n    <div class="ab-qrcode-card-container"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>',__filename="src/tpl/ad/new-video-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="video-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <div class="ab-container"></div>\n    <div class="ab-qrcode-card-container"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>'),__line=20;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},JBwn:function(e,t,i){e.exports=function(e,t){var n,r,a,o=null,s=e.Event,c=e.G,l=e.R,u=e.ISDEBUG,d=e.alert,p=e.taf,h=p.HUYA,f=p.HUYAWEB,m=!0,v=0,g=!1,y=!1,_=0,w=null,S=[],b=!1,I=1,E=null,T=0,k=null,C=null,x=i("NGv7"),A=i("IDXf"),R=[],P=t,L=0;function M(){l.newHuyaReport({eid_desc:"用户/点击/切换技能按钮/派单厅",eid:"usr/click/switchskillbtn/dispatchroom",prop:"",uid:c.yyuid}),b=!b,D()}function D(){r&&r.hide();var e=$(".accompany-panel").find("#arrow");b?(e.removeClass("arrow-down"),e.addClass("arrow-up"),$(".content-model-order  .order-skill-list").show(),function(){var e=$(".order-skill-list").find("ul");r=$(".accompany-skill-scroll-bar"),e.unbind(),e.empty();for(var t=0;t<S.length;t++){var n=S[t];if(n!=a){var o=i("QiFv")(),s=$(o),c=n.tBase.sIcon;s.find(".game-icon").attr("src",c);var l=n.tBase.sName;s.find(".game-name").text(l);var u=n.tStat.sLevel;u?(s.find(".skill-name").text(u),s.find(".skill-name").show()):s.find(".skill-name").hide();var d=n.tStat.iOrderCount;s.find(".order-txt-left").text("已接单"+d+"次");var p=n.tStat.tDiscountsInfo,h=p.iSrcPrice/100,f=p.iDiscountPrice/100,m=n.tBase.sUnit,v=p.iType,g=p.iDiscount;0==v?s.find(".order-skill-price").html(h+"币/"+m):1==v?s.find(".order-skill-price").html(f+"币/"+m+'<span class="type1">'+h+"币/"+m+'</span><span class="type2">'+g/10+"折</span>"):2==v&&s.find(".order-skill-price").html(h+"币/"+m+'<span class="type2">首单'+f+"币</span>"),s.data("data",n),s.click(B),s.appendTo(e)}}!function(){var e=$(".order-skill-list"),t=$(".order-skill-list ul"),i=e.height(),n=t.height();if(!(n>i&&n))return;r.show();var a=n-i,o=$(".accompany-skill-scroll-bar").height();r.on("mousedown",(function(t){var n=t.pageY-parseInt(r.css("top"))+127,s=i-o;return $(document).on("mousemove",(function(t){var i=t.pageY-n;return i<0&&(i=0),i>s&&(i=s),r.css("top",i+127),e.scrollTop(i*a/s),!1})),$(document).on("mouseup",(function(){$(document).off("mousemove").off("mouseup")})),!1})),e.on("mousewheel",(function(t,n){var s=e.scrollTop();return e.scrollTop(s-20*n),s=e.scrollTop(),r.css("top",s/a*(i-o)+127),!1}))}()}()):(e.removeClass("arrow-up"),e.addClass("arrow-down"),$(".content-model-order  .order-skill-list").hide())}function B(e){var t=e.currentTarget;a=$(t).data("data"),U(),ee(),b=!1,D(),q()}function N(e){_=e.tLevel.lMasterUid,w=e.tUserBase;var t=e.tUserBase.sNickName,i=e.tUserBase.sAvatarUrl;$(".content-model-order").find(".accompany-order-name").text(t),$(".content-model-order").find(".accompany-order-head-icon img").attr("src",i),(S=e.vSkill.value).sort(re("iOrderCount")),S.length>1?$(".swich-skill-btn").show():$(".swich-skill-btn").hide(),a=S[0],U(),I=1,q(),ee(),b=!1,D(),G(),function(){var e=$("#accompaney-time-switch"),t=e.find("#selYear")[0],i=e.find("#selMonth")[0],n=e.find("#selDay")[0],r=e.find("#selHour")[0],a=e.find("#selMinu")[0],o=new Date;o.setTime(o.getTime()+6e5);var s=o.getFullYear(),c=o.getMonth(),l=o.getDate(),u=o.getHours(),d=o.getMinutes(),p=new Date(s,c,l,u,d,0);k=new x(t,i,n,r,a,p)}(),l.newHuyaReport({eid_desc:"系统/页面展示/下单弹窗",eid:"sys/pageshow/orderpop-ups",prop:JSON.stringify({scr_type:1==v?200:201}),uid:c.yyuid})}function U(){var e=$(".accompany-order-cur-skill"),t=a.tBase.sIcon;e.find(".game-icon").attr("src",t);var i=a.tBase.sName;e.find(".game-name").text(i);var n=a.tStat.sLevel;n?(e.find(".skill-name").text(n),e.find(".skill-name").show()):e.find(".skill-name").hide();var r=a.tStat.iOrderCount;e.find(".order-txt-left").text("已接单"+r+"次");var o=a.tStat.tDiscountsInfo,s=o.iSrcPrice/100,c=o.iDiscountPrice/100,l=a.tBase.sUnit,u=o.iType,d=o.iDiscount;0==u?e.find(".order-txt-right").html(s+"币/"+l):1==u?e.find(".order-txt-right").html(c+"币/"+l+'<span class="type1">'+s+"币/"+l+'</span><span class="type2">'+d/10+"折</span>"):2==u&&e.find(".order-txt-right").html(s+"币/"+l+'<span class="type2">首单'+c+"币</span>")}function F(e,t){for(var i=0;i<c.makeFriendData.length;i++)if(c.makeFriendData[i].uid==e)return c.makeFriendData[i].tag;return t+"麦"}function O(){null==o&&(o=i("+pUA")(),$("#videoContainer").append(o),$(".accompany-panel").find(".panel-close").click(J),$(".accompany-back-btn").click(j),$(".swich-skill-btn").click(M),$(".accompany-num-minus").click(V),$(".accompany-num-add").click(W),$(".accompany-panel").find(".coin-fresh").click(H),$("#accompany-pay-btn").click(Z),E=new A(e,v))}function H(){l.newHuyaReport({eid_desc:"用户/点击/刷新按钮/派单厅-陪玩下单弹窗",eid:"usr/click/refreshbtn/dispatchroom",prop:"",uid:c.yyuid}),G()}function G(t){var i=new f.GetHyCoinBalanceReq;i.tId=c.userId,e.sendWupNew("payWebUI","getHyCoinBalance",i,f.GetHyCoinBalanceRsp).then((function(e){var i=e.status,n=e.msg,r=e.useableBalance,a=0;200==i&&(a=parseFloat(r));var o="虎牙币({0})";o=o.replace("{0}",a),L=a,$(".accompany-panel").find(".coin-value").text(o),200!=i&&n&&s.fireEvent(s.SHOW_COMMON_TOAST,n),t&&t()})).catch((function(e){console.log(e)}))}function V(){I<2||(I--,q())}function W(){I>=999||(I++,q())}function q(){$(".accompany-order-count").find("span").text(I),C&&(T=function(e,t,i){t>3&&t<=6&&(t-=4);if(1==t)return e.iDiscountPrice*i;if(2==t)return e.iDiscountPrice+e.iSrcPrice*Math.max(i-1,0);return e.iSrcPrice*i}(C.tDisc,C.iDisType,I),$("#accompany-small-price").find(".order-count").text("共"+I+"单"),$("#accompany-small-price").find(".order-total-price").text(T/100+"币"),$("#accompany-total-price").find(".order-count").text("共"+I+"单"),$("#accompany-total-price").find(".order-total-price").text(T/100+"币"))}function j(){m=!0,O(),Y()}function z(t){if(c.isLogin){m=!1,O();var i=t.currentTarget;N($(i).data("data")),Y()}else e.popLogin()}function Y(){var e=1==m&&1==v&&!g;e?$(".content-model-order").hide():$(".content-model-order").show(),e?$(".content-model-list").show():$(".content-model-list").hide(),$(".accompany-list-scroll-bar").css("visibility",m?"visible":"hidden"),0!=m||1!=v||g?($(".accompany-back-btn").hide(),$(".accompany-title").show()):($(".accompany-back-btn").show(),$(".accompany-title").hide()),e&&R&&0==R.length?$(".content-list-empty").show():$(".content-list-empty").hide()}function J(){$(".accompany-panel").hide(),y=!1}function K(e){var t=e.currentTarget,i=$(t).data("data"),n=encodeURIComponent(i.tUserBase.lUid),r=encodeURIComponent(i.tUserBase.sNickName),a=encodeURIComponent(i.tUserBase.sAvatarUrl),o="https://i.huya.com/index.php?m=Msg&do=listMsg&uid="+n+"&userNick="+r+"&userIcon="+a;if(u)o="//test-i.huya.com/index.php?m=Msg&do=listMsg&uid="+n+"&userNick="+r+"&userIcon="+a;window.open(o)}function Z(){l.newHuyaReport({eid_desc:"用户/点击/支付订单按钮/派单厅",eid:"usr/click/paymentorderbtn/dispatchroom",prop:"",uid:c.yyuid}),c.isLogin?(k.getTime(),_!=c.yyuid?parseFloat(T/100)>parseFloat(L)?E.show(2,0,null,ne,v):E.show(1,T/100,X,null,v):d.show({msg:"不能自己给自己组队哟",type:3})):e.popLogin()}function X(){parseFloat(T/100)>parseFloat(L)?E.show(2,0,null,ne,v):ee(te)}function Q(){G(X)}function ee(t){var i=new h.ACCreateOrderPannelReq;i.tId=c.userId,i.lMTUid=_,i.iNum=I,i.iSkillId=a.tBase.iId,e.sendWup2("accompanyui","acCreateOrderPannel",i,(function(e){if(0==e.tRet.iRet){C=e;var i=e.iPrice,n=e.lCost,r=a.tStat.tDiscountsInfo,o=e.iDisType;q(),t&&t(i,n,o,r)}else d.show({msg:e.tRet.sDes,type:3})}))}function te(t,i,n,r){n>3&&n<=6&&(n-=4);var o=new h.ACCreateOrderReq;o.tId=c.userId,o.lMTUid=_,o.iNum=I,o.iSkillId=a.tBase.iId,o.iPrice=r.iSrcPrice,o.iServiceTime=Math.round(k.getTime()/1e3),o.iPayType=7,o.iSrcType=1==v?200:201,o.lCost=i,o.iDisType=n,o.sSrcExt=c.presenterUid,o.tDisc=r,e.sendWup2("accompanyui","acCreateOrder",o,ie)}function ie(e){var t=0==e.tRet.iRet?0:1;l.newHuyaReport({eid_desc:"用户/点击/确定支付按钮/派单厅-支付订单弹窗",eid:"usr/click/ok/dispatchroom",prop:JSON.stringify({result:t,num:I,skill:a.tBase.iId,money:T,scr_type:1==v?200:201}),uid:c.yyuid}),10==e.tRet.iRet?E.show(2,0,null,ne,v):0!=e.tRet.iRet?d.show({msg:e.tRet.sDes,type:3}):0==e.tRet.iRet&&(J(),P(w))}function ne(){l.newHuyaReport({eid_desc:"用户/点击/去充值按钮/派单厅-余额不足弹窗",eid:"usr/click/torechargebtn/dispatchroom",prop:"",uid:c.yyuid});var t={nick:c.getNickName(),hasVideo:c.hasVideo?1:0,panelType:"hyb"};e.trigger("webgamepaylayer",{param:t}),E.show(3,0,Q,null,v)}function re(e){return function(t,i){var n=t.tStat[e],r=i.tStat[e];return n>r?-1:n<r?1:0}}window.testDateSelect=function(e,t,i,n){var r=$("#accompaney-time-switch"),a=r.find("#selYear")[0],o=r.find("#selMonth")[0],s=r.find("#selDay")[0],c=r.find("#selHour")[0],l=r.find("#selMinu")[0],u=new Date(2020,e-1,t,i,n,0);k=new x(a,o,s,c,l,u)},this.getIsShow=function(){return y},this.show=function(e,t,r){v=e,g=r,O(),2==v||1==g?N(t.data):1==v&&(!function(e){var t=e.mpMasterUid2SeatPos.value,r=e.mpReceptionEvaluate.value,a=$(".content-model-list").find("ul");n=$(".accompany-list-scroll-bar"),a.empty(),R=e.vMaster.value;for(var o=0;o<R.length;o++){var s=R[o],c=s.tUserBase.lUid,l=t[c],u=1==l,d=i("JqhX")(),p=$(d),h=s.tUserBase.sNickName,f=s.tUserBase.sAvatarUrl;p.find(".name").text(h),p.find(".head-icon img").attr("src",f);var m=p.find(".skill-list");m.empty();var v=s.vSkill.value,g=0;v.sort(re("iOrderCount"));for(var y=0;y<v.length;y++){var _=v[y],w=_.tBase.sIcon;if(g+=_.tStat.iOrderCount,!u&&y<3){var S=$('<img class="skill-icon"></img>');S.attr("src",w),S.appendTo(m)}}if(u){p.find(".order-txt-left").show(),p.find(".order-txt-left").text("已接单："+g);var b=r[c]?r[c].dEvaluteScore:0;b=b.toFixed(0),p.find(".order-txt-right").text("接待评分："+b),p.find(".mic-logo").hide(),p.find(".reception-logo").show()}else if(p.find(".order-txt-left").text(""),p.find(".order-txt-left").hide(),p.find(".order-txt-right").text("已接单："+g),p.find(".reception-logo").hide(),l){p.find(".mic-logo").show();var I=F(c,l);p.find(".mic-logo").text(I)}else p.find(".mic-logo").hide();p.find(".letter-btn").click(K),p.find(".creat-order-btn").click(z),p.find(".creat-order-btn").data("data",s),p.find(".letter-btn").data("data",s),p.appendTo(a)}}(t),m=!0),Y(),$(".accompany-panel").show(),y=!0,1!=v||g||function(){var e=$(".content-model-list"),t=$(".content-model-list ul"),i=e.height(),r=t.height();if(!(r>i&&r))return;n.show();var a=r-i;n.on("mousedown",(function(t){var r=t.pageY-parseInt(n.css("top"))+45,o=i-80;return $(document).on("mousemove",(function(t){var i=t.pageY-r;return i<0&&(i=0),i>o&&(i=o),n.css("top",i+45),e.scrollTop(i*a/o),!1})),$(document).on("mouseup",(function(){$(document).off("mousemove").off("mouseup")})),!1})),e.on("mousewheel",(function(t,r){var o=e.scrollTop();return e.scrollTop(o-20*r),o=e.scrollTop(),n.css("top",o/a*(i-80)+45),!1}))}()}}},JOBQ:function(e,t,i){var n=i("eKvN");e.exports=function(e){var t="",i=null,r=e.G,a=e.ISDEBUG,o=e.utils,s=e.taf.HUYA;function c(e){var t=e.iRetCode,n=e.sSeq;!function(e){i&&i(e),i=null}(0==t&&""!=n?n:function(){var e=new Date,t=e.getFullYear().toString(),i=o.padNum(e.getMonth()+1,2),n=o.padNum(e.getDate(),2),r=o.padNum(e.getHours(),2),a=o.padNum(e.getMinutes(),2),s=o.padNum(e.getSeconds(),2),c=t+i+n+r+a+s;c+="050010";for(var l=0;l<12;l++){var u=36*Math.random()>>0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(u);c+=d}return c}())}t=a?"c84eWpKudhlb0T2JQbMM96RJpgqQRwEq":"AzCXiouW6aLc4AsVGKAOOLlNLawNQsuV",this.getOrderId=function(a,o){if("function"!=typeof a)throw new Error("callback参数不是函数！");i=a,function(i){var a=new s.GetSequenceReq;a.tId=r.userId,a.iSeqNum=i&&i.iSeqNum?i.iSeqNum:1,a.iFromType=5,a.iBusinessType=i&&i.iBusinessType?i.iBusinessType:1;var o=[r.yyuid,a.iSeqNum,a.iFromType,a.iBusinessType,t].join("");o=n(o),a.sSgin=o,e.sendWup2("sequenceui","getSequence",a,c)}(o)}}},JctT:function(e,t){e.exports=function(e){var t=e.taf,i=t.HUYA,n=t.GameRelease,r={6076:i.LiveRoomPopupWindowNotice,6518:i.ReportLiveStreamStatNotice,7902:i.RoomFreqLimitChangeNotice,7920:i.ScheduleEasterEggInfo,10048:i.UserGrowthPrivilegeChangeNotice,101854:i.GetTeamViewPortForAudienceRsp,1025500:i.RtbInstructionInfo,1200002:i.VoiceMuteJsonInfo,1200003:i.PixelateInfo,1800008:n.AnchorAlertNotify,2001231:i.MessageRichTextNotice,2300001:i.BackpackUpdateNotice,2410010:i.UserRelationChangeNotice,30088087:i.PushWaterMark};e.registerUriMap(r)}},JhDf:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-smallhandle-big-image">\n    <div class="content">\n        <i class="left-btn"></i>\n        <img class="center-content" />\n        <i class="right-btn"></i>\n    </div>\n     <div class="close"></div>\n</div>',__filename="src/tpl/smallhandle/smallhandel-big-image.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-smallhandle-big-image">\n    <div class="content">\n        <i class="left-btn"></i>\n        <img class="center-content" />\n        <i class="right-btn"></i>\n    </div>\n     <div class="close"></div>\n</div>'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},Jk6m:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.taf,a=e.Console,o=r.HUYA,s=r.Taf,c=new(i("owf/"))("huyafed-db","badge"),l={},u=0;function d(){var i=new o.GetResourceInfoReq;i.tUserId=t.userId,i.sScene="web",i.sVersion=localStorage.resourceVer||"",i.lPid=t.presenterUid,e.sendWup2("wupui","getResourceInfo",i,p)}function p(e){var t=e.sVersion,i=e.vResource,r=e.iAllResource;u=r,localStorage.resourceVer=t,function(e){for(var t=e.value,i=t.length,r=null,a=0;a<i;a++){switch(t[a].iBizType){case 1:r=t[a];continue;case 11:h("customFansBadge",t[a],o.CustomFansBadgeResource);continue;case 12:h("commonFansBadge",t[a],o.CommonFansBadgeResource);continue;case 14:h("commonFansBadgeSplit",t[a],o.CommonFansBadgeSplitResource);continue}}n.fireEvent("updatePropList",r)}(i)}function h(e,t,i){function n(t){if(t){var n=t.vItem,r=t.vDeletedId;!function(e,t,i){for(var n=e.value,r=0,o=n.length;r<o;r++){var c=n[r],u=n[r].sId,d=new s.JceInputStream(c.vData),p=new i;p.readFrom(d),c.vData=p,l[t][u]=p}a.log("addBadgeItem badgeData[key]",l[t])}(n,e,i),function(e,t){for(var i=e.value,n=0,r=i.length;n<r;n++){var o=i[n];a.log("delBadgeItem id",o),l[t][o]&&delete l[t][o]}}(r,e),a.log("brageInfo",e,l[e]);var o=JSON.stringify(l[e]);c.setItem(e,o,(function(){a.log(e+" 保存成功")}),(function(){a.error(e+"保存失败"),localStorage.resourceVer=""}))}}if(1==u)return l[e]={},void n(t);c.getItem(e,(function(i){l[e]=i?JSON.parse(i):{},n(t)}),(function(){l[e]={},n(t)}))}t.isUserInfoInited()?d():n.addEvent(n.USER_INFO_INITED,d)}},JqhX:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<li class="accompany-list-item">\n    <div class="accompany-info-container head-pos">\n        <div class="head-icon">\n            <img></img>\n            <div class="mic-logo">1麦</div>\n            <div class="reception-logo">\n              <div class="reception-icon"></div>\n              <div class="reception-txt">接待</div>\n            </div>\n        </div>\n        <div class="accompany-info">\n          <div class="name"></div>\n          <div class="skill-order-mix">\n\t          <div class="skill-list"></div>\n\t          <div class="order-txt-left">已接单：0</div>\n\t          <div class="order-txt-right">接待评分:999</div>\n          </div>\n        </div>\n      </div>\n      <div class="letter-btn">私信</div>\n      <div class="creat-order-btn">组队</div>\n</li>',__filename="src/tpl/accompany/accompany-list-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<li class="accompany-list-item">\n    <div class="accompany-info-container head-pos">\n        <div class="head-icon">\n            <img></img>\n            <div class="mic-logo">1麦</div>\n            <div class="reception-logo">\n              <div class="reception-icon"></div>\n              <div class="reception-txt">接待</div>\n            </div>\n        </div>\n        <div class="accompany-info">\n          <div class="name"></div>\n          <div class="skill-order-mix">\n\t          <div class="skill-list"></div>\n\t          <div class="order-txt-left">已接单：0</div>\n\t          <div class="order-txt-right">接待评分:999</div>\n          </div>\n        </div>\n      </div>\n      <div class="letter-btn">私信</div>\n      <div class="creat-order-btn">组队</div>\n</li>'),__line=22;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},K3mO:function(e,t,i){var n,r,a,o,s,c,l,u;e.exports=(u=i("Ib8C"),i("3y9D"),i("WYAk"),r=(n=u).lib,a=r.Base,o=r.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,r=n.hasher.create(),a=o.create(),s=a.words,c=n.keySize,l=n.iterations;s.length<c;){i&&r.update(i),i=r.update(e).finalize(t),r.reset();for(var u=1;u<l;u++)i=r.finalize(i),r.reset();a.concat(i)}return a.sigBytes=4*c,a}}),n.EvpKDF=function(e,t,i){return l.create(i).compute(e,t)},u.EvpKDF)},K6D0:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-super-fans">\n    <div class="player-super-fans-top"></div>\n    <div class="player-super-fans-bottom"></div>\n\t<div class="player-super-fans-close"></div>\n\t<h1>仅超级粉丝可以送出哦！</h1>\n    <p>升级超级粉丝，享受多特权</p>\n   <div class="super-fans-privilege-list">\n        <ul class="list">\n            <li>\n                <div class="icon icon1"></div>\n                <span>每日礼包</span>\n            </li>\n            <li>\n                <div class="icon icon2"></div>\n                <span>专属粉丝徽章</span>\n            </li>\n            <li>\n                <div class="icon icon3"></div>\n                <span>更多特权</span>\n            </li>\n        </ul>\n    </div>\n     <div class="player-super-fans-btn">立即开通</div>\n</div>',__filename="src/tpl/others/super-fans.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-super-fans">\n    <div class="player-super-fans-top"></div>\n    <div class="player-super-fans-bottom"></div>\n\t<div class="player-super-fans-close"></div>\n\t<h1>仅超级粉丝可以送出哦！</h1>\n    <p>升级超级粉丝，享受多特权</p>\n   <div class="super-fans-privilege-list">\n        <ul class="list">\n            <li>\n                <div class="icon icon1"></div>\n                <span>每日礼包</span>\n            </li>\n            <li>\n                <div class="icon icon2"></div>\n                <span>专属粉丝徽章</span>\n            </li>\n            <li>\n                <div class="icon icon3"></div>\n                <span>更多特权</span>\n            </li>\n        </ul>\n    </div>\n     <div class="player-super-fans-btn">立即开通</div>\n</div>'),__line=24;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},K6zF:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e){var t=e.G,n=e.taf,a=e.Console,o=e.Event,s=e.R,c=e.logUtils,l=e.utils,u=n.HUYA,d=i("iyPA").SoundProgress,p=null,h=null,f=null,m=1,v=1,g=null,y=0,_={},w="官方解说",S=null;function b(){var i=new u.GetTeamViewPortForAudienceReq;i.tId=t.userId,i.lPid=t.presenterUid,e.sendWupNew("wupui","getTeamViewPortForAudience",i,u.GetTeamViewPortForAudienceRsp).then((function(e){if(c.log("getTeamViewPortForAudience",e),0==e.bcode){var t=e.vViewPortInfo.value;y=e.lSheduleId,t.length>0&&(E(),k(t),g.show())}}))}function I(i){c.log("onMatchAudioViewPortNotice",i),g&&g.hide();var n=i.vViewPortInfo.value;y=i.lSheduleId;var r=t.matchTeamAudioPlay;!function(){x(),g&&(g.remove(),g.unbind(),g=null);h&&(h.clear(),h=null);f&&(f.clear(),f=null);f=null,o.removeEvent(o.VOLUME_CHANGE,T),o.removeEvent(o.MATCH_REPLAY_MODE_CHANGE,R),o.removeEvent(o.VIDEO_PLAY_NEW,P),o.removeEvent(o.VIDEO_STOP,P)}(),n.length>0&&(E(),k(n),0==t.matchReplayStatus?g&&g.show():g&&g.hide()),r&&0==t.matchReplayStatus&&e.vcore.play()}function E(){var e;null==g&&(g=$("<div id='player-match-audio-wrap'><div id='match-audio-enter' class='player-ctrl-common-btn'>队内语音</div></div>"),$(".sound-progress").after(g),e=i("LB4v")(),S=$(e),g.append(S),g.hover(L,M),function(){var e=S.find("#game-bar");t.matchTeamAudioSoundValue=m,(h=new d(e,0,238,(function(i){a.log("声音变化1",i),m=i,t.matchTeamAudioSoundValue=m,T();var n=parseInt(Math.abs(100*i));e.find(".volume-value").text(n)}))).setVolume(m);var i=S.find("#voice-bar");(f=new d(i,0,238,(function(e){a.log("声音变化2",e),v=e,T();var t=parseInt(Math.abs(100*e));i.find(".volume-value").text(t)}))).setVolume(v),o.addEvent(o.VOLUME_CHANGE,T)}(),o.addEvent(o.MATCH_REPLAY_MODE_CHANGE,R),o.addEvent(o.VIDEO_PLAY_NEW,P),o.addEvent(o.VIDEO_STOP,P),s.newHuyaReport({eid_desc:"曝光/队伍语音按钮",eid:"show/team_voice"},"huya_web"))}function T(){t.matchTeamAudioPlay&&(e.vcore.volume=t.volume*t.matchTeamAudioSoundValue),p&&p.setVolume(v*t.volume/100)}function k(e){!function(){var e=i("jEfI")(),n=$(e),r=t.H5ROOT+"src/img/match-audio/commentary_normal.png";n.find(".icon").attr("src",r),n.find(".team-name").text(w),n.addClass("selected"),n.data("data",{sViewPortName:w}),S.find(".stream-list").prepend(n),n.click(C),_={livevoice:w}}();for(var n=S.find(".stream-list"),r=e.length,a=0;a<r;a++){var o=e[a],s=o.sIconUrl,c=o.sViewPortName,u=t.makeHttpsUrl(s),d=i("jEfI")(),p=$(d);p.find(".icon").attr("src",u),p.find(".team-name").text(c),p.data("data",e[a]),n.append(p),p.click(C)}l.scrollbarPreventDefault(n)}function C(n){var l=$(n.currentTarget),u=l.data("data");!function(e){S.find(".stream-list").children().removeClass("selected"),e.addClass("selected")}(l),a.log("clickItem",u);var d=!0;if(u.sViewPortName==w)_={livevoice:w},x();else{t.matchTeamAudioPlay=!0;var h=u.vAudienceStreamInfo.value,f=u.lTeamId,m=u.sViewPortName;_={livevoice:m,team_id:f};var v=A(h,1);t.matchTeamAudioStreamName=A(h,0),v==t.matchTeamVideoStreamName&&(d=!1,o.fireEvent("TeamAudioSreamSwtichChange")),t.matchTeamVideoStreamName=v,function(){if(null==p){var t=i("3bkb");p=new t(e)}}(),p.playTeamVoice(_),T(),S.find(".volume-bar").removeClass("disabled")}c.log("点击队内语音",u),(d||t.isUIPause)&&(e.vcore.play(),e.turnPlayButtonOn()),S.hide();var g=JSON.stringify(r({schedule_id:y},_));s.newHuyaReport({eid_desc:"点击/选择直播声音面板",eid:"click/livevoice_choose_panel",prop:g},"huya_web")}function x(){t.matchTeamAudioPlay=!1,t.matchTeamVideoStreamName="",t.matchTeamAudioStreamName="",p&&p.stopTeamVoice(),S&&S.find(".volume-bar").addClass("disabled"),e.vcore.volume=t.volume}function A(e,t){for(var i in e){var n=e[i].sStreamName;if(e[i].iAVType==t)return n}}function R(){P()}function P(){1==t.matchReplayStatus||!1===t.hasVideo?(g&&g.hide(),t.matchTeamAudioPlay&&p&&p.stopTeamVoice()):(g&&g.show(),t.matchTeamAudioPlay&&p&&p.playTeamVoice(_))}function L(){S&&S.css("display","flex"),s.newHuyaReport({eid_desc:"点击/队伍语音按钮",eid:"click/team_voice"},"huya_web");var e=JSON.stringify(r({schedule_id:y},_));s.newHuyaReport({eid_desc:"曝光/选择直播声音面板",eid:"show/livevoice_choose_panel",prop:e},"huya_web")}function M(){S&&S.hide()}e.userInfoInitedCallback(b),t.tafSignal.on("uri:101854",I)}},KO5X:function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.taf,r=(e.Console,n.HUYA),a=null,o={};function s(){var i=new r.GetUserMessageFormatListReq;i.lPid=t.presenterUid,i.tId=t.userId,e.sendWup2("wupui","getUserMessagerFormatList",i,c)}t.isUserInfoInited()?s():i.addEvent(i.USER_INFO_INITED,s);var c=function(e){a=e};this.getFormatById=function(e,t){if(!a)return null;if(o["".concat(e,"+").concat(t)])return"novalue"==o["".concat(e,"+").concat(t)]?null:o["".concat(e,"+").concat(t)];var i=a.vFormatList;for(var n in i.value){var r=i.value[n],s=(r.iFlag,r.iSenceType),c=r.vFormat;if(s==e)for(var l in c.value){var u=c.value[l],d=(u.iEffectFlag,u.iShowFlag,u.tFormat);if(d.lFormatId==t)return o["".concat(e,"+").concat(t)]=d.tBulletFormat,d.tBulletFormat}}return o["".concat(e,"+").concat(t)]="novalue",null}}},KmYQ:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;for(i=e.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},n.pad.ZeroPadding)},L0YQ:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-subscribe" class="player-subscribe">\n    <div class="player-subscribe-bg"></div>\n    <span id="presenter-nick">主播昵称</span>\n    <div class="player-subscribe-viewers">\n    \t<i></i>\t\n    \t<span>加载中</span>\n    </div>\n    <div class="player-subscribe-head-bg"></div>\n    <div id="player-subscribe-btn" class="player-subscribe-btn1">\n      <span id="player-subscribe-word">关注</span>\n      <span id="player-subscribe-value">0</span>\n    </div>\n    <div class="player-subscribe-head">\n    \t<img src="">\n    </div>\n</div>',__filename="src/tpl/others/subscribe.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-subscribe" class="player-subscribe">\n    <div class="player-subscribe-bg"></div>\n    <span id="presenter-nick">主播昵称</span>\n    <div class="player-subscribe-viewers">\n    \t<i></i>\t\n    \t<span>加载中</span>\n    </div>\n    <div class="player-subscribe-head-bg"></div>\n    <div id="player-subscribe-btn" class="player-subscribe-btn1">\n      <span id="player-subscribe-word">关注</span>\n      <span id="player-subscribe-value">0</span>\n    </div>\n    <div class="player-subscribe-head">\n    \t<img src="">\n    </div>\n</div>'),__line=16;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},L2WW:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.utils,o=(e.Console,i("yfqf")),s=[],c=i("ScJi");function l(e){if(!n.isShieldingEffect){var t={bannerType:"enter",actionType:"moveOut",sNickName:e.sNickName,onStep:f,steps:[]};t.sNickName=a.setLongString(t.sNickName,8),t.sNickName=a.xss(t.sNickName);var i=e.tRidePetInfo,r=i.lPetId,o=i.sPetName,s=i.sPetAction,c=i.iPetFlag,l=i.iPetType,d=i.mPetDetail;i&&r>0&&(t.iNobleLevel=e.tNobleInfo.iNobleLevel,66==e.tNobleInfo.tLevelAttr.iAttrType&&(t.iNobleLevel=7),(t.iNobleLevel>=4||c>0)&&(t.petInfo={lPetId:r,sPetName:o,sPetAction:s,iPetType:l,mPetDetail:d},t.steps.push(1))),e.lUid==e.tGuardInfo.lUid&&(t.iGuardLevel=e.tGuardInfo.iGuardLevel,t.steps.push(2)),e.lUid==e.tWeekRankInfo.lUid&&(t.iRank=e.tWeekRankInfo.iRank,t.steps.push(3)),(t.petInfo||t.iGuardLevel||t.iRank)&&(t.isSelf=n.yyuid==e.lUid,u(t))}}function u(t){var i=t.isSelf;e.marquee.enterBanner(t,i)}function d(){for(var e in s){u(s[e])}}e.addTafListener("6110",l),r.addEvent(r.GET_MOUNTS_LIST_COMPLETE,d);var p={};function h(e){var t="";if(e.petInfo){var i=e.iNobleLevel;(i<4||i>7)&&(i=0);var n=e.petInfo.mPetDetail.value.score;t=(t=(t=(t+=n>=0?"<noble-nick-".concat(i,">{0}</noble-nick-").concat(i,"><noble-base-").concat(i,">{1}炫酷值").concat(n,"的{2}来了！</noble-base-").concat(i,">"):"<noble-nick-".concat(i,">{0}&nbsp;&nbsp;</noble-nick-").concat(i,"><noble-base-").concat(i,">{1}{2}驾临直播间！</noble-base-").concat(i,">")).replace("{0}",e.sNickName)).replace("{1}",e.petInfo.sPetAction)).replace("{2}",e.petInfo.sPetName)}else e.iGuardLevel?t+="<sh-nick> "+e.sNickName+"&nbsp;&nbsp;</sh-nick><sh-base> V"+e.iGuardLevel+"守护</sh-base><sh-base> 驾临直播间</sh-base>":e.iRank&&(t="<zg-nick>"+e.sNickName+"&nbsp;&nbsp;</zg-nick><zg-base>周贡榜第</zg-base><zg-nick>"+e.iRank+"</zg-nick><zg-base>名 </zg-base><zg-base> 驾临直播间</zg-base>");return t}function f(e,t){!function(e,t){var i=t.steps,n=0,r=!1;if(3==i.length?(n=4e3,r=!0):2==i.length&&(n=4e3),i.shift(),0!=i.length)var a=setTimeout((function o(){if(0==i.length)return void clearTimeout(a);var s=i.shift(),c="";2==s?($(e).find(".icon").attr("class","icon icon-sh"),c+="<sh-nick> "+t.sNickName+"&nbsp;&nbsp;</sh-nick><sh-base> V"+t.iGuardLevel+"守护</sh-base><sh-base> 驾临直播间</sh-base>",obj=m(e),obj&&(c=(c=c.replace(/sh-nick/g,obj.nick)).replace(/sh-base/g,obj.base)),$(e).find("p").html(c)):3==s&&($(e).find(".icon").attr("class","icon icon-zg"),c="<zg-nick>"+t.sNickName+"&nbsp;&nbsp;</zg-nick><zg-base> 周贡榜第</zg-base><zg-nick>"+t.iRank+"</zg-nick><zg-base>名 </zg-base><zg-base> 驾临直播间</zg-base>",obj=m(e),obj&&(c=(c=c.replace(/zg-nick/g,obj.nick)).replace(/zg-base/g,obj.base)),$(e).find("p").html(c));a=1==r?setTimeout(o,3e3):setTimeout(o,n)}),n)}(e,t)}function m(e){var t=$(e).find(".bg").attr("class");return-1!=t.indexOf("bg-4")?{nick:"noble-nick-4",base:"noble-base-4"}:-1!=t.indexOf("bg-5")?{nick:"noble-nick-5",base:"noble-base-5"}:-1!=t.indexOf("bg-6")?{nick:"noble-nick-6",base:"noble-base-6"}:-1!=t.indexOf("bg-7")?{nick:"noble-nick-7",base:"noble-base-7"}:-1!=t.indexOf("bg-sh")?{nick:"sh-nick",base:"sh-base"}:{nick:"noble-nick-0",base:"noble-base-0"}}window.testBannerEnter=function(e,t,i){var n={bannerType:"enter",actionType:"moveOut",onStep:f,steps:[],sNickName:"用户昵称五六七八九十十十",iNobleLevel:3*Math.random()+4>>0,iGuardLevel:5*Math.random()>>0,iRank:5*Math.random()>>0};n.sNickName=a.setLongString(n.sNickName,8),null!=e&&(n.iNobleLevel=e),null!=t&&(n.iGuardLevel=t),null!=i&&(n.iRank=i),n.iNobleLevel>0&&n.steps.push(1),n.iGuardLevel>0&&n.steps.push(2),n.iRank>0&&n.steps.push(3),n.petInfo={lPetId:4,sPetName:"萌宠哈",sPetAction:"骑着",mPetDetail:{value:{score:9999}}},u(n)},this.render=function(e){return new Promise((function(r,l){var u=i("eiYR")({id:t.newId(),content:h(e)}),d=$(u).data("data",e);if(e.petInfo){0==n.mountsList.length&&(s.push(e),l("坐骑列表未拿到")),d.find(".bg").addClass("bg-"+e.iNobleLevel);var f=e.petInfo,m=f.lPetId,v=(f.sPetName,f.sPetAction,f.iPetType),g=f.mPetDetail,y=function(e){for(var t in n.mountsList){var i=n.mountsList[t];if(i.lMountsId==e)return n.isHttps()&&(i.sWEBZipUrl=i.sWEBZipUrl.replace("http:","https:")),i.sWEBZipUrl}return""}(m);if(""==y&&l("petUrl 为空"),2==v){var _=g.value,w=_.id,S=_.level;S<1&&l("坐骑level 小于1"),o.getZipPng((function(e){var t=e.img,i="".concat(n.diyDomian).concat(m,"/web/horizontal/").concat(w,".zip");o.getPngListData((function(e){d.find(".icon").hide(),d.find(".player-banner-enter-diy-icon").show(),d.find(".banner-enter-diy-level-icon").attr("src",t);var i=d.find(".banner-enter-diy-pet"),n=new c({targetID:"",framesUrl:e.imgArr,width:120,height:70,loop:!0,target:i});n.play(),d.data("data").frameAni=n,r(d)}),i)}),y,"enter_grade_".concat(S))}else{e.isSelf;o.getZipPng((function(e){!function(e,t,i,n){var r=e.img,o=e.name.split("_anim_")[1]||10;!function(e,t,i,n){var r=1e3*Math.round(n/10);!function(e){var t=e.petId;if(!p[t]){e.name="enter_pet_icon"+t;var i="";if(!a.supportsStyle("animation",(function(e){e&&(i="-"+e.toLowerCase()+"-")})))return;e.pfx=i;var n=a.cssAnimation(e);a.createTag(e.name).html(n).appendTo("head"),p[t]=e}$(e.elm).addClass("animation-"+p[t].name)}({petId:t,width:120,steps:n,bgImg:i,elm:e.find(".icon"),duration:r})}(t,i,r,o)}(e,d,m),r(d)}),y,"enter_anim_")}}else e.iGuardLevel?(d.find(".bg").addClass("bg-sh"),d.find(".icon").addClass("icon-sh")):e.iRank&&(d.find(".bg").addClass("bg-zg"),d.find(".icon").addClass("icon-zg")),r(d)}))}}},LB4v:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-match-audio-tip">\n    <h1>选择直播声音</h1>\n    <div class="stream-list"></div>\n    <div class="match-audio-gap"></div>\n    <div id="game-bar" class="volume-bar disabled">\n        <i>游戏音量</i>\n        <div class="progress">\n            <div class="bg"></div>\n            <div class="bar"></div>\n            <div class="btn"></div>\n        </div>\n        <i class="volume-value">100</i>\n    </div>\n    <div id="voice-bar" class="volume-bar disabled">\n        <i>语音音量</i>\n        <div class="progress">\n            <div class="bg"></div>\n            <div class="bar"></div>\n            <div class="btn"></div>\n        </div>\n        <i class="volume-value">100</i>\n    </div>\n</div>',__filename="src/tpl/ctrl/match-audio-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-match-audio-tip">\n    <h1>选择直播声音</h1>\n    <div class="stream-list"></div>\n    <div class="match-audio-gap"></div>\n    <div id="game-bar" class="volume-bar disabled">\n        <i>游戏音量</i>\n        <div class="progress">\n            <div class="bg"></div>\n            <div class="bar"></div>\n            <div class="btn"></div>\n        </div>\n        <i class="volume-value">100</i>\n    </div>\n    <div id="voice-bar" class="volume-bar disabled">\n        <i>语音音量</i>\n        <div class="progress">\n            <div class="bg"></div>\n            <div class="bar"></div>\n            <div class="btn"></div>\n        </div>\n        <i class="volume-value">100</i>\n    </div>\n</div>'),__line=23;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},LEzG:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="recommend-item">\n    <div class="recommend-head">\n        <img />\n        <div class="live-icon"></div>\n    </div>\n    <div class="name"></div>\n</div>\n',__filename="src/tpl/ctrl/recommend-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="recommend-item">\n    <div class="recommend-head">\n        <img />\n        <div class="live-icon"></div>\n    </div>\n    <div class="name"></div>\n</div>\n'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},LRRj:function(e,t){e.exports=function(e){var t=e.Event,i=e.G,n=e.ISDEBUG,r=e.taf,a=e.Console,o=e.R,s=r.HUYA,c=0,l=0,u=0;function d(){var t="https://hd.huya.com/h5/event-rating/index.html#/?platform=web&iMatchId=".concat(c,"&iScheduleId=").concat(l,"&iScheduleStat=").concat(u);n?t="https://test-hd.huya.com/h5/event-rating/test/index.html#/?platform=web&iMatchId=".concat(c,"&iScheduleId=").concat(l,"&iScheduleStat=").concat(u):i.isPre()&&(t="https://pre-hd.huya.com/h5/event-rating/index.html#/?platform=web&iMatchId=".concat(c,"&iScheduleId=").concat(l,"&iScheduleStat=").concat(u)),e.trigger("openModalH5",{url:t,drag:!0,positionType:1,onClose:function(){a.log("关闭h5弹窗")}});var r={match_id:c,schedule_id:l};o.newHuyaReport({eid_desc:"用户点击选手评分按钮",eid:"click/liveroom_player_score_button",prop:JSON.stringify(r)},"huya_web")}!function(){var n=new s.GetPidRelatedScoreMatchIdReq;n.tId=i.userId,n.lPid=i.presenterUid,e.sendWupNew("wupui","getPidRelatedScoreMatchId",n,s.GetPidRelatedScoreMatchIdRsp).then((function(e){c=e.iMatchId,l=e.iScheduleId,u=e.iScheduleStat,e.vMatchId.value.length>0&&function(){i.hasPlayerScoreIcon=!0;var e=$('<div class="player-left-icon-enter player-score-icon"><i></i><span>选手评分</span></div>');e.click(d),$(".player-gift-left").append(e),t.fireEvent(t.ACTIVITY_ICON_COUNT_UPDATE,{icon:e,priority:0,key:"playerscore",value:1})}()}))}()}},Las0:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-smallhandle-panel">\n    <div class="close-btn"></div>\n    <div class="panel-title">主播推荐</div>\n    <div class="line"></div>\n    <div class="panel-content">\n        <div class="head-wrap">\n            <img class="head"/>\n            <div class="group">\n                <div class="title-group">\n                    <div class="title"></div>\n                </div>\n                <div class="subtitle"></div>\n                <div class="tag-list"></div>\n            </div>\n        </div>\n        <div class="smallhandle-qr-code-wrap">\n            <div class="smallhandle-qr-code"></div>\n            <div class="qr-code-explanation">\n                <span id="qr-code-explanation-title">游戏下载</span>\n                <div class="item"><div class="logo logo1"></div><span>01.打开虎牙直播APP</span></div>\n                <div class="item"><div class="logo logo2"></div><span id="qr-code-explanation-download">02.扫码下载试玩</span></div>\n            </div>\n        </div>\n        <div class="introduction-title">游戏介绍</div>\n        <div class="introduction"></div>\n        <div class="image-group">\n            <div class="image-list"></div>\n            <i class="pre-btn"></i>\n            <i class="next-btn"></i>\n        </div>\n    </div>\n    <div class="down-load">立即下载</div>\n</div>',__filename="src/tpl/smallhandle/smallhandle-panel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-smallhandle-panel">\n    <div class="close-btn"></div>\n    <div class="panel-title">主播推荐</div>\n    <div class="line"></div>\n    <div class="panel-content">\n        <div class="head-wrap">\n            <img class="head"/>\n            <div class="group">\n                <div class="title-group">\n                    <div class="title"></div>\n                </div>\n                <div class="subtitle"></div>\n                <div class="tag-list"></div>\n            </div>\n        </div>\n        <div class="smallhandle-qr-code-wrap">\n            <div class="smallhandle-qr-code"></div>\n            <div class="qr-code-explanation">\n                <span id="qr-code-explanation-title">游戏下载</span>\n                <div class="item"><div class="logo logo1"></div><span>01.打开虎牙直播APP</span></div>\n                <div class="item"><div class="logo logo2"></div><span id="qr-code-explanation-download">02.扫码下载试玩</span></div>\n            </div>\n        </div>\n        <div class="introduction-title">游戏介绍</div>\n        <div class="introduction"></div>\n        <div class="image-group">\n            <div class="image-list"></div>\n            <i class="pre-btn"></i>\n            <i class="next-btn"></i>\n        </div>\n    </div>\n    <div class="down-load">立即下载</div>\n</div>'),__line=33;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},MEzy:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={VISIBILITY_CHANGE:"visibilitychange",TAB_HIDDEN:"tabhidden",TAB_VISIBLE:"tabvisible",SYSTEM_LOCK:"systemlock",SYSTEM_UNLOCK:"systemunlock"},this.listeners={},this.isLocked=!1,this.lastVisibilityState=document.visibilityState,this.init()}var t,i,r;return t=e,(i=[{key:"init",value:function(){document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("blur",this.handleWindowBlur.bind(this)),window.addEventListener("focus",this.handleWindowFocus.bind(this))}},{key:"handleVisibilityChange",value:function(){var e=document.visibilityState;e!==this.lastVisibilityState&&(this.emit(this.events.VISIBILITY_CHANGE,{from:this.lastVisibilityState,to:e}),"hidden"===e?this.emit(this.events.TAB_HIDDEN):this.emit(this.events.TAB_VISIBLE),this.lastVisibilityState=e)}},{key:"handleWindowBlur",value:function(){"visible"===document.visibilityState&&(this.isLocked=!0,this.emit(this.events.SYSTEM_LOCK))}},{key:"handleWindowFocus",value:function(){this.isLocked&&(this.isLocked=!1,this.emit(this.events.SYSTEM_UNLOCK))}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t})))}},{key:"emit",value:function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(i){try{i(t)}catch(t){console.error("Error in ".concat(e," listener:"),t)}}))}},{key:"destroy",value:function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange),window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("focus",this.handleWindowFocus),this.listeners={}}}])&&n(t.prototype,i),r&&n(t,r),e}();t.default=new r},MZRI:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.taf,a=e.utils,o=e.Console,s=e.logUtils,c=e.R,l=r.HUYA,u=[],d=[],p=null,h=null,f=null,m=null,v={},g={},y=null,_=[],w=i("U54Q");function S(){var i=new l.MatchCommentorListReq;i.tId=t.userId,i.lPresenterUid=t.presenterUid,e.sendWup2("wupui","getMatchLiveCommentorList",i,b)}function b(i){0!=(u=i.vCommentorList.value).length&&(s.addLog("getMatchLiveCommentorList:"+JSON.stringify(i)),function(i){var n=new l.GetMatchPresenterListReq;n.tId=t.userId,n.lPid=t.presenterUid,e.sendWupNew("mobileui","getMatchPresenterList",n,l.GetMatchPresenterListRsp).then((function(e){var n=e.vList.value;d=function(e){for(var i=[],n=e.length,r=0,a=0;a<n;a++){var o=e[a];if(1==o.bLive&&o.lUid!=t.presenterUid&&(i.push(o),3===++r))break}return i}(n),o.log("getMatchPresenterList",d),i()}))}((function(){k()})))}function I(e){var i=e.lPresenterUid;t.presenterUid==i&&(u=e.vCommentorList.value,k(),t.isStartShield=!1,D())}function E(){var i=new l.MatchCommentorStreamInfoReq;i.tId=t.userId,i.lPresenterUid=t.presenterUid,i.iLineIndex=t.videoLine,i.sFlvUrl=t.streamInfo.sFlvUrl,idList=Object.keys(v),idList.forEach((function(e){i.vDisableCommentorList.value.push(e)})),e.sendWup2("wupui","getMatchLiveCommentorStreamInfo",i,T)}function T(e){var i=e.tStream.value;if(s.addLog("getMatchLiveCommentorStreamInfo:"+JSON.stringify(e)),0==i.length)return N(),t.isStartShield=!1,D(),void n.fireEvent(n.SHOW_COMMON_TOAST,"解说语音处理中，请稍后重试");t.sShieldStream=i[0],t.isStartShield=!0,D()}function k(){null==p&&(p=$("#player-commentator-shield"),(h=p.find(".commentator-shield-btn")).click(x),f=h.find(".word"),p.hover(L,M),t.h5player&&t.h5player.on(H5Player.Events.SHIELD_AUDIO_SWITCH_STATUS,B),n.addEvent(n.VIDEO_STOP,U),n.addEvent(n.MATCH_REPLAY_MODE_CHANGE,F),n.addEvent("doSwitchLine",O));var e=u.length,r=h.find(".icon-list");g={},r.empty();for(var o=0;o<e;o++){var s=u[o],l=s.sIcon,w=s.lId,S=t.makeHttpsUrl(l),b=$('<div class="icon-item"><img /></div>');b.find("img").attr("src",S),r.prepend(b),g[w]=b}h.css("width","".concat(9*e+76,"px")),p.toggle(e>0),function(){!function(){for(var e=0;e<_.length;e++)_[e].destroy();_=[],m&&(m.unbind(),m.remove());m=null,v={}}();var e=i("rxmJ")();m=$(e),function(){for(var e=u.length,n=m.find(".commentator-item-list"),r=0;r<e;r++){var a=u[r],o=a.sIcon,s=a.sName,c=a.lId,l=t.makeHttpsUrl(o),d=i("8MWB")(),p=$(d);p.find("img").attr("src",l),p.find(".name").text(s),n.append(p),p.attr("id",c),p.click(C)}}(),function(){var e=d.length;0==e&&m.addClass("no-recommend");for(var n=m.find(".recommend-item-list"),r=function(){var r=d[o],p=r.sChannelTitle,h=r.sAvatarUrl,f=r.iRoomId,m=r.lUid;s=t.makeHttpsUrl(h),l=i("LEzG")(),(u=$(l)).find("img").attr("src",s),u.find(".name").text(p),n.append(u),u.attr("id",m),function(e){null==y&&(y=i("eNXa"));var n={container:e[0],renderer:"svg",loop:!0,autoplay:!0,path:t.H5ROOT+"json/live-icon.json"},r=y.loadAnimation(n);_.push(r)}(u.find(".live-icon")),u.click((function(e){if(a.stopPropagation(e),f){var i=t.getVideoUrlByRoomId(f);window.open(i),M(),c.newHuyaReport({eid_desc:"点击直播间解说设置更多解说里的解说头像",eid:"click/live_commentary_head",prop:JSON.stringify({anchor_uid:m})},"huya_web")}})),e<3&&u.addClass("less-mode")},o=0;o<e;o++){var s,l,u;r()}}(),p.append(m);var n=(p.width()-m.width())/2;m.css("left",n+"px")}(),R(0)}function C(e){if(a.stopPropagation(e),!w.isLock(e.currentTarget)){w.lock(e.currentTarget);var t=$(e.currentTarget),i=t.attr("id");t.hasClass("selected")?G(t,i):H(t,i),A();var n=Object.keys(v).join(",");c.newHuyaReport({eid_desc:"点击直播间解说设置选项",eid:"click/live_commentary_option",prop:JSON.stringify({commentary_id:i,remove_options:n})},"huya_web")}}function x(e){if(a.stopPropagation(e),!w.isLock(e.currentTarget)){w.lock(e.currentTarget);var t=Object.keys(v).length,i=u.length;$(".commentator-item").each((function(e,n){var r=$(n),a=r.attr("id");t==i?H(r,a):G(r,a)})),A(),c.newHuyaReport({eid_desc:"点击直播间解说设置入口按钮",eid:"click/live_commentary_entrance",prop:""},"huya_web")}}function A(){var e=P();R(e),0!=e?E():(t.isStartShield=!1,D())}function R(e){h.removeClass("no-commentor-style"),2==e?(f.text("无解说"),h.addClass("no-commentor-style")):0==e?f.text("全部解说"):f.text("只听TA")}function P(){var e=u.length,t=Object.keys(v).length;return 0==t?0:e==t?2:1}function L(){m&&m.show();var e=u.map((function(e){return e.lId})).join(","),t=d.map((function(e){return e.lUid})).join(",");c.newHuyaReport({eid_desc:"曝光直播间解说设置更多解说里的解说头像",eid:"show/live_commentary_head",prop:JSON.stringify({anchor_uid:e,commentary_id:t})},"huya_web")}function M(){m&&m.hide()}function D(){n.fireEvent(n.SHOW_COMMON_TOAST,"正在为您处理解说声音"),t.commentorIdList=Object.keys(v);var i={sShieldStream:t.sShieldStream,isStartShield:t.isStartShield,commentorIdList:t.commentorIdList};o.log("shieldAudioChange",i),t.h5player.shieldAudioChange(i),s.addLog("shieldAudioChange:"+JSON.stringify(i)),e.turnPlayButtonOn()}function B(e,i){o.log("onShieldAudioSwitchStatus","SHIELD_AUDIO_SWITCH_STATUS",i);var r=i.status,a=i.commentorIdList;1==r?(n.fireEvent(n.SHOW_COMMON_TOAST,"解说声音处理完成"),function(e){$(".commentator-item").each((function(t,i){var n=$(i),r=n.attr("id");-1!=e.indexOf(r)?G(n,r):H(n,r)})),R(P())}(a)):2!=r&&3!=r||(n.fireEvent(n.SHOW_COMMON_TOAST,2==r?"切换解说声音失败，请重新选择":"解说声音处理异常，请重新选择"),t.isStartShield=!1,N()),s.addLog("onShieldAudioSwitchStatus:"+JSON.stringify(i))}function N(){$(".commentator-item").each((function(e,t){var i=$(t),n=i.attr("id");H(i,n)})),R(0),v={}}function U(){t.isStartShield&&(N(),t.isStartShield=!1,D())}function F(e){p&&p.css("display",1==e?"none":"block")}function O(){0!=u.length&&(0!=P()&&E())}function H(e,t){e.hasClass("selected")||(e.addClass("selected"),g[t]&&g[t].show(),delete v[t])}function G(e,t){e.hasClass("selected")&&(e.removeClass("selected"),v[t]=1,g[t]&&g[t].hide())}t.isUserInfoInited()?S():n.addEvent(n.USER_INFO_INITED,S),e.addTafListener("2400020",I)}},MckB:function(e,t,i){e.exports=function(e){var t,n,r,a,o=e.G,s=(e.ENV,null),c=!1,l=0;var u=0;function d(){var e=Date.now();if(!(e-u<500)){u=e;var i=t.val();o.password=i,""!=i&&(t.val(""),p(),a())}}function p(){var e=t.val();e=e.replace(/[^\w\.\/]/gi,""),t.val(e),e.length>0?n.removeClass("player-secret-input-btn-enable"):n.addClass("player-secret-input-btn-enable")}function h(e){13==e.keyCode&&1==c&&d()}function f(){c=!0}function m(){c=!1,p()}this.show=function(e){a=e,null==s&&(s=i("DNSu")(),$("#player-secret-wrap").html(s)),$("#player-secret-wrap").show(),t=$(".player-secret-password"),n=$(".player-secret-input-btn"),r=$(".player-possword-error"),t.focus(),c=!0,n.click(d),t.focusin(f),t.focusout(m),t.keydown(h),t.keyup(p)},this.hide=function(){$("#player-secret-wrap").hide(),$("#msg_send_bt").css("pointer-events","auto")},this.showPasswordError=function(){r.show(),clearTimeout(l),l=setTimeout((function(){r.fadeOut("normal",(function(){r.hide()}))}),3e3)}}},MlIO:function(e,t,i){var n,r,a,o,s,c;e.exports=(c=i("Ib8C"),r=(n=c).lib,a=r.Base,o=r.WordArray,(s=n.x64={}).Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var r=e[n];i.push(r.high),i.push(r.low)}return o.create(i,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),i=t.length,n=0;n<i;n++)t[n]=t[n].clone();return e}}),c)},NFKh:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("MlIO"),i("F+F2"),i("qM6L"),i("ETIr"),i("wbyO"),i("cv67"),i("3y9D"),i("lPiR"),i("GRuw"),i("1uat"),i("uGsb"),i("5hvy"),i("ELcG"),i("WYAk"),i("e7zE"),i("K3mO"),i("OLod"),i("ALsQ"),i("9OqN"),i("qu8F"),i("S6kV"),i("gb/T"),i("qBft"),i("oRuE"),i("jO9C"),i("KmYQ"),i("uGxW"),i("bQjk"),i("wZgz"),i("pA7S"),i("w7YG"),i("E4JC"),i("PVpz"),n)},NGv7:function(e,t){var i=function(e,t,i,n,r){if(this.selYear=e,this.selMonth=t,this.selDay=i,this.selHour=n,this.selMinu=r,this.selYear.Group=this,this.selMonth.Group=this,this.year=0,null!=window.document.all?(this.selMonth.attachEvent("onchange",o.bind(this)),this.selDay.attachEvent("onchange",s.bind(this)),this.selHour.attachEvent("onchange",c.bind(this))):(this.selMonth.addEventListener("change",o.bind(this),!1),this.selDay.addEventListener("change",s.bind(this),!1),this.selHour.addEventListener("change",c.bind(this),!1)),6==arguments.length){var a=arguments[5];this.InitSelector(a,a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes())}function o(e){this.InitDaySelect(!0),this.InitHourSelect(!0),this.InitMinuSelect(!0)}function s(e){this.InitHourSelect(!0),this.InitMinuSelect(!0)}function c(e){this.InitMinuSelect(!0)}};function n(e,t){for(var i in t)if(t[i].month==e)return t[i];return null}function r(e,t){var i=e.getTime()+864e5*t,n=new Date;n.setTime(i);var r=n.getFullYear(),a=n.getMonth();return{year:r,month:a+=1,day:n.getDate()}}i.prototype.MinYear=1900,i.prototype.MaxYear=(new Date).getFullYear(),i.prototype.InitYearSelect=function(){for(var e=this.MaxYear;e>=this.MinYear;e--){var t=window.document.createElement("OPTION");t.value=e,t.innerHTML=e,this.selYear.appendChild(t)}},i.prototype.InitMonthSelect=function(){for(var e in this.dateList){var t=window.document.createElement("OPTION");t.value=this.dateList[e].month,t.innerHTML=this.dateList[e].month,this.selMonth.appendChild(t)}},i.DaysInMonth=function(e,t){return new Date(e,t,0).getDate()},i.prototype.InitDaySelect=function(e){var t=this.selMonth.selectedIndex,i=parseInt(this.selMonth.options[t].value);this.selDay.options.length=0;for(var r=n(i,this.dateList),a=0;a<r.dayList.length;a++){var o=r.dayList[a],s=window.document.createElement("OPTION");s.value=o.day,s.innerHTML=o.day,this.selDay.appendChild(s)}e&&(this.selDay.selectedIndex=0)},i.prototype.InitHourSelect=function(e){var t=this.selMonth.selectedIndex,i=parseInt(this.selMonth.options[t].value),n=this.selDay.selectedIndex,r=parseInt(this.selDay.options[n].value),a=this.month==i&&r==this.day;this.selHour.options.length=0;for(var o=a?this.hour:0;o<=23;o++){var s=window.document.createElement("OPTION");s.value=o,s.innerHTML=o,this.selHour.appendChild(s)}e&&(this.selHour.selectedIndex=0)},i.prototype.InitMinuSelect=function(e){var t=this.selMonth.selectedIndex,i=parseInt(this.selMonth.options[t].value),n=this.selDay.selectedIndex,r=parseInt(this.selDay.options[n].value),a=this.selHour.selectedIndex,o=parseInt(this.selHour.options[a].value),s=this.month==i&&r==this.day&&this.hour==o;this.selMinu.options.length=0;for(var c=s?this.min:0;c<60;c++){var l=window.document.createElement("OPTION");l.value=c,l.innerHTML=c,this.selMinu.appendChild(l)}e&&(this.selMinu.selectedIndex=0)},i.prototype.InitSelector=function(e,t,i,a,o,s){this.selMonth.options.length=0,this.year=t,this.month=i,this.day=a,this.hour=o,this.min=s,this.dateList=[];for(var c=0;c<8;c++){var l=r(e,c),u=(i=l.month,a=l.day,t=l.year,n(i,this.dateList));if(null==u){var d={};d.month=i,d.dayList=[],this.dateList.push(d),u=d}u.dayList.push({day:a,year:t})}this.InitMonthSelect(),this.selMonth.selectedIndex=0,this.InitDaySelect(),this.selDay.selectedIndex=0,this.InitHourSelect(),this.selHour.selectedIndex=0,this.InitMinuSelect(),this.selMinu.selectedIndex=0},i.prototype.getTime=function(){var e=this.selMonth.selectedIndex,t=parseInt(this.selMonth.options[e].value),i=this.selDay.selectedIndex,r=parseInt(this.selDay.options[i].value),a=this.selHour.selectedIndex,o=parseInt(this.selHour.options[a].value),s=this.selMinu.selectedIndex,c=parseInt(this.selMinu.options[s].value),l=function(e,t,i){var r=n(e,i);if(null!=r)for(var a in r.dayList)if(r.dayList[a].day==t)return r.dayList[a].year;return 0}(t,r,this.dateList);return 0==l&&(l=this.year),new Date(l,t-1,r,o,c,0).getTime()},e.exports=i},Ngbk:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i("NFKh").mode;e.exports=function(e){var t,n,a,o,s=null,c=0,l=[],u=null,d=null,p={},h=null,f="2019zbjczggw",m="2022hydmgg",v="2022zbsdgg",g="2023webbanner",y="2024webqtp",_=i("2Yw0"),w=_.CLICK_AD_EI,S=_.STARUP_JUMPING,b=_.STARUP_CHECK_SUCCESS,I=_.URLSCHEME_JUMPING,E=null,T={},k=[],C=0,x=e.taf,A=x.HUYA,R=x.PresenterServer,P=x.AdTimeServer,L=x.AD,M=e.G,D=e.Event,B=e.utils,N=e.ENV,U=e.Console,F=e.VER,O=e.logUtils,H=e.R,G=i("dloh"),V=i("6ezL"),W=i("GcOO"),q=i("ajCI"),j=i("dq61"),z=1,Y=null,J="ams-",K=i("ZVwP").Ad_QrcodeText,Z=i("YKGR").default,X=this,Q=null,ee=null,te=null,ie="",ne=null,re=null;function ae(){!function(){var t=new R.GetRoomAdReq;B.copy(t.userId,M.userId),t.pid=M.presenterUid,t.gameId=M.gameId,e.sendWup2("adui","getRoomAd",t,oe)}(),function(){var t=new A.GetPresenterAdReq;t.tId=M.userId,t.lPid=M.presenterUid,e.sendWup2("mobileui","getPresenterAd",t,Re)}(),function(){var t=new R.ConfigReq;B.copy(t.userId,M.userId),t.presenterId=M.presenterUid,t.os=4,t.from=0,t.gameId=M.gameId,e.sendWupNew("adui","getRewardAdConfig",t,R.RewardAdConfigRsp).then((function(t){ie=t.extra.value.adTanChuangConfigId||"bountyad_streamertrigger",e.popupManager.popupManagerReady(se)}))}(),U.log("reqFixedADData"),xe(f,1).then((function(t){if(U.log("rspFixedADData",t),t&&200==t.code&&t.data&&t.data.value.length){var n=t.data.value[0];if(n&&n.ads&&n.ads.value.length>0){if(null==Q){var r=i("Rh0q");Q=new r(e,X)}Q.setData(n),null==s&&((s=$('<div class="ab-icon"><i></i><span>主播推荐</span></div>')).click(Be),$(".player-gift-left").append(s)),s.show(),D.fireEvent(D.ACTIVITY_ICON_COUNT_UPDATE,{icon:s,priority:480,key:"ad",value:1})}}})),C++}function oe(e){var t=e.code,i=e.roomAd,n=i.slotCnt,r=i.slotCode;200==t&&n>0&&r&&Ce(i,!1)}function se(){var t=new P.QuerySlotByPresenterReq;t.presenterUid=M.presenterUid,t.gameId=M.gameId,t.platform=4,B.copy(t.userId,M.userId),e.sendWup2("adui","querySlotByPresenter",t,ce)}function ce(t){if(200==t.code){var i=t.datas.value;i.length>0&&function(t){for(var i=new A.GetAdReq,n=0,r=t.length;n<r;n++){var a=t[n],o=a.slotCnt,s=a.slotCode,c=new A.ADImp;c.slotCnt=o,c.slotCode=s,c.id=C;var l=t[n].env.value.adTanChuangConfigId||"";le[c.id]={slotCode:s,liveroomPopupKey:l},c.extra.value=Object.assign({},t[n].env.value),i.imps.value.push(c),C++,ue(s,t[n])}i.tId=M.userId,i.rid=M.getTraceId(),i.app.version=F,i.app.channel="web",i.content.gameId=M.gameId,i.presenter.nick=N.pnick,i.presenter.uid=M.presenterUid,i.info=JSON.stringify({device:{os:4,ua:"webh5"}}),e.sendWup2("mobileui","queryAd",i,pe)}(i)}}this.adStateChange=function(e){Q&&Q.adStateChange(e)},X.adReport=Y=e.getADReport(),M.isUserInfoInited()?ae():D.addEvent(D.USER_INFO_INITED,ae),e.addTafListener("1025493",ye),e.addTafListener("1025500",_e),e.addTafListener("1025562",we),e.addTafListener("1025564",Se),e.addTafListener("1025566",be),e.addTafListener("1025569",Ie),D.addEvent(D.VIDEO_FIRST_PLAY,ve),D.addEvent("closeCurrentAd",ge),ne=new j(e),O.addLog("reqRoomAdData G.hasPreAd,G.hasVideoG.preAdStatus",M.hasPreAd,M.hasVideo,M.preAdStatus),M.hasPreAd&&M.hasVideo&&0==M.preAdStatus?(M.preAdStatus=1,function(){U.log("preADDataRequest 请求前贴广告"),O.addLog("preADData 请求前贴广告 G.preAdStatus:"+M.preAdStatus),O.addLog("preadShowDate"+localStorage.getItem("preadShowDate")),O.addLog("初始化前贴片广告");var t=1,n=M.abConfig;n&&n.mpConfig&&n.mpConfig.preadNewVer&&(t=parseInt(n.mpConfig.preadNewVer));var r=null,a=$("#pre-ab-video");1==t?(r=i("OGF2"),a.addClass("new-pre-ab-video")):(r=i("zXJF"),a.addClass("pre-ab-video")),te=new r(e,y);var o=setTimeout((function(){O.addLog("前贴片广告接口请求超时"),D.fireEvent("getPreABFail"),H.newHuyaReport({eid_desc:"广告请求超时",eid:"state/request_ad_timeout",prop:JSON.stringify({slotcode:y})},"huya_web")}),2e3);O.addLog("前贴片广告发起请求"),xe(y,1,{innerSecondQuery:"0"}).then((function(e){if(U.log("rspPreADData",e),O.addLog("前贴片广告数据"+JSON.stringify(e)),clearTimeout(o),O.addLog("拿到前贴片广告数据"+JSON.stringify(e)),e&&200==e.code&&e.data&&e.data.value.length){var t=e.data.value[0],i=t.ads.value,n=t.rid;if(i.length>0){adInfo=i[0];var r=te.setData(adInfo,n);if(O.addLog("是否有前贴片广告"+r),r)return}}D.fireEvent("getPreABFail")})).catch((function(e){U.log("reqPreADData err",e),O.addLog("reqPreADData err"),D.fireEvent("getPreABFail"),clearTimeout(o)})),C++}()):(M.preAdStatus=3,Fe());var le={};function ue(e,t){switch(e){case v:T=t;break;case m:p=t}}var de=[];function pe(e){if(200==e.code)for(var t=e.data.value,i=0,n=t.length;i<n;i++){var r=t[i].id,a=le[r],o=a.slotCode,s=a.liveroomPopupKey,c=t[i].ads.value;de.push({slotCode:o,adInfoList:c}),he(o,c,s)}}function he(e,t,i){switch(e){case v:k=t,fe(),E.setData(T,k,i);break;case m:!function(){var e=p.initShowUnitId;if(e>0){var t=me(m,e);t&&(Te(),d.showDamuAD(t,{source:1},2e3))}}()}}function fe(){if(null==E){var t=i("sEOw");E=new t(e,X)}}function me(e,t){for(var i=0,n=de.length;i<n;i++){var r=de[i],a=r.slotCode,o=r.adInfoList;if(a==e)for(var s=0,c=o.length;s<c;s++)if(o[s].unitId==t)return o[s]}return null}function ve(){u&&Pe(u)}function ge(){a&&a.clear()}function ye(e){var t=e.lTime,i=e.lPid;if(M.presenterUid==i&&Me(e.ad))if(0==t||2==e.ad.contractType)Ae(e);else{var n=M.vplayer.getCurrentTime();if(t<=n)Ae(e);else{t=t-n;setTimeout(Ae,t,e)}}}function _e(e){var t=e.iDelay,i=e.tIns,n=1e3*Math.random()*t;setTimeout(Ce,n,i,!0)}function we(e){var t=e.delaySec,i=e.platform,n=1e3*Math.random()*t;ke(i)&&setTimeout(Ce,n,e,!1)}function Se(e){var t=e.platform,i=e.ptime,n=ke(t);if(O.addLog("onADRoomScenceNotice:"+n),n)if(O.addLog("ptime:"+i),i>0){var r=M.vplayer.getCurrentTime();if(O.addLog("videoTime:"+r),i<=r)Ee(e),O.addLog("showDanmuAD");else setTimeout(Ee,i-r,e)}else Ee(e),O.addLog("showDanmuAD")}function be(e){var t=e.platform,i=e.slotCode,n=e.delaySec;if(ke(t)&&i==v){var r=1e3*Math.random()*n;setTimeout((function(){fe(),E.adNotice(e)}),r)}}function Ie(t){var i=t.presenterId,n=t.slotCode,r=t.seconds;if(M.presenterUid==i){var a=1e3*Math.random()*r;setTimeout((function(){e.recommendMgr.onEndAdNotice(n)}),a)}}function Ee(e){var t=e.slotCode,i=e.unitId,n=e.delayMilSec,r=me(t,i);if(r){Te();var a=e.env.value;d.showDamuAD(r,a,n)}}function Te(){if(null==d){var t=i("uJ2z");d=new t(e,X)}}function ke(e){return-1!=e.split(",").indexOf("4")}function Ce(e,t){var i=e.slotCode,n=e.slotCnt,r={};e.env&&e.env.value&&(r=e.env.value),r.innerSecondQuery="0",U.log("reqADData",i,n,r),xe(i,n,r).then((function(i){if(U.log("rspADData",i),i&&200==i.code&&i.data&&i.data.value.length){var n=i.data.value[0];n.roomAdInfo=e,n.isReward=t,n.isNew=!0,Ae(n)}}))}function xe(e,t,i){var n=M.getTraceId();U.log("getAdInfo queryAd",n,e,t,i);var r={content:{gameId:M.gameId},presenter:{nick:N.pnick,uid:M.presenterUid},imps:[{impressionId:C,slotCnt:t,slotCode:e}],uid:{uid:M.yyuid,guid:M.getGuid(),huyaUa:M.userId.sHuYaUA},rid:n};r.env=i||{},M.mpExperiment&&(r.env.mpExperiment=M.mpExperiment),"0"==r.env.innerSecondQuery&&ne&&(r.env=ne.setEnvQimei(r.env));var a=Y.getAdInfo(r);return C++,a}function Ae(i){if(a&&a.clear(),i.isNew)(a=i.isReward?new q(e,X):new W(e,X)).setData(i,ie);else{if(n=i.ad,c=n.id,null==(a=Ne())){var r=n.material.adType;(a=6==r||99==r?new V(e,X):new G(e,X)).setData(n),3!=n.contractType&&(l.push(a),t.push(n),t.sort(Ue("weight")))}a.setPushTime(n.iPushTime),a.show(!0),3==i.ad.contractType&&(c=0)}}function Re(i){var n=i.code;t=i.data.value,200==n&&t.length>0&&(function(){for(var i=0;i<t.length;i++){var n,r=t[i],a=r.material.adType;(n=6==a||99==a?new V(e,X):new G(e,X)).setData(r),l.push(n)}}(),t.sort(Ue("weight")),Le(),setInterval(Le,6e4)),Pe(i.adStatus)}function Pe(e){if(e&&e.id&&M.hasVideo)if(M.isPlaying){var t=e.id,i=e.lastTime,r=function(e){for(var t=0;t<o.length;t++)if(o[t].id==e)return o[t];return null}(t);r&&(c=(n=r).id,(a=Ne()).show(!0,i))}else u=e}function Le(){o=[];for(var e=0;e<t.length;e++){var i=t[e];if(3!=i.contractType)Me(i)&&o.push(i)}if(o.length>0){var r=function(){if(0==c)return null;for(var e=0;e<o.length;e++)if(o[e].id==c)return o[e];return null}();null==r&&(r=o[0]),n=r}}function Me(e){var t=e.endDate,i=e.startDate,n=e.timeRange;if(!t||!i||!n)return!1;var r=new Date,a=r.getFullYear().toString()+De(r.getMonth()+1)+De(r.getDate()),o=a<=t&&i<=a,s=n.split("-");if(2!=s.length)return!1;var c=s[0].replace(":",""),l=s[1].replace(":",""),u=r.getHours(),d=r.getMinutes(),p=De(u)+De(d);return!(!o||!(p<=l&&c<=p))}function De(e){return e=e<10?"0"+e:""+e}function Be(){Q&&Q.clickAD()}function Ne(){for(var e=0;e<l.length;e++){if(l[e].getdata().id==n.id)return l[e]}return null}function Ue(e){return function(t,i){var n=t[e],r=i[e];return n>r?-1:n<r?1:0}}function Fe(){U.log("requestPublicScreenAd");xe(g,1,{innerSecondQuery:0}).then((function(t){if(U.log("公屏广告 publicScreenAd data",t),t&&200==t.code&&t.data&&t.data.value.length){var n=t.data.value[0];if(n&&n.ads&&n.ads.value.length>0){if(U.log("公屏广告",n.ads.value[0]),null==ee){var r=i("tLES");ee=new r(e,X)}ee.setData(n.ads.value[0],g)}}})),function(){var e=0;try{var t=M.abConfig;t&&t.mpConfig&&t.mpConfig.publicScreenAdGap&&(e=parseInt(t.mpConfig.publicScreenAdGap)||0)}catch(e){U.log("checkRequstGap error",e)}U.log("checkRequstGap",e),e>0&&30<e&&(Z.removeTimer(Oe),Oe=Z.startTimer(e,(function(){Fe()}),!0))}()}var Oe=0;var He=[],Ge=null;function Ve(){if(null==h){var t=i("iwIq");h=new t(e)}}function We(e){return e.startsWith(J)}function qe(){if(null==re){var t=i("fEVj");re=new t(e)}re.show()}function je(e){var t={adid:e.id,traceid:e.traceid,templateid:e.templateId,elementid:e.element.elementId,type:e.extra.value.adLandingType||0},i=e.extra.value.qrcodeInfo;if(i){i=B.unescapeHTML(i);try{var n=ze(JSON.parse(i)),r=-1;2==n?r=1:1==n&&(r=0),t.code_style=r}catch(e){U.error("getAdCommonData error",e)}}return t}function ze(e){var t=0,i=e.interactiveModeList||[];return i.includes("1")&&i.includes("7")?t=2:i.includes("7")&&(t=1),t}window.showUrlSchemeGuide=qe;var Ye=null;window.testBannerAD=function(){var e=new A.PushPresenterAdNotice;e.lPid=M.presenterUid,e.lTime=0,e.ad={contractType:1,endDate:"20300201",frequency:50,iPushTime:3,id:"15472856880550554",platform:1,startDate:"20190114",timeRange:"00:00-23:59",uid:"50020144",weight:2,material:{landingUrl:"https://lpl.qq.com/hudong/ads/spd_spring.html?adID=7&matchID=5425&pushID=11220&plat=douyu",imageUrl:"http://business.msstatic.com/dsp/image/0EAYHNd4U9o3vav6Hmz.jpg",webLandingUrl:"http://www.huya.com",adType:100,showTime:30,layout:{layoutType:1,height:251,width:284,ratioH:.7667,ratioW:.6979000000000001,templateH:1080,templateW:1920}}},ye(e)},window.testNewAd=function(){we({delaySec:5,platform:"4",slotCode:"2019zbjsdts",slotCnt:1})},window.testADPushRTBNotice=function(){var e=new A.RtbInstructionInfo;e.iDelay=1,e.tIns.layout.width=480,e.tIns.layout.height=270,e.tIns.layout.layoutType=4,e.tIns.layout.outerFrameH=0,e.tIns.layout.outerFrameUrl=0,e.tIns.layout.outerFrameW=0,e.tIns.layout.ratioH=.944,e.tIns.layout.ratioW=.0299,e.tIns.layout.templateH=750,e.tIns.layout.templateW=1334,e.tIns.layout.adSceneType=1,e.tIns.maxDuration=30,e.tIns.slotCode="2024sszc",e.tIns.slotCnt=2,e.tIns.recText="推荐标题",e.tIns.noticeText="查尔斯顿归属感三个归属感，孤独颂歌三个根深蒂固三个，公司的归属感广东省归属感干啥",e.tIns.videoMaxDuration=60,_e(e)},window.testDanmuAd=function(){Se({delayMilSec:100,delaySec:0,platform:"1,2,4",slotCode:"2022hydmgg",ptime:0,slotCnt:1,pid:50078400,unitId:7883,env:{value:{roundCnt:3,unitId:7883}}})},this.reqDiyActivityADD=function(e,t,i){U.log("reqDiyActivityADD"),xe(e,1).then((function(e){if(U.log("rspDiyActivityADD",e),e&&200==e.code&&e.data&&e.data.value.length){var n=e.data.value[0];if(n.ads&&n.ads.value.length>0){var r=n.ads.value[0];try{var a=r.sdkConf;a=B.unescapeHTML(a);var o=JSON.parse(a).landingUrl;Y.reportPageView(a),o&&i(t,o,(function(){Y.reportClick(a)}))}catch(e){console.log("reqDiyActivityADD parse sdkConf error",e)}}}}))},this.getAdInfo=xe,this.getNegativeFeedbackList=function(t,i){if("1"==adInfo.extra.value.negativeFeedback){var n=new L.GetAdNegativeFeedbackListReq;n.userId=M.userId,n.rid=t,n.platform=4;var r=new L.GetNegativeFeedbackListAd,a=adInfo,o=a.unitId,s=a.ideaId,c=a.imageUrl,l=a.videoUrl,u=a.iconUrl,d=a.title,p=a.description,h=a.brand,f=adInfo.extra.value.slotCode||"2024webqtp",m=adInfo.id;r=Object.assign(r,{unitId:o,ideaId:s,imageUrl:c,videoUrl:l,iconUrl:u,title:d,description:p,brand:h,slotCode:f,adId:m}),n.adInfo.value.push(r),e.sendWupNew("adui","getNegativeFeedbackList",n,L.GetAdNegativeFeedbackListRsp).then((function(e){var t=e.adFeedbackList.value;if(t.length>0){var n=t[0].items.value;i(n)}}))}},this.getVideoInfo=function(e){for(var t=e.videoInfos.value,i=t.length,n=0;n<i;n++){var r=t[n];if(r.type===z){var a=r.videoInfo.vDefinitions.value;if(a.length>0){var o=a[0];return{sM3u8:o.sM3u8,vStreamInfo:o.vStreamInfo.value}}}}return null},this.getQrcodeInfo=function(e){var t=0,i="",n="",r=e.extra.value.qrcodeInfo;if(!r)return{mode:t,qrcodeTips:i,qrcodeUrl:n};r=B.unescapeHTML(r);try{var a=JSON.parse(r)}catch(e){return U.error("getQrcodeMode error",e),{mode:t,qrcodeTips:i,qrcodeUrl:n}}return U.log("qrcodeMode",a),i=a.qrcodeTips||K,n=a.qrcodeUrl||"",{mode:t=ze(a),qrcodeTips:i,qrcodeUrl:n}},this.amsTraceReport=function(e,t,i){Ve(),h.amsTraceReport(e,t,i)},this.reportPlaying=function(e,t,i,n,r){var a=We(n);a?r?Y.reportPlayingByOne(e,!0,r,i):Y.reportPlayingByOne(e,!1,t,i):Y.reportPlaying(e,t,i),console.log("AD reportPlaying",a,t,i,n,r,e)},this.reportNegativeFeedback=function(e,t){var i={actType:t.actType,outText:t.outText,extInfo:t.extInfo.value,unionUrlReplaceParams:t.unionUrlReplaceParams.value};O.log("负反馈上报",i),Y.reportNegativeFeedback(e,i)},this.reportExternalEvent=function(e,t,i){Y.reportExternalEvent(e,t,{event:i})},this.isAMSAd=We,this.huyaReportShow=function(e,t){var i=r({},je(e),{},t);H.newHuyaReport({eid_desc:"曝光广告（通用事件）",eid:"show/universal_ad",prop:JSON.stringify(i)},"huya_web")},this.huyaReportClose=function(e,t){var i=r({},je(e),{},t);H.newHuyaReport({eid_desc:"关闭广告",eid:"state/universal_ad_close",prop:JSON.stringify(i)},"huya_web")},this.huyaReportClick=function(e,t){var i=r({},je(e),{},t);H.newHuyaReport({eid_desc:"点击广告（通用事件）",eid:"click/universal_ad",prop:JSON.stringify(i)},"huya_web")},this.openAdUrl=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i){var r=e.huyaAD.isAMSAd(t.id),a="",o=parseInt(t.extra.value.programType);if(r){if(a=i.destUrls[0],1==o||2==o)return Ve(),h.amsSchemeTraceReport(t,w),h.amsClickReport(a),void function(e){h.amsSchemeTraceReport(e,S);var t=e.extra.value.urlScheme,i=h.isWXUrlScheme(t);t&&i&&(h.amsSchemeTraceReport(e,b),window.location.href=t,h.amsSchemeTraceReport(e,I),qe())}(t)}else{var s=t.extra.value.urlScheme;if(s&&(1==o||2==o))return void(window.location.href=s);a=i.landingUrl?i.landingUrl:""}n&&B.isHuyaDomain(a)&&(a=B.urlAddParams(a,"gamecenterauid="+M.presenterUid)),a&&window.open(a)}},this.preADDataToPublishScreenAd=function(t,n,r){if(null==ee){var a=i("tLES");ee=new a(e,X)}ee.preADData(t,g,n,r)},this.requestPublicScreenAd=Fe,this.createQrcode=function(e,t){if(null==Ye){var n=i("0QxM");Ye=new n}return Ye.createQrcode(e,t)},this.createExtAd=function(t){return new Promise((function(n,r){t&&t.slotCode||n({res:1,msg:"参数错误",data:{}}),U.log("createExtAd"),null==Ge&&(Ge=i("xn3N"));var a=new Ge(e),o=M.getTraceId(),s=a.createExtAd(t,o);He.push({id:o,ad:a}),n(s)}))},this.showExtAd=function(e){return new Promise((function(t,i){var n=e.id;n||t({res:1,msg:"参数错误",data:{}});var r=null;He.forEach((function(e){e.id==n&&(r=e.ad)})),r||t({res:2,msg:"never createExtAd id is:"+n,data:{}}),xe(r.getSlotCode(),1,{innerSecondQuery:"0",adenv_sourceMiniGameAppid:r.getUuid()}).then((function(e){if(U.log("createExtAd",e),e&&200==e.code&&e.data&&e.data.value.length){var i=e.data.value[0];if(i.ads&&i.ads.value.length>0){var n=i.ads.value[0];e=r.setData(n);t(e)}else t({res:3,msg:"接口没有返回广告",data:{}})}else t({res:3,msg:"接口没有返回广告",data:{}})})).catch((function(e){i({res:-1,msg:"接口请求失败:"+e,data:{}})}))}))},this.closeExtAd=function(e){return new Promise((function(t,i){var n=e.id;n||t({res:1,msg:"参数错误",data:{}});var r=null;He.forEach((function(e){e.id==n&&(r=e.ad)})),r||t({res:2,msg:"never createExtAd id is:"+n,data:{}}),r.closeExtAd(),t({res:0,msg:"成功",data:{}})}))},this.isVertical=function(e,t){var i=t.pluginHeight,n=t.pluginWidth,r=t.imageMaterialShowRatio,a=t.videoMaterialShowRatio,o=e?a:r;if(o>0){if(2==o||4==o)return!0}else if(i>n)return!0;return!1},this.setADEnv=function(e,t){var i=e.extra.value;for(var n in M.mpExperiment&&(t.exp=M.mpExperiment),i)(n.startsWith("adenv_")||"recomAdTraceId"==n)&&(t[n]=i[n]);return t}}},Np8c:function(e,t,i){e.exports=function(e){var t=i("wQPa"),n=t.STRATEGY_TYPE_KEY_FREQ_CONTROL,r=t.STRATEGY_TYPE_NEGATIVE_FEEDBACK,a=t.STRATEGY_TYPE_NO_REPLACE_OTHERS,o=t.STRATEGY_TYPE_AGGREGATION_CONTROL,s=(e.G,e.taf),c=e.Console,l=e.logUtils,u=s.HUYA,d=s.Taf;this.parsePopupStrategy=function(e){var t=e.mpType2Strategy.value,i=0,s=600,p=!1,h=5,f=300,m=1,v=2;for(var g in t){var y=t[g],_=new d.JceInputStream(y);switch(parseInt(g)){case n:var w=new u.LiveRoomPopupWindowKeyFreqControlStrategy;w.readFrom(_),c.log("popupManager liveRoomPopupWindowKeyFreqControlStrategy",w),i=w.iDayShowMaxCount;break;case r:var S=new u.LiveRoomPopupWindowNegativeFeedbackStrategy;S.readFrom(_),s=S.iUserCloseGapSeconds,l.log("popupManager 负反馈时间："+s);break;case a:var b=new u.LiveRoomPopupWindowNoReplaceOthersStrategy;b.readFrom(_),c.log("popupManager liveRoomPopupWindowNoReplaceOthersStrategy",b),p=!0;break;case o:var I=new u.LiveRoomPopupWindowAggregationControlStrategy;I.readFrom(_),h=I.iEnterRoomDelaySeconds,f=I.iShowGapSeconds,m=I.iEnterRoomMaxCount,v=I.iOtherwiseMaxCount,l.log("popupManager 直播进场统一曝光延迟秒数:".concat(h," 每次弹窗的间隔:").concat(f," 进直播间最大弹窗数:").concat(m," 其他间隔展示数:").concat(v))}}return{iDayShowMaxCount:i,iUserCloseGapSeconds:s,noReplaceOthersFlag:p,iEnterRoomDelaySeconds:h,iShowGapSeconds:f,iEnterRoomMaxCount:m,iOtherwiseMaxCount:v}}}},O02O:function(e,t){e.exports={result:"Chrome",details:{Chrome:5,Chromium:0,_360SE:0,_360EE:0},sorted:["Chrome","360SE","360EE","Chromium"],exec:function(){var e={Chrome:5,Chromium:0,_360SE:0,_360EE:0},t=window.navigator.userAgent;if(/Chrome\/([\d.])+\sSafari\/([\d.])+$/.test(t)){if("Win32"==window.navigator.platform){if(window.clientInformation.languages||(e._360SE+=8),/zh/i.test(navigator.language)&&(e._360SE+=3,e._360EE+=3),window.clientInformation.languages){var i=window.clientInformation.languages.length;i>=3?(e.Chrome+=10,e.Chromium+=6):2==i?(e.Chrome+=3,e.Chromium+=6,e._360EE+=6):1==i&&(e.Chrome+=4,e.Chromium+=4)}if(window.navigator.plugins&&window.navigator.plugins.length)for(var n in window.navigator.plugins)"np-mswmp.dll"==window.navigator.plugins[n].filename&&(e._360SE+=20,e._360EE+=20);window.chrome&&window.chrome.webstore?Object.keys(window.chrome.webstore).length<=1?e._360SE+=7:2==Object.keys(window.chrome.webstore).length&&(e._360SE+=4,e.Chromium+=3):(e._360SE+=20,e._360EE+=20),window.navigator.plugins&&(window.navigator.plugins.length>=30?(e._360EE+=7,e._360SE+=7,e.Chrome+=7):window.navigator.plugins.length<30&&window.navigator.plugins.length>10?(e._360EE+=3,e._360SE+=3,e.Chrome+=3):window.navigator.plugins.length<=10&&(e.Chromium+=6))}else e._360SE-=50,e._360EE-=50,/Linux/i.test(window.navigator.userAgent)&&(e.Chromium+=5);var r=0,a=void 0;if(window.navigator.plugins)for(var n in window.navigator.plugins)if(a=/^(.+) PDF Viewer$/.exec(window.navigator.plugins[n].name)){if("Chrome"==a[1]){e.Chrome+=6,e._360SE+=6,r=1;break}if("Chromium"==a[1]){e.Chromium+=10,e._360EE+=6,r=1;break}}r||(e.Chromium+=9)}var o={};o.Chrome=e.Chrome,o.Chromium=e.Chromium,o["360SE"]=e._360SE,o["360EE"]=e._360EE;var s=[];for(var c in o)s.push([c,o[c]]);s.sort((function(e,t){return t[1]-e[1]})),this.sorted=s,this.details=e,this.result=s[0][0]}}},OGF2:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.Console,o=e.utils,s=e.R,c=e.taf,l=e.logUtils,u=c.AdxServer,d=c.Taf,p=c.HUYA,h=null,f=!1,m=null,v=null,g=null,y=null,_={},w=0,S=null,b=.6,I=!1,E=null,T=.1,k=5,C="webPreAd",x=null,A=this,R=0,P=null,L=0,M=i("Tx78").creatSimpleAdQrcodeCard,D=i("ErL0").detectAdBlockerByImg,B=i("rXj1"),N=i("ZVwP"),U=N.Ad_Brand,F=N.Ad_Description,O=1e3;function H(){var s;$("#videoContainer").append(h),m.reportPageView(g,_),s={slotcode:t,style:"bigarea"},e.huyaAD.huyaReportShow(v,s),n.vplayer.hideLoading();var c=i("oYw7");(x=new c(e)).showTimeCount(W),h.find(".ab-skip").click(Y),n.preAdStatus=2,function(){try{var e=(new Date).toLocaleDateString(),t=localStorage.preadShow?JSON.parse(localStorage.preadShow):{showDate:"",failCount:0,success:0,lastShowTime:0};t.showDate=e,t.success+=1,t.lastShowTime=Math.floor(Date.now()/1e3),localStorage.preadShow=JSON.stringify(t)}catch(e){a.log("saveAdSuccess error",e)}}(),function(){if(0==I)return;h.addClass("vertical");var e=h.find(".pre-ad-details-wrap"),t=$("#pre-ab-video"),i=h.find(".vertical-right-container");i.append(e),i.append(t),j(),h.resize(j)}(),function(){if(!h)return;var i=v,r=i.brand,a=i.title,o=i.iconUrl,s=h.find(".pre-ad-details-wrap");1==R&&s.find(".btn").hide();new Promise((function(i){if(!n.isLogin)return i();if(R>0)return i();var r=new p.GetADTaskReq;r.tId=n.userId,r.iBusiness=k,r.sTaskId=t,r.iOpType=2,r.iRoundLoopStart=0,r.sAppId=C,e.sendWup2("wupui","getADTask",r,(function(e){var t=e.mAward.value[4]||0;t>0&&(E={num:t}),i()})),setTimeout((function(){i()}),1e3)})).then((function(){q()}));var c=$("<img />");if(c.attr("src",o),s.find(".logo").append(c),s.find(".title").text(r||U),s.find(".desc").text(a||F),0==R)return;var l=$('<div class="pre-ab-qrcode-logo"><div class="qrcocde-logo"></div></div>');if(0==I){var u=s.find(".logo");u.append(l);var d=M(e,P,70);u.append(d),d.hide(),u.mouseenter((function(){d.fadeIn(200)})),s.find(".pre-ad-details-group").mouseleave((function(){d.fadeOut(200)}))}else{l.addClass("vertical");var f=h.find(".ab-content");f.append(l);d=M(e,P,104,!0);f.append(d),d.hide(),f.mouseenter((function(){d.fadeIn(200),l.fadeOut(200)})),f.mouseleave((function(){d.fadeOut(200),l.fadeIn(200)}))}}(),function(){var e=h.find(".ab-content-container");e.click(z),e.css("cursor",1!=R?"pointer":"default");var t=h.find(".new-pre-ab-video");t.css("cursor","default"),t.click((function(e){o.stopPropagation(e)}))}(),e.vcore.volume=0,n.preADPlayingFlag=!0,setTimeout((function(){n.preADPlayingFlag=!1}),6e4),e.huyaAD.getNegativeFeedbackList(w,(function(t){!function(t){if(0==t.length)return;var i=h.find(".ab-skip-group");i.hover((function(){i.addClass("hover")}),(function(){i.removeClass("hover")}));for(var n=h.find(".negative-feedBack-tip"),a=function(){var i=t[s].outText;(c=$('<div class="btn-item">'+i+"</div>")).data("item",t[s]),c.click((function(n){o.stopPropagation(n);var a=$(this).index(),s=t[a-1];l.log("负反馈按钮",i,s),e.huyaAD.reportNegativeFeedback(g,s),ee(s.actType),W(),r.fireEvent(r.SHOW_COMMON_TOAST_TOP,"反馈成功，将减少此类推荐")})),n.append(c)},s=0;s<t.length;s++){var c;a()}}(t)})),o.reportTimeByKey("pread-video-loadtime")}function G(t,n){var o=e.huyaAD.getVideoInfo(t);if(null==o){if(!n)return a.log("未获取前贴片广告视频"),!1;o={videoUrl:n,isMp4:!0}}if(null==S){var s=i("vNGJ");S=new s(e,te,ie,ne,re,_)}return S.startPlay(o,v,g),Q(),r.addEvent(r.VOLUME_CHANGE,Q),h.find(".ab-logo").click(Z),setTimeout((function(){var e,t;e=b,t=setInterval((function(){e-=b/10,(e=Math.max(e,0))<=0?clearInterval(t):S?S.setVolume(e):clearInterval(t)}),100)}),4e3),X(),!0}function V(t,i){if(!t)return!1;!0;var r=n.makeHttpsUrl(t),o=h.find(".ab-content"),s=$("<img />");return D(s[0]).then((function(t){a.log("detectAdBlockerByImg广告图片可能被广告插件拦了！",n.adBlock,t),n.adBlock&&t?(e.huyaAD.reportExternalEvent(g,_,"adBlockPlugin"),W()):H()})),s.attr("src",r),o.prepend(s),h.find(".ab-logo").addClass("ab-logo-image"),!0}function W(){x&&x.clear(),function(){n.preAdStatus=3,n.vplayer.hideLoading();var t=$("#pre-ab-video");t.find(".pre-ab-text").hide(),0==I?t.addClass("change-big-effect"):function(e){var t=o.getRelativePosition($(e),$("#videoContainer"));if(null==t)return;e.css({top:t.top,left:t.left,width:t.width,height:t.height,transition:"all 1s ease-in-out"}),$("#videoContainer").append(e),e.addClass("vertical-effect");var i=h.find(".pre-ad-details-wrap"),n=e.outerHeight(!0)||0,r=(parseInt(i.css("margin-bottom"))||0)+n;i.css({"margin-bottom":"".concat(r,"px"),"box-sizing":"border-box"}),requestAnimationFrame((function(){$(e).css({top:0,left:0,width:$("#videoContainer").width()+"px",height:$("#videoContainer").height()-60+"px"})}))}(t);clearTimeout(L),L=setTimeout((function(){var e=t.find("#hy-video");if($("#player-video").append(e),r.fireEvent("updateDoubleScreenStatus",1),t.remove(),B&&B.browser){var i=B.browser,a=i.name,o=i.version;"qq"===a&&"10.8"==o&&n.vplayer.videoPlay()}}),O),i=0,a=setInterval((function(){if(i+=n.volume/10,(i=Math.min(i,100))>=n.volume)return e.vcore.volume=n.volume,void clearInterval(a);e.vcore.volume=i}),200),l.addLog("showVideoRestEffect 重置视频");var i,a}(),h&&h.fadeOut(O,(function(){e.huyaAD.preADDataToPublishScreenAd(v,E,A),K()}))}function q(){if(h){var e=v.actionTxt,t=o.setLongString(e||"了解详情",5),i="".concat(t),n=h.find(".pre-ad-details-wrap");E&&E.num>0&&(i="".concat(t,'，领取 <div class="pre-ab-huyaliang-logo"></div> * ').concat(E.num)),n.find(".btn span").html(i),n.find(".btn").css("visibility","visible")}}function j(){h.find(".ab-content").width(9/16*h.height());var e=h.find(".vertical-right-container");h.width()<750?e.hasClass("small-screen")||e.addClass("small-screen"):e.hasClass("small-screen")&&e.removeClass("small-screen")}function z(i){if(1!=R){E&&ce(),o.stopPropagation(i),m.reportClick(g,_),e.huyaAD.openAdUrl(v,y,!1);var n={slotcode:t,style:"bigarea",area:"body",url:y.landingUrl};e.huyaAD.huyaReportClick(v,n)}}function Y(e){o.stopPropagation(e),ee(0),W()}function J(){K()}function K(){h&&(h.remove(),h.unbind(),h=null),S&&S.clear(),r.removeEvent(r.VOLUME_CHANGE,Q)}function Z(){f=!f,X();var e={ad_id:v.id,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"mute"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(e)},"huya_web")}function X(){var e=h.find("#sound");e.removeClass("sound-close"),f&&e.addClass("sound-close");var t=f?0:b;S&&S.setVolume(t)}function Q(){S&&(b=n.volume/100*T,!f&&S.setVolume(b))}function ee(i){var n={slotcode:t,style:"bigarea",close_type:"skip",acttype:i};e.huyaAD.huyaReportClose(v,n)}function te(e,t){var i=h.find(".ab-content");i.find(".ab-video").remove();var n=t||e;$(n).attr("class","ab-video"),i.append(n),H()}function ie(e,t){}function ne(e){a.log("广告播放结束",e),e&&function(){try{var e=localStorage.preadShow?JSON.parse(localStorage.preadShow):{showDate:"",failCount:0,success:0,lastShowTime:0};e.failCount+=1,localStorage.preadShow=JSON.stringify(e)}catch(e){a.log("countAdFail error",e)}}(),W()}function re(){f=!0;var e=h.find("#sound");e.removeClass("sound-close"),f&&e.addClass("sound-close")}function ae(){l.addLog("前贴广告失败"),W()}function oe(t){new(i("VhDf"))(e).show(t)}m=e.getADReport(),r.addEvent("closeCurrentAd",J),r.addEvent("getPreABFail",ae);var se=0;function ce(i){if(n.isLogin){var a=(new Date).getTime();if(!(se>0&&a-se<1e3)){se=a;var o=new p.AwardADTaskReq;o.tId=n.userId,o.iBusiness=k,o.sTaskId=t,o.iOpType=2,o.sADuuid=v.id,o.iRoundLoopStart=0,o.sAppId=C,e.sendWup2("wupui","awardADTask",o,(function(e){!function(e){E=null,q(),e&&e()}(i);var t=e.iCode,n=e.sMsg;if(0!=t)return r.fireEvent(r.SHOW_COMMON_TOAST,n),void oe(0);oe(e.mAward.value[4]||0)}))}}}this.setData=function(t,n){K(),a.log("前贴片广告主广告",t),v=t,w=n;var r=t.sdkConf,s=t.adExtCommonInfo,c=t.videoUrl,l=t.templateId,p=t.imageUrl,f=t.iconUrl,m=t.showSec,S=new d.JceInputStream(s.buffer),b=new u.AdExtCommonInfo;b.readFrom(S),g=o.unescapeHTML(r);try{y=JSON.parse(g)}catch(e){return a.log("PreAd parse sdkConf error"),!1}P=e.huyaAD.getQrcodeInfo(v),R=P.mode,_=e.huyaAD.setADEnv(v,_),a.log("前贴片广告视频信息 adComInfo",b);var E=i("mJ11")();h=$(E);var T=!1,k=m||15;switch(l){case 2031:T=G(b,c);break;case 2032:T=V(p,k);break;case 2033:T=G(b,c),I=!0;break;case 2034:T=V(p,k),I=!0;break;default:return a.log("未知前贴片广告模版"),!1}if(!T)return!1;if(!0===I&&f){var C=h.find(".bg-img");C.css("background-image","url("+f+")"),C.css("background-size","cover"),C.css("background-clip","content-box"),C.css("background-repeat","no-repeat"),C.css("background-position","center center"),C.show()}return!0},this.awardADTask=ce}},OLod:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("K3mO"),void(n.lib.Cipher||function(e){var t=n,i=t.lib,r=i.Base,a=i.WordArray,o=i.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=i.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:g}return function(t){return{encrypt:function(i,n,r){return e(n).encrypt(t,i,n,r)},decrypt:function(i,n,r){return e(n).decrypt(t,i,n,r)}}}}()}),d=(i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),p=i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var t=p.extend();function i(t,i,n){var r,a=this._iv;a?(r=a,this._iv=e):r=this._prevBlock;for(var o=0;o<n;o++)t[i+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;i.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,a=e.slice(t,t+r);n.decryptBlock(e,t),i.call(this,e,t,r),this._prevBlock=a}}),t}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,r=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(r);var c=a.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?a.create([1398893684,1701076831]).concat(i).concat(t):t).toString(c)},parse:function(e){var t,i=c.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),m.create({ciphertext:i,salt:t})}},g=i.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n),a=r.finalize(t),o=r.cfg;return m.create({ciphertext:a,key:i,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,i,n){n||(n=a.random(8));var r=l.create({keySize:t+i}).compute(e,n),o=a.create(r.words.slice(t),4*i);return r.sigBytes=4*t,m.create({key:r,iv:o,salt:n})}},_=i.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize);n.iv=r.iv;var a=g.encrypt.call(this,e,t,r.key,n);return a.mixIn(r),a},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);return n.iv=r.iv,g.decrypt.call(this,e,t,r.key,n)}})}()))},OY6v:function(e,t,i){e.exports=function(e){var t=e.Console,n=e.utils,r=e.G,a=e.Event,o=null,s={},c="";function l(e,t){for(var i="",r=0;r<t.length;r++){var a=t[r],o=a.sIcon,s=a.sText,c=a.tColor.iColorBright;if(c>0){var l=n.doColor(c);e.css({color:l})}i+=o?'<img src="'.concat(o,'" alt="">').concat(s):s}e.html(i)}this.show=function(u,d){var p=d.sLiveRoomPopupKey,h=d.iShowTime,f=d.iShowType;c=p,t.log("通用弹窗",u,d);var m=1e3*h,v=u.mpReportData.value,g={popup_ext:JSON.stringify(v)},y={liveroomPopupKey:c,showTime:m,additionReportParams:g};e.popupManager.nativePopupEnQueue(y,(function(t){var d=t.data.showTime;s=t.data.reportParams,function(t,u,d){var p=i("xtq3")();(o=$(p)).appendTo("#player-wrap"),1==d&&(o.addClass("vertical"),o.find(".content").removeClass("ellipsis"));(function(e){var t=e.iAvatarForm,i=e.vAvatarPic.value,n=o.find(".icon");1==t&&n.addClass("circle");for(var r=i.length,a=0;a<r;a++){var s=i[a],c=$('<img src="'.concat(s,'" alt="">'));n.prepend(c)}})(t),function(e){var t=e.vTitle.value,i=e.vMsg.value,n=o.find(".title"),r=o.find(".content");l(n,t),l(r,i)}(t),function(t){var i=t.tButton,l=i.tText,u=i.tBackGround,d=i.sLink,p=i.sToast,h=o.find(".btn");h.click((function(){p?a.fireEvent(a.SHOW_COMMON_TOAST,p):d&&r.vplayer.openUrl({url:d}),e.popupManager.reportClickLiveRoomPopup(s,"button"),e.popupManager.nativePopupDeQueue({liveroomPopupKey:c})}));var f=u.tColor.iColorBright,m=!1;f>0&&h.css("background-color",n.doColor(f));var v=l.tColor.iColorBright,g=l.sText;v>0&&h.css("color",n.doColor(v));g&&(h.text(g),m=!0);m||(h.hide(),o.find(".description").css("min-width","183px"))}(t);var h=r.vplayer.getPopupCloseBtn({showTime:u});if(0==h.res&&h.data){var f=h.data.div,m=$(f);o.append(m),m.click((function(){e.popupManager.nativePopupDeQueue({liveroomPopupKey:c})}))}}(u,d,f)}),(function(e){!function(){o&&(o.unbind(),o.remove());o=null}()}))}}},OjOf:function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initQueue=[];var n=t.Event,r=t.G;this.G=r,this.isSecret=r.isSecret,n.addEvent(n.USER_INFO_INITED,(function(){return i.startInitializing()}))}var t,n,r;return t=e,(n=[{key:"addModule",value:function(e,t){this.G.isUserInfoInited()?setTimeout((function(){e.init()}),1e3*t):this.initQueue.push({module:e,level:t})}},{key:"startInitializing",value:function(){var e=this;this.initQueue.sort((function(e,t){return e.level-t.level})),this.initQueue.forEach((function(t,i){setTimeout((function(){t.module.init(),e.initQueue.splice(i,1)}),1e3*t.level)}))}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=n},Olqj:function(e,t,i){e.exports=function(e,t){var n,r=e.G,a=e.ENV,o=e.R,s=e.Event,c=null,l=0,u=0,d="",p=null;function h(){u--,f(),u<=0&&(c.hide(),clearInterval(l),t.showTip(2),s.fireEvent(s.PAYMENT_WATCH_STATUS_CHANGE,1))}function f(){c.find(".title").text("试看".concat(u,"秒")),c.find(".subtitle").text(d)}function m(){t.openVip(0);var e=p,i=e.session_id,n=e.hasMpExtend,s=e.payment_type;if(n){var c={live_id:r.liveid,paylive_id:i,scene:2,room_id:a.profileRoom,anchor_uid:r.presenterUid,game_id:r.gameId,status:1,payment_type:s};o.newHuyaReport({eid_desc:"付费直播间解锁按钮点击",eid:"click/unlock_paylive",prop:JSON.stringify(c)},"huya_web")}}n=i("i9Ku")(),c=$(n),$("#player-ctrl-wrap").append(c),c.find(".player-vip-buy-btn").click(m),this.setData=function(e){p=e,u=e.remainWatchTime,d=e.sFreeWatchTips||"开通VIP后观看完整直播",f(),clearInterval(l),l=setInterval(h,1e3);var t=p,i=t.session_id,n=t.hasMpExtend,c=t.payment_type;if(n){var m={live_id:r.liveid,paylive_id:i,scene:2,room_id:a.profileRoom,anchor_uid:r.presenterUid,game_id:r.gameId,status:1,payment_type:c};o.newHuyaReport({eid_desc:"付费直播间解锁界面曝光",eid:"show/unlock_paylive",prop:JSON.stringify(m)},"huya_web")}s.fireEvent("vipTimeShow")},this.show=function(){c&&c.show()},this.hide=function(){c&&c.hide(),clearInterval(l)}}},OpqI:function(e,t,i){e.exports=function(e){e.G;var t=e.ENV,n=null,r=null,a=null;function o(){var e=n.find(".check-box").hasClass("nor");r&&r(e),n.hide()}function s(){n.hide(),a&&a()}function c(){var e=n.find(".check-box");e.hasClass("nor")?(e.removeClass("nor"),e.addClass("sel")):(e.removeClass("sel"),e.addClass("nor"))}this.show=function(e,l,u){r=l,a=u;var d=$(t.idDom);if(!n){var p=i("7QxG")();d.append(p),(n=$("#player-gift-dialog")).find(".confirm").click(o),n.find(".cancel").click(s),n.find(".close").click(s),n.find(".check-box").click(c)}n.css({left:.5*(d.width()-n.width())+"px",top:.5*(d.height()-n.height())+"px"}),n.find(".word").html(e),n.find(".check-box").removeClass("nor sel"),n.find(".check-box").addClass("sel"),n.show()}}},OrXy:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<div class='player-live-recommend-card' id='player-live-recommend-card'>\n  \x3c!-- 列表容器 --\x3e\n  <h3>为你推荐</h3>\n  <ul class='plrc-wrap'>\n    <% for (var i = 0; i < 1; i++) {\n      var sTitle ='为你推荐';\n    %>\n    <li class='plrc-list-wrap'>\n      \x3c!-- 标题 --\x3e\n      \x3c!-- 列表 --\x3e\n      <ul class='plrc-list'>\n        <% for (var j = 0; j < vLives.value.length; j++) {\n          var tGameLiveInfo = vLives.value[j].tGameLiveInfo\n        %>\n        \x3c!-- 列表项 --\x3e\n        <li>\n          <a href='javascript:;' class='jqAnchor' data-index='<%= j + 1 %>' data-lUid='<%= tGameLiveInfo.lUid %>' data-lYYId='<%= tGameLiveInfo.lYYId %>' data-iRoomId='<%= tGameLiveInfo.iRoomId %>'>\n            <div class='img-wrap'>\n              <img src='<%= tGameLiveInfo.sVideoCaptureUrl %>' onerror=\"this.onerror='';this.src='//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg'\" />\n            </div>\n            <div class=\"bottom-bg\"></div>\n            <div class='live-card-viewers'><i></i><span><%= tGameLiveInfo.iAttendeeCount %></span></div>\n            <div class='game-name'><%- tGameLiveInfo.sGameShortName %></div>\n            <p><%- utils.xss(tGameLiveInfo.sLiveDesc) %></p>\n          </a>\n        </li>\n        <% } %>\n      </ul>\n    </li>\n    <% } %>\n  </ul> \n  \x3c!-- 倒计时 --\x3e\n  <div class='player-live-recommend-card-countdown'>\n    <em id='player-live-recommend-card-countdown-number'></em> 关闭\n    <a class='close-btn' id='player-live-recommend-card-closeBtn' href='javascript:;'></a>\n  </div>\n  \x3c!-- 按钮 --\x3e\n  <a class='left-btn' id='player-live-recommend-card-leftBtn' href='javascript:;'></a>\n  <a class='right-btn' id='player-live-recommend-card-rightBtn' href='javascript:;'></a>\n</div>\n",__filename="src/tpl/match/live-recommend-card.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append("<div class='player-live-recommend-card' id='player-live-recommend-card'>\n  \x3c!-- 列表容器 --\x3e\n  <h3>为你推荐</h3>\n  <ul class='plrc-wrap'>\n    "),__line=5;for(var i=0;i<1;i++){var sTitle="为你推荐";__line=7,__append("\n    <li class='plrc-list-wrap'>\n      \x3c!-- 标题 --\x3e\n      \x3c!-- 列表 --\x3e\n      <ul class='plrc-list'>\n        "),__line=12;for(var j=0;j<vLives.value.length;j++){var tGameLiveInfo=vLives.value[j].tGameLiveInfo;__line=14,__append("\n        \x3c!-- 列表项 --\x3e\n        <li>\n          <a href='javascript:;' class='jqAnchor' data-index='"),__line=17,__append(escapeFn(j+1)),__append("' data-lUid='"),__append(escapeFn(tGameLiveInfo.lUid)),__append("' data-lYYId='"),__append(escapeFn(tGameLiveInfo.lYYId)),__append("' data-iRoomId='"),__append(escapeFn(tGameLiveInfo.iRoomId)),__append("'>\n            <div class='img-wrap'>\n              <img src='"),__line=19,__append(escapeFn(tGameLiveInfo.sVideoCaptureUrl)),__append("' onerror=\"this.onerror='';this.src='//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg'\" />\n            </div>\n            <div class=\"bottom-bg\"></div>\n            <div class='live-card-viewers'><i></i><span>"),__line=22,__append(escapeFn(tGameLiveInfo.iAttendeeCount)),__append("</span></div>\n            <div class='game-name'>"),__line=23,__append(tGameLiveInfo.sGameShortName),__append("</div>\n            <p>"),__line=24,__append(utils.xss(tGameLiveInfo.sLiveDesc)),__append("</p>\n          </a>\n        </li>\n        "),__line=27}__append("\n      </ul>\n    </li>\n    "),__line=30}__append("\n  </ul> \n  \x3c!-- 倒计时 --\x3e\n  <div class='player-live-recommend-card-countdown'>\n    <em id='player-live-recommend-card-countdown-number'></em> 关闭\n    <a class='close-btn' id='player-live-recommend-card-closeBtn' href='javascript:;'></a>\n  </div>\n  \x3c!-- 按钮 --\x3e\n  <a class='left-btn' id='player-live-recommend-card-leftBtn' href='javascript:;'></a>\n  <a class='right-btn' id='player-live-recommend-card-rightBtn' href='javascript:;'></a>\n</div>\n"),__line=41}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},PGSi:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="box-mall-item">\n    <img class="mall-item-icon" />\n    <div class="mall-item-name ellipsis">道具名称</div>\n    <div class="mall-item-price">\n        <i class="jf-icon"></i>\n        <span class="ellipsis"></span>\n    </div>\n</div>',__filename="src/tpl/box/mall-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="box-mall-item">\n    <img class="mall-item-icon" />\n    <div class="mall-item-name ellipsis">道具名称</div>\n    <div class="mall-item-price">\n        <i class="jf-icon"></i>\n        <span class="ellipsis"></span>\n    </div>\n</div>'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},PVpz:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("ETIr"),i("cv67"),i("K3mO"),i("OLod"),function(){var e=n,t=e.lib.StreamCipher,i=e.algo,r=[],a=[],o=[],s=i.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(t){var a=t.words,o=a[0],s=a[1],l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(n[0]^=l,n[1]^=d,n[2]^=u,n[3]^=p,n[4]^=l,n[5]^=d,n[6]^=u,n[7]^=p,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var i=this._X;c.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),e[t+n]^=r[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,i=0;i<8;i++)a[i]=t[i];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,s=n>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&n)*n|0)+((65535&n)*n|0);o[i]=c^l}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),n.RabbitLegacy)},PaUR:function(e,t,i){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=i("eKvN"),a=i("rXj1"),o=i("SSaa");e.exports=function(e,t){var s=e.G,c=e.VER,l=e.Event,u=e.ISDEBUG,d=e.ENV,p=e.utils,h=e.Console,f=e.logUtils,m=e.R,v=e.taf,g=v.HUYA,y=v.Taf;1==s.isHttps()&&(s.useHttps=!0),s.isReplay&&(s.hasVideo=!0),l.addEvent(l.WEBSOCKET_CONNECTED,(function e(){s.isReplay?M():1==s.freezeLevel?l.fireEvent(l.SHOW_RECOMMEND):2==s.freezeLevel?l.fireEvent(l.SHOW_FORBID_RECOMMEND):(U(),E());e.isInited||(f.addLog("ws初始化完成"),e.isInited=!0,window.connectWebSocketEnd&&connectWebSocketEnd(),h.log("WebSocket连接成功："+(Date.now()-s.beginTime)),s.isReplay?l.fireEvent("setTafHandlerReplay",t):s.vplayer.setTafHandler(t),s.tafInited=!0,l.fireEvent(l.WEBSOCKET_INITED))})),l.addEvent(l.PLAYER_UI_INITED,I),l.addEvent(l.DATA_METRIC2,q),l.addEvent(l.DATA_METRIC_SDK,(function(e){var t=q(e).byteLength;s.h5player&&s.h5player.noticeMetricSize(t)})),l.addEvent(l.DATA_METRIC_NO_COMMON_DIM,(function(e){q(e,{notCommonDim:!0})})),l.addEvent(l.DATA_METRIC_SIGNAL_P2P,(function(e){var t=q(e).byteLength;s.h5playerSignalP2P&&s.h5playerSignalP2P.noticeMetricSize(t)})),l.addEvent(l.DATA_METRIC_AD,(function(e){q(e,{place:9})})),l.addEvent(l.DATA_METRIC_TEAM_VOICE,(function(e){var t=q(e).byteLength;s.matchTeamAudioH5Player&&s.matchTeamAudioH5Player.noticeMetricSize(t)})),l.addEvent(l.SEND_METRIC,(function(e){var t=e.sMetricName,i=e.value;if("video.video_load_time"==e.sMetricName){var n=s.ENV.ssrType?1:0;q([{sMetricName:t,vDimension:{ssr_type:n,p2ptoflv:s.turnToFlv?1:0},vField:{value:i}}]),h.log("video.video_load_time",i)}else q([{sMetricName:t,vField:{value:i}}])})),l.addEvent(l.VR_MODEL_CHANGE,(function(){s.vplayer.showLoading(),e.vcore.stopVideo("vr切换"),s.streamSetFlag=!0,s.vrSwitch?(X(),ee()):(s.vplayer.quitMedia(),U())})),l.addEvent(l.GET_LIVING_INFO,U),l.addEvent(l.EXT_RESUMELIVE,(function(){if(!s.isGodLiePlay)return;s.streamSetFlag=!0,s.isGodLiePlay=!1,s.vrSwitch=!1,e.vcore.stopVideo("extResumeLive"),s.isUIPause||s.vplayer.showLoading();U()}));var _=0,w=new o,S=1==s.gzip,b=0;function I(){I.isInited||(I.isInited=!0,l.removeEvent(l.PLAYER_UI_INITED,I)),s.isSecret||E()}function E(){if(s.wsconnected&&(I.isInited||s.isSecret)){var e=Date.now();if(!(e-_<1e3)){_=e,E.isInited||(E.isInited=!0);var i=new g.LiveLaunchReq;i.tId=s.userId,i.tLiveUB.eSource=g.ELiveSource.WEB_HUYA,s.useHttps&&(i.bSupportDomain=1),f.addLog("send doLaunch"),t.sendWup2("liveui","doLaunch",i,T)}}}function T(e){s.serverTimeGap=1e3*e.iTime-Date.now(),s.guid=e.sGuid||p.getCookie("guid"),s.userId.sGuid=s.getGuid(),s.vplayer.trigger("setGuid",{param:{guid:e.sGuid}}),f.addLog("doLaunch Rsp");for(var t=e.vProxyList.value,i=0,n=t.length;i<n;i++){var r=t[i];if(5==r.eProxyType){var a=r.sProxy.value;h.log("ips",a),s.tafSignal.storeDns(a);break}}M()}!function(){s.userId=new g.UserId,s.userId.lUid=s.yyuid,s.userId.sGuid=s.getGuid(),s.userId.sToken="",s.userId.sHuYaUA="webh5&"+c+"&websocket",s.userId.sCookie=document.cookie;try{s.userId.sDeviceInfo=a.browser.name}catch(e){h.log("G.userId.sDeviceInfo  err",e)}!function(){try{var e=new g.WSConnectParaInfo;e.lUid=s.yyuid,e.sGuid=s.getGuid(),e.sUA="webh5&"+c+"&websocket",e.sAppSrc=s.appSrc,s.yyuid>0&&(e.sCookie=document.cookie),e.sExp=s.mpExperiment,s.customHeaders&&p.copy(e.mCustomHeaders.value,s.customHeaders);var t=new y.JceOutputStream;e.writeTo(t);var i=t.getBuffer(),n=p.ab2str(i,!1),r=window.btoa(n);s.baseinfo="baseinfo=".concat(encodeURIComponent(r)),h.log("wssetBaseinfo G.baseinfo"+s.baseinfo)}catch(e){h.log("wssetBaseinfo",e)}}(),function(){if(u)return;var e=new g.LiveLaunchReq;e.tId=s.userId,e.tLiveUB.eSource=g.ELiveSource.WEB_HUYA,s.useHttps&&(e.bSupportDomain=1);var t=new y.Wup;t.setServant("liveui"),t.setFunc("doLaunch"),t.writeStruct("tReq",e);var i=t.encode().getBuffer();h.log(">>>>>>> httpDoLaunch",e);var n="//wsapi.huya.com?".concat(s.baseinfo);y.Util.ajax(n,i,(function(e){var t=new g.LiveLaunchRsp,i=new y.Wup;i.decode(e),i.readStruct("tRsp",t);for(var n=t.vProxyList.value,r=0,a=n.length;r<a;r++){var o=n[r];if(5==o.eProxyType){var c=o.sProxy.value;s.tafSignal.setHttpWsList(c);break}}h.log("<<<<<<< httpDoLaunch",t)}),(function(e){h.warn("======= httpDoLaunch failed.",e)}))}()}();var k=0;function C(e){s.userIn=!0,s.userInTime=Date.now()-s.userInTime,f.addLog("UserEventRsp进入频道成功，开始发送心跳");var t=1e3*e.iUserHeartBeatInterval;t>0&&(x(!0),k&&clearInterval(k),k=setInterval(x,t))}function x(e){var i=new g.UserHeartBeatReq;i.tId=s.userId,i.lTid=s.topsid,i.lSid=s.subsid,i.lShortTid=0,i.lPid=s.presenterUid,i.bWatchVideo=s.hasVideo,i.eLineType=s.videoLine,i.iFps=s.iFrameRate,i.iAttendee=s.iAttendeeCount,i.iLastHeartElapseTime=P,t.sendWup2("onlineui","OnUserHeartBeat",i,L,!0,++R),A=(new Date).getTime(),e||m.huyuReport("heartbeat")}var A,R=0,P=0;function L(e){e.iRet;var t=(new Date).getTime();P=t-A}function M(){if(f.addLog("send login"),!s.loginRegister){if(s.loginRegisterTime=Date.now(),""!=s.danmuMaskbroadcastGroup&&s.hasDanmuMask)-1!=s.danmuGroudId.indexOf(s.danmuMaskbroadcastGroup)&&(s.danmuGroudId=[s.danmuMaskbroadcastGroup]);else s.danmuGroudId=[];var e=new g.WSRegisterGroupReq;for(var i in e.vGroupId.value.push("live:"+s.presenterUid),e.vGroupId.value.push("chat:"+s.presenterUid),d.roomPayPassword&&""!=d.roomPayPassword&&e.vGroupId.value.push("schat:"+s.presenterUid+"-"+d.roomPayPassword),J)e.vGroupId.value.push(J[i]);t.sendRegisterGroup(e,D)}}function D(e){if(f.addLog("login  Rsp"),s.danmuP2P&&0==e.iResCode&&e.vSupportP2PGroupId.value.length>0){var i=e.vSupportP2PGroupId.value,n=p.filterArray(s.danmuGroudId,i);s.danmuGroudId=n.concat(i),l.fireEvent(l.ENTER_P2P_AFTER_REGISTER_GOURP)}if(!s.loginRegister){s.loginRegister=!0,s.userInTime=Date.now(),s.loginRegisterTime=s.userInTime-s.loginRegisterTime,function(){var e=new g.GetWebdbUserInfoReq;e.lUid=s.yyuid,e.lImid=0,e.sPassport=p.getCookie("username"),e.sAccount=0,e.bCacheFirst=!0,t.sendWup2("liveui","getWebdbUserInfo",e,B)}();var r=new g.EnterChannelReq;r.tUserId=s.userId,r.lTid=s.topsid,r.lSid=s.subsid,t.sendWup("ActivityUIServer","OnClientReady",r),function(){var e=new g.UserEventReq;e.tId=s.userId,e.lTid=s.topsid,e.lSid=s.subsid,e.lShortTid=0,e.eOp=1,e.sChan="",e.eSource=3,e.lPid=s.presenterUid,e.bWatchVideo=s.hasVideo,e.bAnonymous=!s.isLogin,e.eTemplateType=1,e.sTraceSource=d.platform||"",t.sendWup2("onlineui","OnUserEvent",e,C),f.addLog("UserEventReq")}()}}function B(e){var t=!!s.userInfo;s.userInfo=e.tUserInfo,t||(l.fireEvent(l.USER_INFO_INITED),s.vplayer.trigger("gamelivePubTextInitComplete"),s.vplayer.trigger("GameLiveSeriveInitComplete"),setTimeout((function(){l.fireEvent(l.USER_INFO_INITED_DELAY)}),1500))}t.addListener("8006",(function(e){s.iAttendeeCount=e.iAttendeeCount,l.fireEvent(l.ATTENDEE_COUNT_CHANGE)}));var N=!0;function U(){if(1==s.isSecret&&1==N)return N=!1,s.hasVideo=!1,void s.vplayerUI.secret.show(U);var e=U.lastTime||0,i=Date.now();if(!(i-e<1e3)||s.obCurPid){U.lastTime=i,s.livingInfoTime=i;var n=new g.GetLivingInfoReq;n.tId=s.userId,s.obCurPid?n.lPresenterUid=s.obCurPid:n.lPresenterUid=s.presenterUid,n.sTraceSource=d.ref||"",n.sPassword=d.roomPayPassword||"";var a=d.client_ip||"",o=p.validIPAddress(a);n.iIpStack=o,s.password&&(n.sPassword=r("HUYA"+s.password+"LIVE")),t.sendWup2("huyaliveui","getLivingInfo",n,F),f.addLog("getLivingInfoReq")}}function F(i){if(s.isSecret)if(0==i.bcode)s.vplayerUI.secret.hide(),function(){var e=new g.WSRegisterGroupReq;if(s.isSecret){var i=r("HUYA".concat(s.password,"LIVE"));e.vGroupId.value.push("schat:".concat(s.presenterUid,"-").concat(i)),e.vGroupId.value.push("slive:".concat(s.presenterUid,"-").concat(i))}t.sendRegisterGroup(e)}(),s.vplayerUI.trigger("secretRoomPass"),l.fireEvent(l.VIDEO_FIRST_PLAY);else if(939==i.bcode)return s.vplayerUI.secret.show(U),void s.vplayerUI.secret.showPasswordError();if(1==localStorage.bcode905&&(i.bcode=905),931==i.bcode)return e.vcore.stopVideo("版权问题"),s.hasVideo=!1,s.vplayer.hideLoading(),void s.vplayerUI.copyrightTip.show();905==i.bcode&&s.vplayerUI.trigger("openLoginTipModal");var n=i.tNotice,a=parseInt(n.lLiveCompatibleFlag);s.lLiveCompatibleFlag=a,s.extStreamVR=128==(128&a)||64==(64&a),1==s.vrSwitch&&s.extStreamVR?(s.livingInfo=i,X(),ee()):(s.vrSwitch=!1,new Promise((function(e,i){var n=new g.GetLivingMultiStreamInfoReq;n.tId=s.userId,n.lPid=s.presenterUid,t.sendWup2("huyaliveui","getLivingMultiStreamInfo",n,(function(t){var n=t.bcode,r=t.sMessage,a=t.vMultiStreamInfo;if(0==n||0==a.value){var o=function(e){for(var t=e.value.length,i={value:[]},n=0;n<t;n++){var r=e.value[n],a=r.iEnable,o=r.iEnableMethod;0==a&&1==o||i.value.push(e.value[n])}return i}(a);e(o)}else i("getLivingMultiStreamInfo bcode:".concat(n,",msg:").concat(r))}))})).then((function(e){i.tNotice.vMultiStreamInfo=e,h.log("码率替换后的数据：",i),s.vplayer.setLivingInfo(i)})).catch((function(e){h.log(e),s.vplayer.setLivingInfo(i)})))}function O(i){if(s.streamInfo){var n=s.streamInfo.sStreamName;i&&(s.flvTokenList[n]="");var r=s.flvTokenList[n];r&&""!=r?(s.vplayer.setFlvToken(r),e.vcore.play()):function(){var e=new g.GetCdnTokenExReq;e.sFlvUrl=s.streamInfo.sFlvUrl,e.sStreamName=s.streamInfo.sStreamName;var i=parseInt(1e4*Math.random());G.token=i,t.sendWup2("liveui","getCdnTokenInfoEx",e,V,null,i)}()}}var H,G=[];function V(t){t.iRequestId==G.token&&function(t){var i=t.sFlvToken;s.vplayer.setFlvToken(i);t.iExpireTime;h.log("视频防盗链",t),e.vcore.play()}(t)}t.addListener("8000",(function(t){if((d.online||t.lPresenterUid==d.eu)&&(s.isEndLive=!1,!s.isReplay&&!s.isCopyright)){f.addLog("8000");var i=parseInt(t.lLiveCompatibleFlag);s.lLiveCompatibleFlag=i,s.extStreamVR=128==(128&i)||64==(64&i);var n=t.iRandomRange,r=new g.GetLivingInfoRsp;if(r.bIsLiving=1,r.tNotice=t,r.tStreamSettingNotice.iBitRate=s.SrcBitRate,d.gameId=t.iGameId,s.extStreamVR&&s.vrSwitch)return s.vrSwitch=!0,s.livingInfo=r,X(),ee(),l.fireEvent(l.HIDE_RECOMMEND),l.fireEvent(l.UPDATE_BTNS_VISIBLE),void s.vplayerUI.trigger("liveStatusChange",{status:1});clearTimeout(H);var a=Math.random()*n;a=Math.max(5500,a),H=setTimeout((function(){var i=!1;0==s.hasVideo&&(s.hasVideo=!0,l.fireEvent(l.VIDEO_PLAY),i=!0),s.isMakeFriend||10!=t.iSourceType?s.isMakeFriend&&10!=t.iSourceType&&(s.isPlaying=!1,s.isMakeFriend=!1,s.vplayerUI.gift.getPidPropsList(),l.fireEvent(l.MAKEFIREND_TEMPLATE_CHANGE,1)):(s.isMakeFriend=!0,s.vplayerUI.gift.getPidPropsList(),l.fireEvent(l.MAKEFIREND_TEMPLATE_CHANGE,0)),(s.isOBRoom||s.isGodLiePlay)&&i?(s.isOBRoom&&(s.obCurPid=s.presenterUid,e.obWatch.upDateCurrentPerspective(),e.trigger("perspectiveChange",s.obCurrentPerspective),e.trigger("beginLive")),U()):s.isOBRoom||s.isGodLiePlay||U(),l.fireEvent(l.VIDEO_PLAY_NEW),l.fireEvent(l.HIDE_RECOMMEND),l.fireEvent(l.UPDATE_BTNS_VISIBLE),l.fireEvent("updateDoubleScreenStatus",1),s.vplayerUI.trigger("liveStatusChange",{status:1})}),a)}})),t.addListener("8001",(function(t){h.log("结束直播：",t.lPresenterUid,d.eu),(d.online||t.lPresenterUid==d.eu)&&(s.isCopyright||(f.addLog("8001"),s.isOBRoom&&(s.obCurPid=s.presenterUid,e.obWatch.upDateCurrentPerspective(),e.trigger("perspectiveChange",s.obCurrentPerspective),e.trigger("endLive")),s.vplayer.setVideoState(1001),clearTimeout(H),s.hasVideo=!1,s.isPlaying=!1,s.livingInfoRecorded=null,s.isCheckDefBit=!1,s.isEndLive=!0,e.vcore.stopVideo("8001"),s.vplayer.hideLoading(),l.fireEvent(l.SHOW_RECOMMEND),l.fireEvent(l.VIDEO_STOP),l.fireEvent(l.UPDATE_BTNS_VISIBLE),l.fireEvent("updateDoubleScreenStatus",0),s.vplayerUI.trigger("liveStatusChange",{status:0})))})),t.addListener("8002",(function(e){(d.online||e.lPresenterUid==d.eu)&&0!=e.iBitRate&&(s.streamSetFlag=!0)}));var W=0;function q(e,t){var i=new g.MetricDetailSet;i.tId=s.userId;for(var n=Date.now(),r=e.length,a=0;a<r;a++)i.vMetricDetail.value.push(j(e[a],n,t));return e[0]?h.log("onDataMetricV2",e[0].sMetricName,i):h.log("onDataMetricV2 empty dataList",i),function(e,t,i){var n=new y.Wup;n.setServant(e),n.setFunc(t),n.writeStruct("tReq",i);var r,a,o=n.encode().getBuffer(),c=(new Date).getTime();r=s.useHttps?"https://statwup.huya.com":"//stat.wup.huya.com";S?(a=(a=$.gzip(o)).buffer,b=(b=a.byteLength/o.byteLength).toFixed(2)):a=o;return w.statTafReport&&w.statTafReport(),y.Util.ajax(r+"?timestamp="+c,a,(function(e){w.statTafReportSuc&&w.statTafReportSuc()}),(function(e){w.statTafReportFail&&w.statTafReportFail(),h.warn("http fail",e)}),S),{byteLength:a.byteLength}}("metric","reportDetailV2",i)}function j(e,t,i){var n,r,o,c=new g.MetricDetail;return c.sMetricName=e.sMetricName,c.iTS=t,e.vDimension&&e.vDimension.reprot_time&&(c.iTS=1e3*e.vDimension.reprot_time),function(e,t){if(e)for(var i in e){var n=new g.Field;n.sName=i,n.fValue=e[i],t.push(n)}}(e.vField,c.vFiled.value),function(e,t,i){var n="";s.h5player&&s.h5player.getSdkTestConfig&&(n=s.h5player.getSdkTestConfig());var r={};if(i&&i.notCommonDim)Object.assign(r,e);else{var o=i&&i.place?i.place:1;r={anchoruid:s.presenterUid,line:s.videoLine,coderate:s.getTrueBitRate(),coderatebps:1e3*s.getTrueBitRate(),gameid:s.gameId,p2p:s.isP2pPlayIng?1:0,appid:u&&!d.online?s.vAppidTest:s.vAppid,anonymousuid:s.anonymousUid,autobirate:s.isAutoBitrate,place:o,sdkcommonab:n,oexp:s.mpExperiment},a&&a.browser&&(r.browser_name=a.browser.name,r.browser_version=a.browser.version),S&&b&&(r.gzipratio=b),Object.assign(r,Y(),e)}z(r,t)}(e.vDimension,c.vDimension.value,i),n=e.vExLog,r=c.vExLog.value,o=Y(),Object.assign(o,n),z(o,r),c}function z(e,t){for(var i in e){var n=new g.Dimension;n.sName=i,n.sValue=e[i],t.push(n)}}function Y(){var e="",t="";if(s.streamInfo){var i=(s.isP2pPlayIng?s.streamInfo.sP2pUrl:s.streamInfo.sFlvUrl).match(/\/\/(.+?)\//i);e=i&&i.length>1?i[1]:"",t=s.streamInfo.sStreamName}return""==e&&(e="cdndomain"),""==t&&(t="stream"),{cdndomain:e,stream:t}}t.addListener("100000",(function(e){s.isGodLiePlay||(clearTimeout(W),W=setTimeout(X,1e3))}));var $=i("G/j0");var J=[];function K(e){J.push(e)}function Z(e){var t=J.indexOf(e);-1!=t&&J.splice(t,1)}function X(){var e=new g.GetStreamInfoByRoomReq;e.tId.lUid=s.userId.lUid,e.tId.sGuid=s.userId.sGuid,e.tId.sHuYaUA=s.userId.sHuYaUA,e.tId.sCookie="testCookie",e.tId.iAppid=u&&!d.online?s.vAppidTest:s.vAppid,e.sRoomId=s.presenterUid,t.sendWup2("mediaui","getStreamInfoByRoom",e,Q,null,-1,!0)}function Q(e){var t=e.tStreamInfoPack;s.vplayer.setStreamInfoByRoom(t)}function ee(){var e=new g.GetMediaAuthInfoReq;e.tId=s.userId,t.sendWup2("liveui","getMediaAuthInfo",e,te,null,-1,!0)}function te(e){var t=e.sToken;e={token:t=p.unescapeHTML(t),roomid:s.presenterUid};h.log("loginMedia",e),s.vplayer.loginMedia(e)}this.reqTokenInfo=O,this.reqBitRate=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=parseInt(e),s.curBitRate=e,O(),t&&(p.setCookie("videoBitRate",e,365,".huya.com"),s.bitRateInCookie=parseInt(e),localStorage.isAutoBitRate=s.isAutoBitrate?1:0)},this.registerGroup=function(e,i){var r=new g.WSRegisterGroupReq;r.vGroupId.value.push(e),t.sendRegisterGroup(r,i),K(e),J=n(new Set(J))},this.unRegisterGroup=function(e,i){var n=new g.WSUnRegisterGroupReq;n.vGroupId.value.push(e),t.sendUnRegisterGroup(n,i),Z(e)},this.registerGroupList=function(e){var i=new g.WSRegisterGroupReq;e.forEach((function(e){i.vGroupId.value.push(e),K(e)})),t.sendRegisterGroup(i),J=n(new Set(J))},this.unRegisterGroupList=function(e){var i=new g.WSUnRegisterGroupReq;e.forEach((function(e){i.vGroupId.value.push(e),Z(e)})),t.sendUnRegisterGroup(i)},this.sendEnterP2P=function(e){t.sendEnterP2P(e)},this.sendExitP2P=function(e){t.sendExitP2P(e)},this.getLivingInfo=U,this.getStreamInfoByStreamName=function(e){var i;if(s.isMakeFriend)return i={res:98,msg:"交友直播间不支持切直播流",data:{}},void e.reject(i);var n=new g.GetStreamInfoByStreamNameReq;n.tId.lUid=s.userId.lUid,n.tId.sGuid=s.userId.sGuid,n.tId.sHuYaUA=s.userId.sHuYaUA,n.tId.sCookie="testCookie",n.tId.iAppid=u?s.vAppidTest:s.vAppid;var r=e.streamName||"2158000539-2158000539-9268541739755372544-4316124534-10060-A-0-1";n.vStreamName.value.push(r),t.sendWup2("mediaui","getStreamInfoByStreamName",n,(function(t){var n=t.bcode;if(0!=n)e.reject({res:n,msg:"getStreamInfoByStreamName 请求失败错误码："+n});else{var a=t.tStreamInfoPack.mMediaStreamInfoPack.value;for(var o in a){var c=a[o].vMediaStreamInfo.value;if(o==r&&c.length>0)return l.fireEvent(l.HIDE_VR_UI),s.vplayer.setStreamInfoByStreamName(a[o]),s.isGodLiePlay=!0,i={res:0,msg:"切换播放成功",data:{}},void e.resolve(i)}e.reject({res:99,msg:"未找到streamName："+r+" 对应的流"})}}),null,-1,!0)}}},Pahd:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-vr-control">\n    <div class="vr-arrow vr-arrow-up"></div>\n    <div class="vr-arrow vr-arrow-down"></div>\n    <div class="vr-arrow vr-arrow-left"></div>\n    <div class="vr-arrow vr-arrow-right"></div>\n</div>\n',__filename="src/tpl/vr/vr-control.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-vr-control">\n    <div class="vr-arrow vr-arrow-up"></div>\n    <div class="vr-arrow vr-arrow-down"></div>\n    <div class="vr-arrow vr-arrow-left"></div>\n    <div class="vr-arrow vr-arrow-right"></div>\n</div>\n'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},PxVJ:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<div class=\"player-marquee-item\" id='player-marquee-<%=id%>'>\n    <i></i><h3></h3>\n</div>\n",__filename="src/tpl/notice/marquee.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-marquee-item" id=\'player-marquee-'),__append(escapeFn(id)),__append("'>\n    <i></i><h3></h3>\n</div>\n"),__line=4;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},Q8V2:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<li>\n    <div class="item-left-group">\n        <div class="item-name ellipsis"></div>\n        <div class="item-price-group">\n            <div class="icon"></div>\n            <span class="price"></span>\n        </div>\n    </div>\n    <div class="item-right-icon">\n        <img/>\n    </div>\n\n    <div class="item-slected">\n        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n            <path d="M0 14L14 0V10.8C14 12.5673 12.5673 14 10.8 14H0Z" fill="#FFD736"/>\n            <path d="M7 9.7999L8.75 11.5499L11.9 8.3999" stroke="#222222" stroke-width="1.2"/>\n        </svg>\n    </div>\n\n    <div class="item-locked">\n        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="15" viewBox="0 0 14 15" fill="none">\n            <circle cx="7" cy="7.5" r="7" fill="#999999" fill-opacity="0.8"/>\n            <path d="M9.25 5.29635H8.875V4.57677C8.875 3.58376 8.035 2.77783 7 2.77783C5.965 2.77783 5.125 3.58376 5.125 4.57677V5.29635H4.75C4.33563 5.29635 4 5.61836 4 6.01593V9.61381C4 10.0114 4.33563 10.3334 4.75 10.3334H9.25C9.66437 10.3334 10 10.0114 10 9.61381V6.01593C10 5.61836 9.66437 5.29635 9.25 5.29635ZM8.1625 5.29635H5.8375V4.57677C5.8375 3.96154 6.35875 3.46143 7 3.46143C7.64125 3.46143 8.1625 3.96154 8.1625 4.57677V5.29635Z" fill="white"/>\n        </svg>\n    </div>\n</li>',__filename="src/tpl/gift/series-gift-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<li>\n    <div class="item-left-group">\n        <div class="item-name ellipsis"></div>\n        <div class="item-price-group">\n            <div class="icon"></div>\n            <span class="price"></span>\n        </div>\n    </div>\n    <div class="item-right-icon">\n        <img/>\n    </div>\n\n    <div class="item-slected">\n        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n            <path d="M0 14L14 0V10.8C14 12.5673 12.5673 14 10.8 14H0Z" fill="#FFD736"/>\n            <path d="M7 9.7999L8.75 11.5499L11.9 8.3999" stroke="#222222" stroke-width="1.2"/>\n        </svg>\n    </div>\n\n    <div class="item-locked">\n        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="15" viewBox="0 0 14 15" fill="none">\n            <circle cx="7" cy="7.5" r="7" fill="#999999" fill-opacity="0.8"/>\n            <path d="M9.25 5.29635H8.875V4.57677C8.875 3.58376 8.035 2.77783 7 2.77783C5.965 2.77783 5.125 3.58376 5.125 4.57677V5.29635H4.75C4.33563 5.29635 4 5.61836 4 6.01593V9.61381C4 10.0114 4.33563 10.3334 4.75 10.3334H9.25C9.66437 10.3334 10 10.0114 10 9.61381V6.01593C10 5.61836 9.66437 5.29635 9.25 5.29635ZM8.1625 5.29635H5.8375V4.57677C5.8375 3.96154 6.35875 3.46143 7 3.46143C7.64125 3.46143 8.1625 3.96154 8.1625 4.57677V5.29635Z" fill="white"/>\n        </svg>\n    </div>\n</li>'),__line=26;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},QiFv:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="accompany-skill-item">\n    <img class="game-icon"></img>\n    <div class="game-name-order">\n       <div class="game-skill-mix">\n       \t\t<div class="game-name"></div>\n       \t\t<div class="skill-name"></div>\n       </div>\n       <div class="order-txt game-info-style">\n       \t <div class="order-txt-left"></div>\n       </div>\n    </div>\n    <span class="order-skill-price"></span>\n</div>',__filename="src/tpl/accompany/skill-list-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="accompany-skill-item">\n    <img class="game-icon"></img>\n    <div class="game-name-order">\n       <div class="game-skill-mix">\n       \t\t<div class="game-name"></div>\n       \t\t<div class="skill-name"></div>\n       </div>\n       <div class="order-txt game-info-style">\n       \t <div class="order-txt-left"></div>\n       </div>\n    </div>\n    <span class="order-skill-price"></span>\n</div>'),__line=13;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},R6zy:function(e,t,i){e.exports=function(e,t,n){var r=e.G,a=e.utils,o=e.logUtils,s=e.R,c=null;this.makeItem=function(t,l,u){c=t;var d=i("PGSi")(),p=$(d);if(1==l){p.addClass("more-item");var h=r.H5ROOT+"src/img/box/gift-icon.png";return p.find(".mall-item-icon").attr("src",h),p.find(".mall-item-name").text("更多道具"),p.find(".mall-item-price span").text("去兑换"),p.click((function(){var e={scene:2,anchor_uid:r.presenterUid,game_id:r.gameId};s.newHuyaReport({eid_desc:"点击积分更多兑换入口",eid:"click/exchange_point_more",prop:JSON.stringify(e)},"huya_web"),u&&u()})),p}var f=t.sItemImage,m=t.lUnitPrice,v=t.sItemName,g=t.sItemAttr,y=t.lItemId,_=t.sUserDiscountUrl,w=t.lOriginalPrice,S=t.iDiscount;p.find(".mall-item-icon").attr("src",f);var b=a.formatNumber(m);p.find(".mall-item-price span").text(b),p.find(".mall-item-name").text(v);var I={scene:2,anchor_uid:r.presenterUid,game_id:r.gameId,item_type:g,item_id:y,item_name:v,url:_,indexpos:n,cost:m,price:w,discount:S};return p.click((function(){o.addLog("buyItem",t),function(t){try{TT.event.emit("OPEN_EXCHANGE_ITEM",{lItemId:t.lItemId,sItemAttr:t.sItemAttr,scene:2,indexpos:n,onSuccess:function(){o.log("onMessage兑换成功")}}),e.box.hideBoxPanel()}catch(e){}}(t),s.newHuyaReport({eid_desc:"点击积分兑换卡片",eid:"click/exchange_point_product",prop:JSON.stringify(I)},"huya_web")})),p},this.pageShowReport=function(){var e=c,t=e.lUnitPrice,i=e.sItemName,a=e.sItemAttr,o=e.lItemId,l=e.sUserDiscountUrl,u=e.lOriginalPrice,d=e.iDiscount,p={scene:2,anchor_uid:r.presenterUid,game_id:r.gameId,item_type:a,item_id:o,item_name:i,url:l,indexpos:n,cost:t,price:u,discount:d};s.newHuyaReport({eid_desc:"曝光积分兑换卡",eid:"show/exchange_point_product",prop:JSON.stringify(p)},"huya_web")}}},RI6C:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="ab-qrcode-card">\n    <div class="qrcode-card-title">\n        <img class="icon"/>\n        <div class="title"></div>\n        <div class="ab-arrow">\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 3.99092V2.13477L9.65154 6.53631L10.1156 7.00035L9.65154 7.46439L5.25 11.8659V10.0098L8.25943 7.00035L5.25 3.99092Z" fill="#222222"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-qr-code-wrap">\n        <div class="ab-qr-code-container">\n            <div class="ab-qr-code"></div>\n        </div>\n        <div class="ab-qr-code-desc"></div>\n    </div>\n</div>',__filename="src/tpl/ad/ad-qrcode-card.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="ab-qrcode-card">\n    <div class="qrcode-card-title">\n        <img class="icon"/>\n        <div class="title"></div>\n        <div class="ab-arrow">\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 3.99092V2.13477L9.65154 6.53631L10.1156 7.00035L9.65154 7.46439L5.25 11.8659V10.0098L8.25943 7.00035L5.25 3.99092Z" fill="#222222"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-qr-code-wrap">\n        <div class="ab-qr-code-container">\n            <div class="ab-qr-code"></div>\n        </div>\n        <div class="ab-qr-code-desc"></div>\n    </div>\n</div>'),__line=17;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},RQUF:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-vip-tips" id="player-vip-tips">\n\t<div class="player-vip-bg"></div>\n\t<div class="player-vip-context">\n\t\t<div class="title">试看结束</div>\n\t\t<div class="content">开通会员观看完整直播</div>\n\t\t<div id="player-vip-btn-open" class="player-vip-btn">立即开通</div>\n\t\t<div id="player-vip-btn-login" class="player-vip-btn">去登录</div>\n\t</div>\n</div>\n',__filename="src/tpl/vip/vip-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-vip-tips" id="player-vip-tips">\n\t<div class="player-vip-bg"></div>\n\t<div class="player-vip-context">\n\t\t<div class="title">试看结束</div>\n\t\t<div class="content">开通会员观看完整直播</div>\n\t\t<div id="player-vip-btn-open" class="player-vip-btn">立即开通</div>\n\t\t<div id="player-vip-btn-login" class="player-vip-btn">去登录</div>\n\t</div>\n</div>\n'),__line=10;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},Rh0q:function(e,t,i){e.exports=function(e,t){var n,r,a=e.utils,o=e.Console,s=100,c=100,l=!1,u="",d=0,p=5e3,h=!1,f=null,m=null,v=t.adReport,g={};function y(){v.reportClose(m,g),clearTimeout(d),n&&n.hide(),l=!1}function _(){h=!0,f.show()}function w(){v.reportClick(m,g),u&&window.open(u)}function S(){if(l){var e=$("#player-video").width(),t=$("#player-video").height(),i=c*t/r,a=i*s/c;n.css({width:a,height:i,top:.944*t-i,left:.0299*e})}}$("#player-wrap").resize(S),this.adStateChange=function(e){var t=$("#huya-ab-fixed");e?t.hide():t.show()},this.setData=function(t){if(t&&t.ads&&!(t.ads.value.length<1)){var b=t.ads.value;clearTimeout(d),d=setTimeout(_,p),1334,r=750,s=120,c=150,function(t){var r=null,s=t.imageUrl,c=t.sdkConf;m=a.unescapeHTML(c),g=e.huyaAD.setADEnv(t,g);try{var d=JSON.parse(m)}catch(e){return void o.log("creatAd parse sdkConf error")}u=d&&d.landingUrl?d.landingUrl:"";var p=null;s&&(r=i("8hAE")(),(n=$(r)).addClass("ab-fixed-style"),p=n.find("#banner-ab"),s=s.replace("http:","https:"),p.attr("src",s),n.find(".ab-default-bg").hide()),p.click(w),(f=n.find(".ab-close-btn")).click(y),p.css("pointer-events",u?"auto":"none"),h?f.show():f.hide(),l=!0,n.appendTo("#huya-ab-fixed"),n.show(),v.reportPageView(m,g)}(b[0]),S()}},this.clickAD=w}},Rm6e:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<ul>\n    <%\n\n\tfor(var i=0,len=_list.length; i<len; i++){\n\t\tvar text = _list[i];\n\t%>\n        <li index=\'<%=_idx[i]%>\'>\n            <i></i><%=text%>\n        </li>\n    <%}%>\n</ul>\n\n<p>请描述你遇到的问题：</p>\n<textarea wrap="virtual" spellcheck="false" placeholder="请描述你遇到的问题，方便我们快速定位。"></textarea>\n\n<p>你的QQ号是：</p>\n<input type="tel" placeholder="以便我们为你提供更好的直播体验。"/>\n\n<button id="feedback-submit">提交反馈</button> \n\n<form name="feedback-form" id="feedback-form">\n  <input type="text" name="nyy" id="feeback-nyy" >\n  <input type="text" name="fbl" id="feeback-log">\n</form>\n\n<p id="feedback-tip"></p>\n',__filename="src/tpl/others/feedback.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append("<ul>\n    "),__line=2;for(var i=0,len=_list.length;i<len;i++){var text=_list[i];__line=6,__append("\n        <li index='"),__line=7,__append(escapeFn(_idx[i])),__append("'>\n            <i></i>"),__line=8,__append(escapeFn(text)),__append("\n        </li>\n    "),__line=10}__append('\n</ul>\n\n<p>请描述你遇到的问题：</p>\n<textarea wrap="virtual" spellcheck="false" placeholder="请描述你遇到的问题，方便我们快速定位。"></textarea>\n\n<p>你的QQ号是：</p>\n<input type="tel" placeholder="以便我们为你提供更好的直播体验。"/>\n\n<button id="feedback-submit">提交反馈</button> \n\n<form name="feedback-form" id="feedback-form">\n  <input type="text" name="nyy" id="feeback-nyy" >\n  <input type="text" name="fbl" id="feeback-log">\n</form>\n\n<p id="feedback-tip"></p>\n'),__line=27}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},RnZD:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-danmu-egg-banner">\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <h3></h3>\n</div>',__filename="src/tpl/danmu/danmu-egg-banner.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-danmu-egg-banner">\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <h3></h3>\n</div>'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},RsDo:function(e,t){e.exports=function(e){var t=e.G,i=e.utils,n=e.ENV,r=e.taf,a=e.R,o=e.alert,s=r.HUYA,c="",l=null,u=null;this.showFansClip=function(){u&&u()},this.show=function(){l&&l.show()},this.hide=function(){l&&l.hide()},this.init=function(){t.isSecret||function(){var r=new s.CheckFansVideoCutSwitchReq;r.tId=t.userId,r.lPid=t.presenterUid,e.sendWupNew("leafui","checkFansVideoCutEntrance",r,s.CheckFansVideoCutSwitchRsp).then((function(r){var d=r.iShowEntrance,p=r.sCutAction;1==d&&p&&(c=p,l=$('<div id="player-fans-clip-btn" class="player-top-right-btn"><i></i><span>视频分享</span></div>'),$("#player-pc-watch-btn").before(l),l.click((function(){if(a.newHuyaReport({eid_desc:"用户/点击/粉丝剪辑入口",eid:"usr/click/fanscut-icon",prop:JSON.stringify({uid:t.yyuid,roomid:t.roomId})},"huya_web"),t.isLogin)if(c){var i=new s.ActIssueItem;i.tWebCfg.iIconPage=2,i.tWebCfg.iPos=5,i.tWebCfg.sNativeUrl=c,i.tWebCfg.iHeight=534,i.tWebCfg.iWidth=535,e.trigger("clickDIYActivityIcon",i.tWebCfg,i)}else o.show({msg:"功能暂未开放，请稍后再试",type:3});else e.popLogin()})),u=i.hoverDisplay(l,(function(){return!t.hasVideoPlay()||t.isReplay||n.isSimple||t.isOBRoom}),1e3),a.newHuyaReport({eid_desc:"系统/曝光/粉丝剪辑入口",eid:"sys/pageshow/fanscut-icon",prop:JSON.stringify({uid:t.yyuid,roomid:t.roomId})},"huya_web"))}))}()}}},Rx7X:function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}String.prototype.format=function(e){var t=arguments.length;if(0==t)return this;var n=this;if(1==t&&"object"==i(e)){for(var r in e)if(null!=e[r]){var a=new RegExp("\\{"+r+"\\}","g");n=n.replace(a,e[r])}}else for(var o=0;o<t;o++)if(null!=arguments[o]){a=new RegExp("\\{"+o+"\\}","g");n=n.replace(a,arguments[o])}return n}},Ryyc:function(e,t,i){e.exports=function(e,t){var n=t.G,r=t.Event,a=t.utils,o=t.Console,s=null,c=100,l=!1,u=0,d=i("5aV2"),p=null;function h(){t.showPlayTip("flac-open")}function f(){}function m(e,t){r.fireEvent(r.AUTO_FEEDBACK)}function v(e,t){r.fireEvent(r.META_DATA_UPDATE,t)}function g(e,t){r.fireEvent(r.MAKE_FRIEND_AUDIO_SOUND,t)}function y(e,t){o.log(e,t),r.fireEvent(r.NEED_UPDATE_M3U8)}function _(e,t){r.fireEvent(r.PLAYBACK_UPDATE,t)}function w(e,t){r.fireEvent(r.PLAYBACK_M3U8_UPDATED,t)}function S(e,t){o.log(e,"onPlayBackDifCdn"),r.fireEvent(r.PLAYBACK_DIF_CDN,t)}window.stopVideo=function(){n.h5player&&n.h5player.stop()};var b=0,I=0,E=0;function T(){clearTimeout(b),b=setTimeout((function(){if(p.add((new Date).getTime()),p.isOutTimes()&&E<5)return console.warn("超过次数重新拉流 getLivingInfo"),t.getLivingInfo(),p.reset(),void(5==++E&&setTimeout((function(){E=0}),6e4));e.reqTokenInfo(!0),I<3?I++:I=0}),1e3*I)}function k(e){o.log("------ [i] stop from "+e),n.isPlaying=!1,n.vplayer.stop()}function C(){n.isPause=!0,k("pause"),t.showPlayTip("pause"),t.setDanmuVisible(!1),n.vplayer.setVideoState(1005)}function x(){l=!1}function A(i){if(1!=n.paymentStatus&&i!=n.videoLine&&!n.isPip)if(n.matchReplayStatus)r.fireEvent(r.SHOW_COMMON_TOAST,"返回直播模式后才能切线路哦");else{if(n.isStartShield=!1,n.pullStreamFrom=2,r.fireEvent(r.CLEAR_VIDEO_REPORT),n.vplayer.setVRPort(),t.turnPlayButtonOn(),n.videoLine=i,a.setCookie("videoLine",i,365,".huya.com"),!n.isLogin){var o=n.getBitRateList(),s=o[o.length-1];n.curBitRate=s.iBitRate}k("switchLine "+i),function(e){if(!n.livingInfo)return;var t=[];n.livingInfo.vMediaStreamInfo?t=n.livingInfo.vMediaStreamInfo.value:n.livingInfo.tNotice&&(t=n.livingInfo.tNotice.vStreamInfo.value);for(var i=0,r=t.length;i<r;i++){var a=t[i];if(a.iLineIndex==e){n.streamInfo=a;break}}}(i),e.reqTokenInfo();var c=n.getCurBitRate();t.setBitRateList({list:n.getBitRateList(),default:c}),r.fireEvent("doSwitchLine")}}Object.defineProperties(e,{volume:{get:function(){return c},set:function(e){e=Math.min(e,100),e=Math.max(e,0),c=e,n.vplayer&&n.vplayer.setVolume(.01*e)}}}),this.init=function(e){(s=e.target)||console.warn("%cvideo container undefined.","font-size:xx-large"),s=$(s),r.addEvent(r.NEW_VIDEO,x),r.addEvent(r.SWITCH_LINE,A),r.addEvent(r.PLAY_AGAIN,T),r.addEvent(r.PAUSE_VIDEO,C),n.h5player&&(n.h5player.on(H5Player.Events.FLAC_AUDIO_START,h),n.h5player.on(H5Player.Events.FLAC_AUDIO_ERROR,f),n.h5player.on(H5Player.Events.P2P_REPORT,m),n.h5player.on(H5Player.Events.METADATA,v),n.h5player.on(H5Player.Events.AUDIO_SOUND,g),n.h5player.on(H5Player.Events.NEED_UPDATE_M3U8,y),n.h5player.on(H5Player.Events.PLAYBACK_UPDATE,_),n.h5player.on(H5Player.Events.PLAYBACK_M3U8_UPDATED,w),n.h5player.on(H5Player.Events.PLAYBACK_DIF_CDN,S)),p=new d(6e4,6)},this.play=function(){n.vplayer.showLoading(),n.vplayer.play(),n.isShowDanmu&&t.setDanmuVisible(!0)},this.pause=C,this.stopVideo=k,this.refresh=function(){if(l)return!1;var t=Date.now();return!(t-u<3e3)&&(u=t,l=!0,k("refresh"),e.reqTokenInfo(!0),!0)},this.isLowestBitRate=function(){var e=n.getBitRateList(),t=e[e.length-1],i=n.getCurBitRate();return t.iBitRate==i},this.getSDKLog=function(){return n.vplayer?n.vplayer.getSDKLog():""},this.getMetrics=function(){return n.vplayer?n.vplayer.getMetrics():{}},this.getCurrentTime=function(){return n.vplayer.getCurrentTime()}}},S6dh:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="pre-ab-wrap">\n    <div class="bg-img"></div>\n    <div class="bg-cover"></div>\n    <div class="ab-content"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-skip-group">\n        <div class="ab-skip">跳过</div>\n        <div class="negative-feedBack-tip">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="6" viewBox="0 0 12 6" fill="none">\n                <path d="M12 6L0 6L6 0L12 6Z" fill="#333333"/>\n            </svg>\n        </div>\n   </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>\n',__filename="src/tpl/ad/pre-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="pre-ab-wrap">\n    <div class="bg-img"></div>\n    <div class="bg-cover"></div>\n    <div class="ab-content"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-skip-group">\n        <div class="ab-skip">跳过</div>\n        <div class="negative-feedBack-tip">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="6" viewBox="0 0 12 6" fill="none">\n                <path d="M12 6L0 6L6 0L12 6Z" fill="#333333"/>\n            </svg>\n        </div>\n   </div>\n    <div class="ab-common-details-btn details-btn">       \n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n    </div>\n</div>\n'),__line=25;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},S6kV:function(e,t,i){var n,r,a;e.exports=(a=i("Ib8C"),i("OLod"),a.mode.OFB=(n=a.lib.BlockCipherMode.extend(),r=n.Encryptor=n.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,a=this._keystream;r&&(a=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(a,0);for(var o=0;o<n;o++)e[t+o]^=a[o]}}),n.Decryptor=r,n),a.mode.OFB)},SJG4:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="video-ai-caption" id="video-ai-caption-main">\n    <div class="caption-context"></div>\n</div>\n<div id="video-ai-caption-effect">\n    <div class="caption-context"></div>\n</div>\n',__filename="src/tpl/ai/ai-caption.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="video-ai-caption" id="video-ai-caption-main">\n    <div class="caption-context"></div>\n</div>\n<div id="video-ai-caption-effect">\n    <div class="caption-context"></div>\n</div>\n'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},SRrC:function(e,t,i){e.exports=function(e,t){var n=e.taf.HUYA,r=e.G,a=e.Event,o=e.R,s=e.ENV,c=e.ISDEBUG,l=(e.utils,[]),u=i("yfqf"),d=i("ScJi");function p(){var t=new n.BannerResourceListReq;t.tUserId=r.userId,t.iTerminalType=6,e.sendWup2("revenueui","getBannerResourceList",t,h)}function h(e){l=e.vBannerRsrc.value}function f(e){var t=e.iBannerType,i=e.vArg.value;1==t&&function(e){var t=e[0],i=e[1],n={};n.content=t,n.color=i||"#F93";a.fireEvent(a.SHOW_MARQUEE,n)}(i)}function m(e){if(!r.isShieldingEffect){var n=e.lBannerId;if(-1==r.questionBannerIdArr.indexOf(n)){var a=v(n);""!=a&&u.getActivityData((function(n){var r={},a=[];for(var l in n.imgArr){var u=n.imgArr[l].img;a.push(u)}var p=t.newId(),h=new d({targetID:"player-banner-activity-"+p,framesUrl:a,width:720,height:140,loop:!0});h.play(),r.frameAni=h;var f=i("ziUG")({id:p,content:""});r.bannerType="activity",r.actionType="fadeOut";for(var m=n.items,v=m.length,g=e.mParam.value,y=$(f).data("data",r),_=0;_<v;_++){var w=$(m[_]);if("TextBlock"==w.attr("type")){var S=$("<span></span>"),b=w.attr("content");if("@"==b.substr(0,1)){var I=b.substr(1);b=g[I]}var E=w.attr("fontsize"),T=w.attr("foreground"),k=w.attr("maxwidth");if(T){var C=T.split("");9===C.length&&(T=(C=C.concat(C.splice(1,2))).join(""))}S.css({"font-size":"".concat(E,"px"),color:T}),k&&S.css({"max-width":"".concat(k,"px")}),S.text(b),y.find(".player-banner-text").append(S)}}var x=e.tChInfo.lYYId,A=e.tChInfo.iRoomId;(x&&x+""!=s.pyyid+""||A&&A+""!=s.profileRoom+"")&&(y.click((function(){var e="//www.huya.com/";c&&(e="//test-www.huya.com/"),e+=A&&A>0?A:"yy/"+x,window.open(e),o.huyuReport("click/zhibo/huodonghengfu")})),y.css({"pointer-events":"auto",cursor:"pointer"})),t.addBanner(y)}),a)}}}function v(e){for(var t in l){var i=l[t],n=i.lBannerId,r=i.tBase.sUrl;if(n==e)return r}return""}e.addTafListener("20180710",f),e.addTafListener("6291",m),r.isUserInfoInited()?p():a.addEvent(a.USER_INFO_INITED,p),window.testBannerActivity=function(e){var n=v(e);""!=n&&u.getActivityData((function(e){var n={},r=[];for(var a in e.imgArr){var o=e.imgArr[a].img;r.push(o)}var s=t.newId(),c=new d({targetID:"player-banner-activity-"+s,framesUrl:r,width:720,height:140,loop:!0});c.play(),n.frameAni=c;var l=i("ziUG")({id:s,content:""});n.bannerType="activity",n.actionType="fadeOut";for(var u=e.items,p=u.length,h={text1:"主播一二三四五",sAnchorNickName:"z主播名字",iHour:"7",sUserNickName:"用户名的连名字",text2:"奖励一二三四五六七八九十",sUidNickName:"aaaa",sPidNickName:"xxxxxx",sUserText:"kkkkkk"},f=$(l).data("data",n),m=0;m<p;m++){var v=$(u[m]);if("TextBlock"==v.attr("type")){var g=$("<span></span>"),y=v.attr("content");if("@"==y.substr(0,1)){var _=y.substr(1);y=h[_]}var w=v.attr("fontsize"),S=v.attr("foreground"),b=v.attr("maxwidth");if(S){var I=S.split("");9===I.length&&(S=(I=I.concat(I.splice(1,2))).join(""))}g.css({"font-size":"".concat(w,"px"),color:S}),b&&g.css({"max-width":"".concat(b,"px")}),g.text(y),f.find(".player-banner-text").append(g)}}t.addBanner(f)}),n)}}},SSaa:function(e,t){e.exports=function(){var e=0,t=0,i=0;function n(){if(window.localStorage){var n=null;localStorage.statInfo?((n=JSON.parse(localStorage.statInfo)).totalCnt+=e,n.sucCnt+=t,n.failCnt+=i):n={time:Date.now(),totalCnt:e,sucCnt:t,failCnt:i},localStorage.statInfo=JSON.stringify(n),e=0,t=0,i=0}}this.statTafReport=function(){e++,n()},this.statTafReportSuc=function(){t++,n()},this.statTafReportFail=function(){i++,n()}}},ScJi:function(e,t){e.exports=function(e){var t,n,r=0,a=0,o=0,s=0,c={targetID:null,framesUrl:[],height:300,width:300,onStart:null,onComplete:null,loop:!1,frequency:8,needFindImg:!0,target:null};if(e)for(i in e)c[i]=e[i];function l(e){if(3===a)return $.isFunction(c.onComplete)&&c.onComplete(),!1;var i=!1;if(void 0===t){t=e,n=0;var u=0;i=!0}else{(u=parseInt((e-t+n)/(1e3/c.frequency)))>0&&(o+=u,i=!0,n=(e-t+n)%(1e3/c.frequency),t=e)}i&&o<s&&(c.target?$(c.target).attr("src",c.framesUrl[o]):c.needFindImg?$("#"+c.targetID).find("img").attr("src",c.framesUrl[o]):$("#"+c.targetID).attr("src",c.framesUrl[o])),o<s?r=window.requestAnimationFrame(l):!0===c.loop?(o=0,t=void 0,r=window.requestAnimationFrame(l)):(a=3,$.isFunction(c.onComplete)&&c.onComplete())}!function(){if(!c.framesUrl[0])return;c.target?$(c.target).attr("src",c.framesUrl[0]):c.needFindImg?$("#"+c.targetID).find("img").attr("src",c.framesUrl[0]):$("#"+c.targetID).attr("src",c.framesUrl[0])}(),this.play=function(e){o=o||0,s=c.framesUrl.length,e&&(o=parseInt(Math.random()*s)),t=void 0,a=2,r=window.requestAnimationFrame(l)},this.clear=function(){a=3,window.cancelAnimationFrame(r),c&&(c.target?$(c.target).attr("src",""):c.needFindImg?$("#"+c.targetID).find("img").attr("src",""):$("#"+c.targetID).attr("src",""),c.framesUrl=null),c=null}}},ShZB:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-nobel-open"></div>\n<div id="player-left-head">\n    <div id="player-check-room">\n        <ul></ul>\n    </div>\n     <div id="player-link-mic">\n         <ul></ul>\n     </div>\n    <div id="player-multi-pk">\n         <ul></ul>\n     </div>\n</div>\n<div id="player-pay-room-wrap"></div>\n<div id="player-ext-wrap"></div>\n<div id="player-resource-wrap"></div>\n<div id="huya-ab-fixed"></div>\n<div id="huya-ab"></div>',__filename="src/tpl/ui-bot-group.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-nobel-open"></div>\n<div id="player-left-head">\n    <div id="player-check-room">\n        <ul></ul>\n    </div>\n     <div id="player-link-mic">\n         <ul></ul>\n     </div>\n    <div id="player-multi-pk">\n         <ul></ul>\n     </div>\n</div>\n<div id="player-pay-room-wrap"></div>\n<div id="player-ext-wrap"></div>\n<div id="player-resource-wrap"></div>\n<div id="huya-ab-fixed"></div>\n<div id="huya-ab"></div>'),__line=17;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},T5u3:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="replay-forenotice" class="recommend-live-forenotice">\n     <p></p>\n</div>',__filename="src/tpl/others/replay-forenotice.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="replay-forenotice" class="recommend-live-forenotice">\n     <p></p>\n</div>'),__line=3;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},TIXe:function(e,t,i){"use strict";i.r(t);var n={parse_version:function(e){var t=0,i=e.split(/\./);return i.length>0&&i[0]>255?t=Number(i[0]):i.length>0&&(t+=i.length>0?Number(i[0])%256<<16:0,t+=i.length>1?Number(i[1])%256<<8:0,t+=i.length>2?Number(i[2])%256<<0:0),t},parse:function(e){var t={platform:"",version:0,version_str:"",channel:""},i=e.split(/&/);return i.length>=1&&(t.platform=i[0]),i.length>=2&&(t.version_str=i[1],t.version=n.parse_version(t.version_str)),i.length>=3&&(t.channel=i[2]),t}},r={create:function(e){var t=Object.create(r);t.platform={};for(var i=e.split(/\|/),a=0;a<i.length;a++){var o={},s=i[a].split(/:|&/);if(0!=s.length){for(var c=new Array,l=s[0].split(/,/),u=0;u<l.length;u++)l[u].startsWith("!")?c.push({name:l[u].substr(1),reject:!0}):c.push({name:l[u],reject:!1});if(s.length>1){for(var d=new Array,p=s[1].split(/,/),h=0;h<p.length;h++){var f={};if("*"==p[h])f.min=-1,f.max=-1;else{var m=p[h].split(/~|-/);if(1==m.length)f.min=n.parse_version(m[0]),f.max=f.min;else{if(!(m.length>1))continue;f.min=m[0].length>0?n.parse_version(m[0]):-1,f.max=m[1].length>0?n.parse_version(m[1]):-1}}d.push(f)}o.version=d}if(s.length>2){var v={},g=s[2].split(/,/);if(0==g.length)v["*"]=1;else for(var y=0;y<g.length;y++)v[g[y]]=1;o.channel=v}else o.channel={"*":1};for(u=0;u<c.length;u++)t.platform.hasOwnProperty([c[u].name])||(t.platform[c[u].name]=new Array),t.platform[c[u].name].push({reject:c[u].reject,version:o.version,channel:o.channel})}}return t},match:function(e){var t=function(e,t,i){if(e.platform.hasOwnProperty(t))for(var n=e.platform[t],r=0;r<n.length;r++){var a=n[r];if(a.channel.hasOwnProperty(i.channel)||a.channel.hasOwnProperty("*"))for(var o=0;o<a.version.length;o++){var s=a.version[o],c=-1==s.min||s.min<=i.version,l=-1==s.max||s.max>=i.version;if(c&&l)return 1==a.reject?-1:1}}return 0},i=t(this,e.platform,e);return 0!=i?i:t(this,"*",e)}};t.default=function(e,t){if(null==t||""==t)return 1;var i=n.parse(e);return r.create(t).match(i)}},TTvI:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="new-reward-ab-container">\n    <div class="bg"></div>\n    <div class="video-container"></div>\n</div>',__filename="src/tpl/ad/new-reward-wrap.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="new-reward-ab-container">\n    <div class="bg"></div>\n    <div class="video-container"></div>\n</div>'),__line=4;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},TUUx:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="video-data">\n\t<p class="head">视频参数</p>\n\t<p>\n\t\t<span>起始时间</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>播放器版本</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>视频分辨率</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col3">\n\t\t<span>视频码率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>视频帧率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>视频编码</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\n\t<p class="col3">\n\t\t<span>视频延迟</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>实时速率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>当前线路</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n</div>\t\n<div class="mobile-data">\n\t<p class="head">设备参数（移动终端）</p>\n\t<p class="col2">\n\t\t<span>名称</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>网络状况</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>基带版本</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col2">\n\t\t<span>SDK版本</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>时区</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col2">\n\t\t<span>系统</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>版本号</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n</div>\n',__filename="src/tpl/others/video-info.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="video-data">\n\t<p class="head">视频参数</p>\n\t<p>\n\t\t<span>起始时间</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>播放器版本</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>视频分辨率</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col3">\n\t\t<span>视频码率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>视频帧率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>视频编码</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\n\t<p class="col3">\n\t\t<span>视频延迟</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>实时速率</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>当前线路</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n</div>\t\n<div class="mobile-data">\n\t<p class="head">设备参数（移动终端）</p>\n\t<p class="col2">\n\t\t<span>名称</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>网络状况</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p>\n\t\t<span>基带版本</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col2">\n\t\t<span>SDK版本</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>时区</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n\t<p class="col2">\n\t\t<span>系统</span>\n\t\t<em>数据获取中...</em>\n\t\t<span>版本号</span>\n\t\t<em>数据获取中...</em>\n\t</p>\n</div>\n'),__line=58;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},TVEE:function(e,t,i){var n,r,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return e.HmacSHA256},"object"==s(t)?e.exports=t=o(i("TdfZ"),i("7NV2"),i("BeMa")):(r=[i("TdfZ"),i("7NV2"),i("BeMa")],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))},TXSq:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-gift-left">\n    <div class="tv-icon">\n        <div class="tv-box">\n            <i></i>\n            <div class="tv-icon-word">\n                <p></p>\n            </div>\n            <div class="tv-tips">\n            </div>\n        </div>\n    </div>\n</div>\n<ul class="player-gift-right">\n    <li id="player-punch-btn">\n        <i></i>\n        <p>首充礼包</p>\n    </li>\n    <li id="player-recharge-btn">\n        <div id="player-recharge-click">\n            <i></i>\n            <div id="recharge-discount-icon"></div>\n            <div class="recharge-btn" id="recharge-btn"></div>\n            <p>充值</p>\n        </div>\n        <div class="player-recharge-tip">\n            <span class="recharge-now-btn">立即充值</span>\n        </div>\n    </li>\n\n    <li id="player-package-btn">\n        <i></i>\n        <p>包裹</p>\n    </li>\n\n    <li id="player-guard-btn">\n        <i></i>\n        <p>守护</p>\n        <img/>\n    </li>\n\n    <li id="player-noble-btn">\n        <i></i>\n        <p>贵族</p>\n    </li>\n</ul>\n<div class="player-face" id="player-face">\n    <div class="player-face-arrow">\n        <i></i>\n    </div>\n</div>\n<div id="week-star-btn" class="week-star-0" title="周星"></div>',__filename="src/tpl/gift/gift-wrap.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-gift-left">\n    <div class="tv-icon">\n        <div class="tv-box">\n            <i></i>\n            <div class="tv-icon-word">\n                <p></p>\n            </div>\n            <div class="tv-tips">\n            </div>\n        </div>\n    </div>\n</div>\n<ul class="player-gift-right">\n    <li id="player-punch-btn">\n        <i></i>\n        <p>首充礼包</p>\n    </li>\n    <li id="player-recharge-btn">\n        <div id="player-recharge-click">\n            <i></i>\n            <div id="recharge-discount-icon"></div>\n            <div class="recharge-btn" id="recharge-btn"></div>\n            <p>充值</p>\n        </div>\n        <div class="player-recharge-tip">\n            <span class="recharge-now-btn">立即充值</span>\n        </div>\n    </li>\n\n    <li id="player-package-btn">\n        <i></i>\n        <p>包裹</p>\n    </li>\n\n    <li id="player-guard-btn">\n        <i></i>\n        <p>守护</p>\n        <img/>\n    </li>\n\n    <li id="player-noble-btn">\n        <i></i>\n        <p>贵族</p>\n    </li>\n</ul>\n<div class="player-face" id="player-face">\n    <div class="player-face-arrow">\n        <i></i>\n    </div>\n</div>\n<div id="week-star-btn" class="week-star-0" title="周星"></div>'),__line=51;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},TaSU:function(e,t,i){e.exports=function(e,t,n){var r,a,o,s,c,l,u,d,p,h=t.G,f=(t.Event,t.R,t.utils),m="",v=-1,g=-1,y=-1,_="",w="",S=!1,b=n,I=null,E="",T=null;p=i("hb3c")(),c=$(p),1==b||3==b?c.appendTo("#make-friend .make-friend-top-wrap"):c.appendTo("#make-friend .make-friend-radio-view"),c.click(C),l=c.find(".make-friend-seat-url-special"),u=c.find(".make-friend-source-url-special"),d=c.find("#make-friend-head-frame"),I=c.find(".wave-effect");var k=0;function C(){0!=g||r||e.showTips("下载小鹿APP，上麦和主播互动")}this.showWaveEffect=function(){S||a||s||(S=!0,I.show(),I.attr("src",E),clearTimeout(k),k=setTimeout((function(){S=!1,I.hide()}),2e3))},this.item=function(){return c},this.pos=function(){return v},this.uid=function(){return g},this.getData=function(){return T},this.setData=function(t){T=t,4==b&&v!=t.iPos&&(v=t.iPos,c.addClass("radio-pos-"+v)),v=t.iPos,a=t.iSilence,s=t.iMute,o=t.iGender,E=t.sRippleUrl||e.defalutWave,y!=t.iSeatTypeV2&&(y=t.iSeatTypeV2,d.removeClass(),2==y?d.addClass("jiedai"):1==y?d.addClass("laoban"):3==y?d.addClass("shouhu"):4==y&&d.addClass("gaojishouhu"));var i=t.mpContext.value,n=f.setLongString(t.sNick,6),p=i.super_fans||0;c.find(".make-friend-nick").css("color",p?"#FF4C66":"#FFF"),c.find(".make-friend-nick").text(n);var S=t.sCharm||0;S=f.countsTransform(S),c.find(".make-friend-charm span").text(S),c.find(".make-friend-charm").css("display",t.lUid?"block":"none"),c.find(".make-friend-charm").css("display",""!=t.sCharm?"block":"none");var I=t.sSeatUrl||"";I&&_!=I&&(_=I,l.attr("src",_)),l.css("display",""!=I?"block":"none");var k=t.sSourceUrl||"";k&&w!=k&&(w=k,u.attr("src",w)),u.css("display",""!=k?"block":"none"),d.css("display",""==k?"block":"none"),c.find(".make-friend-close-mic").css("display",t.lUid&&(a||s)?"block":"none"),c.css("cursor",t.iLocked||t.lUid?"default":"pointer"),g==t.lUid&&r==t.iLocked||(g=t.lUid,r=t.iLocked,c.removeClass("make-friend-item-noraml make-friend-item-lock make-friend-item-empty-special"),c.find(".reception-logo").hide(),c.find(".boss-txt").hide(),c.find(".guard-txt").hide(),c.find(".high-guard-txt").hide(),1==b?c.find(".reception-txt").text("接待"):3!=b&&4!=b||c.find(".reception-txt").text("主持"),0!=g?(c.addClass("make-friend-item-noraml"),o?c.find(".make-friend-head").css("border","2px solid #96caff"):c.find(".make-friend-head").css("border","2px solid #ffa5f0")):r?c.addClass("make-friend-item-lock"):c.addClass("make-friend-item-empty-special")),0==g&&(1==y?c.find(".boss-txt").show():2==y?c.find(".reception-logo").show():3==y?c.find(".guard-txt").show():4==y&&c.find(".high-guard-txt").show());var C=c.find(".make-friend-head img");g?(""==t.sAvatarUrl&&(t.sAvatarUrl=h.H5ROOT+"src/img/make-friend/default-head.png"),m!=t.sAvatarUrl&&(m=t.sAvatarUrl,C.attr("src",m)),C.show()):C.hide()}}},TdfJ:function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.Console,r=e.utils,a=e.logUtils,o=e.taf.HUYA,s=0,c="",l=0,u=0,d=0;function p(e){a.addLog("6294:"+JSON.stringify(e)),y(e)}function h(e){e.lOnTVId==s&&_(e)}function f(e){a.addLog("6297:"+JSON.stringify(e)),s&&e.lOnTVId==s&&($(".tv-tips").hide(),$(".tv-tips").removeClass("tv-new tv-reward"),I(!1),b())}function m(){$(".tv-tips").removeClass("tv-new tv-reward"),$(".tv-tips").hide(),e.trigger("clickTVIcon"),i.fireEvent(i.QUIT_FULL_SCREEN),localStorage.tvicon=c}function v(){var i=new o.OnTVUserReq;i.tUserId=t.userId,i.lPid=t.presenterUid,i.lTid=t.topsid,i.lSid=t.subsid,i.iSupportFlag=1,e.sendWup2("revenueui","getOnTVPanel",i,g)}function g(e){y(e)}function y(e){n.log("setTvPanel",e);var t=e.iState;e.tInfo.lOnTVId>0?s=e.tInfo.lOnTVId:e.tAward.lOnTVId>0&&(s=e.tAward.lOnTVId),b(),l=e.tInfo.tSettingInfo.iAwardMode,I(t>0);var i=$(".tv-tips");i.removeClass("tv-new tv-reward"),3==t?($(".tv-icon-word").text("已结束"),c=s+"reward",localStorage.tvicon!=s+"reward"&&(i.show(),i.addClass("tv-reward"))):1!=t&&2!=t||(c=s+"new",localStorage.tvicon!=s+"new"&&(i.show(),i.addClass("tv-new")),_(e.tInfo.tData)),function(e){var t,i=e.iIsDiy,n=e.tDiy.tPanel.sButtonIcon;n=(n=r.unescapeHTML(n)).replace("<ua>","web"),i&&n&&(t="url("+n+")",$(".tv-box").find("i").css("background",t))}(e)}function _(e){var t,i;3==l?(b(),t=e.iBarrageNum,i=t>1e4?(i=t/1e4).toFixed(1)+"万":t,t<1e5&&(i+="条"),$(".tv-icon-word").text(i)):0==u&&(d=1e3*e.iLeftTime+(new Date).getTime(),u=setInterval(w,1e3),w())}function w(){var t="",i=parseInt((d-(new Date).getTime())/1e3);if(i<=0){t="已结束";var n=$(".tv-tips");n.removeClass("tv-new tv-reward"),n.addClass("tv-reward"),n.show(),b()}else{var r=i%60;t=S(Math.floor(i/60))+":"+S(r)}$(".tv-icon-word").text(t),e.trigger("onTVTimer",i)}function S(e){return e<10?"0"+e:e+""}function b(){u>0&&(clearInterval(u),u=0)}function I(e){var t=$(".tv-icon");"block"==t.css("display")!=e&&(e?t.show():t.hide(),i.fireEvent(i.ACTIVITY_ICON_COUNT_UPDATE,{icon:t,priority:1001,key:"tv",value:e?1:0}))}$(".tv-icon").click(m),t.isUserInfoInited()?v():i.addEvent(i.USER_INFO_INITED,v),e.addTafListener("6294",p),e.addTafListener("6295",p),e.addTafListener("6296",h),e.addTafListener("6297",f)}},TdfZ:function(e,t,i){var n,r,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){var e=e||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),n={},r=n.lib={},a=r.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var o=i[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=o<<24-(n+a)%4*8}else for(a=0;a<r;a+=4)t[n+a>>>2]=i[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,n=[],r=function(t){t=t;var i=987654321,n=4294967295;return function(){var r=((i=36969*(65535&i)+(i>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=r(4294967296*(i||e.random()));i=987654071*s(),n.push(4294967296*s()|0)}return new o.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(i,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(i,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,a=this.blockSize,s=r/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,r);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(n,u);var d=n.splice(0,c);i.sigBytes-=l}return new o.init(d,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(r.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new p.HMAC.init(e,i).finalize(t)}}}),n.algo={});return n}(Math);return e},"object"==s(t)?e.exports=t=o():(r=[],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))},Tw3u:function(e,t,i){e.exports=function(e,t){var n,r=e.G,a=e.Event,o=e.R,s=(e.Console,e.taf.HUYA),c=null,l="",u=0,d=0,p=!1;function h(e){var t=e.iStatus;if(f(t),r.followList){var i=r.followList.add(r.yyuid,u,(function(){var e=i.target,t=1==i.state?1:0;1==t&&p&&(p=!1,a.fireEvent(a.SHOW_COMMON_TOAST,"关注成功，欢迎常回来看看")),e==u&&f(t)}));r.presenterUid!=u&&(1==t?i._on():i._off())}}function f(e){d=e,c&&(1==e?(c.find(".prr-subscribe").hide(),c.find(".prr-unsubscribe").show()):(c.find(".prr-subscribe").show(),c.find(".prr-unsubscribe").hide()))}n=i("vLVN")(),(c=$(n)).appendTo("#player-presenter-recommend ul"),setTimeout((function(){c.addClass("ppr-effect")}),300);var m=0;function v(){if(r.isLogin){if(r.followList){var e=Date.now();e-m<500||(m=e,0==d?(p=!0,r.followList.get(u).on(),o.newHuyaReport({eid_desc:"点击/直播间/主播推荐/订阅",eid:"click/room/zhubotuijian/follow",prop:JSON.stringify({pid:u}),uid:r.yyuid})):r.followList.get(u).off())}}else r.vplayerUI.popLogin()}function g(){l&&""!=l&&window.open(l),o.newHuyaReport({eid_desc:"点击/直播间/主播推荐/跳转",eid:"click/room/zhubotuijian/link",prop:JSON.stringify({pid:u}),uid:r.yyuid})}this.setData=function(i){var n=i.picUrl,a=i.nick,o=i.introduction,d=i.liveStatus;l=i.jumpUrl,u=i.uid,c.find("img").attr("src",n),c.find(".prr-nick").text(a),c.find(".prr-introduction").text(o),c.find(".prr-introduction").attr("title",o),c.find(".prr-living").click(g),c.find(".prr-head").click(g),c.find(".prr-btn").click(v),0==d&&(c.find(".prr-living").text("精彩瞬间回看"),c.find(".icon-living").remove()),r.isLogin&&function(){var i=new s.SubscribeStatusReq;i.tId=r.userId,i.tFrom.iType=1,i.tFrom.sKey=r.yyuid,i.tTo.iType=2,i.tTo.sKey=u,e.sendWup2("liveui","getSubscribeStatus",i,h,!0,t.getRequestId())}()},this.clear=function(){c&&(c.unbind(),c.remove()),c=null}}},Tx78:function(e,t,i){"use strict";i.r(t),i.d(t,"creatAdQrcodeCard",(function(){return r})),i.d(t,"creatSimpleAdQrcodeCard",(function(){return a}));var n=i("ZVwP").Ad_Brand,r=function(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=a.mode,l=a.qrcodeUrl,u=a.qrcodeTips,d=i("RI6C")(),p=$(d),h=r.brand,f=r.iconUrl;p.find(".qrcode-card-title img").attr("src",f),p.find(".qrcode-card-title .title").text(h||n);var m=e.huyaAD.createQrcode(140,l);p.find(".ab-qr-code-container .ab-qr-code").append(m),p.find(".ab-qr-code-desc").text(u),2==c&&p.addClass("ab-qrcode-card-style2");var v=!1,g=!1;p.on("animationend",(function(){v=!0,g&&p.addClass("qrcode-big-style")})),s&&t.hover((function(){g=!0,v&&p.addClass("qrcode-big-style")}),(function(){g=!1,v&&p.removeClass("qrcode-big-style")}));var y=o||"box-ab-qrcode-show";return p.css("animation","".concat(y,"  0.5s  2s 1  forwards")),p},a=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.qrcodeUrl,o=t.qrcodeTips,s=i("rIqo")(),c=$(s),l=e.huyaAD.createQrcode(n,a);return c.find(".ab-qr-code-container .ab-qr-code").append(l),1==r&&c.find(".ab-qr-code-desc").text(o),c}},U54Q:function(e,t){var i=[],n={lock:function(e,t){i.push(e),t||(t=500),setTimeout((function(){var t=i.indexOf(e);-1!=t&&i.splice(t,1)}),t)},isLock:function(e){return-1!=i.indexOf(e)}};e.exports=n},UKSv:function(e,t,i){e.exports=function(e,t){var n={},r=e.G,a=e.ISDEBUG,o=e.utils,s=e.R,c=e.taf.HUYA,l=i("ScJi"),u=i("yfqf"),d={},p=520;function h(e){if(!r.isShieldingEffect){var t=r.newPropDict[e.iItemType];if(t){var i=e.tNobleLevel.iNobleLevel;66==e.tNobleLevel.iAttrType&&(i=7);var n;n=t.vPropView.sPropsBannerText;var a,s={bannerType:"gift",actionType:"fadeOut",iItemType:e.iItemType,lSenderSid:e.lSenderSid,lSenderUid:e.lSenderUid,sSenderNick:e.sSenderNick,lPresenterUid:e.lPresenterUid,sPresenterNick:e.sPresenterNick,iItemCount:e.iItemCount,iItemGroup:e.iItemGroup,iItemCountByGroup:e.iItemCountByGroup,sPropsBannerText:n,iPropsType:t.iPropsType,iPropsTypeLevel:t.iPropsTypeLevel,sPropsName:t.sPropsName,nobleLev:i,iShowTime:e.iShowTime||8,lPresenterYY:e.lPresenterYY,iJumpType:e.iJumpType,iUpgradeLevel:e.iUpgradeLevel,lRoomId:e.lRoomId},c=8;e.iItemGroup>1&&(c=7),s.sSenderNick.length>c&&(s.sSenderNick=s.sSenderNick.substr(0,c)+"..."),s.sPresenterNick.length>c&&(s.sPresenterNick=s.sPresenterNick.substr(0,c)+"..."),s.sPresenterNick=o.xss(s.sPresenterNick),s.sSenderNick=o.xss(s.sSenderNick);var l=t.vWebSpecilInfo.value[0].vPropsIdentity.value[0];if(l&&(a=l.sPcBannerResource||""),7==s.nobleLev&&(l=t.vWebSpecilInfo.value[0].vPropsIdentityGod.value[0])&&(a=l.sPcBannerResource||""),a){var p=1==t.iPropsUpgradeType&&e.iUpgradeLevel>0;d[a]?f(s,d[a]):u.getData((function(e){d[a]=e,f(s,d[a])}),a,p)}}}}function f(e,n){var o=r.newPropDict[e.iItemType];if(o){e.iPropsUpgradeType=o.iPropsUpgradeType,e.iPropsUpgradeType>0&&(e.upgradePropKey="iItemType=".concat(e.iItemType,"lSenderUid=").concat(e.lSenderUid,"lPresenterUid=").concat(e.lPresenterUid,"iItemCount=").concat(e.iItemCount));var c=t.newId(),u=i("wmUL")({id:c,iItemType:e.iItemType,content:m(e)});if(n){var d=[];for(var h in n.imgArr){var f=n.imgArr[h].img;d.push(f)}var v=new l({targetID:"player-banner-gift-"+c,framesUrl:d,width:720,height:140,loop:!0});v.play(),e.frameAni=v}var g=$(u).data("data",e);1==e.iJumpType?(e.lPresenterUid!=r.presenterUid&&(g.css({"pointer-events":"auto",cursor:"pointer"}),g.click((function(){s.huyuReport("click/banner/",null,e.iItemType);var t="//www.huya.com/"+e.lRoomId;a&&(t="//test-www.huya.com/"+e.lRoomId),0==e.lRoomId&&(t="//www.huya.com/yy/"+e.lPresenterYY),window.open(t)}))),t.addBanner(g,1)):parseInt(e.lSenderUid)==r.yyuid?t.addBanner(g,1):t.addBanner(g);var y=g.find("p"),_=y.width();if(_>p){var w=p/_;y.css("transform","scale(".concat(w,",").concat(w,")"))}y.css("width","".concat(p,"px")),n&&(y.css({color:n.xml.color}),g.find("c1").css("color",n.xml.nickcolor))}}function m(e){var t="";if(e.nobleLev>0&&(t=(t="<em class='banner-noble-icon noble-icon-base noble-icon-{lev}'></em>").replace("{lev}",e.nobleLev)),e.sPropsBannerText)t=(t=(t+=e.sPropsBannerText).replace("{usernickname}","<c1>"+e.sSenderNick+"</c1>")).replace("{anchornickname}","<c1>"+e.sPresenterNick+"</c1>");else if(12==e.iItemType)t=(t=(t="<c1>{a}</c1> 在 <c1>{b}</c1> 的直播间开启了藏宝图！").replace("{a}",e.sSenderNick)).replace("{b}",e.sPresenterNick);else if(20269==e.iItemType)t=(t=(t="<c1>{a}</c1> 的虎牙一号 在 <c1>{b}</c1> 的直播间砸下空投").replace("{a}",e.sSenderNick)).replace("{b}",e.sPresenterNick);else if(20291==e.iItemType)t=(t=(t="<c1>{a}</c1> 在 <c1>{b}</c1> 的直播间投下能量箱").replace("{a}",e.sSenderNick)).replace("{b}",e.sPresenterNick);else{t=(t=(t+="<c1>{a}</c1> 在 <c1>{b}</c1> 的直播间送出 ").replace("{a}",e.sSenderNick)).replace("{b}",e.sPresenterNick);var i="";if(e.iItemGroup>1)i=(i=(i="<c1>{d}x{e}</c1> 组").replace("{d}",e.iItemCountByGroup)).replace("{e}",e.iItemGroup);else{var r=n[e.iItemType]||"个";i=(i=(i="<c1>{d}</c1> {e}").replace("{d}",e.iItemCount)).replace("{e}",r)}t+=i,t+=e.sPropsName}return t}n[20114]="把",n[20206]="支",n[20020]="台",r.tafSignal.on("uri:6502",h),window.testBannerGiftNew=function(e,t){var i=new c.SendItemNoticeWordBroadcastPacket;i.iItemType=e,i.iItemCount=666,i.lSenderSid="123456",i.lSenderUid="500139282",i.sSenderNick="用户昵称一二三四五六七八九十",i.lPresenterUid=r.presenterUid,i.sPresenterNick="主播昵称一二三六七八九十",i.iItemCountByGroup=520,i.iItemGroup=1,i.iDisplayInfo=4,i.iUpgradeLevel=parseInt(2*Math.random()),t&&(i.tNobleLevel.iAttrType=66),h(i)}}},UQ7f:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.Console;function a(e){if(!t.isShieldingEffect&&!t.isShieldingEffect){var n=e.sNick,r=e.iBadgeOldLevel,a=e.iBadgeNewLevel,o=e.lPid;if(t.presenterUid==o&&r!=a){var s=i("jYtM")(),c=$(s),l=$("#player-wrap").width(),u=c.find(".bg-center"),d="恭喜 <span>".concat(n,"</span> 成为主播 <span>LV").concat(a,"级粉丝</span>");c.find(".content").hide();var p=c.find(".level-up");p.css("display","flex"),p.find(".levelup-text").html(d),c.css({transition:"transform 10s linear",transform:"translateX("+l+"px)"}),$("#player-wrap").append(c);var h=p.width()+48,f={width:h-168};u.css(f),c.css({width:h});var m=c.width()+5;c.css({transform:"translateX("+-m+"px)"}),c.bind("transitionend webkitTransitionEnd",(function(){c.unbind(),c.remove()}))}}}function o(a){var o=a.lPid;t.presenterUid==o&&function(a){a.sPNick;var o=a.sPAvatarUrl,s=a.sContent,c=a.sButtonText,l=a.iActionType,u=a.sJumpUrl,d=a.mParam.value,p=i("jYtM")(),h=$(p);h.find(".btn").text(c);var f=t.makeHttpsUrl(o);h.find(".head").attr("src",f);var m=$("#player-wrap").width(),v=h.find(".bg-center"),g=s;if(6==l){var y=d.iItemId,_=d.iItemCount;g=g.replace("{iItemCount}",_);var w=t.newPropDict[y];if(!w)return void r.log("makeBanner itemInfo",w);var S=function(e){var i=e.vWebSpecilInfo.value[0].vPropsIdentity.value[0];if(i){var n=i.sPropsPic108||"";return(n=t.makeHttpsUrl(n)).split("&")[0]}return""}(w);if(!S)return void r.log("makeBanner url",S);g=g.replace("{iItemId}",'<img src="'.concat(S,'" />'))}h.find(".text").html(g),h.css({transition:"transform 10s linear",transform:"translateX("+m+"px)"}),$("#player-wrap").append(h);var b={width:h.find(".content").outerWidth()+40-168};v.css(b);var I=h.width()+5;h.css({transform:"translateX("+-I+"px)"}),h.bind("transitionend webkitTransitionEnd",(function(){h.unbind(),h.remove()})),h.click((function(){switch(l){case 2:n.fireEvent(n.HY_ACTION,{type:8});break;case 3:e.trigger("clickSuperFansRecharge");break;case 4:u&&window.open(u);break;case 6:n.fireEvent(n.GIVE_GIFT,{type:y,num:_,sSrcType:"fansgroup"})}}))}(a)}e.addTafListener("6710",a),e.addTafListener("6711",o)}},VSdI:function(e,t,n){e.exports=function(e){this.tongjiReady=b,this.huyuReport=E,this.newHuyaReport=function(e,i){var n=new Date;0==d&&(d=n.getTime());var r=n.getFullYear()+"",a=n.getMonth()+1;a<10&&(a="0"+a);var c=n.getDate();c<10&&(c="0"+c);var u=n.getHours();u<10&&(u="0"+u);var m=n.getMinutes();m<10&&(m="0"+m);var v=n.getSeconds();v<10&&(v="0"+v);var g=r+a+c+u+m+v,y=t.isKongZhong?l.getCookie("coop_rso"):o.rso,_={act:"/event",eid_desc:encodeURI(e.eid_desc),dur:n.getTime()-d,pro:i||"huya_flash",session_id:o.sessionid||h,dty:"live",mid:o.mid||p,ayyuid:t.presenterUid,yyuid:t.yyuid,anmos_uid:t.anonymousUid,rso:y,ive:"h5scene",sdk_ver:s,platform:"web",ati:g,ref:o.ref,game_id:o.gameId,roomid:o.profileRoom,scid:0,cid:o.chTopId+"/"+o.subChId,online_cnt:0,follow_cnt:0,replay:t.isReplay?1:0,watchVideo:t.hasVideo?1:0,furl:o.furl,curl:location.href,wyy:"",video_line:T(),liveid:t.liveid,cutc:Date.now(),sdver:1,sguid:t.getGuid()};e&&(_=$.extend({},_,e));if(!b.isReady||!t.yaInit)return void f.push(_);ya&&ya.reportProductEvent(_)},this.adHuyaReport=function(e,t){var n="https://e-stat.huya.com";c&&(n="http://test.e-stat.huya.com");n+=e,t.timestamp=(new Date).getTime(),t.nonce=function(e){e=e||4;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="";for(i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}(4),t=function(e){var t=[];for(var i in e){var n=i+"="+e[i];t.push(n)}t.sort();var r=t.join("&");return e._s=y(r,navigator.userAgent),e}(t);var r=k(n,t),a=new Image(1,1);a.onload=a.onerror=function(){a=null},a.src=r},this.init=function(){E("startup"),setTimeout((function(){t.useHttps&&r.fireEvent(r.DATA_METRIC2,[{sMetricName:"web.websocket_https",vField:{value:t.wsconnected?100:0}}]),t.hasVideo&&r.fireEvent(r.DATA_METRIC2,[{sMetricName:"web.loadvideo_success",vField:{value:t.isFirstVideoPlay?100:0}}])}),1e4),function(){c&&(m="//test-l.huya.com/index.php?m=HuyaWeb&do=check");var e="&pro=huya_web_player&pid=".concat(t.presenterUid,"&uid=").concat(t.yyuid,"&replay=").concat(t.isReplay?1:0,"&watchVideo=").concat(t.hasVideo?1:0,"&anmosuid=").concat(t.anonymousUid,"&sguid=").concat(t.getGuid(),"&curl=").concat(encodeURIComponent(location.href));i=m+=e,n=S,r=n,$.ajax({type:"get",url:i,data:{},cache:!0,dataType:"jsonp",jsonp:"callback",jsonpCallback:"data",success:r}),setTimeout(w,3e3);var i,n,r}(),C=setTimeout((function(){t.isUIPause||t.hasVideo&&(r.fireEvent(r.DATA_METRIC2,[{sMetricName:"video.video_no_picture_ratio",vField:{value:!t.isFirstVideoPlay&&t.isP2pPlayIng?1:0}}]),r.fireEvent(r.DATA_METRIC2,[{sMetricName:"video.video_no_picture_p2p_ratio",vField:{value:!t.isFirstVideoPlay&&t.isP2pPlayIng?1:0}}]))}),5e3),x=setTimeout((function(){t.isUIPause||t.hasVideo&&(r.fireEvent(r.DATA_METRIC2,[{sMetricName:"video.video_no_picture_ratio",vField:{value:t.isFirstVideoPlay||t.isP2pPlayIng?0:1}}]),r.fireEvent(r.DATA_METRIC2,[{sMetricName:"video.video_no_picture_flv_ratio",vField:{value:t.isFirstVideoPlay||t.isP2pPlayIng?0:1}}]))}),1e4),r.addEvent(r.PAUSE_VIDEO,A),r.addEvent(r.CLEAR_VIDEO_REPORT,A),function(){function e(){var e=localStorage.roomStatus?JSON.parse(localStorage.roomStatus):{};e[o.eu]&&delete e[o.eu],localStorage.roomStatus=JSON.stringify(e)}t=localStorage.roomStatus?JSON.parse(localStorage.roomStatus):{},i=location.pathname,n=setTimeout((function(){var e=0;t[o.eu]&&(t={},localStorage.roomStatus=JSON.stringify(t),a.log("上报了"),e=1);var i=[{sMetricName:"web.player.webh5_crash",vField:{value:e}}];r.fireEvent(r.DATA_METRIC2,i)}),3e3),$(window).on("storage.h5player",(function(e){(function(e){var t,i,n,r,a={};if(void 0===e){var o=window.location;t=o.host,i=o.pathname,n=o.search.substr(1),r=o.hash}else{var s=e.match(/\w+:\/\/((?:[\w-]+\.)+\w+)(?:\:\d+)?(\/[^\?\\\"\'\|\:<>]*)?(?:\?([^\'\"\\<>#]*))?(?:#(\w+))?/i)||[];t=s[1],i=s[2],n=s[3],r=s[4]}return n&&function(){for(var e=n.split("&"),t=0,i=e.length;t<i;t++)if(-1!=e[t].indexOf("=")){var r=e[t].indexOf("="),o=e[t].slice(0,r),s=e[t].slice(r+1);a[o]=s}}(),{host:t,path:i,search:n,hash:r,param:a}})(e.originalEvent.url).path==i&&n&&(clearTimeout(n),$(window).off("storage.h5player"))})),function(){var e=localStorage.roomStatus?JSON.parse(localStorage.roomStatus):{};e[o.eu]="open",localStorage.roomStatus=JSON.stringify(e),localStorage.roomHeartbeat=0,setInterval((function(){localStorage.roomHeartbeat++}),1e3)}(),window.addEventListener("beforeunload",e),window.addEventListener("unload",e);var t,i,n}()};var t=e.G,r=e.Event,a=e.Console,o=e.ENV,s=e.VER,c=e.ISDEBUG,l=e.utils,u={webyyhb:"心跳",startup:"会话启动",heartbeat:"心跳",videoload:"视频加载",send:"道具赠送","click/kongzhi/bofang":"点击/控制栏/播放","click/kongzhi/zanting":"点击/控制栏/暂停","click/kongzhi/shuaxin":"点击/控制栏/刷新","click/kongzhi/danmu/close":"点击/控制栏/弹幕/关闭","click/kongzhi/danmu/on":"点击/控制栏/弹幕/开启","click/kongzhi/danmu/area/":"点击/控制栏/弹幕/弹幕位置","status/kongzhi/danmu/area/":"状态/控制栏/弹幕/弹幕位置","click/kongzhi/danmu/size/":"点击/控制栏/弹幕/弹幕大小","status/kongzhi/danmu/size/":"状态/控制栏/弹幕/弹幕大小","click/kongzhi/fankui":"点击/控制栏/问题反馈","click/kongzhi/yinliang":"点击/控制栏/音量","click/kongzhi/wyquanping/on":"点击/控制栏/网页全屏/开启","click/kongzhi/wyquanping/close":"点击/控制栏/网页全屏/关闭","click/kongzhi/quanping/on":"点击/控制栏/全屏/开启","click/kongzhi/quanping/close":"点击/控制栏/全屏/关闭","click/kongzhi/liuchang":"点击/控制栏/流畅","status/screen/":"状态/屏幕状态","click/hudong/liwu":"点击/互动栏/礼物","click/hudong/sclb":"点击/互动栏/首充礼包","click/hudong/chongzhi":"点击/互动栏/充值","click/hudong/guizu":"点击/互动栏/贵族","click/hudong/weekstar/game":"点击/互动/周星榜/游戏","click/hudong/weekstar/qinghua":"点击/互动/周星榜/情话","click/banner/":"点击/横幅/礼物id","click/marquee/":"点击/跑马灯/礼物id","click/zhibo/lianmai":"点击/直播间/连麦","pageview/bindphone/beansbox":"浏览量/绑定手机/宝箱","click/bindphone/beansbox":"点击/绑定手机/宝箱","click/zhibo/huodonghengfu":"点击/直播间/活动横幅","click/button/movierank":"点击/按钮/电影排行","click/button/cfActivity":"点击/按钮/cf活动","click/hudong/jingcai/on":"点击/互动栏/竞猜/打开","click/hudong/jingcai/close":"点击/互动栏/竞猜/关闭","click/hudong/jingcai/kaicai":"点击/互动栏/竞猜/开猜","click/hudong/jingcai/ydzhongdou":"点击/互动栏/竞猜/银豆种豆","click/hudong/jingcai/fanye":"点击/互动栏/竞猜/翻页","click/hudong/jingcai/wode":"点击/互动栏/竞猜/我的","click/hudong/jingcai/bangzhu":"点击/互动栏/竞猜/帮助","click/youjian/flash":"点击/右键/flash","click/zhibo/yugao/close":"点击/直播间/直播预告/关闭按钮","click/dingyue/dy":"点击/订阅/订阅","click/dingyue/qxdy":"点击/订阅/取消订阅","click/zhibo/video":"点击/点击视频","click/zhibo/live":"点击/点击直播","click/zhibo/videomore":"点击/点击主播精选视频","Click/zhibo/breakdown/pc":"点击/直播间/卡断/下载PC","pageview/zhibo/breakdown":"浏览量/直播间/卡断","click/zhibo/breakdown/changeline":"点击/直播间/卡断/切线路","zhibo/ad/click/zcqp/":"点击/中插全屏/主播uid","zhibo/ad/click/zchzh/":"点击/中插画中画/主播uid","zhibo/ad/click/htqp/":"点击/后贴全屏/主播uid","zhibo/ad/play/zcqp/":"播放/中插全屏/主播uid","zhibo/ad/play/zchzh/":"播放/中插画中画/主播uid","zhibo/ad/play/htqp/":"播放/后贴全屏/主播uid","zhibo/ad/block":"直播/广告/屏蔽","zhibo/ad/normal":"直播/广告/正常","click/videotext/copy":"点击/弹幕/复制","Click/zhibo/logintips/login":"点击/直播间/登录提醒/登录","Click/zhibo/logintips/pc":"点击/直播间/登录提醒/下载PC客户端","Click/AntiBlockBarrage/":"点击/防遮挡弹幕","State/AntiBlockBarrage/":"状态/防遮挡弹幕","Pageview/AntiBlockBarrageGuide":"展示/防遮挡弹幕引导","pageview/flac/tips":"展示/无损音质/提示","click/flac/open":"点击/无损音质/打开","click/flac/close":"点击/无损音质/关闭","pageview/zhibo/jieshuzhibo":"浏览量/直播间/结束直播","pageview/zhibo/anchormoment":"浏览量/直播间/主播动态","pageview/zhibo/livepush":"浏览量/直播间/直播推荐","click/zhibo/anchormoment":"点击/直播间/主播动态","click/zhibo/livepush":"点击/直播间/直播推荐","click/zhibo/jieshutuijie":"点击/直播间/结束推荐","click/zhibo/moremoment":"点击/直播间/更多动态按钮","pageview/zhibo/jieshuzhibo/sameunion":"浏览量/直播间/结束直播/同公会主播","click/zhibo/jieshutuijie/sameunion":"点击/直播间/结束推荐/同公会主播","pageview/zhibo/xfgg/":"展示/直播间/悬浮球广告/广告id","liverecommend/show/roomlist":"直播推荐/展示/房间列表","liverecommend/show/roomlist/":"直播推荐/展示/房间列表/直播间uid","liverecommend/click/left":"直播推荐/点击/左","liverecommend/click/left/":"直播推荐/点击/左/直播间uid","liverecommend/click/right":"直播推荐/点击/右","liverecommend/click/right/":"直播推荐/点击/右/直播间uid","liverecommend/click/autoclose/close":"直播推荐/点击/自动关闭/关闭","liverecommend/click/autoclose/close/":"直播推荐/点击/自动关闭/关闭/直播间uid","liverecommend/click/roomlist/room":"直播推荐/点击/列表/房间","liverecommend/click/roomlist/room/":"直播推荐/点击/列表/房间/直播间uid","liverecommend/hover/roomlist/room":"直播推荐/hover/列表/房间","liverecommend/hover/roomlist/room/":"直播推荐/hover/列表/房间/直播间uid","click/live/S8huizhang":"点击/直播间/S8徽章","Pageview/partner/h5/push":"弹窗-去看看（展示）","click/partner/h5/push":"弹窗-去看看（点击）","click/zhibo/subbarrage":"点击/直播间/订阅横幅","pageview/zhibo/subbarrage":"展示/直播间/订阅横幅","click/CFmini/Interactive/":"点击/CFmini/互动通道/渠道号ID","click/zhibo/miniscreen":"点击/直播间/小窗按钮","show/zhibo/miniscreen/download":"展示/直播间/小窗/下载","show/zhibo/miniscreen/download/anotherday":"展示/直播间/小窗/下载/另一天"},d=0,p="",h="",f=[],m="//l.web.huya.com/index.php?m=HuyaWeb&do=check",v=!1,g=!1,y=n("TVEE"),_=n("w7qN");function w(){r.fireEvent(r.DATA_METRIC2,[{sMetricName:"web.mid_request_nontimeout",vField:{value:v?100:0}}]),r.fireEvent(r.DATA_METRIC2,[{sMetricName:"web.mid_request_success",vField:{value:g?100:0}}]),b.isReady=!0,b.isReady&&t.yaInit&&I()}function S(e){v=!0,e.code&&e.data&&(g=!0,p=e.data.mid,h=e.data.sessionId),b.isReady=!0,b.isReady&&t.yaInit&&I()}function b(i){try{new _(e).reqABtest(i.mid)}catch(e){a.log("abtest创建失败",e)}p||(p=i.mid),h||(h=i.sessionId),b.isReady&&I(),t.yaInit=!0}function I(){for(var e=0,t=f.length;e<t;e++){var i=f[e];i.mid=p,i.session_id=h,ya.reportProductEvent(i)}f=[]}function E(e,i,n){var r=new Date;0==d&&(d=r.getTime());var c=r.getFullYear()+"",l=r.getMonth()+1;l<10&&(l="0"+l);var m=r.getDate();m<10&&(m="0"+m);var v=r.getHours();v<10&&(v="0"+v);var g=r.getMinutes();g<10&&(g="0"+g);var y=r.getSeconds();y<10&&(y="0"+y);var _=c+l+m+v+g+y,w=o.rso,S={act:"/event",eid:n?e+n:e,eid_desc:encodeURI(u[e]),dur:r.getTime()-d,pro:"huya_flash",session_id:o.sessionid||h,dty:"live",mid:o.mid||p,ayyuid:t.presenterUid,yyuid:t.yyuid,anmos_uid:t.anonymousUid,rso:w,ive:"h5scene",sdk_ver:s,platform:"web",ati:_,ref:o.ref,game_id:o.gameId,roomid:o.profileRoom,scid:0,cid:o.chTopId+"/"+o.subChId,online_cnt:0,follow_cnt:0,replay:t.isReplay?1:0,watchVideo:t.hasVideo?1:0,furl:o.furl,curl:location.href,wyy:"",video_line:T(),liveid:t.liveid,cutc:Date.now(),sdver:1,sguid:t.getGuid()};localStorage.mytest&&a.log(S.eid,u[e]),i&&(S=$.extend({},S,i)),b.isReady&&t.yaInit?ya&&ya.reportProductEvent(S):f.push(S)}function T(){if(!t.livingInfo)return"";var e=[];for(var i in t.livingInfo.vMediaStreamInfo?e=t.livingInfo.vMediaStreamInfo.value:t.livingInfo.tNotice&&(e=t.livingInfo.tNotice.vStreamInfo.value),e)if(e[i].iLineIndex==t.videoLine)return e[i].sCdnType;return""}function k(e,t){for(var i in e+="?",t)e+=i+"="+t[i]+"&";return e+((new Date).getTime()+parseInt(1e3*Math.random()))}var C=0,x=0;function A(){clearTimeout(C),clearTimeout(x)}}},VhDf:function(e,t,i){e.exports=function(e){var t=null;function n(){t&&(t.unbind(),t.remove(),t=null)}this.show=function(e){n();var r=i("lUiF")();if((t=$(r)).appendTo("#player-wrap"),e<=0)t.addClass("fail-mode");else{var a="虎粮*".concat(e,"已到账，请到包裹中查看");t.find(".pannel-details").text(a)}t.find(".pannel-btn").click(n),t.find(".pannel-close").click(n)}}},VkgB:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-banner-pugc" id=\'player-banner-pugc-<%=id%>\'>\n    <p class="player-banner-text">\n        <%- content %>\n    </p>\n</div>\n',__filename="src/tpl/notice/banner-pugc.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-pugc" id=\'player-banner-pugc-'),__append(escapeFn(id)),__append('\'>\n    <p class="player-banner-text">\n        '),__line=3,__append(content),__append("\n    </p>\n</div>\n"),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},WONh:function(e,t,i){"use strict";(function(t){var i="undefined"==typeof window?t:window,n=i.external,r=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,a=/\bbb10\b.+?\bversion\/([\d.]+)/,o=/\bblackberry\b.+\bversion\/([\d.]+)/,s=/\bblackberry\d+\/([\d.]+)/,c=[["wp",function(e){return-1!==e.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==e.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==e.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var t=e.match(a)||e.match(o)||e.match(s);return t?{version:t[1]}:"blackberry"}]];function l(e){if(n)try{var t=n.twGetRunPath.toLowerCase(),r=n.twGetSecurityID(i),a=n.twGetVersion(r);if(t&&-1===t.indexOf(e))return!1;if(a)return{version:a}}catch(e){}}var u=[["edgehtml",/edge\/([0-9.]+)/],["trident",r],["blink",function(){return"chrome"in i&&"CSS"in i&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var t=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);if(t)return{version:t[1]+"."+t[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],d=[["edge",/edge\/([0-9.]+)/],["sogou",function(e){return e.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:e.indexOf("sogoumse")>=0||/ se ([0-9.x]+)/}],["theworld",function(){var e=l("theworld");return void 0!==e?e:/theworld(?: ([\d.])+)?/}],["360",function(e){var t=l("360se");return void 0!==t?t:-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(n&&(n.mxVersion||n.max_version))return{version:n.mxVersion||n.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(e.indexOf("liebaofast")>=0)return/\bliebaofast\/([0-9.]+)/;if(-1===e.indexOf("lbbrowser"))return!1;var t=void 0;try{n&&n.LiebaoGetVersion&&(t=n.LiebaoGetVersion())}catch(e){}return{version:t||"-1"}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",r],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var t=/\bopera.+version\/([0-9.ab]+)/;return t.test(e)?t:/\bopr\/([0-9.]+)/}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(-1!==e.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){var t=e.match(a)||e.match(o)||e.match(s);return t?{version:t[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]];e.exports={device:[["nokia",function(e){return-1!==e.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return-1!==e.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return-1!==e.indexOf("windows phone ")||-1!==e.indexOf("xblwp")||-1!==e.indexOf("zunewp")||-1!==e.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var t=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==e.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:t.test(e)?t:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return-1!==e.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],os:c,browser:d,engine:u,re_msie:r}}).call(this,i("yLpj"))},WYAk:function(e,t,i){var n,r,a,o;e.exports=(n=i("Ib8C"),a=(r=n).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,c=a.words,l=0;l<i;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))},WaOd:function(e,t){e.exports=function(e){var t=e.G,i=e.taf.HUYA,n=e.Event,r=-1,a=[],o="";function s(){var n=new i.SupportCampInfoReq;n.lPid=t.presenterUid,n.lUid=t.yyuid,e.sendWup2("revenueui","getSupportCampInfo",n,c)}function c(n){if(n.iType||n.iActId||n.iSubId){var o=n.vInfo.value;a=o;var s=new i.UserSupportCampReq;s.iType=n.iType,r<0&&(r=n.iPriority),n.iPriority>r||(r=n.iPriority,s.iActId=n.iActId,s.iSubId=n.iSubId,s.lPid=t.presenterUid,s.lUid=t.yyuid,e.sendWup2("revenueui","getUserSupportCamp",s,l),e.trigger("SupportCampInfoRsp",n))}}function l(i){e.trigger("UserSupportCampRsp",i),o="";for(var n=i.lXid,r=0;r<a.length;r++)if(n==a[r].lXid){t.lXid=n;var s=a[r].vPanelText.value;if(s&&s.length>0)for(var c=parseInt(s.length/2),l=0;l<c;l++)o+="<font color='"+s[2*l]+"'>"+s[2*l+1]+"</font>";return}t.lXid=0}t.isUserInfoInited()?s():n.addEvent(n.USER_INFO_INITED,s),e.addTafListener("1025300",c),e.addTafListener("1025301",l),this.getSupportTip=function(){return o}}},Wlko:function(e,t,i){e.exports=function(e){var t=i("vD7c").default,n=e.Event,r=e.G,a=e.Console,o=/(\/\{[\w]+|\[.+?\])/,s={},c=null,l={},u=0,d=[{code:"dx",text:"大笑"},{code:"sh",text:"送花"},{code:"tx",text:"偷笑"},{code:"dk",text:"大哭"},{code:"hh",text:"嘿哈"},{code:"66",text:"666"},{code:"gd",text:"感动"},{code:"yw",text:"疑问"},{code:"xh",text:"喜欢"},{code:"jx",text:"奸笑"},{code:"zan",text:"赞"},{code:"ka",text:"可爱"},{code:"am",text:"傲慢"},{code:"kx",text:"开心"},{code:"88",text:"拜拜"},{code:"hx",text:"害羞"},{code:"zs",text:"衰"},{code:"pu",text:"吐血"},{code:"zc",text:"嘴馋"},{code:"sq",text:"生气"},{code:"fe",text:"扶额"},{code:"bz",text:"闭嘴"},{code:"kw",text:"枯萎"},{code:"xu",text:"嘘"},{code:"xk",text:"笑哭"},{code:"lh",text:"流汗"},{code:"bk",text:"不看"},{code:"hq",text:"哈欠"},{code:"tp",text:"调皮"},{code:"gl",text:"鬼脸"},{code:"cl",text:"戳脸"},{code:"dg",text:"大哥"},{code:"kun",text:"困"},{code:"yb",text:"拥抱"},{code:"zt",text:"猪头"},{code:"kl",text:"骷髅"},{code:"cc",text:"臭臭"},{code:"xd",text:"心动"},{code:"dao",text:"刀"}];function p(){for(var e in d){var t={extraUrl:"",type:0,frameSize:0,name:"[".concat(d[e].text,"]"),escape:"/{".concat(d[e].code),url:"//a.msstatic.com/huya/main/emot_png/".concat(d[e].code,".png")};s["escape-".concat(t.escape)]=t,s["name-".concat(t.name)]=t}m()}function h(e){a.log("setEmoticonData:",e);var t=e.availables,i=e.packages;if(t&&i){clearTimeout(u);for(var n=i,o=n.length,c=0;c<o;c++){var d=n[c],p=d.type,h=d.packageId,v=0;if(0==p||3==p){if(!f(t,h))continue;v=d.emoticon.length;for(var g=0;g<v;g++){var y=(k=d.emoticon[g]).escape,_=k,w=_.name,S=_.type;y=y.replace("/{","");var b=r.makeHttpsUrl(k.url),I=r.makeHttpsUrl(k.extraUrl),E=r.makeHttpsUrl(k.flexiUrl);r.isSupportWebp&&k.extraFlexiUrl&&(E=r.makeHttpsUrl(k.extraFlexiUrl));var T={url:b,extraUrl:I,flexiUrl:E=(E=E.replace(".webp","_3.webp")).replace(".png","_3.png"),name:w,type:S};s["escape-".concat(k.escape)]=T,s["name-".concat(k.name)]=T}}else if(2==p){v=d.emoticon.length;for(g=0;g<v;g++){var k,C=k=d.emoticon[g],x=C.id,A=C.flexiUrl.replace(".png","_3.png");A=r.makeHttpsUrl(A),l[x]=A}}}m()}}function f(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n]==t)return!0;return!1}function m(){c=new t((function(e){return e.match(t.emoticonNameMatcher)?function(e){if(e&&"string"==typeof e)return s["name-".concat(e)]}(e):e.match(t.emoticonEscapeMatcher)?function(e){if(e&&"string"==typeof e)return s["escape-".concat(e)]}(e):void 0}),o)}n.addEvent(n.SET_EMOTICON_DATA,h),u=setTimeout(p,5e3),this.makeFace=function(e){var t={faceCount:0};return c?(t.msg=c.parse(e,(function(e){var i=e.extraUrl,n=e.url,r=e.name,a=e.type,o=e.flexiUrl,s=i||n;return t.hasFace=!0,t.faceCount++,t.type=a,t.flexiUrl=o,3==a?"":s?"<img src=".concat(s," alt=").concat(r," />"):r})).join(""),t):(t.hasFace=!1,t)},this.getFlexiUrlByid=function(e){return l[e]}}},"Wz/o":function(e,t){e.exports=function(e,t){var i=t.G,n=t.R,r=t.Event,a=t.taf,o=a.HUYA,s=a.HUYAWEB,c=2;function l(){if(r.removeEvent(r.USER_INFO_INITED,l),i.isLogin){var e=new o.GetFirstRechargePkgStatusReq;e.tId=i.userId,t.sendWup2("PropsUIServer","getFirstRechargePkgStatus",e,u)}}function u(e){0==(c=e.iStatus)?($("#recharge-btn").removeClass("recharge-btn"),$("#recharge-btn").addClass("first-recharge-btn"),$("#player-recharge-btn p").text("首充奖励"),$("#player-recharge-btn").hover(d,p)):1==c?$("#recharge-discount-icon").show():($("#recharge-btn").removeClass("first-recharge-btn"),$("#recharge-btn").addClass("recharge-btn"),$("#player-recharge-btn p").text("充值")),1==e.iFetch&&$("#player-punch-btn").show(),r.fireEvent(r.GIFT_RESIZE)}function d(){$(".player-recharge-tip").show()}function p(){$(".player-recharge-tip").hide()}function h(){t.trigger("showWeekStarRank"),e.quitFullscreen(),i.isYanzhi?n.huyuReport("click/hudong/weekstar/qinghua"):n.huyuReport("click/hudong/weekstar/game")}function f(){if(n.huyuReport("click/hudong/sclb"),t.closeAllPanel(),i.isLogin){var r={nickName:i.getNickName(),hasVideo:i.hasVideo?1:0};t.trigger("getFirstRecharge",{param:r}),e.quitFullscreen()}else t.popLogin()}function m(){n.huyuReport("click/hudong/chongzhi"),g()}function v(){i.isLogin?(t.trigger("webgamepackage"),e.quitFullscreen()):t.popLogin()}function g(n){t.closeAllPanel(),i.isLogin?(t.trigger("webgamepaylayer",n||{}),e.quitFullscreen()):t.popLogin()}function y(){n.huyuReport("click/hudong/guizu"),t.closeAllPanel(),i.isLogin?(t.trigger("clickNobleRecharge"),e.quitFullscreen()):t.popLogin()}function _(){i.isLogin?(t.trigger("openGuard"),e.quitFullscreen()):t.popLogin()}function w(){if(i.isLogin){var e=new s.GetGuardDiscountInfoReq;e.tId=i.userId,e.pid=i.presenterUid,t.sendWup2("payWebUI","getGuardDiscountInfo",e,S)}}function S(e){var n=e.discountStatus,r=e.cornerUrl;if(n>0&&r){var a=r.replace(".png","_3.png");$("#player-guard-btn").find("img").attr("src",a)}else!function(){var e=new o.GetRunningGuardianFeedbackReq;e.tId=i.userId,e.lPid=i.presenterUid,t.sendWupNew("wupui","getRunningGuardianFeedback",e,o.GetRunningGuardianFeedbackRsp).then((function(e){var t=e.vGFInfo.value,i=e.tGFRunningUIInfo.sCornerUrl;if(t.length>0&&t[0].sAwardName&&i){var n=$("#player-guard-btn").find("img");n.addClass("weal"),n.attr("src",i)}}))}()}$("#week-star-btn").click(h),$("#player-punch-btn").click(f),$("#player-recharge-click").click(m),$("#player-package-btn").click(v),$("#player-noble-btn").click(y),$("#player-guard-btn").click(_),$(".player-recharge-tip").find(".recharge-now-btn").click(m),i.isUserInfoInited()?l():r.addEvent(r.USER_INFO_INITED,l),r.addEvent(r.USER_INFO_INITED_DELAY,w),this.recharge=g,this.hideGuess=function(){}}},X1nP:function(e,t,i){e.exports=function(e){var t=null,n=null;function r(n){if(null==t){var r=i("urlq");t=new r(e)}t.onMatchEndNotice(n)}function a(t){if(null==n){var r=i("BIcx");n=new r(e)}n.onMatchLiveRoomRecMsg(t)}e.addTafListener("1034001",r),e.addTafListener("2500406",a),window.testMatchLiveRoomRecMsg=function(){var e={ishowTime:20,sAppLinkUrl:"https://m.huya.com?hyaction=live&liveuid=1199513081370",sBanner:"",sTitle:"郭润东牛呗！！",sWebLinkUrl:"https://wwww.huya.com/10010981"};e.iPushId=10*Math.random(),e.iPushType=2,a(e)}}},X7lR:function(e,t,i){e.exports=function(e){var t=e.G,n=null,r=null,a=null;i("676x");var o=null,s=null,c=1;function l(){u(),(r=a).append(n)}function u(){s&&(TweenMax.killTweensOf(s),s.remove(),s=null)}function d(){u(),n&&(n.remove(),n=null),r=null,a=null}this.setData=function(e,i,p){p<1||p>3||(c=p,1==i||2==i?function(e){if(!e)return;o=$("#make-friend");var i=t.H5ROOT+"src/img/make-friend/pass-parcel-".concat(c,".webp");null==n&&(n=$("<img class='pass-parcel-effect'></img>"));if(n.attr("src",i),null==r)(r=e.item()).append(n);else{a=e.item(),u();var d=n.offset(),p=a.offset(),h=o.offset(),f=d.left-h.left,m=d.top-h.top,v=p.left-h.left+a.width()-40,g=p.top-h.top-16;(s=$("<img class='pass-parcel-effect-copy'></img>")).attr("src",i),s.css({left:f+"px",top:m+"px"}),o.append(s),n.remove(),function(e,t){TweenMax.to(e,.2,{delay:.1,scale:1.5,ease:Linear.easeNone}),TweenMax.to(e,.2,{delay:.3,scale:1,ease:Linear.easeNone}),TweenMax.to(e,.4,{delay:.1,bezier:t,ease:Linear.easeNone,onComplete:l})}(s,[{left:v,top:g}])}}(e):3==i&&function(){if(u(),n){var e=t.H5ROOT+"src/img/make-friend/pass-parcel-b-".concat(c,".webp");n.attr("src",e),setTimeout((function(){d()}),2e3)}}())},this.clear=d}},"Y+xY":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-face-list player-face-list-ctrl">\n    <ul>\n        <%\n\t\t\tvar topsid = ENV.chTopId;\n\t\t\tvar count = 0;\n\t\t\tvar len = propsList.length;\n            var num = Math.min(len,8);\n\t\t\tfor (var i = 0; i < num; i++) {\n\t\t\t\tvar item = propsList[i];\n                count++;\n\t\t\t\tvar icon = getIconUrl(item);\n\t\t%>\n            <li class="player-face-gift" propsId="<%=item.iPropsId%>" iPropsPermission="<%=item.iPropsPermission%>" flag="main">\n                <div class="plaer-face-icon-bg"></div>\n                <img class="player-face-icon" src="<%=icon%>">\n                <i></i>\n                <div class="player-superfans-card-count"></div>\n            </li>\n            <%\t}\n            G.allGiftShowNum = count;%>\n    </ul>\n</div>\n',__filename="src/tpl/gift/gift-main.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append('<div class="player-face-list player-face-list-ctrl">\n    <ul>\n        '),__line=3;for(var topsid=ENV.chTopId,count=0,len=propsList.length,num=Math.min(len,8),i=0;i<num;i++){var item=propsList[i];count++;var icon=getIconUrl(item);__line=12,__append('\n            <li class="player-face-gift" propsId="'),__line=13,__append(escapeFn(item.iPropsId)),__append('" iPropsPermission="'),__append(escapeFn(item.iPropsPermission)),__append('" flag="main">\n                <div class="plaer-face-icon-bg"></div>\n                <img class="player-face-icon" src="'),__line=15,__append(escapeFn(icon)),__append('">\n                <i></i>\n                <div class="player-superfans-card-count"></div>\n            </li>\n            '),__line=19}G.allGiftShowNum=count,__line=20,__append("\n    </ul>\n</div>\n"),__line=23}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"YC+7":function(e,t){e.exports=function(e){var t=!1,i=null,n=!0,r=[],a=0,o=5,s=6e4,c=[],l=e.G,u=e.Event,d=e.Console,p=e.logUtils,h=e.taf.HUYA;function f(){l.hasVideo&&(l.isReplay||(p.addLog("enterP2PAfterRegisterGroupg groupid:"+l.danmuGroudId.join(",")),function(){for(var e=v(r,l.danmuGroudId),t=0;t<e.length;t++){var n=r.indexOf(e[t]);-1!=n&&r.splice(n,1),i&&i.stopStream(e[t])}}(),g(v(l.danmuGroudId,r))))}function m(){l.danmuP2P=!1,d.log("danmuP2P stop");for(var e=0;e<r.length;e++){var t=r[e];clearTimeout(c[t]),E([t]),i&&i.stopStream(t)}}function v(e,t){for(var i=[],n=t.toString(),r=0;r<e.length;r++)-1==n.indexOf(e[r].toString())&&i.push(e[r]);return i}function g(e){if(l.danmuP2P){t||(i=new H5Player,l.h5playerSignalP2P=i,i.on(H5Player.Events.SIGNAL_PLAY,y),i.on(H5Player.Events.SIGNAL_DATA,S),i.on(H5Player.Events.SIGNAL_ERROR,_),i.on(H5Player.Events.DATA_METRIC2,w),t=!0);var r={};r.uid=l.yyuid,r.curBitrate=l.getCurBitRate(),r.groupId=e.concat(),r.type=H5Player.STREAM,r.presenterUid=l.presenterUid,r.h5Root=l.H5ROOT,n?(n=!1,setTimeout((function(){d.log("danmuP2P start",r),i.start(r)}),2e3)):(d.log("danmuP2P start",r),i.start(r)),p.addLog("start:"+JSON.stringify(r))}}function y(t,n){if(d.log("danmuP2P",t,n),clearTimeout(c[n]),!l.danmuP2P)return d.log("danmuP2P,已经关闭p2p了，停流"),void(i&&i.stopStream(n));p.addLog("SignalPlay groupid:"+n),function(t){var i=new h.WSEnterP2P;i.vGroupId.value=t,e.sendEnterP2P(i),d.log("danmuP2P","reqWSEnterP2P groupid:"+t.join(",")),p.addLog("reqWSEnterP2P groupid:"+t.join(","))}([n])}function _(e,t){var i;(d.log("danmuP2P",e,t),l.danmuP2P)&&(t&&(p.addLog("SignalERROR groupid:"+t),E([t]),i=t,a>=o||(clearTimeout(c[i]),c[i]=setTimeout(g,s,[i]),a++)))}function w(e,t){u.fireEvent(u.DATA_METRIC_SIGNAL_P2P,t)}function S(e,t){for(var i=t.length,n=0;n<i;n++){var r=t[n].buffer;l.tafHandler&&l.tafHandler.onP2PData(r)}}function b(e){if(l.danmuP2P){var t=e.vGroupId.value;g(t),d.log("danmuP2P","onSocketOpenP2P groupid:"+t.join(",")),p.addLog("onSocketOpenP2P groupid:"+t.join(","))}}function I(e){var t=e.vGroupId.value;E(t);for(var n=t.concat(),r=0;r<n.length;r++)i&&i.stopStream(n[r]);d.log("danmuP2P","onSocketCloseP2P groupid:"+t.join(",")),p.addLog("onSocketCloseP2P groupid:"+t.join(","))}function E(t){var i=new h.WSExitP2P;i.vGroupId.value=t,e.sendExitP2P(i),d.log("danmuP2P","reqWSExitP2P groupid:"+t.join(",")),p.addLog("reqWSExitP2P groupid:"+t.join(","))}function T(e){!function(e){for(var t=0;t<e.length;t++){var i=e[t];-1==r.indexOf(i)&&r.push(i)}}(e.vGroupId.value),l.danmuP2P||(d.log("danmuP2P,已经关闭p2p了，停流流，退组"),m())}function k(e){for(var t=e.vGroupId.value.concat(),i=0;i<t.length;i++)C(t[i])}function C(e){for(var t=0;t<r.length;t++)if(r[t]==e){r.splice(t,1);break}}l.isPresenter||l.danmuP2P&&(e.addTafListener("1025307",b),e.addTafListener("1025308",I),e.addTafListener("WSEnterP2PAck",T),e.addTafListener("WSExitP2PAck",k),u.addEvent(u.ENTER_P2P_AFTER_REGISTER_GOURP,f),u.addEvent(u.STOP_SIGNAL_P2P,m))}},YJXF:function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n={storeDnsData:function(e,t){for(var i="",r=n.getIpsKey(!0),a=t.join("|").toLocaleLowerCase(),o=0,s=a.length;o<s;o++){var c=r[a.charAt(o)],l=Math.random()*c.length>>0;i+=c.charAt(l)}localStorage[e]=i},getDnsData:function(e){var t=localStorage[e];if(!t)return[];for(var i="",r=n.getIpsKey(!1),a=0,o=t.length;a<o;a++){i+=r[t.charAt(a)]}return i.split("|")},getIpsKey:function(e){for(var t=["-",".",":","|"],i="_N1Y%/ny^6?Mi7|wCe#$VmT=.GBut]3L*f<acX2Eop>d}WqKPQ@r;zx!s`(:IHFRZ~[A{Jb-O&D)v0Ukj95,8lg+h4S",n={},r=0;r<40;r++){var a=r<11?3:2,o=i.substr(0,a);i=i.substr(a);var s=r+"";if(r>13?s=String.fromCharCode(r+83):r>9&&(s=t[r-10]),e)n[s]=o;else for(var c=0;c<o.length;c++){n[o.charAt(c)]=s}}return n},moneyTransform:function(e){var t="",i=e/1e8>>0,n=e%1e8/1e4>>0;return i>0&&(t+=i+"亿"),n>0&&(t+=n+"万"),e>1e4&&(t+="+"),t||(t=e),t},formatNumber:function(e){return e>=1e8?(e/1e8).toFixed(1)+"亿":e>=1e4?(e/1e4).toFixed(1)+"万":e.toString()},getItemByKeyValue:function(e,t,i){var n;for(var r in e)if((n=e[r])[t]==i)return n;return null},formatDateTime:function(e){var t=new Date(e),i=t.getFullYear()+"-",n=t.getMonth()+1;i+=n<10?"0"+n.toString()+"-":n+"-";var r=t.getDate();i+=r<10?"0"+r.toString()+" ":r+" ";var a=t.getHours();i+=a<10?"0"+a.toString():""+a;var o=t.getMinutes();i+=o<10?":0"+o.toString():":"+o;var s=t.getSeconds();return i+=s<10?":0"+s.toString():":"+s},isSougouBrowser:function(){return navigator.userAgent.toUpperCase().indexOf(" SE ")>-1},getBrowserInfo:function(){var e,t,i,n=navigator.appVersion,r=navigator.userAgent,a=navigator.appName,o=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);-1!=(t=r.indexOf("Opera"))&&(a="Opera",o=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))),-1!=(t=r.indexOf("OPR"))?(a="Opera",o=r.substring(t+4)):-1!=(t=r.indexOf("MSIE"))?(a="Microsoft Internet Explorer",o=r.substring(t+5)):-1!=(t=r.indexOf("Chrome"))?(a="Chrome",o=r.substring(t+7)):-1!=(t=r.indexOf("Safari"))?(a="Safari",o=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?(a="Firefox",o=r.substring(t+8)):-1!=r.indexOf("Trident/")?(a="Microsoft Internet Explorer",o=r.substring(r.indexOf("rv:")+3)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(a=r.substring(e,t),o=r.substring(t+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),-1!=(i=o.indexOf(";"))&&(o=o.substring(0,i)),-1!=(i=o.indexOf(" "))&&(o=o.substring(0,i)),-1!=(i=o.indexOf(")"))&&(o=o.substring(0,i)),s=parseInt(""+o,10),isNaN(s)&&(o=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(n),l="-",u=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var d in u){var p=u[d];if(p.r.test(r)){l=p.s;break}}var h="-";/Windows/.test(l)&&(h=/Windows (.*)/.exec(l)[1],l="Windows");var f=null;switch(l){case"Mac OS X":h=(f=/Mac OS X (10[\.\_\d]+)/.exec(r))?f[1]:l;break;case"Android":h=(f=/Android ([\.\_\d]+)/.exec(r))?f[1]:l;break;case"iOS":h=(f=/OS (\d+)_(\d+)_?(\d+)?/.exec(n))?h[1]+"."+h[2]+"."+(0|h[3]):l}return{browserName:a,fullVersion:o,majorVersion:s,mobile:c,os:l,osVersion:h}},compareVersion:function(e,t){for(var i=(e+"").split("."),n=(t+"").split("."),r=i.length,a=n.length,o=Math.min(i.length,n.length),s=0;s<o;s++){var c=parseInt(i[s]),l=parseInt(n[s]);if(c!=l)return c-l}return r==a?0:r-a},isH265Available:function(){if(null!=this.isH265Available.result)return this.isH265Available.result;var e=n.isSougouBrowser(),t=n.getBrowserInfo(),i=n.compareVersion(t.fullVersion,"49.0.2623.22");return this.isH265Available.result=e&&i>=0,this.isH265Available.result},downloadFile:function(e,t){if(e){t=t||"console.log";var i=new Blob([e],{type:"text/plain"}),n=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(i),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n),r=n=i=null}},getPos:function(e){var t=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft,n=e.getBoundingClientRect();return{top:n.top+t,left:n.left+i,right:n.right+i,bottom:n.bottom+t}},deepCopy:function(e,t){t=t||{};for(var n in e)null!=e[n]&&"object"==i(e[n])?(t[n]=e[n].constructor===Array?[]:{},this.deepCopy(e[n],t[n])):t[n]=e[n];return t},NoDrag:function(e,t){t.ondragstart=function(){return!1}},NoSelect:function(e,t){t.onselectstart=function(){return!1}},stopPropagation:function(e){e&&e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)},setCookie:function(e,t,i,n){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3);var a=e+"="+t+"; "+("expires="+r.toUTCString());n&&(a+="; domain="+n),document.cookie=a},setCookieWithPath:function(e,t,i,n,r){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var o=e+"="+t+"; "+("expires="+a.toUTCString());n&&(o+="; domain="+n),r&&(o+="; path="+r),document.cookie=o},getCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0,r=i.length;n<r;n++){var a=i[n].trim();if(0==a.indexOf(t))return a.substr(t.length)}return""},clearCookie:function(e){setCookie(e,"",-1)},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},getStringLength:function(e){for(var t=0,i=e,n=/[^\x00-\xff]/,r=i.length,a=0;a<r;a++){var o=i.charAt(a);1==n.test(o)?t+=2:t+=1}return t=Math.ceil(t/2)},getEStringLength:function(e){for(var t=0,i=e,n=/[^\x00-\xff]/,r=i.length,a=0;a<r;a++){var o=i.charAt(a);1==n.test(o)?t+=2:t+=1}return t},setLongString:function(e,t){for(var i=e;this.getStringLength(i)>t;)i=i.substring(0,i.length-1);return i=i==e?e:i+"..."},linkToFlash:function(){var e=window.location.href;e.indexOf("?")>=0?e+="&playerflash=1":e+="?playerflash=1",window.location.href=e},detectOS:function(){var e=navigator.userAgent,t="Win32"==navigator.platform||"Windows"==navigator.platform,i="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(i)return"Mac";if("X11"==navigator.platform&&!t&&!i)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(t){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7";if(e.indexOf("Windows NT 10")>-1||e.indexOf("Windows 10")>-1)return"Win10"}return"other"},escapeHTML:function(e){return(e=""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},unescapeHTML:function(e){return(e=""+e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#39;/g,"'")},uaReplace:function(e){return(e=this.unescapeHTML(e)).replace("<ua>","web")},formatTime:function(e){var t=e/3600>>0,i=e%3600/60>>0,n=e%60;return i=i<10?"0"+i:""+i,n=n<10?"0"+n:""+n,t>0?t+":"+i+":"+n:i+":"+n},xss:function(e){return e=e.replace(/[<>'"]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"'":return"&#39;";case'"':return"&quot;"}}))},randomNum:function(e,t,i){return Number((e+(t-e)*Math.random()).toFixed(i))},getRandomStr:function(e){for(var t="",i=0;i<e;i++){var n="0123456789abcdefghijklmnopqrstuvwxyz"[this.randomNum(0,35,0)];isNaN(n)&&this.randomNum()<50&&(n=n.toUpperCase()),t+=n}return t},createSingleElm:function(){return document.createElement("div")},supportsStyle:function(e,t){for(var i=this.createSingleElm().style,n=["ms","O","Moz","webkit",""],r=n.length,a=e.replace(/^./,(function(e){return e.toUpperCase()}));r--;){var o=n[r]?n[r]+a:e;if(o in i)return t&&t(n[r],o),!0}return!1},cssAnimation:function(e){var t="";return t+="@"+e.pfx+"keyframes "+e.name+" {",t+="0% { background-position: 0 ".concat("bottom","; }"),t+="100% { background-position: -".concat(e.width*e.steps,"px ").concat("bottom","; }"),t+="}",t+=".animation-"+e.name+"{",t+='background: url("'+e.bgImg+'") no-repeat;',t+=e.pfx+"animation: "+e.name+" "+e.duration+"ms steps("+e.steps+") infinite;",t+="}"},createTag:function(e){var t=$('<style type="text/css"></style>');return t.attr("id",e),t},countsTransform:function(e){var t="",i=e<0,n=(e=Math.abs(e))/1e5,r=e/1e6,a=e/1e7,o=e/1e4+"",s=o.indexOf(".");return a>=1?t=parseInt(o)+"W":r>=1?t=-1==s?o+".0W":o.substring(0,s+2)+"W":n>=1&&(t=-1==s?o+".00W":o.substring(0,s+3)+"W"),t||(t=e),i&&(t="-"+t),t},requestAnimFrame:function(e){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)(e)},cancelAnimFrame:function(e){(window.cancelAnimationFrame||window.mozCancelAnimationFrame)(e)},filterArray:function(e,t){for(var i=[],n=t.toString(),r=0;r<e.length;r++)-1==n.indexOf(e[r].toString())&&i.push(e[r]);return i},colorRgb:function(e,t){var i=e.toLowerCase();if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var n="#",r=1;r<4;r+=1)n+=i.slice(r,r+1).concat(i.slice(r,r+1));i=n}var a=[];for(r=1;r<7;r+=2)a.push(parseInt("0x"+i.slice(r,r+2)));return void 0===t?"RGB("+a.join(",")+")":(a.push(t),"RGBA("+a.join(",")+")")}return i},doColor:function(e){if(e=parseInt(e+""),isNaN(e)||-1==e)e="#FFFFFF";else{for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+e}return e},ab2str:function(e,t){for(var i=new DataView(e),n=i.byteLength,r=0,a=[],o=0;o<n;o++)a.push(String.fromCharCode(i.getUint8(r++)));var s=a.join("");if(t)try{s=decodeURIComponent(escape(s))}catch(e){}return s},swapArray:function(e,t,i){return e[t]=e.splice(i,1,e[t])[0],e},replaceRegExpMetacharacters:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return"\\".concat(e)},i="^$.*+?=!:|\\/()[]{}",n=new RegExp("\\".concat(i.split("").join("|\\")),"g");return e.replace(n,t)},avgArray:function(e){for(var t=e.length,i=0,n=0;n<t;n++)i+=e[n];return i/t},throttle:function(e,t){var i=!0,n=null,r=null,a=null;function o(){r=arguments,a=this,n||(n=setTimeout((function(){n=null,e.apply(a,r),a=r=null}),i?0:t),i&&(i=!1))}return o.cancel=function(){clearTimeout(n),n=a=r=null},o},sortCompare:function(e){return function(t,i){var n=t[e],r=i[e];return n>r?-1:n<r?1:0}},copy:function(e,t){for(var i in t)e[i]=t[i];return e},parseQueryString:function(e){for(var t=/([^\?\=\&]+)\=([^\?\=\&]*)/g,i={};t.exec(e);)i[RegExp.$1]=RegExp.$2;return i},objectIsEmpty:function(e){return 0===Object.keys(e).length},padNum:function(e,t){var i=e.toString().length;return"0".repeat(t-i)+e},getUrlRelativePath:function(e,t){var i=e.split(t),n=i[1].indexOf("/"),r=i[1].substring(n);return-1!=r.indexOf("?")&&(r=r.split("?")[0]),r},appStoreDownLoad:function(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?"//apps.apple.com/cn/app/%E8%99%8E%E7%89%99%E7%9B%B4%E6%92%ADhd-%E6%B8%B8%E6%88%8F%E4%BA%92%E5%8A%A8%E7%9B%B4%E6%92%AD%E5%B9%B3%E5%8F%B0/id886103288":""},randomFloat:function(e,t){return e+Math.random()*(t-e)},randomInteger:function(e,t){return e+Math.floor(Math.random()*(t-e))},pixelValue:function(e){return e+"px"},argbToRgba:function(e){var t=e.split("");return 9===t.length&&(e=(t=t.concat(t.splice(1,2))).join("")),e},argbToRgbaNew:function(e){return"rgba("+(e>>16&255)+", "+(e>>8&255)+", "+(255&e)+", "+((e>>24&255)/255).toFixed(2)+")"},getRandomValues:function(){var e=(window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto).getRandomValues(new Uint32Array(1)),t=Math.pow(2,32)-1;return e[0]/t},getCurTime:function(){return performance&&performance.now()||Date.now()},checkAuditTime:function(e,t){var i=new Date,n="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate()," "),r=new Date(n+e).getTime(),a=new Date(n+t).getTime(),o=i.getTime(),s=r>a;if(s){var c=[a,r];r=c[0],a=c[1]}return o>r&&o<a?!s:!!s},once:function(e){var t,i;return function(){return i||(i=!0,t=e.apply(this,arguments)),t}},isIPv6:function(e){return e.indexOf(":")>0},validIPAddress:function(e){return/^((\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.){4}$/.test(e+".")?1:/^(([\da-fA-F]{1,4}):){8}$/.test(e+":")?2:0},timeout:function(e){return new Promise((function(t,i){setTimeout((function(){i(new Error("Promise超时"))}),e)}))},loadJs:function(e){return new Promise((function(t,i){$.ajax({url:e,dataType:"script",cache:!0,success:function(){t()},error:function(t,n,r){i(new Error("loadJs"+e))}})}))},getScript:function(e){return new Promise((function(t,i){var n=document,r=n.head||n.getElementsByTagName("head")[0]||n.documentElement,a=n.createElement("script");function o(){s(),t()}function s(){a.onload=a.onreadystatechange=a.onerror=null,a=null}"onload"in a?a.onload=o:a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&o()},"onerror"in a&&(a.onerror=function(){s(),i()}),a.charset="utf-8",a.type="text/javascript",a.async=!0,a.src=e,r.appendChild(a)}))},getAccumulatedSum:function(e,t){return t>e.length&&(t=e.length),e.slice(0,t).reduce((function(e,t){return e+t}),0)},imagesLoaded:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=e.find("img"),r=n.length,a=0,o=!1;function s(){++a!==r||o||(t(),clearTimeout(c))}var c=setTimeout((function(){o=!0,t()}),i);n.on("load",s)},hoverDisplay:function(e,t,i){var n=0,r=!1;e.hover((function(){r=!0,clearTimeout(n)}),(function(){r=!1,clearTimeout(n),e.hide()}));return function(){t&&t()||r||(e.show(),clearTimeout(n),n=setTimeout((function(){e.hide()}),i))}},urlAddParams:function(e,t){return e.includes("?")?e+"&"+t:e+"?"+t},clearWrap:function(e){e&&(e.unbind(),e.empty())},observeDivRemoval:function(e,t){new MutationObserver((function(i,n){var r=!0,a=!1,o=void 0;try{for(var s,c=i[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;if("childList"===l.type&&l.removedNodes.length>0){var u=!0,d=!1,p=void 0;try{for(var h,f=l.removedNodes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){if(h.value.contains(e))return t(),void n.disconnect()}}catch(e){d=!0,p=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}}}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}})).observe(e.parentNode,{childList:!0,subtree:!0})},isHuyaDomain:function(e){return/.*\.huya\.com/.test(e)},splitTextIntoSentences:function(e){return e.split(/[,;.!?！；。，]/)},scrollbarPreventDefault:function(e){e.on("mousewheel",(function(t){var i=e.prop("scrollHeight"),n=e.prop("scrollTop"),r=e.prop("clientHeight");(0===n&&t.originalEvent.wheelDeltaY>0||i-n<=r&&t.originalEvent.wheelDeltaY<0)&&t.preventDefault()}))},getIntersection:function(e,t){return e.filter((function(e){return t.includes(e)}))},customAjaxRequst:function(e,t,i,n,r,a){console.log("customAjaxRequst:",e,t,n);var o={url:e,method:t,success:function(e){console.log("customAjaxRequst successful:",e),r&&r(e)},error:function(e,t,i){console.error("customAjaxRequst failed:",i),a&&a(i)}};i&&(o.contentType=i),n&&(o.data=n),$.ajax(o)},reportTimeByKey:function(e){if("performance"in window){var t=performance.timing.fetchStart,i=+new Date;console.log("reportTimeByKey",e,i-t),performanceInfo._hmt.push(["reportApiTime",e,"start",t,"",t]),performanceInfo._hmt.push(["reportApiTime",e,"end",i,"",t])}},getRelativePosition:function(e,t){var i=e.get(0),n=t.get(0);if(!i||!n)return console.error("元素不存在"),null;var r=i.getBoundingClientRect(),a=n.getBoundingClientRect();return{left:r.left-a.left,top:r.top-a.top,width:r.width,height:r.height}},delay:function(e){return new Promise((function(t){return setTimeout(t,e)}))}};e.exports=n},YKGR:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(t);var r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timers=new Map,this.interval=null}var t,i,r;return t=e,(i=[{key:"startTimer",value:function(e,t){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null===this.interval&&(this.interval=setInterval((function(){i.timers.forEach((function(e){if(e.time--,e.time<=0){try{e.callback()}catch(e){console.error(e)}e.executeOnce?i.removeTimer(e.key):e.time=e.originalTime}})),0===i.timers.size&&(clearInterval(i.interval),i.interval=null)}),1e3));var r=Symbol();return this.timers.set(r,{key:r,time:e,originalTime:e,callback:t,executeOnce:n}),r}},{key:"removeTimer",value:function(e){this.timers.delete(e),0===this.timers.size&&(clearInterval(this.interval),this.interval=null)}}])&&n(t.prototype,i),r&&n(t,r),e}());t.default=r},YNoF:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-stroll-banner">\n    <img>\n    <div class="content"></div>\n    <div class="btn"></div>\n</div>',__filename="src/tpl/danmu/stroll-banner.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-stroll-banner">\n    <img>\n    <div class="content"></div>\n    <div class="btn"></div>\n</div>'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"Z/W2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},r=function(){function e(t,i){void 0===t&&(t=n),void 0===i&&(i=e.emoticonEscapeMatcher),this.matcher=e.emoticonEscapeMatcher,this.parserHandler=t,this.matcher=i}return e.parse=function(t,i,r){return void 0===i&&(i=n),void 0===r&&(r=e.emoticonEscapeMatcher),(t&&"string"==typeof t?t.split(r):[]).map((function(e,t){var n;return 1==(1&t)?void 0!==(n=i(e))?n:e:e})).filter((function(e){return""!==e}))},e.prototype.parse=function(t,i){var n=this;return void 0===i&&(i=function(e){return e}),e.parse(t,(function(e){var t=n.parserHandler(e);return void 0!==t?i(t,e):e}),this.matcher)},e.emoticonEscapeRegExpCharacters="\\/\\{[\\w]+",e.emoticonNameRegExpCharacters="\\[.+?\\]",e.emoticonEscapeMatcher=new RegExp("("+e.emoticonEscapeRegExpCharacters+")"),e.emoticonNameMatcher=new RegExp("("+e.emoticonNameRegExpCharacters+")"),e}();t.default=r},Z1Y3:function(e,t,i){e.exports=function(e){var t,n=0,r=[],a=[],o=null,s=["","剑士","骑士","领主","公爵","君王","帝皇","超神·帝皇"],c=e.G,l=e.Event,u=e.R,d=e.ENV,p=e.ISDEBUG,h=e.utils,f=e.Console,m=e.logUtils,v=e.taf.HUYA,g=i("yfqf"),y=30;function _(e){if(!c.isShieldingEffect){var t=i("PxVJ")({id:L()}),n=$(t),r="";if(e.sSenderNick=h.xss(e.sSenderNick),e.sPresenterNick=h.xss(e.sPresenterNick),20269==e.iItemType)r="<c4>"+e.sSenderNick+"</c4> 的虎牙一号在 <c4>"+e.sPresenterNick+"</c4> 的直播间砸下空投",n.addClass("huyayihao");else{var a=c.newPropDict[e.iItemType];if(!a)return;r="<c4>"+e.sSenderNick+"</c4> 在 <c4>"+e.sPresenterNick+"</c4> 的直播间送出"+a.sPropsName}var o={type:5,iRoomId:e.lRoomId,lPid:e.lPresenterUid,itemType:e.iItemType};n.find("i").remove(),n.data("data",o),n.find("h3").html(r),x(n)}}function w(e){if(!c.isShieldingEffect){var t=e.tNobleInfo,n=t.tLevel.iNobleLevel;66==t.tLevel.iAttrType&&(n=7);var r=c.yyuid==e.lUid;if(n>=4){var a=D(t,n),o=i("3e+A")({id:L()}),s=$(o);s.find("i").addClass("noble-icon-base noble-icon-"+n),s.find("h3").html(a);var l={type:1,level:n,isOpen:1==t.iOpenFlag,lPid:t.lPid,lRoomId:t.lRoomId};s.data("data",l),x(s,r)}}}function S(e){if(!c.isShieldingEffect){var t=e.iAttrType,n=e.tNobleInfo,r=n.tLevel.iNobleLevel;66==t&&(r=7);var a=c.yyuid==e.lUid;if(r>=6){var o=D(n,r),s=i("3e+A")({id:L()}),l=$(s);l.find("i").addClass("noble-icon-base noble-icon-"+r),l.find("h3").html(o);var u={type:1,level:r,isOpen:1==n.iOpenFlag,lPid:n.lPid,lRoomId:n.lRoomId};l.data("data",u),x(l,a)}}}function b(e){if(!c.isShieldingEffect){e.sNick=h.setLongString(e.sNick,10),e.sGuardianNick=h.setLongString(e.sGuardianNick,10);var t=B(e),n=i("PxVJ")({id:L()}),r=$(n);r.find("h3").html(t),r.find("i").addClass("noble-icon-base guardianimg");var a={type:2,isOpen:0==e.iLastLevel};r.data("data",a),x(r,c.yyuid==e.lUid)}}function I(e){if(!c.isShieldingEffect){var t=e.vAwardUsers.value,n=[],r=[];e.sStarterNick=h.xss(e.sStarterNick),e.sTreasureName=h.xss(e.sTreasureName);for(var a=0,o=t.length;a<o;a++){var s=t[a];s.sUserNick=h.xss(s.sUserNick),s.sPrizeName=h.xss(s.sPrizeName),n.push("<c4>"+s.sUserNick+"</c4>"),r.push("<c4>"+s.sPrizeName+"</c4>")}var l=n.join("、");l+=" 获取了来自 <c4>"+e.sStarterNick+"</c4> 开启的",l+=e.sTreasureName,l+="，",l+=n.length>1?"分别获得了":"获得了",l+=r.join("、")+"的奖励，获得奖励的同学，嘴都笑烂啦！";var u=i("PxVJ")({id:L()}),d=$(u);d.find("i").remove(),d.find("h3").html(l);d.data("data",{type:3}),x(d)}}function E(e){if(!c.isShieldingEffect){var t=c.newPropDict[e.iItemType],n=c.newPropDict[e.iLotteryItemType];t&&n&&function(e){e.sSenderNick=h.xss(e.sSenderNick),e.sPidNick=h.xss(e.sPidNick);var t="<c4>"+e.sSenderNick+"</c4>";t+=" 赠送 <c4>"+e.sPidNick+" </c4>",t+=c.newPropDict[e.iItemType].sPropsName,e.iItemCount>1&&(t+="x"+e.iItemCount);t+="，抽出惊喜大奖",t+="<c4>"+c.newPropDict[e.iLotteryItemType].sPropsName+"</c4>",e.iLotteryItemCount>1&&(t+="x"+e.iLotteryItemCount);var n=i("PxVJ")({id:L()}),r=$(n);r.find("i").addClass("noble-icon-base lotteryIcon"),r.find("h3").html(t);r.data("data",{type:6}),x(r)}(e)}}function T(e){if(!c.isShieldingEffect){var t=e.content,n=i("PxVJ")({id:L()}),r=$(n);r.find("i").remove(),e.color&&r.find("h3").css({color:e.color});r.data("data",{type:3}),r.find("h3").html(t),x(r)}}function k(e){if(!c.isShieldingEffect){var t=e.vItem.value,n=i("PxVJ")({id:L()}),r=M(t),a=$(n);a.find("i").remove();a.data("data",{type:3}),a.find("h3").html(r),x(a)}}function C(e){if(!c.isShieldingEffect){var t=e.sBGUrl,n=e.vElem.value;try{t=h.unescapeHTML(t);var r=JSON.parse(t);f.log("onTreasureBoxBigAwardNotice",r);var a=r.web_lamp;if(a){var o=i("ukce")({id:L()}),s=M(n),l=$(o),u={type:8};g.getPngListData((function(e){f.log("getPngListData",e),u.urlData=e.dataArr,l.data("data",u),l.find("h3").html(s),x(l)}),a)}}catch(e){f.log("onTreasureBoxBigAwardNotice parse error",e)}}}function x(e,t){t?r.unshift(e):(r.length>y&&(r=r.slice(5)),r.push(e)),n||(n=setInterval(R,1e3))}function A(){r=[]}function R(){var i=0;o&&(i=o.position().left+o.width()+50);var s=$(d.idDom).width();if(r.length>0&&i<=s){var l=!0,h=0;if((x=r.shift()).isData)l=!1,e.bannerEnter.render(x).then((function(e){(x=$(e)).css({transition:"transform 10s linear",transform:"translateX("+s+"px)"}),t.append(x);var i=x.data("data");i.onStep(x,i),P(x)})).catch((function(e){f.log("bannerEnter.render",e),x.isError=!0})),h=4;else{(x=$(x)).css({transition:"transform 10s linear",transform:"translateX("+s+"px)"}),t.append(x),h=(A=x.data("data")).type}if(1==h){var v=A.level,g=x.find("h3").width();A.isOpen&&v>=4?(x.find(".bg-left").addClass("bg-left-"+v),x.find(".bg-right").addClass("bg-right-"+v),x.find(".bg-center").addClass("bg-center-"+v),7==v&&A.lPid+""!=c.presenterUid+""&&(x.css("cursor","pointer"),x.click((function(){if(A.lRoomId){var e="//www.huya.com/"+A.lRoomId;p&&(e="//test-www.huya.com/"+A.lRoomId),window.open(e)}})))):(x.find(".bg-left").addClass("bg-left-1"),x.find(".bg-right").addClass("bg-right-1"),x.find(".bg-center").addClass("bg-center-1")),x.find(".bg-center").css("width",g+30),x.css("width",g+72)}else if(2==h){g=x.find("h3").width();var y="RGBA(0,0,0,0.5)";A.isOpen&&(y="RGBA(255,96,152,0.8)"),x.find("i").css("top",-1),x.find("h3").css("left",45),x.css({background:y,width:g+60})}else if(3==h){g=x.find("h3").width(),y="RGBA(0,0,0,0.5)";x.find("h3").css({left:20}),x.css({background:y}),x.css({width:g+40})}else if(4==h);else if(5==h){x.css("pointer-events","auto"),x.find("h3").css("left",40);g=x.find("h3").width(),y="RGBA(0,0,0,0.7)";x.css({background:y,width:g+50});var _=Math.floor((s+x.width())/10);x.click((function(){if(A.lPid+""!=c.presenterUid+""){if(A.iRoomId){var e="//www.huya.com/"+A.iRoomId;p&&(e="//test-www.huya.com/"+A.iRoomId),window.open(e)}A.itemType&&u.huyuReport("click/marquee/",null,A.itemType)}m.addLog("跑马灯点击跳转 lPid:iRoomId"+A.lPid+":"+A.iRoomId)})),x.hover((function(){x.css({transition:"",transform:"translateX("+x.position().left+"px)"})}),(function(){var e=(x.position().left+x.width())/_;x.css({transition:"transform "+e+"s linear"});var t=x.width()+5;x.css({transform:"translateX("+-t+"px)"})}))}else if(6==h){x.find("h3").css("left",40);g=x.find("h3").width(),y="RGBA(0,0,0,0.5)";x.css({background:y,width:g+50})}else if(7==h){var w=x.find("h3").outerWidth()+x.find(".activity-danmu-jump-btn").outerWidth()+81;x.css({width:w})}else if(8==h){var S=A.urlData,b=x.find(".bg-left"),I=x.find(".bg-right"),E=x.find(".bg-center");b.attr("src",N(S,"left")),I.attr("src",N(S,"right"));g=x.find("h3").width();l=!1,b[0].onload=function(){var e=b.width(),t=b.height();E.css("background","url(".concat(N(S,"center"),") repeat-x"));var i={width:g,height:t,margin:"0 ".concat(e,"px")};E.css(i),x.find("h3").css("left",e),x.css({width:g+2*e,height:t}),P(x)},b[0].onerror=function(){x.isError=!0}}l&&P(x)}for(var T=[],k=0,C=a.length;k<C;k++){var x;if((x=a[k]).position().left<=-x.width()||x.isError){var A=x.data("data");A&&A.frameAni&&A.frameAni.clear(),x.unbind(),x.remove(),T.push(k),o===x&&(o=null)}}for(k=T.length-1;k>=0;k--)a.splice(T[k],1);0==r.length+a.length&&(clearInterval(n),n=0)}function P(e){o=e;var t=e.width()+5;e.css({transform:"translateX("+-t+"px)"}),a.push(e)}function L(){var e=L.id||0;return L.id=++e,L.id}function M(e){var t="";for(var i in e){var n=e[i];n.sContent=h.xss(n.sContent),t+="<span style='color:"+n.sColor+"'>"+n.sContent+"</span>"}return t}function D(e,t){var i="",n=1==e.iOpenFlag;e.sNickName=h.xss(e.sNickName),e.sPNickName=h.xss(e.sPNickName),i+=n?"<noname"+t+">"+e.sNickName+" </noname"+t+">":"<nxname>"+e.sNickName+" </nxname>";var r="";return e.lTid>0&&(e.lTid==c.topsid&&e.lSid==c.subsid?r+="在 本直播间":e.sPNickName&&(r+="在 "+e.sPNickName+" 的直播间")),r+=n?"开通 ":"续费 ",i+=n?"<nobase"+t+">"+r+"</nobase"+t+">":"<nxbase>"+r+"</nxbase>",r="",r+=n||7!=t?s[t]:s[t-1],n||(r+="X"+e.iMonths),i+=n?"<noname"+t+">"+r+"</noname"+t+">":"<nxname>"+r+"</nxname>"}function B(e){var t=e.iLastLevel;e.sGuardianNick=h.xss(e.sGuardianNick),e.sNick=h.xss(e.sNick),content="<sh{o}name> "+e.sGuardianNick+"<sh{o}name>";t=0==e.iLastLevel;var i=" 为 "+e.sNick;i+=t?" 开通":" 续费",i+="守护",content+="<sh{o}base>"+i+"<sh{o}base>";var n=Math.round(e.iOpenDays/30);return n>0&&(content+="<sh{o}name>"+"X".concat(n)+"<sh{o}name>"),e.iLevel&&(i="，荣升",content+="<sh{o}base>"+i+"<sh{o}base>",i="V"+e.iLevel,content+="<sh{o}name>"+i+"<sh{o}name>"),content=content.replace(/\{o\}/gi,t?"o":"x"),content}function N(e,t){for(var i in e)if(e[i].key==t)return e[i].url;return""}localStorage.noMarquee||(t=$("#player-marquee-wrap"),e.addTafListener("1001",w),e.addTafListener("1006",S),e.addTafListener("6602",I),e.addTafListener("1020001",b),e.addTafListener("6290",k),e.addTafListener("6507",_),e.addTafListener("6617",E),e.addTafListener("6607",C),l.addEvent(l.SHOW_MARQUEE,T),l.addEvent(l.CLEAR_PLAYER_EFFECT,A)),this.addMarquee=x,this.enterBanner=function(e,t){e.isData=!0,e.type=4,x(e,t)},this.activityDanmu=function(e){e.data("data").type=7,x(e)},this.getMarqueeLength=function(){return c.isShieldingEffect?-1:r.length},window.testNewsTicker=function(){k({vItem:{value:[{sColor:"#FF0",sContent:"测试的测试"},{sColor:"#F00",sContent:"测试"}]}})},window.testTreasureBoxBigAwardNotice=function(){C({vElem:{value:[{sColor:"#FF0",sContent:"测试的测试"},{sColor:"#F00",sContent:"测试"}]},sBGUrl:"{&quot;app_lamp&quot;:&quot;https://hyweb-test.oss-cn-shenzhen.aliyuncs.com/leda/1e4b3b14189ae475081332f37618c499.png&quot;,&quot;web_lamp&quot;:&quot;https://hyweb-test.oss-cn-shenzhen.aliyuncs.com/leda/0aa77b24638fd83ed25f29b334fff6b6.zip&quot;}"})},window.testMarquee=function(e,t,i){e||(e=4),t||(t=Math.random()>.5?1:2),w({tNobleInfo:{iLevel:e,sNickName:"一二三四五六七",lTid:d.chTopId,sPNickName:"主播昵称",iOpenFlag:t,iMonths:3,tLevel:{iNobleLevel:e,iAttrType:i?66:0}}})},window.testTreasure=function(){var e=new v.TreasureResultBroadcastPacket;e.sStarterNick="小明同学";for(var t=[],i=0;i<3;i++)t.push({sUserNick:"XXX"+i,sPrizeName:15*Math.random()+1>>0});e.vAwardUsers.value=t,I(e)},window.testGuardian=function(){var e=new v.GuardianPresenterInfoNotice;e.iLevel=12,e.sNick="主播昵称",e.sGuardianNick="晓明同学",e.iLastLevel=12,e.iOpenDays=250*Math.random()+1>>0,b(e)},window.testNormalMarquee=function(){T({content:"用来测试差点大概是改动",color:"#fff"})},window.testHuyaYiHaoMarquee=function(){_({lRoomId:0,iItemType:20269,sSenderNick:"一二三四五六七八九十",sPresenterNick:"八个字的主播名字",lPresenterUid:123})},window.testLotteryMarquee=function(){E({iItemType:12,iLotteryItemType:12,sSenderNick:"八个字的观众名字",sPidNick:"八个字的主播名字",iItemCount:1,iLotteryItemCount:10})}}},ZQSS:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.R,a=e.utils,o=e.taf.HUYA,s=0,c=5;function l(){var i=new o.GetPresenterLiveScheduleInfoReq;i.tId=t.userId,i.lPresenterId=t.presenterUid,e.sendWup2("presenterui","getPresenterLiveScheduleInfo",i,u)}function u(e){t.sSchedule=e.sSchedule,t.sDescription=e.sDescription,n.fireEvent(n.FORENOTICE_UPDATE)}function d(){var e=i("T5u3")();$("#videoContainer").append(e);var n=t.sSchedule;""!=t.sDescription&&(n+=(""==t.sSchedule?"":"，")+t.sDescription);var o=$("#replay-forenotice").find("p");""==t.sSchedule&&""==t.sDescription?o.text("主播暂时不在播哦"):(n=a.unescapeHTML(n),o.text(n)),clearTimeout(s),s=setTimeout((function(){$("#replay-forenotice").remove(),r.huyuReport("click/zhibo/yugao/close")}),1e3*c)}t.wsconnected?l():n.addEvent(n.WEBSOCKET_INITED,l),t.isReplay&&n.addEvent(n.HLS_FIRST_PLAY,d)}},ZVwP:function(e,t,i){"use strict";i.r(t),i.d(t,"Ad_Brand",(function(){return n})),i.d(t,"Ad_Description",(function(){return r})),i.d(t,"Ad_QrcodeText",(function(){return a})),i.d(t,"Ad_ActionTxt",(function(){return o}));var n="精彩推荐",r="不容错过，邀您体验",a="扫码了解详情",o="了解详情"},ZjZ8:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.logUtils,a=e.ENV,o=e.R,s=e.utils,c=e.taf.HUYA,l=null,u=null,d=null,p=null,h=this,f=null,m=!1;function v(){I(),m&&n.fireEvent(n.SHOW_COMMON_TOAST,"直播已结束, 付费直播暂不支持生成直播回放")}function g(){if((t.hasVideo||t.isSecret)&&!t.isCopyright){var i=new c.GetLiveViewLimitInfoReq;i.tId=t.userId,i.lPid=t.presenterUid,e.sendWup2("wupui","getLiveViewLimitInfo",i,_)}}t.isUserInfoInited()?g():n.addEvent(n.USER_INFO_INITED,g),e.addTafListener("1035100",S),e.addTafListener("1035101",x),e.addTafListener("10047",k),n.addEvent(n.VIDEO_STOP,v),e.addTafListener("10048",C);var y=!1;function _(c){if(0==c.bcode){r.addLog("onGetLiveViewLimitInfo:"+JSON.stringify(c));var l=c.tLimitInfo,d=p=l,v=d.iLimitType,g=d.lRemainTime,_=d.sLimitMessage,w=d.sLimitTitle,S=d.sFreeWatchTips,T=d.iLiveType;I();var k=p.mpExtend.value,C=!s.objectIsEmpty(k),x=k.session_id||0,A=k.is_pay_live||0,R=k.user_view_type||0,P=k.can_free_watch||0,L=k.renewal_remind_text,M=k.pay_button_text,D=k.is_renewal;if(f={msg:_,title:w,session_id:x,is_pay_live:A,user_view_type:R,hasMpExtend:C,pay_button_text:M,sFreeWatchTips:S,is_renewal:D,payment_type:T},m="1"==A,C&&m){if(!y){var B={live_id:t.liveid,paylive_id:x,anchor_uid:t.presenterUid,room_id:a.profileRoom,game_id:t.gameId,type:P};o.newHuyaReport({eid_desc:"进入付费直播间后页面加载完成状态",eid:"state/paylive_show",prop:JSON.stringify(B)},"huya_web"),y=!0}if(R>0){var N={live_id:t.liveid,paylive_id:x,anchor_uid:t.presenterUid,room_id:a.profileRoom,game_id:t.gameId,type:R};o.newHuyaReport({eid_desc:"付费直播间成功开始观看状态",eid:"state/unlock_paylive_success",prop:JSON.stringify(N)},"huya_web")}}if(L&&E(L,p.sPayUrl),0!=v){if(3==v)b(1);else{if(1==v)return g>0&&(f.remainWatchTime=g,function(){if(null==u){var t=i("Olqj");u=new t(e,h)}u.setData(f),u.show()}()),void n.fireEvent(n.PAYMENT_WATCH_STATUS_CHANGE,0);2==v&&b(2)}n.fireEvent(n.PAYMENT_WATCH_STATUS_CHANGE,1)}else 1==t.paymentStatus&&(I(),n.fireEvent(n.PAYMENT_WATCH_STATUS_CHANGE,0))}}var w=0;function S(e){var i=e.lRandomDelayTimeMs,n=e.lPid;if(!n||n==t.presenterUid){var r=Math.random()*i;clearTimeout(w),w=setTimeout(g,r)}}function b(t){if(null==l){var n=i("4GXC");l=new n(e,h)}f.type=t,l.setData(f),l.show()}function I(){l&&l.hide(),u&&u.hide(),d&&d.hide()}function E(t,n){if(null==d){var r=i("n2ux");d=new r(e)}var a=f.session_id,o={text:t,jumpUrl:n,liveType:p.iLiveType,session_id:a};d.setData(o),d.show()}var T=0;function k(i){var r=i.sToast,a=i.tPrivilege,c=a.iType,l=a.iIsEnabled;2==c&&1==l&&(t.targetBitrate>=0&&(t.curBitRate=t.targetBitrate,e.getLivingInfo()),clearTimeout(T),T=setTimeout((function(){var e=t.getBitRateData();if(e){var i=e.sDisplayName,a=s.unescapeHTML(r);a=a.replace("<bitrate>","<span>".concat(i,"</span>")),n.fireEvent(n.SHOW_COMMON_TOAST_TOP,a);var c={title:a,quality:i,anchor_uid:t.presenterUid,game_id:t.gameId};o.newHuyaReport({eid_desc:"曝光使用高清画质卡切换成功toast",eid:"show/use_high_display_toast",prop:JSON.stringify(c)},"huya_web");n.addEvent(n.NEW_VIDEO,(function e(){n.removeEvent(n.NEW_VIDEO,e);var t="已开通高清画质权益，成功为你切换至".concat(i);n.fireEvent(n.SHOW_COMMON_TOAST_TOP,t)}))}}),1e3))}function C(i){var n=i.lUid,r=i.tPrivilege;if(n==t.yyuid){var a=r.iType,o=r.iIsEnabled;1==a&&1==o&&(t.targetBitrate>=0&&(t.curBitRate=t.targetBitrate),e.trigger("openUserGrowthPrivilegePopup",{open:0}),t.streamSetFlag=!0,e.vcore.stopVideo("用户观看权益开启"),t.vplayer.showLoading()),e.getLivingInfo()}}function x(e){var i=e.lPid;t.presenterUid==i&&E(e.sText,e.sJumpUrl)}this.openVip=function(t){var i=p,r={from:t,url:i.sPayUrl,liveType:i.iLiveType};e.trigger("openVip",r),n.fireEvent(n.QUIT_FULL_SCREEN)},this.showTip=b}},ZmLD:function(e,t,i){e.exports=function(e){var t=null,n=e.G,r=e.Event,a=e.R,o=(e.ENV,e.taf.HUYA),s=i("JBwn"),c=i("deC9"),l=null,u=0,d=null,p=null,h=!1,f=!0;function m(){var t=new o.ACGetRoomCreateOrderPrivilegeReq;t.tId=n.userId,t.lPid=n.presenterUid,e.sendWup2("accompanyui","acGetRoomCreateOrderPrivilege",t,v)}function v(e){var i=e.iIsMaster;if(1==e.iMode)u=1,a.newHuyaReport({eid_desc:"系统/页面展示/派单厅",eid:"sys/pageshow/dispatchroom",prop:JSON.stringify({scr_type:200}),uid:n.yyuid}),g();else{if(1!=i)return;u=2}t=$('<div class="accompany-icon"><div class="accompany-bg"></div><span>组队</span></div>'),$(".player-gift-left").append(t),t.click(b),t.show(),r.fireEvent(r.ACTIVITY_ICON_COUNT_UPDATE,{icon:$(".accompany-icon"),priority:1e3,key:"accompany",value:1})}function g(){var t=new o.MasterProfileInRoomReq;t.tId=n.userId,t.lPresenterUid=n.presenterUid,e.sendWup2("accompanyui","getMasterProfileInRoom",t,y)}function y(e){d=e,n.accMasterData=e,0==e.bcode&&(1!=f?E():f=!1)}function _(t){req=new o.ACGetUserMasterProfileReq,req.tId=n.userId,req.lUid=t||n.presenterUid,req.iIfGetEvStar=0,e.sendWup2("accompanyui","acGetUserMasterProfile",req,w)}function w(e){d=e,0==e.bcode&&E()}n.isUserInfoInited()?m():r.addEvent(r.USER_INFO_INITED,m),r.addEvent(r.SHOW_ACCOMPANY_PANEL,I),e.addTafListener("1060003",T);var S=0;function b(){if(!l||!l.getIsShow()){a.newHuyaReport({eid_desc:"用户/点击/通道下单按钮/派单厅",eid:"usr/click/channelorderbtn/dispatchroom",prop:"",uid:n.yyuid});var e=(new Date).getTime();S>0&&e-S<1e3||(h=!1,S=e,1==u?g():2==u&&_())}}function I(e){h=!0,_(e.uid)}function E(){null==l&&(l=new s(e,k)),l.show(u,d,h)}function T(t){var i=t.tMTInfo,r=t.tCTInfo,a=t.tOrderBase.iStatus;null==p&&(p=new c(e)),i.lUid==n.yyuid&&2==a&&p.show(2,r)}function k(t){null==p&&(p=new c(e)),p.show(1,t)}this.openAccompanyOrderPay=function(e){var t=e.uid;h=!0,_(t)},window.testshowUseOrderReminder=function(){null==p&&(p=new c(e)),p.show(2)}}},"a3+M":function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="accompany-order-reminder">\n    <div class="accompany-order-reminder-close"></div>\n    <div class="accompany-order-reminder-title">组队提醒</div>\n    <div class="accompany-order-reminder-icon"></div>\n    <div class="accompany-order-reminder-txt"></div>\n    <div class="accompany-order-reminder-btn">去私聊</div>\n<div>',__filename="src/tpl/accompany/accompany-order-reminder.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="accompany-order-reminder">\n    <div class="accompany-order-reminder-close"></div>\n    <div class="accompany-order-reminder-title">组队提醒</div>\n    <div class="accompany-order-reminder-icon"></div>\n    <div class="accompany-order-reminder-txt"></div>\n    <div class="accompany-order-reminder-btn">去私聊</div>\n<div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},aACw:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){var e=null,t=null,r=null,a=null,o=null,s=[];this.show=function(c){if(function(){if(null==e){var n=i("Dstj");e=new n({id:"alert",title:"提示",mask:!1,htmlText:""}),(t=$("<i></i>")).appendTo("#player-panel-alert"),r=$("#player-panel-alert .player-panel-content")}}(),function(){for(var e=0;e<s.length;e++)s[e].remove();s=[]}(),"string"==typeof c)var l="提示",u=c;else if("object"==n(c)){l=c.title||"提示",u=c.msg||"";var d=c.type||0,p=c.btnLabel,h=c.btnList,f=c.clickFun}o=c.clickFun||null,$("#player-panel-alert h2").text(l);var m=!!d;if(r.css({left:m?"95px":"75px",width:m?"190px":"200px"}),t.css("display",m?"block":"none"),1==d?t.attr("class","alert-icon-err"):2==d?t.attr("class","alert-icon-tip"):3==d&&t.attr("class","alert-icon-info"),h)for(var v in h){var g;(g=$("<button></button>")).appendTo("#player-panel-alert"),g.text(h[v]),g.show(),g.css("left",125+100*v),s.push(g),g.click((function(){e.hide(),null!=f[v]&&f[v]()}))}else p&&((a=$("<button></button>")).appendTo("#player-panel-alert"),a.text(p),a.show(),a.click((function(){e.hide(),null!=o&&o()})),s.push(a));r.html(u),e.show()},this.hide=function(){e&&e.hide()}},window.testAlert=function(){alert.show({msg:"藏宝图赠送成功，请耐心等待抽奖2",type:2,btnLabel:"确定",btnList:["确定","关闭"],clickFun:[function(){console.log("4444")},function(){console.log("555")}]})}},aj8K:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="public-screen-ab">\n    <div id="ab-banner">\n        <div class="banner-image">\n            <img/>\n            <div class="ab-qr-code-wrap">\n                <div class="ab-qr-code-container">\n                    <div class="ab-qr-code"></div>\n                </div>\n                <div class="ab-qr-code-desc"></div>\n            </div>\n        </div>\n        <div class="explain-group">\n            <div class="title"></div>\n            <div class="explain"></div>\n            <div class="details-btn-group">\n               <div id="details-btn-1" class="public-ab-details-btn">\n                    <div class="ab-qrcode-logo"></div>\n                    <span> </span>\n               </div>\n               <div id="details-btn-2" class="public-ab-details-btn">\n                    <div class="ab-qrcode-logo"></div>\n                    <span> </span>\n               </div>\n            </div>\n        </div>\n        <div class="glow-effect"></div>\n    </div>\n    <div class="ab-main">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc"></div>\n            <div class="details-btn2 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n        <div class="sound-btn sound-close"></div>\n        <div class="details-btn1 public-ab-details-btn">\n            <div class="ab-qrcode-logo"></div>\n            <span> </span>\n        </div>\n        <div class="vertical-video-details-group">\n            <div class="logo"><img/></div>\n            <div class="title"></div>\n            <div class="explain"></div>\n            <div class="details-btn2 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n        <div class="vertical-video-details-qrcode-group">\n            <div class="logo-group">\n                <div class="logo"><img/></div>\n                <div class="title"></div>\n            </div>\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc"></div>\n            <div class="details-btn3 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n    </div>\n    <div class="close-btn"></div>\n</div>\n',__filename="src/tpl/ad/publicscreen-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="public-screen-ab">\n    <div id="ab-banner">\n        <div class="banner-image">\n            <img/>\n            <div class="ab-qr-code-wrap">\n                <div class="ab-qr-code-container">\n                    <div class="ab-qr-code"></div>\n                </div>\n                <div class="ab-qr-code-desc"></div>\n            </div>\n        </div>\n        <div class="explain-group">\n            <div class="title"></div>\n            <div class="explain"></div>\n            <div class="details-btn-group">\n               <div id="details-btn-1" class="public-ab-details-btn">\n                    <div class="ab-qrcode-logo"></div>\n                    <span> </span>\n               </div>\n               <div id="details-btn-2" class="public-ab-details-btn">\n                    <div class="ab-qrcode-logo"></div>\n                    <span> </span>\n               </div>\n            </div>\n        </div>\n        <div class="glow-effect"></div>\n    </div>\n    <div class="ab-main">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc"></div>\n            <div class="details-btn2 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n        <div class="sound-btn sound-close"></div>\n        <div class="details-btn1 public-ab-details-btn">\n            <div class="ab-qrcode-logo"></div>\n            <span> </span>\n        </div>\n        <div class="vertical-video-details-group">\n            <div class="logo"><img/></div>\n            <div class="title"></div>\n            <div class="explain"></div>\n            <div class="details-btn2 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n        <div class="vertical-video-details-qrcode-group">\n            <div class="logo-group">\n                <div class="logo"><img/></div>\n                <div class="title"></div>\n            </div>\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc"></div>\n            <div class="details-btn3 public-ab-details-btn">\n                <div class="ab-qrcode-logo"></div>\n                <span> </span>\n            </div>\n        </div>\n    </div>\n    <div class="close-btn"></div>\n</div>\n'),__line=73;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ajCI:function(e,t,i){e.exports=function(e,t){var n,r=e.G,a=e.Event,o=e.utils,s=(e.ENV,e.Console),c=e.taf,l=c.AdxServer,u=c.Taf,d=.6,p=!1,h=!1,f=0,m=0,v=null,g=null,y=[],_=null,w=null,S=null,b={},I=t.adReport,E=null,T=null,k=0,C=i("ZVwP"),x=C.Ad_ActionTxt,A=C.Ad_Brand,R=C.Ad_Description,P=i("ErL0").detectAdBlockerByImg,L="",M={},D=0,B=0,N=0,U=!1,F=i("YKGR").default,O=null,H=null,G=0,V=0,W=2500,q=300,j=0,z=0;var Y=0;function J(){var t=g.adSceneType;(1==t||2==t)&&(clearTimeout(Y),"hidden"==document.visibilityState&&(Y=setTimeout((function(){document.removeEventListener("visibilitychange",J),L&&e.popupManager.nativePopupDeQueue({liveroomPopupKey:L,initiative:!1})}),18e4),document.addEventListener("visibilitychange",J)))}function K(){if(z++,le(),y.length<=0)return ce(),void(L&&e.popupManager.nativePopupDeQueue({liveroomPopupKey:L,initiative:!1}));b.adenv_round=z;var c=y.shift();!function(c,l){v=c,s.log("类赏金广告信息：",v);var u=c.videoUrl,m=c.imageUrl,y=c.sdkConf;w=o.unescapeHTML(y),S=JSON.parse(w);var C=u||l;U=e.huyaAD.isVertical(C,v),T=e.huyaAD.getQrcodeInfo(v),k=T.mode,b=e.huyaAD.setADEnv(v,b);var M="";M=U?i("gKsB")():i("5Vzf")();if((n=$(M)).addClass("new-ad-close-style"),_=n.find(".ab-close-2"),C)!function(t,r){null==t&&(t={videoUrl:r,isMp4:!0});if(null==E){var o=i("vNGJ");E=new o(e,Q,ee,te,ie,b)}E.startPlay(t,v,w);var s=v.extra.value.bgvolume;null!=s?d=s/100:p=!0;oe();var c=n.find("#sound");c.click(ae),c.show(),a.addEvent(a.VOLUME_CHANGE,ue)}(l,u);else{if(!m)return void e.popupManager.nativePopupDeQueue({liveroomPopupKey:L,initiative:!1});!function(t){var i=r.makeHttpsUrl(t),a=n.find(".ab-content"),o=$("<img />");P(o[0]).then((function(t){s.log("detectAdBlockerByImg广告图片可能被广告插件拦了！",r.adBlock,t),r.adBlock&&t?(e.huyaAD.reportExternalEvent(w,b,"adBlockPlugin"),se()):I.reportPageView(w,b)})),o.attr("src",i),a.prepend(o),Z(N=Math.min(f,N),0,!1,(function(){K()}))}(m)}(function(){if(null==O){var e=i("TTvI")();(O=$(e)).appendTo("#player-wrap")}})(),function(){var e=v.iconUrl;if(!0===U&&e){var t=n.find(".bg-img");t.css("background-image","url("+e+")"),t.css("background-size","cover"),t.css("background-clip","content-box"),t.css("background-repeat","no-repeat"),t.css("background-position","center center"),t.show()}}(),function(){if(!n)return;var e=v.actionTxt,t=n.find(".details-btn"),i="".concat(e||x);k>0&&t.addClass("qrcode-style");t.find("span").html(i)}(),function(){var e=v,t=e.iconUrl,i=e.title,r=e.brand;n.find(".ab-title").text(g.recText||"主播为你推荐"),n.find(".logo").attr("src",t),n.find(".brand").text(r||A),n.find(".explain").text(i||R)}(),function(){var e=g.pcWebBgPic,t=O.find(".bg");if(e)t.css("background","url(".concat(e,") no-repeat")),t.css("background-size","100% 100%");else{t&&t.empty();var i=v.iconUrl,n=$('<div class="big-bg-img"></div>');n.css("background-image","url("+i+")"),n.css("background-size","cover"),n.css("background-clip","content-box"),n.css("background-repeat","no-repeat"),n.css("background-position","center center"),t.append(n);var r=$('<div class="big-bg-cover"></div>');t.append(r)}t.hide(),t.fadeIn(200)}(),function(){if(0===k)return;var t=n.find(".ab-middle"),i=n.find(".ab-bottom"),r=function(){t.addClass("qr-code-mode-"+k),U&&t.addClass("qr-code-mode-vertical"),E&&E.pause()},a=function(){t.removeClass("qr-code-mode-1 qr-code-mode-2 qr-code-mode-vertical"),E&&E.play()};t.hover(r,a),i.hover(r,a);var o=T.qrcodeTips,s=T.qrcodeUrl,c=U?100:160,l=e.huyaAD.createQrcode(c,s);t.find(".ab-qr-code-container .ab-qr-code").append(l),t.find(".ab-qr-code-desc-btn").text(o),t.find(".ab-qr-code-desc").text(o)}(),n.click(ne),n.css("cursor",1!=k?"pointer":"default"),n.find(".ab-close").click((function(e){o.stopPropagation(e)})),_.click(re),h=!0,t.adStateChange(h),n.appendTo(O),n.hide(),U&&(n.addClass("vertical"),j=(H=v).title,z=H.brand,Y=o.splitTextIntoSentences(j||R),J=o.splitTextIntoSentences(z||A),D=Y.concat(J),B=0,n.find(".vertical-word").text(D[B]),F.removeTimer(V),V=F.startTimer(W/1e3,(function(){!function(e,t){var i=n.find(".vertical-word");i.fadeOut(q/2,(function(){i.text(e),i.fadeIn(q/2,t)}))}(D[B],(function(){++B>=D.length&&(B=0)}))}),!1));var D,B,H,j,z,Y,J;r.rewardAdStatus=1,clearTimeout(G),G=setTimeout((function(){n.fadeIn(200)}),100),X=O.find(".video-container"),0==X.find("#player-video").length&&X.append($("#player-video")),a.fireEvent("updateDoubleScreenStatus",0);var X}(c,function(t){var i=t.adExtCommonInfo,n=new u.JceInputStream(i.buffer),r=new l.AdExtCommonInfo;r.readFrom(n);var a=e.huyaAD.getVideoInfo(r);return s.log("AdExtCommonInfo:",r,a),a}(c))}function Z(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==H){var a=i("uvt+");H=new a(_[0],20,1,1e3*e,"rgba(255, 255, 255, 0.30)",(function(){r&&r()}))}n?H.setProgress(1e3*t,1e3*e):H.start()}function X(){var e=$("#player-wrap");try{$("#player-video").parent().is(e)||e.prepend($("#player-video"))}catch(t){s.error("resetVideo",t),e.prepend($("#player-video"))}a.fireEvent("updateDoubleScreenStatus",1)}function Q(e,t){var i=n.find(".ab-content");i.find(".ab-video").remove();var r=t||e;$(r).attr("class","ab-video"),i.append(r),ue(),I.reportPageView(w,b)}function ee(e,t){Z(t,e),e>=m&&te()}function te(e){s.log("广告播放结束",e),K()}function ie(){p=!0,soundBtn.hasClass("sound-close")||soundBtn.addClass("sound-close")}function ne(t){if(1!=k){o.stopPropagation(t),I.reportClick(w,b),e.huyaAD.openAdUrl(v,S);var i={style:"bigarea",area:"body",url:S.landingUrl};g.slotCode&&(i.slotcode=g.slotCode),e.huyaAD.huyaReportClick(v,i),0===k&&K(),e.popupManager.reportClickLiveRoomPopup(M,"body")}}function re(t){o.stopPropagation(t),I.reportClose(w,b),E&&E.onCloseReportVideo(),ce(),e.popupManager.nativePopupDeQueue({liveroomPopupKey:L});var i={slotcode:v.extra.value.slotCode,style:"bigarea",close_type:"close"};e.huyaAD.huyaReportClose(v,i)}function ae(e){o.stopPropagation(e),p=!p,oe(),ue()}function oe(){var e=n.find("#sound");e.removeClass("sound-close"),p&&e.addClass("sound-close")}function se(){L&&e.popupManager.nativePopupDeQueue({liveroomPopupKey:L,initiative:!1}),le(),y=[],clearTimeout(j),X(),O&&(O.remove(),O.unbind(),O=null),document.removeEventListener("visibilitychange",J),z=0}function ce(){y=[],r.rewardAdStatus=0,le(),O&&(O.addClass("video-out"),clearTimeout(j),j=setTimeout((function(){X(),O&&(O.remove(),O.unbind(),O=null,a.fireEvent("rewarADCloseFinish"))}),400))}function le(){E&&(E.clear(),a.removeEvent(a.VOLUME_CHANGE,ue)),n&&(n.remove(),n.unbind(),n=null),H&&(H.pause(),H=null),D&&F.removeTimer(D),V&&F.removeTimer(V),h=!1,clearTimeout(G),clearTimeout(Y)}function ue(){if(E){var e=p?0:r.volume/100*d;E.setVolume(e)}}this.isAdShowing=function(){return h},this.setData=function(t,i){g=t.roomAdInfo,L=g.popupWindowKey||i;var n=t.ads.value;if(!n||n.length<1)se();else{y=n.concat();var a=g,o=a.maxDuration,s=a.videoMaxDuration;f=o||30,m=s||60,g.env&&g.env.value&&(b=g.env.value),J(),r.mpExperiment&&(b.exp=r.mpExperiment);var c={liveroomPopupKey:L,showTime:1e3*f,unlimitedTime:!0};e.popupManager.nativePopupEnQueue(c,(function(e){M=e.data.reportParams,B=e.data.showTime,N=parseInt(B/1e3),clearTimeout(Y),K()}),(function(e){ce()}))}},this.clear=se}},alRd:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.alert,a=e.R,o=e.Event,s="gift_need_dialog",c=null,l=null,u=0,d="",p=!0,h=i("OpqI");function f(){var e="是否赠送 <gift-yellow>"+u+"个"+l.sPropsName+"</gift-yellow> 给";return e+=(n.curSendGiftData?n.curSendGiftData.nick:"主播")+"?"}function m(e){v(e),t.getSequenceReq(l.iPropsId,u,!1,!1,!1,d),t.giftMain.setCombo(l.iPropsId,u)}function v(e){e||localStorage.setItem(s+n.yyuid,1),p=e}p="1"!==localStorage.getItem(s+n.yyuid),this.sendGift=function(i,s,v,g){n.giftIsRefresh?o.fireEvent(o.SHOW_COMMON_TOAST,"礼物栏刷新中，请稍后再试"):(a.huyuReport("click/hudong/liwu"),l=i,u=s,n.isAllSendGift=g||!1,d=v||"giftbar",n.isLogin?n.isMakeFriend||!n.isVideoMaster()?n.curSendGiftData&&n.curSendGiftData.uid==n.presenterUid&&n.isVideoMaster()?r.show({msg:"主播不能给自己送礼物！",type:3}):p&&!n.isAllSendGift?(function(){c||(c=new h(e));var t=f();c.show(t,m)}(),t.giftMain.clearCombo()):t.getSequenceReq(l.iPropsId,u,!1,!1,!1,d):r.show({msg:"主播不能给自己送礼物！",type:3}):e.popLogin())},this.showDialogNew=function(t,i){return l=t,u=i,new Promise((function(t,i){if(p){c||(c=new h(e));var n=f();c.show(n,(function(e){v(e),t()}),i)}else t()}))}}},b0wA:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="gift-info-wrap">\n\t<div class="gift-info-bg"></div>\n\t<div class="gift-info-pane">\n\t\t<ul></ul>\n\t</div>\n\t<div class="gift-info-btn">\n\t\t展开礼物\n\t</div>\n</div>\n',__filename="src/tpl/gift/gift-info.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="gift-info-wrap">\n\t<div class="gift-info-bg"></div>\n\t<div class="gift-info-pane">\n\t\t<ul></ul>\n\t</div>\n\t<div class="gift-info-btn">\n\t\t展开礼物\n\t</div>\n</div>\n'),__line=10;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},bNM7:function(e,t,i){var n=i("6dBs"),r=[],a=i("3HMh"),o=function(e){var t=e.options;return t.pdground&&(e.row>1&&e.row<5&&e.col>1&&e.col<5||e.row>e.count-6&&e.row<e.count-2&&e.col>1&&e.col<5||e.row>1&&e.row<5&&e.col>e.count-6&&e.col<e.count-2)?t.pdground:t.foreground},s=function(e){"string"==typeof e&&(e={text:e}),this.options=n({},{text:"",render:"",size:256,correctLevel:3,background:"#ffffff",foreground:"#000000",image:"",imageSize:30},e);for(var t=null,i=0,o=r.length;i<o;i++)if(r[i].text==this.options.text&&r[i].text.correctLevel==this.options.correctLevel){t=r[i].obj;break}if(i==o&&(t=new a(this.options.text,this.options.correctLevel),r.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:t})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(t);case"table":return this.createTable(t);case"svg":return this.createSVG(t);default:return this.createDefault(t)}return this.createDefault(t)};n(s.prototype,{createDefault:function(e){if(document.createElement("canvas").getContext)return this.createCanvas(e);return document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.createSVG(e):this.createTable(e)},createCanvas:function(e){var t,i,n=this.options,r=document.createElement("canvas"),a=r.getContext("2d"),s=e.getModuleCount(),c=(i=(t=a).backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,(window.devicePixelRatio||1)/i),l=n.size,u=l*c,d=n.imageSize*c,p=(u/s).toPrecision(4),h=(u/s).toPrecision(4);r.width=u,r.height=u;for(var f=0;f<s;f++)for(var m=0;m<s;m++){var v=Math.ceil((m+1)*p)-Math.floor(m*p),g=Math.ceil((f+1)*p)-Math.floor(f*p),y=o({row:f,col:m,count:s,options:n});a.fillStyle=e.modules[f][m]?y:n.background,a.fillRect(Math.round(m*p),Math.round(f*h),v,g)}return n.image&&function(e,t){var i=new Image;i.src=e,i.onload=function(){t(this),i.onload=null}}(n.image,(function(e){var t=((u-d)/2).toFixed(2),i=((u-d)/2).toFixed(2);a.drawImage(e,t,i,d,d)})),r.style.width=l+"px",r.style.height=l+"px",r},createTable:function(e){var t=this.options,i=e.getModuleCount(),n=Math.floor(t.size/i),r=Math.floor(t.size/i);n<=0&&(n=i<80?2:1),r<=0&&(r=i<80?2:1);var a=[];a.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color:'.concat(t.background,';">'));for(var s=0;s<i;s++){a.push('<tr style="border:0px; margin:0px; padding:0px; height:'.concat(r,'px">'));for(var c=0;c<i;c++){var l=o({row:s,col:c,count:i,options:t});e.modules[s][c]?a.push('<td style="border:0px; margin:0px; padding:0px; width:'.concat(n,"px; background-color:").concat(l,'"></td>')):a.push('<td style="border:0px; margin:0px; padding:0px; width:'.concat(n,"px; background-color:").concat(t.background,'"></td>'))}a.push("</tr>")}if(a.push("</table>"),t.image){var u=n*i,d=r*i,p=((u-t.imageSize)/2).toFixed(2),h=((d-t.imageSize)/2).toFixed(2);a.unshift("<div style='position:relative;\n                        width:".concat(u,"px;\n                        height:").concat(d,"px;'>")),a.push("<img src='".concat(t.image,"'\n                        width='").concat(t.imageSize,"'\n                        height='").concat(t.imageSize,"'\n                        style='position:absolute;left:").concat(p,"px; top:").concat(h,"px;'>")),a.push("</div>")}var f=document.createElement("span");return f.innerHTML=a.join(""),f.firstChild},createSVG:function(e){var t=this.options,i=e.getModuleCount(),n=i/t.size,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width",t.size),r.setAttribute("height",t.size),r.setAttribute("viewBox","0 0 ".concat(i," ").concat(i));for(var a=0;a<i;a++)for(var s=0;s<i;s++){var c=document.createElementNS("http://www.w3.org/2000/svg","rect"),l=o({row:a,col:s,count:i,options:t});c.setAttribute("x",s),c.setAttribute("y",a),c.setAttribute("width",1),c.setAttribute("height",1),c.setAttribute("stroke-width",0),e.modules[a][s]?c.setAttribute("fill",l):c.setAttribute("fill",t.background),r.appendChild(c)}if(t.image){var u=document.createElementNS("http://www.w3.org/2000/svg","image");u.setAttributeNS("http://www.w3.org/1999/xlink","href",t.image),u.setAttribute("x",((i-t.imageSize*n)/2).toFixed(2)),u.setAttribute("y",((i-t.imageSize*n)/2).toFixed(2)),u.setAttribute("width",t.imageSize*n),u.setAttribute("height",t.imageSize*n),r.appendChild(u)}return r}}),e.exports=s},bQjk:function(e,t,i){var n,r,a,o;e.exports=(o=i("Ib8C"),i("OLod"),r=(n=o).lib.CipherParams,a=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return r.create({ciphertext:t})}},o.format.Hex)},bQv4:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-pause-btn" id="player-btn" title="暂停观看"></div>\n<div class="player-refresh-btn" title="刷新视频"></div>\n<div class="player-play-big"></div>\n<div class="player-app-qrcode">\n    <div class="text1">下载&nbsp虎牙直播APP</div>\n    <div class="text2">精彩赛事随时享</div>\n</div>\n<div id="player-subscribe-wap"></div>\n<div id="face-director-subscribe"></div>\n<div id="match-replay-progress"></div>\n<div class="player-ctrl-btn">\n    <span class="gift-show-btn" id="gift-show-btn">展开礼物</span>\n    <div class="player-back-live" title="返回直播">\n        <p></p>\n        <span>返回直播</span>\n        <div class="player-back-live-tips">发生了新的事件 ，快回到直播看看</div>\n    </div>\n    <div class="player-report-btn" title="问题反馈"></div>\n    <div class="player-sound-on" id="player-sound-btn" title="音量"></div>\n    <div class="sound-progress">\n        <span class="sound-bg"></span>\n        <span class="sound-bar" style="width:50%;"></span>\n        <span class="sound-btn" style="left:50%;"></span>\n    </div>\n    <div id="player-commentator-shield">\n        <div class="commentator-shield-btn">\n            <div class="icon-list"></div>\n            <div class="no-commentor"></div>\n            <div class="word">全部解说</div>\n        </div>\n    </div>\n    <div class="player-videotype">\n        <span class="player-videotype-cur">高清</span>\n        <div id="player-bitrate-tips" class="tip-bg-common">\n           <i>蓝光8M画质极致体<br>验，了解一下？</i>\n           <span>去看看</span>\n           <div class="player-bitrate-tips-close"></div>\n        </div>\n\n        <div id="player-flac-tips">\n           <i>在这里可以体验无损<br>音质哦~</i>\n           <div class="player-flac-tips-close"></div>\n        </div>\n\n        <div id="player-vr-switch-tips" class="tip-bg-common">\n            <i>切换全景和普通直播</i>\n            <div class="player-vr-switch-close"></div>\n        </div>\n        <div class="player-menu-panel">\n            <div class="player-menu-gap"></div>\n            <div class="player-vr-switch-wrap">\n                <span class="player-vr-model-txt">模式：</span>\n                <ul class="player-vr-model-list">\n                    <li class="on">全景模式</li>\n                    <li>普通模式</li>\n                </ul>\n            </div>\n            <div class="player-videoline-videotype">\n                <span class="player-videoline-txt">线路：</span>\n                <span class="player-videotype-txt">画质：</span>\n\n                <ul class="player-videotype-list">\n                    <li class="on">超清</li>\n                    <li>高清</li>\n                </ul>\n                <div class="player-videoline">\n                    <div class="player-videoline-cur">\n                        <span></span>\n                        <div class="triangle-down"></div>\n                    </div>\n                    <ul class="player-videoline-list">\n                        <li class="on">线路0</li>\n                        <li>线路1</li>\n                    </ul>\n                </div>\n            </div>\n            <div class="player-audio-wrap">\n                <div class="player-audio-txt">体验无损音质：</div>\n                <div id="player-audio-btn" class="audio-hide-btn">\n                    <span class="audio-btn-quan"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id="player-caption-swich-wrap">\n        <div id="player-caption-btn" class="player-ctrl-switch player-ctrl-switch-show " title="关闭字幕">\n            <span class="player-ctrl-switch-quan"></span>\n            <span class="player-ctrl-switch-txt">字幕</span>\n        </div>\n        <div id="player-caption-switch-panel">\n            <p>字体大小</p>\n            <p>不透明度</p>\n            <div class="caption-setting-size">\n                <li><span></span><i></i>大</li>\n                <li><span></span><i></i>中</li>\n                <li><span></span><i></i>小</li>\n            </div>\n            <div class="caption-alpha-progress">\n                <span class="caption-alpha-bg"></span>\n                <span class="caption-alpha-bar" style="width:50%;"></span>\n                <span class="caption-alpha-btn" style="left:50%;"></span>\n                <em></em>\n            </div>\n            <div class="caption-gap"></div>\n        </div>\n    </div>\n\n    <div id="player-danmu-wrap">\n        <div id="player-danmu-btn" class="player-ctrl-switch player-ctrl-switch-show " title="关闭弹幕">\n            <span class="player-ctrl-switch-quan"></span>\n            <span class="player-ctrl-switch-txt">弹幕</span>\n        </div>\n        <div class="player-danmu-pane">\n            <p>弹幕位置</p>\n            <p>字体大小</p>\n            <p>不透明度</p>\n            <div class="danmu-setting-area">\n                <li>\n                    <a class="type0"></a>\n                    <em>海量全屏</em>\n                </li>\n                <li>\n                    <a class="type1"></a>\n                    <em>全屏</em>\n                </li>\n                <li>\n                    <a class="type2"></a>\n                    <em>半屏</em>\n                </li>\n                <li>\n                    <a class="type3"></a>\n                    <em>上方</em>\n                </li>\n            </div> \n            <div class="danmu-setting-size">\n                <li><span></span><i></i>大</li>\n                <li><span></span><i></i>中</li>\n                <li><span></span><i></i>小</li>\n            </div>\n            <div class="danmu-alpha-progress">\n                <span class="danmu-alpha-bg"></span>\n                <span class="danmu-alpha-bar" style="width:50%;"></span>\n                <span class="danmu-alpha-btn" style="left:50%;"></span>\n                <em></em>\n            </div>\n            <div class="danmu-split-line"></div>\n            <div id="danmu-mask-set" class="danmu-switch-set danmu-switch-set-unable">\n                <i>画面防遮挡</i>\n                <div class="danmu-switch-btn danmu-switch-btn-hide">\n                  <div class="danmu-switch-quan"></div>\n                </div>\n            </div>\n            <div class="danmu-gap"></div>\n        </div>\n    </div>\n    <span id="shielding-effect">\n        <div class="shielding-effect-btn"></div>\n    </span>\n    <span class="player-fullpage-btn" title="剧场模式" id="player-fullpage-btn"></span>\n    <span class="player-fullscreen-btn" title="全屏" id="player-fullscreen-btn"></span>\n</div>\n<div class="player-full-input" id="player-full-input">\n    <input class="player-full-input-txt" id="player-full-input-txt" type="text" placeholder="按回车键可以快速发弹幕" maxlength="30">\n    <span class="player-full-input-num">0/30</span>\n    <span id="player-full-input-btn">发送</span>\n</div>',__filename="src/tpl/ctrl.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-pause-btn" id="player-btn" title="暂停观看"></div>\n<div class="player-refresh-btn" title="刷新视频"></div>\n<div class="player-play-big"></div>\n<div class="player-app-qrcode">\n    <div class="text1">下载&nbsp虎牙直播APP</div>\n    <div class="text2">精彩赛事随时享</div>\n</div>\n<div id="player-subscribe-wap"></div>\n<div id="face-director-subscribe"></div>\n<div id="match-replay-progress"></div>\n<div class="player-ctrl-btn">\n    <span class="gift-show-btn" id="gift-show-btn">展开礼物</span>\n    <div class="player-back-live" title="返回直播">\n        <p></p>\n        <span>返回直播</span>\n        <div class="player-back-live-tips">发生了新的事件 ，快回到直播看看</div>\n    </div>\n    <div class="player-report-btn" title="问题反馈"></div>\n    <div class="player-sound-on" id="player-sound-btn" title="音量"></div>\n    <div class="sound-progress">\n        <span class="sound-bg"></span>\n        <span class="sound-bar" style="width:50%;"></span>\n        <span class="sound-btn" style="left:50%;"></span>\n    </div>\n    <div id="player-commentator-shield">\n        <div class="commentator-shield-btn">\n            <div class="icon-list"></div>\n            <div class="no-commentor"></div>\n            <div class="word">全部解说</div>\n        </div>\n    </div>\n    <div class="player-videotype">\n        <span class="player-videotype-cur">高清</span>\n        <div id="player-bitrate-tips" class="tip-bg-common">\n           <i>蓝光8M画质极致体<br>验，了解一下？</i>\n           <span>去看看</span>\n           <div class="player-bitrate-tips-close"></div>\n        </div>\n\n        <div id="player-flac-tips">\n           <i>在这里可以体验无损<br>音质哦~</i>\n           <div class="player-flac-tips-close"></div>\n        </div>\n\n        <div id="player-vr-switch-tips" class="tip-bg-common">\n            <i>切换全景和普通直播</i>\n            <div class="player-vr-switch-close"></div>\n        </div>\n        <div class="player-menu-panel">\n            <div class="player-menu-gap"></div>\n            <div class="player-vr-switch-wrap">\n                <span class="player-vr-model-txt">模式：</span>\n                <ul class="player-vr-model-list">\n                    <li class="on">全景模式</li>\n                    <li>普通模式</li>\n                </ul>\n            </div>\n            <div class="player-videoline-videotype">\n                <span class="player-videoline-txt">线路：</span>\n                <span class="player-videotype-txt">画质：</span>\n\n                <ul class="player-videotype-list">\n                    <li class="on">超清</li>\n                    <li>高清</li>\n                </ul>\n                <div class="player-videoline">\n                    <div class="player-videoline-cur">\n                        <span></span>\n                        <div class="triangle-down"></div>\n                    </div>\n                    <ul class="player-videoline-list">\n                        <li class="on">线路0</li>\n                        <li>线路1</li>\n                    </ul>\n                </div>\n            </div>\n            <div class="player-audio-wrap">\n                <div class="player-audio-txt">体验无损音质：</div>\n                <div id="player-audio-btn" class="audio-hide-btn">\n                    <span class="audio-btn-quan"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id="player-caption-swich-wrap">\n        <div id="player-caption-btn" class="player-ctrl-switch player-ctrl-switch-show " title="关闭字幕">\n            <span class="player-ctrl-switch-quan"></span>\n            <span class="player-ctrl-switch-txt">字幕</span>\n        </div>\n        <div id="player-caption-switch-panel">\n            <p>字体大小</p>\n            <p>不透明度</p>\n            <div class="caption-setting-size">\n                <li><span></span><i></i>大</li>\n                <li><span></span><i></i>中</li>\n                <li><span></span><i></i>小</li>\n            </div>\n            <div class="caption-alpha-progress">\n                <span class="caption-alpha-bg"></span>\n                <span class="caption-alpha-bar" style="width:50%;"></span>\n                <span class="caption-alpha-btn" style="left:50%;"></span>\n                <em></em>\n            </div>\n            <div class="caption-gap"></div>\n        </div>\n    </div>\n\n    <div id="player-danmu-wrap">\n        <div id="player-danmu-btn" class="player-ctrl-switch player-ctrl-switch-show " title="关闭弹幕">\n            <span class="player-ctrl-switch-quan"></span>\n            <span class="player-ctrl-switch-txt">弹幕</span>\n        </div>\n        <div class="player-danmu-pane">\n            <p>弹幕位置</p>\n            <p>字体大小</p>\n            <p>不透明度</p>\n            <div class="danmu-setting-area">\n                <li>\n                    <a class="type0"></a>\n                    <em>海量全屏</em>\n                </li>\n                <li>\n                    <a class="type1"></a>\n                    <em>全屏</em>\n                </li>\n                <li>\n                    <a class="type2"></a>\n                    <em>半屏</em>\n                </li>\n                <li>\n                    <a class="type3"></a>\n                    <em>上方</em>\n                </li>\n            </div> \n            <div class="danmu-setting-size">\n                <li><span></span><i></i>大</li>\n                <li><span></span><i></i>中</li>\n                <li><span></span><i></i>小</li>\n            </div>\n            <div class="danmu-alpha-progress">\n                <span class="danmu-alpha-bg"></span>\n                <span class="danmu-alpha-bar" style="width:50%;"></span>\n                <span class="danmu-alpha-btn" style="left:50%;"></span>\n                <em></em>\n            </div>\n            <div class="danmu-split-line"></div>\n            <div id="danmu-mask-set" class="danmu-switch-set danmu-switch-set-unable">\n                <i>画面防遮挡</i>\n                <div class="danmu-switch-btn danmu-switch-btn-hide">\n                  <div class="danmu-switch-quan"></div>\n                </div>\n            </div>\n            <div class="danmu-gap"></div>\n        </div>\n    </div>\n    <span id="shielding-effect">\n        <div class="shielding-effect-btn"></div>\n    </span>\n    <span class="player-fullpage-btn" title="剧场模式" id="player-fullpage-btn"></span>\n    <span class="player-fullscreen-btn" title="全屏" id="player-fullscreen-btn"></span>\n</div>\n<div class="player-full-input" id="player-full-input">\n    <input class="player-full-input-txt" id="player-full-input-txt" type="text" placeholder="按回车键可以快速发弹幕" maxlength="30">\n    <span class="player-full-input-num">0/30</span>\n    <span id="player-full-input-btn">发送</span>\n</div>'),__line=167;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},bfkE:function(e,t,i){var n,r,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!

JSZipUtils - A collection of cross-browser utilities to go along with JSZip.
<http://stuk.github.io/jszip-utils>

(c) 2014 Stuart Knightley, David Duponchel
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip-utils/master/LICENSE.markdown.

*/o=function(){return function e(t,i,n){function r(s,c){if(!i[s]){if(!t[s]){if(!c&&"function"==typeof a&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};t[s][0].call(l.exports,(function(e){var i=t[s][1][e];return r(i||e)}),l,l.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){"use strict";function i(){try{return new window.XMLHttpRequest}catch(e){}}var n={_getBinaryFromXHR:function(e){return e.response||e.responseText}},r=window.ActiveXObject?function(){return i()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:i;n.getBinaryContent=function(e,t){try{var i=r();i.open("GET",e,!0),"responseType"in i&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.onreadystatechange=function(){var r,a;if(4===i.readyState)if(200===i.status||0===i.status){r=null,a=null;try{r=n._getBinaryFromXHR(i)}catch(e){a=new Error(e)}t(a,r)}else t(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText),null)},i.send()}catch(e){t(new Error(e),null)}},t.exports=n},{}]},{},[1])(1)},"object"==s(t)?e.exports=o():void 0===(r="function"==typeof(n=o)?n.call(t,i,t,e):n)||(e.exports=r)},btTV:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.R,a=e.ENV,o=e.ISDEBUG,s=e.utils,c=e.taf.HUYA;function l(c){c.iType;var l=i("yj1f")(),u=$(l).data("data",c),d=c.sDocPrefix+c.sDocTitle;u.find("h3").text(d);var p=s.xss(c.sDocJump);u.find("span").html(p),u.find("span").css("display",""==p?"none":"block"),u.click((function(){if(1==c.iType){var e=c.sWebUrl,i={};i.id=e.split("?")[0],i.param=e.split("?")[1],n.fireEvent(n.OPEN_ACTIVITY_PANNEL,i),r.newHuyaReport({eid_desc:"用户/点击/活动弹幕/直播间",eid:"usr/click/player-horsetips/liveroom",prop:JSON.stringify({pid:t.presenterUid,id:i.id}),uid:t.yyuid})}else if(2==c.iType){if(c.lRoomId==a.profileRoom)return;!function(e){var t="//www.huya.com/"+e;o&&(t="//test-www.huya.com/"+e);window.open(t)}(c.lRoomId),r.newHuyaReport({eid_desc:"用户/点击/活动弹幕/直播间",eid:"usr/click/player-horsetips/liveroom",prop:JSON.stringify({pid:t.presenterUid,id:t.presenterUid}),uid:t.yyuid})}})),e.marquee.activityDanmu(u);var h=1==c.iType?c.sWebUrl.split("?")[0]:t.presenterUid;r.newHuyaReport({eid_desc:"用户/展示/活动弹幕/直播间",eid:"usr/pageshow/player-horsetips/liveroom",prop:JSON.stringify({pid:t.presenterUid,id:h}),uid:t.yyuid})}e.addTafListener("6650",l),window.testActivityDanmu=function(e){var t=new c.ActivetyBarrageNotice;t.iType=1,t.sWebUrl="37?id=555&k=6",t.lRoomId="10007186",t.sDocPrefix="前缀",t.sDocTitle="测试数据XXXX",t.sDocJump="进入",l(t)}}},caot:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.ISDEBUG,a=e.ENV,o=e.Console,s="//live.huya.com/briefs/liverecommend?appid=16&gid=1&uid=0&type=1&callback=?",c="//www.huya.com/cache5min.php?m=LiveApi&do=getLiveGameId&uid=";r&&(c="//test-www.huya.com/cache5min.php?m=LiveApi&do=getLiveGameId&uid=");var l=i("tchx"),u=null;function d(){u||(u=new l(e),m()),u.show(),t.ishowRecommend=!0}function p(){(u=new l(e)).show(),u.isForbid=!0,m()}function h(){u&&u.hide(),t.ishowRecommend=!1}function f(){$.getJSON(s,(function(e){var t=JSON.parse(e.data);o.log("<=== RecommendList",t),u.setData(t)}))}function m(){if(a.gameId)s=(s=s.replace(/gid=(.+?)&/,"gid="+(a.gameId||1)+"&")).replace(/uid=(.+?)&/,"uid="+t.presenterUid+"&"),f();else{var e=c+a.eu;$.getJSON(e,(function(e){var i=e.data||1;s=(s=s.replace(/gid=(.+?)&/,"gid="+i+"&")).replace(/uid=(.+?)&/,"uid="+t.presenterUid+"&"),f()}))}}n.addEvent(n.SHOW_RECOMMEND,d),n.addEvent(n.HIDE_RECOMMEND,h),n.addEvent(n.SHOW_FORBID_RECOMMEND,p),this.onEndAdNotice=function(e){u&&u.onEndAdNotice(e)}}},coLX:function(e,t,i){e.exports=function(e){var t=e.G,n=e.Event,r=e.ENV,a=(e.utils,$("#player-video").width()),o=new Array(1),s=[],c=[],l={},u=0,d=null,p=0,h=100,f=100;function m(e){1==e&&(v(),d&&(clearTimeout(p),y(d)))}function v(){s=[],c=[]}function g(){for(var e=-1,t=0,i=o.length;t<i;t++)if(!o[t]){e=t;break}if(-1!=e){var n=null;if(c.length>0&&(n=c.shift()),!n&&s.length>0&&(n=s.shift()),n)n.data("data").line=e,o[e]=n,n.css("top",120*e+35),$(r.idDom).append(n),d=n,function(e){var t=e.data("data");w(e,1);var i=S(t),n={"will-change":"transform","-webkit-transition":"transform .3s ease",transition:"transform .3s ease"};n["-webkit-transform"]="translateX("+(a+i)+"px) translateZ(0)",n.transform="translateX("+(a+i)+"px) translateZ(0)",e.css(n),clearTimeout(p),p=setTimeout((function(){var t=a-i>>1;e.css({"-webkit-transform":"translateX(".concat(t,"px)"),transform:"translateX(".concat(t,"px)")}),e.bind("transitionend webkitTransitionEnd",(function(){e.unbind("transitionend webkitTransitionEnd"),function(e){if(w(e,2),localStorage.mytest)return;var t=e.data("data"),i=12==t.iItemType||20269==t.iItemType?t.iShowTime:3.5;void(u=s.length>=10?1:s.length>=5?.5:0),i-=u,"question"==t.bannerType&&(i=t.iShowTime);clearTimeout(p),p=setTimeout((function(){w(e,3),e.fadeOut("normal",(function(){y(e)}))}),1e3*i)}(e)}))}),500)}(n)}}function y(e){w(e,4);var t=e.data("data");!function(e,t){if(!t.upgradePropKey)return;for(var i in l){var n=l[i];for(var r in n)if(e==n[r]&&(n.splice(r,1),0==n.length))return void delete l[i]}}(e,t),t&&t.frameAni&&t.frameAni.clear(),o[t.line]=null,e.unbind(),e.remove(),d=null,g()}function _(){a=$("#player-video").width();for(var e=0,t=o.length;e<t;e++){var i=o[e];if(i){var n=i.data("data"),r=n.state,s=S(n);2!=r&&3!=r||i.css({"-webkit-transform":"translateX(".concat(a-s>>1,"px)"),transform:"translateX(".concat(a-s>>1,"px)")})}}}function w(e,t){if(e){var i=e.data("data");i&&(i.state=t)}}function S(e){return"drop"==e.bannerType||"question"==e.bannerType?600:720}function b(e){for(var t=0;t<c.length;t++)if(c[t]==e)return void c.splice(t,1);for(var i=0;i<s.length;i++)if(s[i]==e)return void s.splice(i,1)}$(r.idDom).resize(_),n.addEvent(n.CLEAR_PLAYER_EFFECT,v),n.addEvent(n.PLAYER_FLOAT,m),new(i("UQ7f"))(e),this.newId=function e(){var t=e.id||0;return e.id=++t},this.getWidth=S,this.addBanner=function(e,i){if(1!=t.videoFloatStatus){var n=e.data("data");t.ishowRecommend||"hidden"!=t.visibilityState&&(i=parseInt(i),isNaN(i)?(s.push(e),s.length>f&&(s=s.slice(5))):(c.push(e),c.length>f&&(c=c.slice(5))),function(e,t){if(!t.upgradePropKey)return;var i=t.upgradePropKey;l[i]=l[i]||[],l[i].push(e);var n=l[i];if(n.length>h){for(var r=[],a=0;a<n.length;a++){var o=(e=n[a]).data("data");o&&0==o.iUpgradeLevel&&(b(e),r.push(a))}for(var s=r.length-1;s>=0;s--){var c=r[s];n.splice(c,1)}if(0==n.length)delete l[i]}}(e,n),w(e,0),g())}},this.getBannerLength=function(){return t.isShieldingEffect?-1:c.length+s.length}}},csDN:function(e,t,i){e.exports=function(e,t,n){var r,a,o,s=e.utils,c=e.R,l=e.G,u=e.Event,d=e.Console,p=null,h=null,f=null,m=0,v=!0,g=[30,26,22],y=0,_=0,w=203,S=!1,b=0,I=-1,E=null,T=null,k=!1,C=0;function x(e){for(var i=e.currentTarget,n=0,r=E.length;n<r;n++){var a=E[n];a==i?($(a).addClass("on"),localStorage.captionSize=n,t.setWordSize(g[n])):$(a).removeClass("on")}}function A(e){a.css("left",e+"px"),o.css("width",e+"px");var i=(e-_)/(w-_)*100>>0;I!=i&&(I=i,r.find("em").text(i+"%"),t.setAlpha(i/100),localStorage.captionAlpha=(.01*i).toFixed(2))}function R(e){if(S){var t=e.pageX-y-b;A(t=(t=t<_?_:t)>w?w:t)}}function P(){S=!1,$(document).unbind("mousemove",R),$(document).unbind("mouseup",P)}function L(e){s.stopPropagation(e),e.offsetX-_>w||(e.target!=a[0]&&A(e.offsetX-_),S=!0,b=s.getPos(r[0]).left,y=e.pageX-s.getPos(a[0]).left,$(document).mousemove(R),$(document).mouseup(P))}function M(){(v=!v)?h.show():h.hide(),localStorage.captionopen=v?1:0,D(),c.newHuyaReport({eid_desc:"用户/点击/设置/实时字幕",eid:"usr/click/setting/realtime_subtitle",prop:JSON.stringify({ayyuid:l.presenterUid,status:v?1:0}),uid:l.yyuid})}function D(){v?(f.attr("title","关闭字幕"),f.removeClass("player-ctrl-switch-hide")):(f.attr("title","开启字幕"),f.addClass("player-ctrl-switch-hide")),t.setCaptionShow(v)}function B(){k||(clearTimeout(m),v&&h.show())}function N(){clearTimeout(m),m=setTimeout((function(){h.hide()}),300)}function U(){!function(){if(null!=localStorage.captionopen)return;if(localStorage.captionTip)return;if(v)return;var e=i("ht5b")();(T=$(e)).appendTo(p),T.find(".guide-btn").click(H),localStorage.captionTip=1,k=!0,u.fireEvent(u.ACTIVE_SHOW_CTRL,5e3),T.hover(F,O),O(),c.newHuyaReport({eid_desc:"系统/曝光/提示/实时字幕",eid:"sys/pageshow/tip/realtime_subtitle",prop:JSON.stringify({game_id:l.gameId,yyuid:l.yyuid})})}()}function F(){clearTimeout(C)}function O(){clearTimeout(C),C=setTimeout(G,5e3)}function H(){G(),M(),c.newHuyaReport({eid_desc:"用户/点击/提示/实时字幕",eid:"usr/click/tip/realtime_subtitle",prop:JSON.stringify({game_id:l.gameId,yyuid:l.yyuid})}),u.fireEvent(u.SHOW_COMMON_TOAST,"实时字幕已开启")}function G(){clearTimeout(C),k=!1;var e=$("#player-caption-switch-guide");e.fadeOut("normal",(function(){e.unbind(),e.remove()}))}p=$("#player-caption-swich-wrap"),h=$("#player-caption-switch-panel"),f=p.find("#player-caption-btn"),r=p.find(".caption-alpha-progress"),a=p.find(".caption-alpha-btn"),o=p.find(".caption-alpha-bar"),p.hover(B,N),f.click(M),r.mousedown(L),(E=p.find(".caption-setting-size li")).click(x),function(){var e=localStorage.captionSize;isNaN(e)&&(e=1),e=parseInt(e);for(var i=0,r=g.length;i<r;i++)if(e==i){t.setWordSize(g[i]),localStorage.captionSize=e;var a="li:eq(x)".replace("x",i);p.find(".caption-setting-size "+a).addClass("on");break}var o=localStorage.captionAlpha;o=parseFloat(o),isNaN(o)&&(o=1),o=Math.min(o,1),o=Math.max(o,0),A((w-_)*o+_);var c=!1;try{n=s.unescapeHTML(n),n=JSON.parse(n),c=n.isDefaultOn}catch(e){d.log(e)}var l=localStorage.captionopen;isNaN(l)&&(l=c?1:0),v="0"!=l,D()}(),u.addEvent(u.IS_IN_LOW_VOLUME,U),l.volume<=10&&U(),this.show=function(){p.show()},this.hide=function(){p.hide()}}},cv67:function(e,t,i){var n;e.exports=(n=i("Ib8C"),function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],_=e[t+8],w=e[t+9],S=e[t+10],b=e[t+11],I=e[t+12],E=e[t+13],T=e[t+14],k=e[t+15],C=a[0],x=a[1],A=a[2],R=a[3];C=l(C,x,A,R,o,7,s[0]),R=l(R,C,x,A,c,12,s[1]),A=l(A,R,C,x,h,17,s[2]),x=l(x,A,R,C,f,22,s[3]),C=l(C,x,A,R,m,7,s[4]),R=l(R,C,x,A,v,12,s[5]),A=l(A,R,C,x,g,17,s[6]),x=l(x,A,R,C,y,22,s[7]),C=l(C,x,A,R,_,7,s[8]),R=l(R,C,x,A,w,12,s[9]),A=l(A,R,C,x,S,17,s[10]),x=l(x,A,R,C,b,22,s[11]),C=l(C,x,A,R,I,7,s[12]),R=l(R,C,x,A,E,12,s[13]),A=l(A,R,C,x,T,17,s[14]),C=u(C,x=l(x,A,R,C,k,22,s[15]),A,R,c,5,s[16]),R=u(R,C,x,A,g,9,s[17]),A=u(A,R,C,x,b,14,s[18]),x=u(x,A,R,C,o,20,s[19]),C=u(C,x,A,R,v,5,s[20]),R=u(R,C,x,A,S,9,s[21]),A=u(A,R,C,x,k,14,s[22]),x=u(x,A,R,C,m,20,s[23]),C=u(C,x,A,R,w,5,s[24]),R=u(R,C,x,A,T,9,s[25]),A=u(A,R,C,x,f,14,s[26]),x=u(x,A,R,C,_,20,s[27]),C=u(C,x,A,R,E,5,s[28]),R=u(R,C,x,A,h,9,s[29]),A=u(A,R,C,x,y,14,s[30]),C=d(C,x=u(x,A,R,C,I,20,s[31]),A,R,v,4,s[32]),R=d(R,C,x,A,_,11,s[33]),A=d(A,R,C,x,b,16,s[34]),x=d(x,A,R,C,T,23,s[35]),C=d(C,x,A,R,c,4,s[36]),R=d(R,C,x,A,m,11,s[37]),A=d(A,R,C,x,y,16,s[38]),x=d(x,A,R,C,S,23,s[39]),C=d(C,x,A,R,E,4,s[40]),R=d(R,C,x,A,o,11,s[41]),A=d(A,R,C,x,f,16,s[42]),x=d(x,A,R,C,g,23,s[43]),C=d(C,x,A,R,w,4,s[44]),R=d(R,C,x,A,I,11,s[45]),A=d(A,R,C,x,k,16,s[46]),C=p(C,x=d(x,A,R,C,h,23,s[47]),A,R,o,6,s[48]),R=p(R,C,x,A,y,10,s[49]),A=p(A,R,C,x,T,15,s[50]),x=p(x,A,R,C,v,21,s[51]),C=p(C,x,A,R,I,6,s[52]),R=p(R,C,x,A,f,10,s[53]),A=p(A,R,C,x,S,15,s[54]),x=p(x,A,R,C,c,21,s[55]),C=p(C,x,A,R,_,6,s[56]),R=p(R,C,x,A,k,10,s[57]),A=p(A,R,C,x,g,15,s[58]),x=p(x,A,R,C,E,21,s[59]),C=p(C,x,A,R,m,6,s[60]),R=p(R,C,x,A,b,10,s[61]),A=p(A,R,C,x,h,15,s[62]),x=p(x,A,R,C,w,21,s[63]),a[0]=a[0]+C|0,a[1]=a[1]+x|0,a[2]=a[2]+A|0,a[3]=a[3]+R|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var a=e.floor(n/4294967296),o=n;i[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,r,a,o){var s=e+(t&i|~t&n)+r+o;return(s<<a|s>>>32-a)+t}function u(e,t,i,n,r,a,o){var s=e+(t&n|i&~n)+r+o;return(s<<a|s>>>32-a)+t}function d(e,t,i,n,r,a,o){var s=e+(t^i^n)+r+o;return(s<<a|s>>>32-a)+t}function p(e,t,i,n,r,a,o){var s=e+(i^(t|~n))+r+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5)},cyOM:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="ext-ab-wrap">\n    <div class="ext-ab-content">\n        <img class="bg-img"/>\n        <div class="bg-cover"></div>\n        <div id="ext-ab"></div>\n        <div class="banner-bottom">\n            <img class="banner-icon"/>\n            <div class="group-text title"></div>\n            <div class="group-text explain"></div>\n            <div class="details-btn">了解详情</div>\n        </div>\n        <div class="banner-group-end">\n            <img class="banner-icon"/>\n            <div class="group-text title"></div>\n            <div class="group-text explain"></div>\n            <div class="details-btn">了解详情</div>\n            <div class="logo-text">广告</div>\n        </div>\n    </div>\n    <div id="sound">\n        <div class="sound-icon"></div>\n    </div>\n    <div class="ext-ab-close">\n        <div class="small-logo"></div>\n        <i id="ext-ab-time"></i>\n        <div class="line"></div>\n        <i>关闭广告</i>\n    </div>\n\n    <div class="popup-pannel">\n        <div class="reward-text"></div>\n        <div class="big-icon-bg">\n            <div class="big-icon"></div>\n        </div>\n        <div class="btn-list">\n            <div class="btn leave">残忍放弃</div>\n            <div class="btn goon">继续观看</div>\n         </div>\n    </div>\n</div>\n',__filename="src/tpl/ad/ext-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="ext-ab-wrap">\n    <div class="ext-ab-content">\n        <img class="bg-img"/>\n        <div class="bg-cover"></div>\n        <div id="ext-ab"></div>\n        <div class="banner-bottom">\n            <img class="banner-icon"/>\n            <div class="group-text title"></div>\n            <div class="group-text explain"></div>\n            <div class="details-btn">了解详情</div>\n        </div>\n        <div class="banner-group-end">\n            <img class="banner-icon"/>\n            <div class="group-text title"></div>\n            <div class="group-text explain"></div>\n            <div class="details-btn">了解详情</div>\n            <div class="logo-text">广告</div>\n        </div>\n    </div>\n    <div id="sound">\n        <div class="sound-icon"></div>\n    </div>\n    <div class="ext-ab-close">\n        <div class="small-logo"></div>\n        <i id="ext-ab-time"></i>\n        <div class="line"></div>\n        <i>关闭广告</i>\n    </div>\n\n    <div class="popup-pannel">\n        <div class="reward-text"></div>\n        <div class="big-icon-bg">\n            <div class="big-icon"></div>\n        </div>\n        <div class="btn-list">\n            <div class="btn leave">残忍放弃</div>\n            <div class="btn goon">继续观看</div>\n         </div>\n    </div>\n</div>\n'),__line=41;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},deC9:function(e,t,i){e.exports=function(e){var t=null,n=null,r=e.ISDEBUG,a=e.R,o=e.G,s=1;function c(){localStorage.accTipTime&&!isNaN(localStorage.accTipTime)||(localStorage.accTipTime=0),localStorage.accTipTime<3&&(e.trigger("showAccompanyTips","可以在个人中心查看陪玩订单喔~"),localStorage.accTipTime++),u()}function l(){var e=encodeURIComponent(n.lUid),t=encodeURIComponent(n.sNickName),i=encodeURIComponent(n.sAvatarUrl),c="https://i.huya.com/index.php?m=Msg&do=listMsg&uid="+e+"&userNick="+t+"&userIcon="+i;if(r)c="//test-i.huya.com/index.php?m=Msg&do=listMsg&uid="+e+"&userNick="+t+"&userIcon="+i;window.open(c),u(),1==s&&a.newHuyaReport({eid_desc:"用户/点击/去私聊按钮/派单厅-下单成功弹窗",eid:"usr/click/messagebtn/dispatchroom",prop:"",uid:o.yyuid})}function u(){t.unbind(),t.remove()}this.show=function(e,r){t&&u(),n=r,s=e;var d=i("a3+M")();t=$(d),$("#videoContainer").append(t),$(".accompany-order-reminder-close").click(c);var p="";1==e?(p="组队成功！快去跟大神聊聊吧~",$(".accompany-order-reminder-btn").text("去私聊"),a.newHuyaReport({eid_desc:"系统/页面展示/下单成功弹窗/派单厅",eid:"sys/pageshow/successfullyordered/dispatchroom",prop:JSON.stringify({master_uid:n.lUid}),uid:o.yyuid})):2==e&&(p="你有新的组队，快去接单吧~",$(".accompany-order-reminder-btn").text("去接单")),$(".accompany-order-reminder-txt").text(p),$(".accompany-order-reminder-btn").click(l)}}},dloh:function(e,t,i){e.exports=function(e,t){var n,r,a,o,s,c,l=100,u=100,d=!1,p=!1,h="",f=0,m=0,v=e.G,g=e.R,y=e.utils,_=2e4;function w(){n.find(".ab-default-bg").hide()}function S(){p&&(g.adHuyaReport("/presenter/tracking/close",{id:s.id,type:1,cnt:s.iPushTime,uid:v.yyuid}),g.newHuyaReport({eid_desc:"点击/直播间/直播广告展示/收起",eid:"click/position",position:"zhibo/LiveAdPlugin/fold",resourceid:s.id,prop:JSON.stringify({live_mode:v.screenStatus}),uid:v.yyuid})),I()}function b(){p?(g.adHuyaReport("/presenter/tracking/click",{id:s.id,type:1,cnt:s.iPushTime,uid:v.yyuid}),g.newHuyaReport({eid_desc:"点击/直播间/直播广告展示",eid:"click/position",position:"zhibo/LiveAdPlugin",resourceid:s.id,prop:JSON.stringify({live_mode:v.screenStatus}),uid:v.yyuid})):(g.adHuyaReport("/presenter/tracking/click",{id:s.id,type:2,cnt:s.iPushTime,uid:v.yyuid}),g.newHuyaReport({eid_desc:"点击/直播间/插件广告展示",eid:"click/position",position:"zhibo/AdPlugin",resourceid:s.id,prop:JSON.stringify({live_mode:v.screenStatus}),uid:v.yyuid})),window.open(h)}function I(){clearTimeout(m),n.hide(),d=!1,t.adStateChange(d)}c=i("8hAE")(),(n=$(c)).addClass("old-banner-ad-style"),n.find(".ab-close-btn").click(S),n.find("#banner-ab").click(b),n.find("#banner-ab")[0].onload=w,$(window).resize(k);var E=[[],[300,400],[280,210],[400,300],[800,450],[640,100]];function T(){n.find(".ab-default-bg").hide()}function k(){if(d){var e=$("#player-video").width(),t=$("#player-video").height(),i=(S=u*t/r)*l/u,s=o.layoutType,c=o.ratioW,p=o.ratioH;if(1==a||2==a||3==a||4==a)n.css({width:i,height:S,top:t-S-10,left:10});else if(5==a)n.css({width:i,height:S,top:t-S-70,left:e-i>>1});else if(98==a)1==s?n.css({width:i,height:S,top:t*p,left:e*c}):2==s?n.css({width:i,height:S,top:t*p,left:e-i>>1}):3==s?n.css({width:i,height:S,top:t*p,left:e*c-i}):4==s?n.css({width:i,height:S,top:t*p-S,left:e*c}):5==s?n.css({width:i,height:S,top:t*p-S,left:e-i>>1}):6==s?n.css({width:i,height:S,top:t*p-S,left:e*c-i}):7==s?n.css({width:i,height:S,top:t-S>>1,left:e*c}):8==s?n.css({width:i,height:S,top:t-S>>1,left:e*c-i}):9==s?n.css({width:i,height:S,top:t-S>>1,left:e-i>>1}):10==s&&n.css({width:e,height:t});else if(100==a){var h=v.vplayer.getVideoSize(),f=h?h.width:930,m=h?h.height:523,g=0,y=0,_=0,w=0;f/m>e/t?(w=e,y=(t-(_=m*e/f))/2):(_=t,g=(e-(w=f*t/m))/2);i=(S=u*_/r)*l/u;var S,b=0,I=0;1==s?(I=_*p,b=w*c):2==s?(I=_*p,b=w-i>>1):3==s?(I=_*p,b=w*c-i):4==s?(I=_*p-S,b=w*c):5==s?(I=_*p-S,b=w-i>>1):6==s?(I=_*p-S,b=w*c-i):7==s?(I=_-S>>1,b=w*c):8==s?(I=_-S>>1,b=w*c-i):9==s&&(I=_-S>>1,b=w-i>>1),b+=g,I+=y,n.css({width:i,height:S,top:I,left:b}),n.find("#huya-ab-iframe").css({width:i,height:S})}}}this.isAdShowing=function(){return d},this.getdata=function(){return s},this.show=function(e,i){d||(p=e,f=i||(s.material.showTime||15),p?setTimeout((function(){g.adHuyaReport("/presenter/tracking/show",{id:s.id,type:1,cnt:s.iPushTime,uid:v.yyuid}),g.newHuyaReport({eid_desc:"展示/直播间/直播广告展示",eid:"pageview/position",position:"zhibo/LiveAdPlugin",resourceid:s.id,prop:JSON.stringify({live_mode:v.screenStatus}),uid:v.yyuid})}),y.getRandomValues()*_):(g.adHuyaReport("/presenter/tracking/show",{id:s.id,type:2,cnt:s.iPushTime,uid:v.yyuid}),g.newHuyaReport({eid_desc:"展示/直播间/插件广告展示",eid:"pageview/position",position:"zhibo/AdPlugin",resourceid:s.id,prop:JSON.stringify({live_mode:v.screenStatus}),uid:v.yyuid})),d=!0,t.adStateChange(d),n.appendTo("#huya-ab"),n.show(),0,n.find(".ab-close-btn").css("visibility",p?"hidden":"visible"),p&&""!=h&&setTimeout((function(){n.find(".ab-close-btn").css("visibility","visible")}),5e3),k(),p&&(m=setTimeout(I,1e3*f)))},this.setData=function(e){s=e;var t=e.material;f=t.showTime||15,a=t.adType,n.find(".ab-close-btn").show();var i=t.layout;o=i,_templateW=i.templateW||1334,r=i.templateH||750,a<=6?(l=E[a][0],u=E[a][1]):(l=i.width,u=i.height),h=t.webLandingUrl,t.imageUrl=t.imageUrl.replace("http:","https:"),100==a?(n.find("#huya-ab-iframe").show(),n.find("#banner-ab").hide(),n.find("#huya-ab-iframe").attr("src",t.landingUrl),n.find("#huya-ab-iframe").attr("frameborder",0),n.find("#huya-ab-iframe").attr("scrolling","no"),n.find("#huya-ab-iframe")[0].onload=T):(n.find("#banner-ab").attr("src",t.imageUrl),n.find(".ab-default-bg").show()),n.find("#banner-ab").css("pointer-events",h?"auto":"none")},this.clear=function(){I()},this.setPushTime=function(e){s.iPushTime=e}}},dq61:function(e,t){e.exports=function(e){var t=e.G,i=e.logUtils,n=e.Event,r=e.Console,a="13d3dc2903c20700",o="",s="";!function(){var e=function(){try{var e=JSON.parse(localStorage.getItem("qimeiData"));if(e&&e.expiry>(new Date).getTime())return e.data}catch(e){return null}return null}();if(e){var c=e.q32,l=e.q36;o=c,s=l,i.log("getLocalQimei",e)}!function(){var e=document.createElement("script"),c=t.playerConfig&&t.playerConfig.qimeiVer?t.playerConfig.qimeiVer:"0.6.3",l="https://staticfile.qq.com/qimei/qimeisdk-web/".concat(c,"/index.js");e.src=l,document.head.appendChild(e),i.log("Bengin Load qimeiUrl",l);var u=(new Date).getTime();e.onload=function(){try{var e=new QimeiWeb({appKey:a});i.log("getQimei36"),e.getQimei36(!1).then((function(e){var t=e.q32,a=e.q36;if(i.log("getQimeiData",e),t||a){var l={data:e,expiry:(new Date).getTime()+6048e5};o=t,s=a,localStorage.setItem("qimeiData",JSON.stringify(l))}var d=(new Date).getTime();!function(e,t,i){var a=e.q32,o=e.q36,s={sMetricName:"fed.main_ad_txqimei",vDimension:{version:t,back_context:JSON.stringify(e),q32:a||"",q36:o||""},vField:{time:i||0}};r.log("reportQimei",s),n.fireEvent(n.DATA_METRIC2,[s])}(e,c,d-u)}))}catch(e){i.log("getQimei36 Error",e)}}}()}(),this.setEnvQimei=function(e){return o&&(e.adenv_sQIMEI32=o),s&&(e.adenv_sQIMEI36=s),e}}},e7zE:function(e,t,i){var n,r,a,o,s,c,l,u,d;e.exports=(d=i("Ib8C"),i("3y9D"),i("WYAk"),r=(n=d).lib,a=r.Base,o=r.WordArray,s=n.algo,c=s.SHA1,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,n=l.create(i.hasher,e),r=o.create(),a=o.create([1]),s=r.words,c=a.words,u=i.keySize,d=i.iterations;s.length<u;){var p=n.update(t).finalize(a);n.reset();for(var h=p.words,f=h.length,m=p,v=1;v<d;v++){m=n.finalize(m),n.reset();for(var g=m.words,y=0;y<f;y++)h[y]^=g[y]}r.concat(p),c[0]++}return r.sigBytes=4*u,r}}),n.PBKDF2=function(e,t,i){return u.create(i).compute(e,t)},d.PBKDF2)},eKvN:function(e,t,i){var n;!function(r){"use strict";function a(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function o(e,t,i,n,r,o){return a(function(e,t){return e<<t|e>>>32-t}(a(a(t,e),a(n,o)),r),i)}function s(e,t,i,n,r,a,s){return o(t&i|~t&n,e,t,r,a,s)}function c(e,t,i,n,r,a,s){return o(t&n|i&~n,e,t,r,a,s)}function l(e,t,i,n,r,a,s){return o(t^i^n,e,t,r,a,s)}function u(e,t,i,n,r,a,s){return o(i^(t|~n),e,t,r,a,s)}function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var i,n,r,o,d,p=1732584193,h=-271733879,f=-1732584194,m=271733878;for(i=0;i<e.length;i+=16)n=p,r=h,o=f,d=m,p=s(p,h,f,m,e[i],7,-680876936),m=s(m,p,h,f,e[i+1],12,-389564586),f=s(f,m,p,h,e[i+2],17,606105819),h=s(h,f,m,p,e[i+3],22,-1044525330),p=s(p,h,f,m,e[i+4],7,-176418897),m=s(m,p,h,f,e[i+5],12,1200080426),f=s(f,m,p,h,e[i+6],17,-1473231341),h=s(h,f,m,p,e[i+7],22,-45705983),p=s(p,h,f,m,e[i+8],7,1770035416),m=s(m,p,h,f,e[i+9],12,-1958414417),f=s(f,m,p,h,e[i+10],17,-42063),h=s(h,f,m,p,e[i+11],22,-1990404162),p=s(p,h,f,m,e[i+12],7,1804603682),m=s(m,p,h,f,e[i+13],12,-40341101),f=s(f,m,p,h,e[i+14],17,-1502002290),p=c(p,h=s(h,f,m,p,e[i+15],22,1236535329),f,m,e[i+1],5,-165796510),m=c(m,p,h,f,e[i+6],9,-1069501632),f=c(f,m,p,h,e[i+11],14,643717713),h=c(h,f,m,p,e[i],20,-373897302),p=c(p,h,f,m,e[i+5],5,-701558691),m=c(m,p,h,f,e[i+10],9,38016083),f=c(f,m,p,h,e[i+15],14,-660478335),h=c(h,f,m,p,e[i+4],20,-405537848),p=c(p,h,f,m,e[i+9],5,568446438),m=c(m,p,h,f,e[i+14],9,-1019803690),f=c(f,m,p,h,e[i+3],14,-187363961),h=c(h,f,m,p,e[i+8],20,1163531501),p=c(p,h,f,m,e[i+13],5,-1444681467),m=c(m,p,h,f,e[i+2],9,-51403784),f=c(f,m,p,h,e[i+7],14,1735328473),p=l(p,h=c(h,f,m,p,e[i+12],20,-1926607734),f,m,e[i+5],4,-378558),m=l(m,p,h,f,e[i+8],11,-2022574463),f=l(f,m,p,h,e[i+11],16,1839030562),h=l(h,f,m,p,e[i+14],23,-35309556),p=l(p,h,f,m,e[i+1],4,-1530992060),m=l(m,p,h,f,e[i+4],11,1272893353),f=l(f,m,p,h,e[i+7],16,-155497632),h=l(h,f,m,p,e[i+10],23,-1094730640),p=l(p,h,f,m,e[i+13],4,681279174),m=l(m,p,h,f,e[i],11,-358537222),f=l(f,m,p,h,e[i+3],16,-722521979),h=l(h,f,m,p,e[i+6],23,76029189),p=l(p,h,f,m,e[i+9],4,-640364487),m=l(m,p,h,f,e[i+12],11,-421815835),f=l(f,m,p,h,e[i+15],16,530742520),p=u(p,h=l(h,f,m,p,e[i+2],23,-995338651),f,m,e[i],6,-198630844),m=u(m,p,h,f,e[i+7],10,1126891415),f=u(f,m,p,h,e[i+14],15,-1416354905),h=u(h,f,m,p,e[i+5],21,-57434055),p=u(p,h,f,m,e[i+12],6,1700485571),m=u(m,p,h,f,e[i+3],10,-1894986606),f=u(f,m,p,h,e[i+10],15,-1051523),h=u(h,f,m,p,e[i+1],21,-2054922799),p=u(p,h,f,m,e[i+8],6,1873313359),m=u(m,p,h,f,e[i+15],10,-30611744),f=u(f,m,p,h,e[i+6],15,-1560198380),h=u(h,f,m,p,e[i+13],21,1309151649),p=u(p,h,f,m,e[i+4],6,-145523070),m=u(m,p,h,f,e[i+11],10,-1120210379),f=u(f,m,p,h,e[i+2],15,718787259),h=u(h,f,m,p,e[i+9],21,-343485551),p=a(p,n),h=a(h,r),f=a(f,o),m=a(m,d);return[p,h,f,m]}function p(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function h(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function f(e){var t,i,n="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function m(e){return unescape(encodeURIComponent(e))}function v(e){return function(e){return p(d(h(e),8*e.length))}(m(e))}function g(e,t){return function(e,t){var i,n,r=h(e),a=[],o=[];for(a[15]=o[15]=void 0,r.length>16&&(r=d(r,8*e.length)),i=0;16>i;i+=1)a[i]=909522486^r[i],o[i]=1549556828^r[i];return n=d(a.concat(h(t)),512+8*t.length),p(d(o.concat(n),640))}(m(e),m(t))}function y(e,t,i){return t?i?g(t,e):function(e,t){return f(g(e,t))}(t,e):i?v(e):function(e){return f(v(e))}(e)}void 0===(n=function(){return y}.call(t,i,t,e))||(e.exports=n)}()},eNXa:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof navigator&&(root=window||{},factory=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=t.length;for(e=0;e<i;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof(e)&&e.length){var t,i=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)i[t]=Math.abs(e[t]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bmRnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,i,n){this.type=e,this.currentTime=t,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,i,n){this.type=e,this.currentLoop=i,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,i){this.type=e,this.firstFrame=t,this.totalFrames=i}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}roundValues(!1);var createElementID=(F=0,function(){return idPrefix+"__lottie_element_"+(F+=1)}),F;function HSVtoRGB(e,t,i){var n,r,a,o,s,c,l,u;switch(c=i*(1-t),l=i*(1-(s=6*e-(o=Math.floor(6*e)))*t),u=i*(1-(1-s)*t),o%6){case 0:n=i,r=u,a=c;break;case 1:n=l,r=i,a=c;break;case 2:n=c,r=i,a=u;break;case 3:n=c,r=l,a=i;break;case 4:n=u,r=c,a=i;break;case 5:n=i,r=c,a=l}return[n,r,a]}function RGBtoHSV(e,t,i){var n,r=Math.max(e,t,i),a=Math.min(e,t,i),o=r-a,s=0===r?0:o/r,c=r/255;switch(r){case a:n=0;break;case e:n=t-i+o*(t<i?6:0),n/=6*o;break;case t:n=i-e+2*o,n/=6*o;break;case i:n=e-t+4*o,n/=6*o}return[n,s,c]}function addSaturationToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[1]+=t,1<i[1]?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[2]+=t,1<i[2]?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[0]+=t/360,1<i[0]?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var e,t,i=[];for(e=0;e<256;e+=1)t=e.toString(16),i[e]=1===t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+i[e]+i[t]+i[n]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var i=this._cbs[e].length,n=0;n<i;n+=1)this._cbs[e][n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var i=0,n=this._cbs[e].length;i<n;)this._cbs[e][i]===t&&(this._cbs[e].splice(i,1),i-=1,n-=1),i+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray=function(){function e(e,t){var i,n=0,r=[];switch(e){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<t;n+=1)r.push(i);return r}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,i){return"float32"===t?new Float32Array(i):"int16"===t?new Int16Array(i):"uint8c"===t?new Uint8ClampedArray(i):e(t,i)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(Oa={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return Oa[e]||""}),Oa,Matrix=function(){var e=Math.cos,t=Math.sin,i=Math.tan,n=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(i){if(0===i)return this;var n=e(i),r=t(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function o(i){if(0===i)return this;var n=e(i),r=t(i);return this._t(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}function s(i){if(0===i)return this;var n=e(i),r=t(i);return this._t(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}function c(i){if(0===i)return this;var n=e(i),r=t(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function l(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(i(e),i(t))}function d(n,r){var a=e(r),o=t(r);return this._t(a,o,0,0,-o,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(n),1,0,0,0,0,1,0,0,0,0,1)._t(a,-o,0,0,o,a,0,0,0,0,1,0,0,0,0,1)}function p(e,t,i){return i||0===i||(i=1),1===e&&1===t&&1===i?this:this._t(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1)}function h(e,t,i,n,r,a,o,s,c,l,u,d,p,h,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=a,this.props[6]=o,this.props[7]=s,this.props[8]=c,this.props[9]=l,this.props[10]=u,this.props[11]=d,this.props[12]=p,this.props[13]=h,this.props[14]=f,this.props[15]=m,this}function f(e,t,i){return i=i||0,0!==e||0!==t||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,i,1):this}function m(e,t,i,n,r,a,o,s,c,l,u,d,p,h,f,m){var v=this.props;if(1===e&&0===t&&0===i&&0===n&&0===r&&1===a&&0===o&&0===s&&0===c&&0===l&&1===u&&0===d)return v[12]=v[12]*e+v[15]*p,v[13]=v[13]*a+v[15]*h,v[14]=v[14]*u+v[15]*f,v[15]*=m,this._identityCalculated=!1,this;var g=v[0],y=v[1],_=v[2],w=v[3],S=v[4],b=v[5],I=v[6],E=v[7],T=v[8],k=v[9],C=v[10],x=v[11],A=v[12],R=v[13],P=v[14],L=v[15];return v[0]=g*e+y*r+_*c+w*p,v[1]=g*t+y*a+_*l+w*h,v[2]=g*i+y*o+_*u+w*f,v[3]=g*n+y*s+_*d+w*m,v[4]=S*e+b*r+I*c+E*p,v[5]=S*t+b*a+I*l+E*h,v[6]=S*i+b*o+I*u+E*f,v[7]=S*n+b*s+I*d+E*m,v[8]=T*e+k*r+C*c+x*p,v[9]=T*t+k*a+C*l+x*h,v[10]=T*i+k*o+C*u+x*f,v[11]=T*n+k*s+C*d+x*m,v[12]=A*e+R*r+P*c+L*p,v[13]=A*t+R*a+P*l+L*h,v[14]=A*i+R*o+P*u+L*f,v[15]=A*n+R*s+P*d+L*m,this._identityCalculated=!1,this}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function g(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function _(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,i){return{x:e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}}function S(e,t,i){return e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12]}function b(e,t,i){return e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13]}function I(e,t,i){return e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}function E(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,i=-this.props[1]/e,n=-this.props[4]/e,r=this.props[0]/e,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,s=new Matrix;return s.props[0]=t,s.props[1]=i,s.props[4]=n,s.props[5]=r,s.props[12]=a,s.props[13]=o,s}function T(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function k(e){var t,i=e.length,n=[];for(t=0;t<i;t+=1)n[t]=T(e[t]);return n}function C(e,t,i){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=i[0],n[5]=i[1];else{var r=this.props[0],a=this.props[1],o=this.props[4],s=this.props[5],c=this.props[12],l=this.props[13];n[0]=e[0]*r+e[1]*o+c,n[1]=e[0]*a+e[1]*s+l,n[2]=t[0]*r+t[1]*o+c,n[3]=t[0]*a+t[1]*s+l,n[4]=i[0]*r+i[1]*o+c,n[5]=i[0]*a+i[1]*s+l}return n}function x(e,t,i){return this.isIdentity()?[e,t,i]:[e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]]}function A(e,t){if(this.isIdentity())return e+","+t;var i=this.props;return Math.round(100*(e*i[0]+t*i[4]+i[12]))/100+","+Math.round(100*(e*i[1]+t*i[5]+i[13]))/100}function R(){for(var e=0,t=this.props,i="matrix3d(";e<16;)i+=n(1e4*t[e])/1e4,i+=15===e?")":",",e+=1;return i}function P(e){return e<1e-6&&0<e||-1e-6<e&&e<0?n(1e4*e)/1e4:e}function L(){var e=this.props;return"matrix("+P(e[0])+","+P(e[1])+","+P(e[4])+","+P(e[5])+","+P(e[12])+","+P(e[13])+")"}return function(){this.reset=r,this.rotate=a,this.rotateX=o,this.rotateY=s,this.rotateZ=c,this.skew=u,this.skewFromAxis=d,this.shear=l,this.scale=p,this.setTransform=h,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=S,this.applyToY=b,this.applyToZ=I,this.applyToPointArray=x,this.applyToTriplePoints=C,this.applyToPointStringified=A,this.toCSS=R,this.to2dCSS=L,this.clone=y,this.cloneFromProps=_,this.equals=g,this.inversePoints=k,this.inversePoint=T,this.getInverseMatrix=E,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(e,t){var i=this,n=256,r="random",a=t.pow(n,6),o=t.pow(2,52),s=2*o,c=n-1;function l(e){var t,i=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(i||(e=[i++]);a<n;)s[a]=a++;for(a=0;a<n;a++)s[a]=s[o=c&o+e[a%i]+(t=s[a])],s[o]=t;r.g=function(e){for(var t,i=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=c&a+1],i=i*n+s[c&(s[a]=s[o=c&o+t])+(s[o]=t)];return r.i=a,r.j=o,i}}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){for(var i,n=e+"",r=0;r<n.length;)t[c&r]=c&(i^=19*t[c&r])+n.charCodeAt(r++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}t["seed"+r]=function(c,h,f){var m=[],v=d(function e(t,i){var n,r=[],a=_typeof(t);if(i&&"object"==a)for(n in t)try{r.push(e(t[n],i-1))}catch(e){}return r.length?r:"string"==a?t:t+"\0"}((h=!0===h?{entropy:!0}:h||{}).entropy?[c,p(e)]:null===c?function(){try{var t=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(t),p(t)}catch(t){var r=i.navigator,a=r&&r.plugins;return[+new Date,i,a,i.screen,p(e)]}}():c,3),m),g=new l(m),y=function(){for(var e=g.g(6),t=a,i=0;e<o;)e=(e+i)*n,t*=n,i=g.g(1);for(;s<=e;)e/=2,t/=2,i>>>=1;return(e+i)/t};return y.int32=function(){return 0|g.g(4)},y.quick=function(){return g.g(4)/4294967296},y.double=y,d(p(g.S),e),(h.pass||f||function(e,i,n,a){return a&&(a.S&&u(a,g),e.state=function(){return u(g,{})}),n?(t[r]=e,i):e})(y,v,"global"in h?h.global:this==t,h.state)},d(t.random(),e)}([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(e,i,n,r,a){var o=a||("bez_"+e+"_"+i+"_"+n+"_"+r).replace(/\./g,"p");if(t[o])return t[o];var s=new u([e,i,n,r]);return t[o]=s}},t={},i=11,n=1/(i-1),r="function"==typeof Float32Array;function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function c(e,t,i){return((a(t,i)*e+o(t,i))*e+s(t))*e}function l(e,t,i){return 3*a(t,i)*e*e+2*o(t,i)*e+s(t)}function u(e){this._p=e,this._mSampleValues=r?new Float32Array(i):new Array(i),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(e){var t=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===i&&n===r?e:0===e?0:1===e?1:c(this._getTForX(e),i,r)},_precompute:function(){var e=this._p[0],t=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],r=0;r<i;++r)this._mSampleValues[r]=c(r*n,e,t)},_getTForX:function(e){for(var t=this._p[0],r=this._p[2],a=this._mSampleValues,o=0,s=1,u=i-1;s!==u&&a[s]<=e;++s)o+=n;var d=o+(e-a[--s])/(a[s+1]-a[s])*n,p=l(d,t,r);return.001<=p?function(e,t,i,n){for(var r=0;r<4;++r){var a=l(t,i,n);if(0===a)return t;t-=(c(t,i,n)-e)/a}return t}(e,d,t,r):0===p?d:function(e,t,i,n,r){for(var a,o,s=0;0<(a=c(o=t+(i-t)/2,n,r)-e)?i=o:t=o,1e-7<Math.abs(a)&&++s<10;);return o}(e,o,o+n,t,r)}},e}();function extendPrototype(e,t){var i,n,r=e.length;for(i=0;i<r;i+=1)for(var a in n=e[i].prototype)Object.prototype.hasOwnProperty.call(n,a)&&(t.prototype[a]=n[a])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){var e=Math;function t(e,t,i,n,r,a){var o=e*n+t*r+i*a-r*n-a*e-i*t;return-.001<o&&o<.001}var i=function(e,t,i,n){var r,a,o,s,c,l,u=defaultCurveSegments,d=0,p=[],h=[],f=bezierLengthPool.newElement();for(o=i.length,r=0;r<u;r+=1){for(c=r/(u-1),a=l=0;a<o;a+=1)s=bmPow(1-c,3)*e[a]+3*bmPow(1-c,2)*c*i[a]+3*(1-c)*bmPow(c,2)*n[a]+bmPow(c,3)*t[a],p[a]=s,null!==h[a]&&(l+=bmPow(p[a]-h[a],2)),h[a]=p[a];l&&(d+=l=bmSqrt(l)),f.percents[r]=c,f.lengths[r]=d}return f.addedLength=d,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}var a,o=(a={},function(e,i,o,s){var c=(e[0]+"_"+e[1]+"_"+i[0]+"_"+i[1]+"_"+o[0]+"_"+o[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!a[c]){var l,u,d,p,h,f,m,v=defaultCurveSegments,g=0,y=null;2===e.length&&(e[0]!==i[0]||e[1]!==i[1])&&t(e[0],e[1],i[0],i[1],e[0]+o[0],e[1]+o[1])&&t(e[0],e[1],i[0],i[1],i[0]+s[0],i[1]+s[1])&&(v=2);var _=new n(v);for(d=o.length,l=0;l<v;l+=1){for(m=createSizedArray(d),h=l/(v-1),u=f=0;u<d;u+=1)p=bmPow(1-h,3)*e[u]+3*bmPow(1-h,2)*h*(e[u]+o[u])+3*(1-h)*bmPow(h,2)*(i[u]+s[u])+bmPow(h,3)*i[u],m[u]=p,null!==y&&(f+=bmPow(m[u]-y[u],2));g+=f=bmSqrt(f),_.points[l]=new r(f,m),y=m}_.segmentLength=g,a[c]=_}return a[c]});function s(e,t){var i=t.percents,n=t.lengths,r=i.length,a=bmFloor((r-1)*e),o=e*t.addedLength,s=0;if(a===r-1||0===a||o===n[a])return i[a];for(var c=n[a]>o?-1:1,l=!0;l;)if(n[a]<=o&&n[a+1]>o?(s=(o-n[a])/(n[a+1]-n[a]),l=!1):a+=c,a<0||r-1<=a){if(a===r-1)return i[a];l=!1}return i[a]+(i[a+1]-i[a])*s}var c=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,n=segmentsLengthPool.newElement(),r=e.c,a=e.v,o=e.o,s=e.i,c=e._length,l=n.lengths,u=0;for(t=0;t<c-1;t+=1)l[t]=i(a[t],a[t+1],o[t],s[t+1]),u+=l[t].addedLength;return r&&c&&(l[t]=i(a[t],a[0],o[t],s[0]),u+=l[t].addedLength),n.totalLength=u,n},getNewSegment:function(t,i,n,r,a,o,l){a<0?a=0:1<a&&(a=1);var u,d=s(a,l),p=s(o=1<o?1:o,l),h=t.length,f=1-d,m=1-p,v=f*f*f,g=d*f*f*3,y=d*d*f*3,_=d*d*d,w=f*f*m,S=d*f*m+f*d*m+f*f*p,b=d*d*m+f*d*p+d*f*p,I=d*d*p,E=f*m*m,T=d*m*m+f*p*m+f*m*p,k=d*p*m+f*p*p+d*m*p,C=d*p*p,x=m*m*m,A=p*m*m+m*p*m+m*m*p,R=p*p*m+m*p*p+p*m*p,P=p*p*p;for(u=0;u<h;u+=1)c[4*u]=e.round(1e3*(v*t[u]+g*n[u]+y*r[u]+_*i[u]))/1e3,c[4*u+1]=e.round(1e3*(w*t[u]+S*n[u]+b*r[u]+I*i[u]))/1e3,c[4*u+2]=e.round(1e3*(E*t[u]+T*n[u]+k*r[u]+C*i[u]))/1e3,c[4*u+3]=e.round(1e3*(x*t[u]+A*n[u]+R*r[u]+P*i[u]))/1e3;return c},getPointInSegment:function(t,i,n,r,a,o){var c=s(a,o),l=1-c;return[e.round(1e3*(l*l*l*t[0]+(c*l*l+l*c*l+l*l*c)*n[0]+(c*c*l+l*c*c+c*l*c)*r[0]+c*c*c*i[0]))/1e3,e.round(1e3*(l*l*l*t[1]+(c*l*l+l*c*l+l*l*c)*n[1]+(c*c*l+l*c*c+c*l*c)*r[1]+c*c*c*i[1]))/1e3]},buildBezierData:o,pointOnLine2D:t,pointOnLine3D:function(i,n,r,a,o,s,c,l,u){if(0===r&&0===s&&0===u)return t(i,n,a,o,c,l);var d,p=e.sqrt(e.pow(a-i,2)+e.pow(o-n,2)+e.pow(s-r,2)),h=e.sqrt(e.pow(c-i,2)+e.pow(l-n,2)+e.pow(u-r,2)),f=e.sqrt(e.pow(c-a,2)+e.pow(l-o,2)+e.pow(u-s,2));return-1e-4<(d=h<p?f<p?p-h-f:f-h-p:h<f?f-h-p:h-p-f)&&d<1e-4}}}!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),r=setTimeout((function(){t(i+n)}),n);return e=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function e(r,a,o){var s,c,l,d,p,h,f=r.length;for(c=0;c<f;c+=1)if("ks"in(s=r[c])&&!s.completed){if(s.completed=!0,s.tt&&(r[c-1].td=s.tt),s.hasMask){var m=s.masksProperties;for(d=m.length,l=0;l<d;l+=1)if(m[l].pt.k.i)n(m[l].pt.k);else for(h=m[l].pt.k.length,p=0;p<h;p+=1)m[l].pt.k[p].s&&n(m[l].pt.k[p].s[0]),m[l].pt.k[p].e&&n(m[l].pt.k[p].e[0])}0===s.ty?(s.layers=t(s.refId,a),e(s.layers,a,o)):4===s.ty?i(s.shapes):5===s.ty&&u(s)}}function t(e,t){for(var i=0,n=t.length;i<n;){if(t[i].id===e)return t[i].layers.__used?JSON.parse(JSON.stringify(t[i].layers)):(t[i].layers.__used=!0,t[i].layers);i+=1}return null}function i(e){var t,r,a;for(t=e.length-1;0<=t;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)n(e[t].ks.k);else for(a=e[t].ks.k.length,r=0;r<a;r+=1)e[t].ks.k[r].s&&n(e[t].ks.k[r].s[0]),e[t].ks.k[r].e&&n(e[t].ks.k[r].e[0]);else"gr"===e[t].ty&&i(e[t].it)}function n(e){var t,i=e.i.length;for(t=0;t<i;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function r(e,t){var i=t?t.split("."):[100,100,100];return e[0]>i[0]||!(i[0]>e[0])&&(e[1]>i[1]||!(i[1]>e[1])&&(e[2]>i[2]||!(i[2]>e[2])&&null))}var a,o=function(){var e=[4,4,14];function t(e){var t,i,n,r=e.length;for(t=0;t<r;t+=1)5===e[t].ty&&(n=(i=e[t]).t.d,i.t.d={k:[{s:n,t:0}]})}return function(i){if(r(e,i.v)&&(t(i.layers),i.assets)){var n,a=i.assets.length;for(n=0;n<a;n+=1)i.assets[n].layers&&t(i.assets[n].layers)}}}(),s=(a=[4,7,99],function(e){if(e.chars&&!r(a,e.v)){var t,i,o,s,c,l=e.chars.length;for(t=0;t<l;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(o=(c=e.chars[t].data.shapes[0].it).length,i=0;i<o;i+=1)(s=c[i].ks.k).__converted||(n(c[i].ks.k),s.__converted=!0)}}),c=function(){var e=[4,1,9];function t(e){var i,n,r,a=e.length;for(i=0;i<a;i+=1)if("gr"===e[i].ty)t(e[i].it);else if("fl"===e[i].ty||"st"===e[i].ty)if(e[i].c.k&&e[i].c.k[0].i)for(r=e[i].c.k.length,n=0;n<r;n+=1)e[i].c.k[n].s&&(e[i].c.k[n].s[0]/=255,e[i].c.k[n].s[1]/=255,e[i].c.k[n].s[2]/=255,e[i].c.k[n].s[3]/=255),e[i].c.k[n].e&&(e[i].c.k[n].e[0]/=255,e[i].c.k[n].e[1]/=255,e[i].c.k[n].e[2]/=255,e[i].c.k[n].e[3]/=255);else e[i].c.k[0]/=255,e[i].c.k[1]/=255,e[i].c.k[2]/=255,e[i].c.k[3]/=255}function i(e){var i,n=e.length;for(i=0;i<n;i+=1)4===e[i].ty&&t(e[i].shapes)}return function(t){if(r(e,t.v)&&(i(t.layers),t.assets)){var n,a=t.assets.length;for(n=0;n<a;n+=1)t.assets[n].layers&&i(t.assets[n].layers)}}}(),l=function(){var e=[4,4,18];function t(e){var i,n,r;for(i=e.length-1;0<=i;i-=1)if("sh"===e[i].ty)if(e[i].ks.k.i)e[i].ks.k.c=e[i].closed;else for(r=e[i].ks.k.length,n=0;n<r;n+=1)e[i].ks.k[n].s&&(e[i].ks.k[n].s[0].c=e[i].closed),e[i].ks.k[n].e&&(e[i].ks.k[n].e[0].c=e[i].closed);else"gr"===e[i].ty&&t(e[i].it)}function i(e){var i,n,r,a,o,s,c=e.length;for(n=0;n<c;n+=1){if((i=e[n]).hasMask){var l=i.masksProperties;for(a=l.length,r=0;r<a;r+=1)if(l[r].pt.k.i)l[r].pt.k.c=l[r].cl;else for(s=l[r].pt.k.length,o=0;o<s;o+=1)l[r].pt.k[o].s&&(l[r].pt.k[o].s[0].c=l[r].cl),l[r].pt.k[o].e&&(l[r].pt.k[o].e[0].c=l[r].cl)}4===i.ty&&t(i.shapes)}}return function(t){if(r(e,t.v)&&(i(t.layers),t.assets)){var n,a=t.assets.length;for(n=0;n<a;n+=1)t.assets[n].layers&&i(t.assets[n].layers)}}}();function u(e){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var d={completeData:function(t,i){t.__complete||(c(t),o(t),s(t),l(t),e(t.layers,t.assets,i),t.__complete=!0)}};return d.checkColors=c,d.checkChars=s,d.checkShapes=l,d.completeLayers=e,d}var dataManager=dataFunctionManager();function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],i="normal",n="normal",r=t.length,a=0;a<r;a+=1)switch(t[a].toLowerCase()){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:e.fWeight||i}}var FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];function i(e,t){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=t;var n=createTag("span");n.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=function(e){var t,i=e.split(","),n=i.length,r=[];for(t=0;t<n;t+=1)"sans-serif"!==i[t]&&"monospace"!==i[t]&&r.push(i[t]);return r.join(",")}(e)+", "+t,{node:n,w:r,parent:i}}function n(e,t){var i=createNS("text");i.style.fontSize="100px";var n=getFontProperties(t);return i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",n.style),i.setAttribute("font-weight",n.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,i}t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return r.getCombinedCharacterCodes=function(){return t},r.prototype={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var i,n,r=e.length,a=this.chars.length;for(t=0;t<r;t+=1){for(i=0,n=!1;i<a;)this.chars[i].style===e[t].style&&this.chars[i].fFamily===e[t].fFamily&&this.chars[i].ch===e[t].ch&&(n=!0),i+=1;n||(this.chars.push(e[t]),a+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var r,a=e.list,o=a.length,s=o;for(r=0;r<o;r+=1){var c,l,u=!0;if(a[r].loaded=!1,a[r].monoCase=i(a[r].fFamily,"monospace"),a[r].sansCase=i(a[r].fFamily,"sans-serif"),a[r].fPath){if("p"===a[r].fOrigin||3===a[r].origin){if(0<(c=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[r].fFamily+'"], style[f-origin="3"][f-family="'+a[r].fFamily+'"]')).length&&(u=!1),u){var d=createTag("style");d.setAttribute("f-forigin",a[r].fOrigin),d.setAttribute("f-origin",a[r].origin),d.setAttribute("f-family",a[r].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+a[r].fFamily+"; font-style: normal; src: url('"+a[r].fPath+"');}",t.appendChild(d)}}else if("g"===a[r].fOrigin||1===a[r].origin){for(c=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<c.length;l+=1)-1!==c[l].href.indexOf(a[r].fPath)&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",a[r].fOrigin),p.setAttribute("f-origin",a[r].origin),p.type="text/css",p.rel="stylesheet",p.href=a[r].fPath,document.body.appendChild(p)}}else if("t"===a[r].fOrigin||2===a[r].origin){for(c=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<c.length;l+=1)a[r].fPath===c[l].src&&(u=!1);if(u){var h=createTag("link");h.setAttribute("f-forigin",a[r].fOrigin),h.setAttribute("f-origin",a[r].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",a[r].fPath),t.appendChild(h)}}}else a[r].loaded=!0,s-=1;a[r].helper=n(t,a[r]),a[r].cache={},this.fonts.push(a[r])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,i,n){for(var r=0,a=this.chars.length;r<a;){if(this.chars[r].ch===t&&this.chars[r].style===i&&this.chars[r].fFamily===n)return this.chars[r];r+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,i,n)),e},getFontByName:function(e){for(var t=0,i=this.fonts.length;t<i;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,i){var n=this.getFontByName(t),r=e.charCodeAt(0);if(!n.cache[r+1]){var a=n.helper;if(" "===e){a.textContent="|"+e+"|";var o=a.getComputedTextLength();a.textContent="||";var s=a.getComputedTextLength();n.cache[r+1]=(o-s)/100}else a.textContent=e,n.cache[r+1]=a.getComputedTextLength()/100}return n.cache[r+1]*i},checkLoadedFonts:function(){var e,t,i,n=this.fonts.length,r=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?r-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,i=this.fonts[e].monoCase.w,t.offsetWidth!==i?(r-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,i=this.fonts[e].sansCase.w,t.offsetWidth!==i&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},r}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function i(e,t){var i,r=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var a,o,s,c,l,u,d,p,h=t.lastIndex,f=h,m=this.keyframes.length-1,v=!0;v;){if(a=this.keyframes[f],o=this.keyframes[f+1],f===m-1&&e>=o.t-r){a.h&&(a=o),h=0;break}if(o.t-r>e){h=f;break}f<m-1?f+=1:(h=0,v=!1)}var g,y,_,w,S,b,I,E,T,k,C=o.t-r,x=a.t-r;if(a.to){a.bezierData||(a.bezierData=bez.buildBezierData(a.s,o.s||a.e,a.to,a.ti));var A=a.bezierData;if(C<=e||e<x){var R=C<=e?A.points.length-1:0;for(c=A.points[R].point.length,s=0;s<c;s+=1)i[s]=A.points[R].point[s]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(a.o.x,a.o.y,a.i.x,a.i.y,a.n).get,a.__fnct=p),l=p((e-x)/(C-x));var P,L=A.segmentLength*l,M=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(d=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,v=!0,u=A.points.length;v;){if(M+=A.points[d].partialLength,0===L||0===l||d===A.points.length-1){for(c=A.points[d].point.length,s=0;s<c;s+=1)i[s]=A.points[d].point[s];break}if(M<=L&&L<M+A.points[d+1].partialLength){for(P=(L-M)/A.points[d+1].partialLength,c=A.points[d].point.length,s=0;s<c;s+=1)i[s]=A.points[d].point[s]+(A.points[d+1].point[s]-A.points[d].point[s])*P;break}d<u-1?d+=1:v=!1}t._lastPoint=d,t._lastAddedLength=M-A.points[d].partialLength,t._lastKeyframeIndex=f}}else{var D,B,N,U,F;if(m=a.s.length,g=o.s||a.e,this.sh&&1!==a.h)C<=e?(i[0]=g[0],i[1]=g[1],i[2]=g[2]):e<=x?(i[0]=a.s[0],i[1]=a.s[1],i[2]=a.s[2]):(y=i,w=(_=function(e,t,i){var n,r,a,o,s,c=[],l=e[0],u=e[1],d=e[2],p=e[3],h=t[0],f=t[1],m=t[2],v=t[3];return(r=l*h+u*f+d*m+p*v)<0&&(r=-r,h=-h,f=-f,m=-m,v=-v),s=1e-6<1-r?(n=Math.acos(r),a=Math.sin(n),o=Math.sin((1-i)*n)/a,Math.sin(i*n)/a):(o=1-i,i),c[0]=o*l+s*h,c[1]=o*u+s*f,c[2]=o*d+s*m,c[3]=o*p+s*v,c}(n(a.s),n(g),(e-x)/(C-x)))[0],S=_[1],b=_[2],I=_[3],E=Math.atan2(2*S*I-2*w*b,1-2*S*S-2*b*b),T=Math.asin(2*w*S+2*b*I),k=Math.atan2(2*w*I-2*S*b,1-2*w*w-2*b*b),y[0]=E/degToRads,y[1]=T/degToRads,y[2]=k/degToRads);else for(f=0;f<m;f+=1)1!==a.h&&(l=C<=e?1:e<x?0:(a.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?p=a.__fnct[f]:(D=void 0===a.o.x[f]?a.o.x[0]:a.o.x[f],B=void 0===a.o.y[f]?a.o.y[0]:a.o.y[f],N=void 0===a.i.x[f]?a.i.x[0]:a.i.x[f],U=void 0===a.i.y[f]?a.i.y[0]:a.i.y[f],p=BezierFactory.getBezierEasing(D,B,N,U).get,a.__fnct[f]=p)):a.__fnct?p=a.__fnct:(D=a.o.x,B=a.o.y,N=a.i.x,U=a.i.y,p=BezierFactory.getBezierEasing(D,B,N,U).get,a.__fnct=p),p((e-x)/(C-x)))),g=o.s||a.e,F=1===a.h?a.s[f]:a.s[f]+(g[f]-a.s[f])*l,"multidimensional"===this.propType?i[f]=F:i=F}return t.lastIndex=h,i}function n(e){var t=e[0]*degToRads,i=e[1]*degToRads,n=e[2]*degToRads,r=Math.cos(t/2),a=Math.cos(i/2),o=Math.cos(n/2),s=Math.sin(t/2),c=Math.sin(i/2),l=Math.sin(n/2);return[s*c*o+r*a*l,s*a*o+r*c*l,r*c*o-s*a*l,r*a*o-s*c*l]}function r(){var t=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=n&&n<=t||this._caching.lastFrame<i&&t<i))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function a(e){var i;if("unidimensional"===this.propType)i=e*this.mult,1e-5<t(this.v-i)&&(this.v=i,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)i=e[n]*this.mult,1e-5<t(this.v[n]-i)&&(this.v[n]=i,this._mdf=!0),n+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function c(e,t,i,n){this.propType="unidimensional",this.mult=i||1,this.data=t,this.v=i?t.k*i:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=a,this.addEffect=s}function l(e,t,i,n){var r;this.propType="multidimensional",this.mult=i||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var c=t.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),this.vel=createTypedArray("float32",c),r=0;r<c;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=a,this.addEffect=s}function u(t,n,c,l){this.propType="unidimensional",this.keyframes=n.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=c||1,this.elem=t,this.container=l,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=o,this.setVValue=a,this.interpolateValue=i,this.effectsSequence=[r.bind(this)],this.addEffect=s}function d(t,n,c,l){var u;this.propType="multidimensional";var d,p,h,f,m=n.k.length;for(u=0;u<m-1;u+=1)n.k[u].to&&n.k[u].s&&n.k[u+1]&&n.k[u+1].s&&(d=n.k[u].s,p=n.k[u+1].s,h=n.k[u].to,f=n.k[u].ti,(2===d.length&&(d[0]!==p[0]||d[1]!==p[1])&&bez.pointOnLine2D(d[0],d[1],p[0],p[1],d[0]+h[0],d[1]+h[1])&&bez.pointOnLine2D(d[0],d[1],p[0],p[1],p[0]+f[0],p[1]+f[1])||3===d.length&&(d[0]!==p[0]||d[1]!==p[1]||d[2]!==p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],p[0],p[1],p[2],d[0]+h[0],d[1]+h[1],d[2]+h[2])&&bez.pointOnLine3D(d[0],d[1],d[2],p[0],p[1],p[2],p[0]+f[0],p[1]+f[1],p[2]+f[2]))&&(n.k[u].to=null,n.k[u].ti=null),d[0]===p[0]&&d[1]===p[1]&&0===h[0]&&0===h[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===p[2]&&0===h[2]&&0===f[2])&&(n.k[u].to=null,n.k[u].ti=null));this.effectsSequence=[r.bind(this)],this.data=n,this.keyframes=n.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=t,this.container=l,this.comp=t.comp,this.getValue=o,this.setVValue=a,this.interpolateValue=i,this.frameId=-1;var v=n.k[0].s.length;for(this.v=createTypedArray("float32",v),this.pv=createTypedArray("float32",v),u=0;u<v;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",v)},this.addEffect=s}return{getProp:function(e,t,i,n,r){var a;if(t.k.length)if("number"==typeof t.k[0])a=new l(e,t,n,r);else switch(i){case 0:a=new u(e,t,n,r);break;case 1:a=new d(e,t,n,r)}else a=new c(e,t,n,r);return a.effectsSequence.length&&r.addDynamicProperty(a),a}}}(),TransformPropertyFactory=function(){var e=[0,0];function t(e,t,i){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,r=t.or.k.length;for(n=0;n<r;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)r=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var a=this.px,o=this.py;a._caching.lastFrame+a.offsetTime<=a.keyframes[0].t?(n[0]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),n[1]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),r[0]=a.getValueAtTime(a.keyframes[0].t/i,0),r[1]=o.getValueAtTime(o.keyframes[0].t/i,0)):a._caching.lastFrame+a.offsetTime>=a.keyframes[a.keyframes.length-1].t?(n[0]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),n[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),r[0]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0),r[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0)):(n=[a.pv,o.pv],r[0]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime),r[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime))}else n=r=e;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,i,n){return new t(e,i,n)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var i=0;i<t;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,i,n,r){var a;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[]}(!a[n]||a[n]&&!r)&&(a[n]=pointPool.newElement()),a[n][0]=e,a[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,i,n,r,a,o,s){this.setXYAt(e,t,"v",o,s),this.setXYAt(i,n,"o",o,s),this.setXYAt(r,a,"i",o,s)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,i=this.o,n=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);var a,o=this._length-1,s=this._length;for(a=r;a<s;a+=1)e.setTripleAt(t[o][0],t[o][1],n[o][0],n[o][1],i[o][0],i[o][1],a,!1),o-=1;return e};var ShapePropertyFactory=function(){var e=-999999;function t(e,t,i){var n,r,a,o,s,c,l,u,d,p=i.lastIndex,h=this.keyframes;if(e<h[0].t-this.offsetTime)n=h[0].s[0],a=!0,p=0;else if(e>=h[h.length-1].t-this.offsetTime)n=h[h.length-1].s?h[h.length-1].s[0]:h[h.length-2].e[0],a=!0;else{for(var f,m,v=p,g=h.length-1,y=!0;y&&(f=h[v],!((m=h[v+1]).t-this.offsetTime>e));)v<g-1?v+=1:y=!1;if(p=v,!(a=1===f.h)){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var _;f.__fnct?_=f.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=_),u=_((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}r=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(c=t._length,l=n.i[0].length,i.lastIndex=p,o=0;o<c;o+=1)for(s=0;s<l;s+=1)d=a?n.i[o][s]:n.i[o][s]+(r.i[o][s]-n.i[o][s])*u,t.i[o][s]=d,d=a?n.o[o][s]:n.o[o][s]+(r.o[o][s]-n.o[o][s])*u,t.o[o][s]=d,d=a?n.v[o][s]:n.v[o][s]+(r.v[o][s]-n.v[o][s])*u,t.v[o][s]=d}function i(){this.paths=this.localShapeCollection}function n(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var i,n=e._length;for(i=0;i<n;i+=1)if(e.v[i][0]!==t.v[i][0]||e.v[i][1]!==t.v[i][1]||e.o[i][0]!==t.o[i][0]||e.o[i][1]!==t.o[i][1]||e.i[i][0]!==t.i[i][0]||e.i[i][1]!==t.i[i][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function r(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===n?t.pt.k:t.ks.k;this.v=shapePool.clone(r),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function o(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function s(t,n,r){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===r?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[function(){var t=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==e&&(r<i&&t<i||n<r&&n<t)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=r,a.prototype.setVValue=n,a.prototype.addEffect=o,s.prototype.getValue=r,s.prototype.interpolateShape=t,s.prototype.setVValue=n,s.prototype.addEffect=o;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],i=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,a=3!==this.d,o=this.v;o.v[0][0]=t,o.v[0][1]=i-r,o.v[1][0]=a?t+n:t-n,o.v[1][1]=i,o.v[2][0]=t,o.v[2][1]=i+r,o.v[3][0]=a?t-n:t+n,o.v[3][1]=i,o.i[0][0]=a?t-n*e:t+n*e,o.i[0][1]=i-r,o.i[1][0]=a?t+n:t-n,o.i[1][1]=i-r*e,o.i[2][0]=a?t+n*e:t-n*e,o.i[2][1]=i+r,o.i[3][0]=a?t-n:t+n,o.i[3][1]=i+r*e,o.o[0][0]=a?t+n*e:t-n*e,o.o[0][1]=i-r,o.o[1][0]=a?t+n:t-n,o.o[1][1]=i+r*e,o.o[2][0]=a?t-n*e:t+n*e,o.o[2][1]=i+r,o.o[3][0]=a?t-n:t+n,o.o[3][1]=i-r*e}},extendPrototype([DynamicPropertyContainer],t),t}(),l=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,i,n,r=2*Math.floor(this.pt.v),a=2*Math.PI/r,o=!0,s=this.or.v,c=this.ir.v,l=this.os.v,u=this.is.v,d=2*Math.PI*s/(2*r),p=2*Math.PI*c/(2*r),h=-Math.PI/2;h+=this.r.v;var f=3===this.data.d?-1:1;for(e=this.v._length=0;e<r;e+=1){i=o?l:u,n=o?d:p;var m=(t=o?s:c)*Math.cos(h),v=t*Math.sin(h),g=0===m&&0===v?0:v/Math.sqrt(m*m+v*v),y=0===m&&0===v?0:-m/Math.sqrt(m*m+v*v);m+=+this.p.v[0],v+=+this.p.v[1],this.v.setTripleAt(m,v,m-g*n*i*f,v-y*n*i*f,m+g*n*i*f,v+y*n*i*f,e,!0),o=!o,h+=a*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),i=2*Math.PI/t,n=this.or.v,r=this.os.v,a=2*Math.PI*n/(4*t),o=.5*-Math.PI,s=3===this.data.d?-1:1;for(o+=this.r.v,e=this.v._length=0;e<t;e+=1){var c=n*Math.cos(o),l=n*Math.sin(o),u=0===c&&0===l?0:l/Math.sqrt(c*c+l*l),d=0===c&&0===l?0:-c/Math.sqrt(c*c+l*l);c+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(c,l,c-u*a*r*s,l-d*a*r*s,c+u*a*r*s,l+d*a*r*s,e,!0),o+=i*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bmMin(i,n,this.r.v),a=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+r,e+i,t-n+a,0,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-a,e+i,t+n-r,1,!0),0!==r?(this.v.setTripleAt(e+i-r,t+n,e+i-r,t+n,e+i-a,t+n,2,!0),this.v.setTripleAt(e-i+r,t+n,e-i+a,t+n,e-i+r,t+n,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-r,e-i,t+n-a,4,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+a,e-i,t-n+r,5,!0),this.v.setTripleAt(e-i+r,t-n,e-i+r,t-n,e-i+a,t-n,6,!0),this.v.setTripleAt(e+i-r,t-n,e+i-a,t-n,e+i-r,t-n,7,!0)):(this.v.setTripleAt(e-i,t+n,e-i+a,t+n,e-i,t+n,2),this.v.setTripleAt(e-i,t-n,e-i,t-n+a,e-i,t-n,3))):(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+a,e+i,t-n+r,0,!0),0!==r?(this.v.setTripleAt(e+i-r,t-n,e+i-r,t-n,e+i-a,t-n,1,!0),this.v.setTripleAt(e-i+r,t-n,e-i+a,t-n,e-i+r,t-n,2,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+r,e-i,t-n+a,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-a,e-i,t+n-r,4,!0),this.v.setTripleAt(e-i+r,t+n,e-i+r,t+n,e-i+a,t+n,5,!0),this.v.setTripleAt(e+i-r,t+n,e+i-a,t+n,e+i-r,t+n,6,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-r,e+i,t+n-a,7,!0)):(this.v.setTripleAt(e-i,t-n,e-i+a,t-n,e-i,t-n,1,!0),this.v.setTripleAt(e-i,t+n,e-i,t+n-a,e-i,t+n,2,!0),this.v.setTripleAt(e+i,t+n,e+i-a,t+n,e+i,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,i){var n;return 3===i||4===i?n=(3===i?t.pt:t.ks).k.length?new s(e,t,i):new a(e,t,i):5===i?n=new u(e,t):6===i?n=new c(e,t):7===i&&(n=new l(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return s}}}(),ShapeModifiers=(Yr={},Zr={},Yr.registerModifier=function(e,t){Zr[e]||(Zr[e]=t)},Yr.getModifier=function(e,t,i){return new Zr[e](t,i)},Yr),Yr,Zr;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,i,n){var r;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var a,o=t.length||0;for(r=0;r<o;r+=1)a=PropertyFactory.getProp(e,t[r].v,0,0,this),this.k=a.k||this.k,this.dataProps[r]={n:t[r].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,i){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,i,n,r){var a=[];t<=1?a.push({s:e,e:t}):1<=e?a.push({s:e-1,e:t-1}):(a.push({s:e,e:1}),a.push({s:0,e:t-1}));var o,s,c=[],l=a.length;for(o=0;o<l;o+=1){var u,d;(s=a[o]).e*r<n||s.s*r>n+i||(u=s.s*r<=n?0:(s.s*r-n)/i,d=s.e*r>=n+i?1:(s.e*r-n)/i,c.push([u,d]))}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(e){var t,i=e.length;for(t=0;t<i;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,i,n,r;if(this._mdf||e){var a=this.o.v%360/360;if(a<0&&(a+=1),t=1<this.s.v?1+a:this.s.v<0?0+a:this.s.v+a,(i=1<this.e.v?1+a:this.e.v<0?0+a:this.e.v+a)<t){var o=t;t=i,i=o}t=1e-4*Math.round(1e4*t),i=1e-4*Math.round(1e4*i),this.sValue=t,this.eValue=i}else t=this.sValue,i=this.eValue;var s,c,l,u,d,p=this.shapes.length,h=0;if(i===t)for(r=0;r<p;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===i&&0===t||0===i&&1===t){if(this._mdf)for(r=0;r<p;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var f,m,v=[];for(r=0;r<p;r+=1)if((f=this.shapes[r]).shape._mdf||this._mdf||e||2===this.m){if(c=(n=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(l=this.releasePathsData(f.pathsData),s=0;s<c;s+=1)u=bez.getSegmentsLength(n.shapes[s]),l.push(u),d+=u.totalLength;f.totalShapeLength=d,f.pathsData=l}h+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var g,y=t,_=i,w=0;for(r=p-1;0<=r;r-=1)if((f=this.shapes[r]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&1<p?(g=this.calculateShapeEdges(t,i,f.totalShapeLength,w,h),w+=f.totalShapeLength):g=[[y,_]],c=g.length,s=0;s<c;s+=1){y=g[s][0],_=g[s][1],v.length=0,_<=1?v.push({s:f.totalShapeLength*y,e:f.totalShapeLength*_}):1<=y?v.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(_-1)}):(v.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),v.push({s:0,e:f.totalShapeLength*(_-1)}));var S=this.addShapes(f,v[0]);if(v[0].s!==v[0].e){if(1<v.length)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var b=S.pop();this.addPaths(S,m),S=this.addShapes(f,v[1],b)}else this.addPaths(S,m),S=this.addShapes(f,v[1]);this.addPaths(S,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)t.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,t,i,n,r,a,o){r.setXYAt(t[0],t[1],"o",a),r.setXYAt(i[0],i[1],"i",a+1),o&&r.setXYAt(e[0],e[1],"v",a),r.setXYAt(n[0],n[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,i,n){t.setXYAt(e[1],e[5],"o",i),t.setXYAt(e[2],e[6],"i",i+1),n&&t.setXYAt(e[0],e[4],"v",i),t.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,t,i){var n,r,a,o,s,c,l,u,d=e.pathsData,p=e.shape.paths.shapes,h=e.shape.paths._length,f=0,m=[],v=!0;for(u=i?(s=i._length,i._length):(i=shapePool.newElement(),s=0),m.push(i),n=0;n<h;n+=1){for(c=d[n].lengths,i.c=p[n].c,a=p[n].c?c.length:c.length+1,r=1;r<a;r+=1)if(f+(o=c[r-1]).addedLength<t.s)f+=o.addedLength,i.c=!1;else{if(f>t.e){i.c=!1;break}t.s<=f&&t.e>=f+o.addedLength?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[r],p[n].v[r],i,s,v),v=!1):(l=bez.getNewSegment(p[n].v[r-1],p[n].v[r],p[n].o[r-1],p[n].i[r],(t.s-f)/o.addedLength,(t.e-f)/o.addedLength,c[r-1]),this.addSegmentFromArray(l,i,s,v),v=!1,i.c=!1),f+=o.addedLength,s+=1}if(p[n].c&&c.length){if(o=c[r-1],f<=t.e){var g=c[r-1].addedLength;t.s<=f&&t.e>=f+g?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[0],p[n].v[0],i,s,v),v=!1):(l=bez.getNewSegment(p[n].v[r-1],p[n].v[0],p[n].o[r-1],p[n].i[0],(t.s-f)/g,(t.e-f)/g,c[r-1]),this.addSegmentFromArray(l,i,s,v),v=!1,i.c=!1)}else i.c=!1;f+=o.addedLength,s+=1}if(i._length&&(i.setXYAt(i.v[u][0],i.v[u][1],"i",u),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>t.e)break;n<h-1&&(i=shapePool.newElement(),v=!0,m.push(i),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var i,n=shapePool.newElement();n.c=e.c;var r,a,o,s,c,l,u,d,p,h,f,m,v=e._length,g=0;for(i=0;i<v;i+=1)r=e.v[i],o=e.o[i],a=e.i[i],r[0]===o[0]&&r[1]===o[1]&&r[0]===a[0]&&r[1]===a[1]?0!==i&&i!==v-1||e.c?(s=0===i?e.v[v-1]:e.v[i-1],l=(c=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(c/2,t)/c:0,u=f=r[0]+(s[0]-r[0])*l,d=m=r[1]-(r[1]-s[1])*l,p=u-(u-r[0])*roundCorner,h=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,p,h,f,m,g),g+=1,s=i===v-1?e.v[0]:e.v[i+1],l=(c=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(c/2,t)/c:0,u=p=r[0]+(s[0]-r[0])*l,d=h=r[1]+(s[1]-r[1])*l,f=u-(u-r[0])*roundCorner,m=d-(d-r[1])*roundCorner,n.setTripleAt(u,d,p,h,f,m,g)):n.setTripleAt(r[0],r[1],o[0],o[1],a[0],a[1],g):n.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],g),g+=1;return n},RoundCornersModifier.prototype.processShapes=function(e){var t,i,n,r,a,o,s=this.shapes.length,c=this.rd.v;if(0!==c)for(i=0;i<s;i+=1){if(o=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||e)for(o.releaseShapes(),a.shape._mdf=!0,t=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(t[n],c));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var i=t/100,n=[0,0],r=e._length,a=0;for(a=0;a<r;a+=1)n[0]+=e.v[a][0],n[1]+=e.v[a][1];n[0]/=r,n[1]/=r;var o,s,c,l,u,d,p=shapePool.newElement();for(p.c=e.c,a=0;a<r;a+=1)o=e.v[a][0]+(n[0]-e.v[a][0])*i,s=e.v[a][1]+(n[1]-e.v[a][1])*i,c=e.o[a][0]+(n[0]-e.o[a][0])*-i,l=e.o[a][1]+(n[1]-e.o[a][1])*-i,u=e.i[a][0]+(n[0]-e.i[a][0])*-i,d=e.i[a][1]+(n[1]-e.i[a][1])*-i,p.setTripleAt(o,s,c,l,u,d,a);return p},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,i,n,r,a,o,s=this.shapes.length,c=this.amount.v;if(0!==c)for(i=0;i<s;i+=1){if(o=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||e)for(o.releaseShapes(),a.shape._mdf=!0,t=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(t[n],c));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,i,n,r,a){var o=a?-1:1,s=n.s.v[0]+(1-n.s.v[0])*(1-r),c=n.s.v[1]+(1-n.s.v[1])*(1-r);e.translate(n.p.v[0]*o*r,n.p.v[1]*o*r,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*o*r),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(a?1/s:s,a?1/c:c),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,i,n){for(this.elem=e,this.arr=t,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[i]);0<i;)i-=1,this._elements.unshift(t[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)e[i]._render=t,"gr"===e[i].ty&&this.changeGroupRender(e[i].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,i,n,r,a,o=!1;if(this._mdf||e){var s,c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(n=a=0;n<=this._groups.length-1;n+=1){if(s=a<c,this._groups[n]._render=s,this.changeGroupRender(this._groups[n].it,s),!s){var u=this.elemsData[n].it,d=u[u.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}a+=1}this._currentCopies=c;var p=this.o.v,h=p%1,f=0<p?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,v=this.rMatrix.props,g=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,_,w=0;if(0<p){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,h,!1),w+=h)}else if(p<0){for(;f<w;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-h,!0),w-=h)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,a=this._currentCopies;a;){if(_=(i=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<_;y+=1)i[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<_;y+=1)i[y]=this.matrix.props[y];w+=1,a-=1,n+=r}}else for(a=this._currentCopies,n=0,r=1;a;)i=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,a-=1,n+=r;return o},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<i;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var i=0,n=this.o.length/2;i<n;){if(.01<Math.abs(e[4*i]-e[4*t+2*i]))return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,i,n,r=4*this.data.p;for(t=0;t<r;t+=1)i=t%4==0?100:255,n=Math.round(this.prop.v[t]*i),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)i=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,i,n){if(0===t)return"";var r,a=e.o,o=e.i,s=e.v,c=" M"+n.applyToPointStringified(s[0][0],s[0][1]);for(r=1;r<t;r+=1)c+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[r][0],o[r][1])+" "+n.applyToPointStringified(s[r][0],s[r][1]);return i&&t&&(c+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),c+="z"),c},audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,i=this.audios.length;for(t=0;t<i;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,i){var n="";if(e.e)n=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=t+r}else n=i,n+=e.u?e.u:"",n+=e.p;return n}function r(){this._imageLoaded=t.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=function(e){var t=0,i=setInterval(function(){(e.getBBox().width||500<t)&&(this._imageLoaded(),clearInterval(i)),t+=1}.bind(this),50)}.bind(this),this.createFootageData=function(e){var t={assetData:e},i=n(e,this.assetsPath,this.path);return assetLoader.load(i,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return r.prototype={loadAssets:function(e,t){var i;this.imagesLoadedCb=t;var n=e.length;for(i=0;i<n;i+=1)e[i].layers||(e[i].t&&"seq"!==e[i].t?3===e[i].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[i]))):(this.totalImages+=1,this.images.push(this._createImageData(e[i]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,i=this.images.length;t<i;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var i=n(t,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){a.img=e,this._imageLoaded()}.bind(this),!1),r.src=i;var a={img:r,assetData:t};return a},createImageData:function(t){var i=n(t,this.assetsPath,this.path),r=createNS("image");isSafari?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){a.img=e,this._imageLoaded()}.bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var a={img:r,assetData:t};return a},imageLoaded:t,footageLoaded:i,setCacheType:function(e,t){this._createImageData="svg"===e?(this._elementHelper=t,this.createImageData.bind(this)):this.createImgData.bind(this)}},r}(),featureSupport=(px={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(px.maskType=!1),px),px,filtersFactory=(qx={},qx.createFilter=function(e,t){var i=createNS("filter");return i.setAttribute("id",e),!0!==t&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%")),i},qx.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},qx),qx,assetLoader=function(){function e(e){return e.response&&"object"==_typeof(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,i,n){var r,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)r=e(a),i(r);else try{r=e(a),i(r)}catch(e){n&&n(e)}},a.open("GET",t,!0),a.send()}}}();function TextAnimatorProperty(e,t,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(e,t,i){var n={propType:!1},r=PropertyFactory.getProp,a=t.a;this.a={r:a.r?r(e,a.r,0,degToRads,i):n,rx:a.rx?r(e,a.rx,0,degToRads,i):n,ry:a.ry?r(e,a.ry,0,degToRads,i):n,sk:a.sk?r(e,a.sk,0,degToRads,i):n,sa:a.sa?r(e,a.sa,0,degToRads,i):n,s:a.s?r(e,a.s,1,.01,i):n,a:a.a?r(e,a.a,1,0,i):n,o:a.o?r(e,a.o,0,.01,i):n,p:a.p?r(e,a.p,1,0,i):n,sw:a.sw?r(e,a.sw,0,0,i):n,sc:a.sc?r(e,a.sc,1,0,i):n,fc:a.fc?r(e,a.fc,1,0,i):n,fh:a.fh?r(e,a.fh,0,0,i):n,fs:a.fs?r(e,a.fs,0,.01,i):n,fb:a.fb?r(e,a.fb,0,.01,i):n,t:a.t?r(e,a.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,i),this.s.t=t.s.t}function LetterProps(e,t,i,n,r,a){this.o=e,this.sw=t,this.sc=i,this.fc=n,this.m=r,this.p=a,this._mdf={o:!0,sw:!!t,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,i=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<i;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,a,o,s,c,l,u,d,p,h,f,m,v,g,y,_,w,S=this._moreOptions.alignment.v,b=this._animatorsData,I=this._textData,E=this.mHelper,T=this._renderType,k=this.renderedLetters.length,C=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var x,A=w.v;for(this._pathData.r&&(A=A.reverse()),o={tLength:0,segments:[]},a=A._length-1,r=g=0;r<a;r+=1)x=bez.buildBezierData(A.v[r],A.v[r+1],[A.o[r][0]-A.v[r][0],A.o[r][1]-A.v[r][1]],[A.i[r+1][0]-A.v[r+1][0],A.i[r+1][1]-A.v[r+1][1]]),o.tLength+=x.segmentLength,o.segments.push(x),g+=x.segmentLength;r=a,w.v.c&&(x=bez.buildBezierData(A.v[r],A.v[0],[A.o[r][0]-A.v[r][0],A.o[r][1]-A.v[r][1]],[A.i[0][0]-A.v[0][0],A.i[0][1]-A.v[0][1]]),o.tLength+=x.segmentLength,o.segments.push(x),g+=x.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,s=this._pathData.f.v,d=1,u=!(l=p=0),m=o.segments,s<0&&w.v.c)for(o.tLength<Math.abs(s)&&(s=-Math.abs(s)%o.tLength),d=(f=m[p=m.length-1].points).length-1;s<0;)s+=f[d].partialLength,(d-=1)<0&&(d=(f=m[p-=1].points).length-1);h=(f=m[p].points)[d-1],v=(c=f[d]).partialLength}a=C.length,n=i=0;var R,P,L,M,D,B=1.2*e.finalSize*.714,N=!0;L=b.length;var U,F,O,H,G,V,W,q,j,z,Y,$,J=-1,K=s,Z=p,X=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ie=0,ne=0,re=2===e.j?-.5:-1,ae=0,oe=!0;for(r=0;r<a;r+=1)if(C[r].n){for(ie&&(ie+=ne);ae<r;)C[ae].animatorJustifyOffset=ie,ae+=1;oe=!(ie=0)}else{for(P=0;P<L;P+=1)(R=b[P].a).t.propType&&(oe&&2===e.j&&(ne+=R.t.v*re),(D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars)).length?ie+=R.t.v*D[0]*re:ie+=R.t.v*D*re);oe=!1}for(ie&&(ie+=ne);ae<r;)C[ae].animatorJustifyOffset=ie,ae+=1}for(r=0;r<a;r+=1){if(E.reset(),H=1,C[r].n)i=0,n+=e.yOffset,n+=N?1:0,s=K,N=!1,this._hasMaskedPath&&(d=X,h=(f=m[p=Z].points)[d-1],v=(c=f[d]).partialLength,l=0),$=j=Y=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==C[r].line){switch(e.j){case 1:s+=g-e.lineWidths[C[r].line];break;case 2:s+=(g-e.lineWidths[C[r].line])/2}Q=C[r].line}J!==C[r].ind&&(C[J]&&(s+=C[J].extra),s+=C[r].an/2,J=C[r].ind),s+=S[0]*C[r].an*.005;var se=0;for(P=0;P<L;P+=1)(R=b[P].a).p.propType&&((D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars)).length?se+=R.p.v[0]*D[0]:se+=R.p.v[0]*D),R.a.propType&&((D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars)).length?se+=R.a.v[0]*D[0]:se+=R.a.v[0]*D);for(u=!0;u;)s+se<=l+v||!f?(y=(s+se-l)/c.partialLength,F=h.point[0]+(c.point[0]-h.point[0])*y,O=h.point[1]+(c.point[1]-h.point[1])*y,E.translate(-S[0]*C[r].an*.005,-S[1]*B*.01),u=!1):f&&(l+=c.partialLength,(d+=1)>=f.length&&(d=0,f=m[p+=1]?m[p].points:w.v.c?m[p=d=0].points:(l-=c.partialLength,null)),f&&(h=c,v=(c=f[d]).partialLength));U=C[r].an/2-C[r].add,E.translate(-U,0,0)}else U=C[r].an/2-C[r].add,E.translate(-U,0,0),E.translate(-S[0]*C[r].an*.005,-S[1]*B*.01,0);for(P=0;P<L;P+=1)(R=b[P].a).t.propType&&(D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars),0===i&&0===e.j||(this._hasMaskedPath?D.length?s+=R.t.v*D[0]:s+=R.t.v*D:D.length?i+=R.t.v*D[0]:i+=R.t.v*D));for(e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(G=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(W=[e.fc[0],e.fc[1],e.fc[2]]),P=0;P<L;P+=1)(R=b[P].a).a.propType&&((D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars)).length?E.translate(-R.a.v[0]*D[0],-R.a.v[1]*D[1],R.a.v[2]*D[2]):E.translate(-R.a.v[0]*D,-R.a.v[1]*D,R.a.v[2]*D));for(P=0;P<L;P+=1)(R=b[P].a).s.propType&&((D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars)).length?E.scale(1+(R.s.v[0]-1)*D[0],1+(R.s.v[1]-1)*D[1],1):E.scale(1+(R.s.v[0]-1)*D,1+(R.s.v[1]-1)*D,1));for(P=0;P<L;P+=1){if(R=b[P].a,D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars),R.sk.propType&&(D.length?E.skewFromAxis(-R.sk.v*D[0],R.sa.v*D[1]):E.skewFromAxis(-R.sk.v*D,R.sa.v*D)),R.r.propType&&(D.length?E.rotateZ(-R.r.v*D[2]):E.rotateZ(-R.r.v*D)),R.ry.propType&&(D.length?E.rotateY(R.ry.v*D[1]):E.rotateY(R.ry.v*D)),R.rx.propType&&(D.length?E.rotateX(R.rx.v*D[0]):E.rotateX(R.rx.v*D)),R.o.propType&&(D.length?H+=(R.o.v*D[0]-H)*D[0]:H+=(R.o.v*D-H)*D),e.strokeWidthAnim&&R.sw.propType&&(D.length?V+=R.sw.v*D[0]:V+=R.sw.v*D),e.strokeColorAnim&&R.sc.propType)for(q=0;q<3;q+=1)D.length?G[q]+=(R.sc.v[q]-G[q])*D[0]:G[q]+=(R.sc.v[q]-G[q])*D;if(e.fillColorAnim&&e.fc){if(R.fc.propType)for(q=0;q<3;q+=1)D.length?W[q]+=(R.fc.v[q]-W[q])*D[0]:W[q]+=(R.fc.v[q]-W[q])*D;R.fh.propType&&(W=D.length?addHueToRGB(W,R.fh.v*D[0]):addHueToRGB(W,R.fh.v*D)),R.fs.propType&&(W=D.length?addSaturationToRGB(W,R.fs.v*D[0]):addSaturationToRGB(W,R.fs.v*D)),R.fb.propType&&(W=D.length?addBrightnessToRGB(W,R.fb.v*D[0]):addBrightnessToRGB(W,R.fb.v*D))}}for(P=0;P<L;P+=1)(R=b[P].a).p.propType&&(D=b[P].s.getMult(C[r].anIndexes[P],I.a[P].s.totalChars),this._hasMaskedPath?D.length?E.translate(0,R.p.v[1]*D[0],-R.p.v[2]*D[1]):E.translate(0,R.p.v[1]*D,-R.p.v[2]*D):D.length?E.translate(R.p.v[0]*D[0],R.p.v[1]*D[1],-R.p.v[2]*D[2]):E.translate(R.p.v[0]*D,R.p.v[1]*D,-R.p.v[2]*D));if(e.strokeWidthAnim&&(j=V<0?0:V),e.strokeColorAnim&&(z="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),e.fillColorAnim&&e.fc&&(Y="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(E.translate(0,-e.ls),E.translate(0,S[1]*B*.01+n,0),I.p.p){_=(c.point[1]-h.point[1])/(c.point[0]-h.point[0]);var ce=180*Math.atan(_)/Math.PI;c.point[0]<h.point[0]&&(ce+=180),E.rotate(-ce*Math.PI/180)}E.translate(F,O,0),s-=S[0]*C[r].an*.005,C[r+1]&&J!==C[r+1].ind&&(s+=C[r].an/2,s+=.001*e.tr*e.finalSize)}else{switch(E.translate(i,n,0),e.ps&&E.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:E.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line]),0,0);break;case 2:E.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line])/2,0,0)}E.translate(0,-e.ls),E.translate(U,0,0),E.translate(S[0]*C[r].an*.005,S[1]*B*.01,0),i+=C[r].l+.001*e.tr*e.finalSize}"html"===T?ee=E.toCSS():"svg"===T?ee=E.to2dCSS():te=[E.props[0],E.props[1],E.props[2],E.props[3],E.props[4],E.props[5],E.props[6],E.props[7],E.props[8],E.props[9],E.props[10],E.props[11],E.props[12],E.props[13],E.props[14],E.props[15]],$=H}this.lettersChangedFlag=k<=r?(M=new LetterProps($,j,z,Y,ee,te),this.renderedLetters.push(M),k+=1,!0):(M=this.renderedLetters[r]).update($,j,z,Y,ee,te)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,i,n,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var o=this._mdf.p=!1;return this.o!==e&&(this.o=e,o=this._mdf.o=!0),this.sw!==t&&(this.sw=t,o=this._mdf.sw=!0),this.sc!==i&&(this.sc=i,o=this._mdf.sc=!0),this.fc!==n&&(this.fc=n,o=this._mdf.fc=!0),this.m!==r&&(this.m=r,o=this._mdf.m=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,o=this._mdf.p=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,a=e||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)a=i!==this.keysIndex?this.effectsSequence[n](a,a.t):this.effectsSequence[n](this.currentData,a.t);t!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,i=0,n=e.length;i<=n-1&&!(i===n-1||e[i+1].t>t);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,i=FontManager.getCombinedCharacterCodes(),n=[],r=0,a=e.length;r<a;)t=e.charCodeAt(r),-1!==i.indexOf(t)?n[n.length-1]+=e.charAt(r):55296<=t&&t<=56319&&56320<=(t=e.charCodeAt(r+1))&&t<=57343?(n.push(e.substr(r,2)),r+=1):n.push(e.charAt(r)),r+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,i,n,r,a,o,s,c=this.elem.globalData.fontManager,l=this.data,u=[],d=0,p=l.m.g,h=0,f=0,m=0,v=[],g=0,y=0,_=c.getFontByName(e.f),w=0,S=getFontProperties(_);e.fWeight=S.weight,e.fStyle=S.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),i=e.finalText.length,e.finalLineHeight=e.lh;var b,I=e.tr/1e3*e.finalSize;if(e.sz)for(var E,T,k=!0,C=e.sz[0],x=e.sz[1];k;){g=E=0,i=(T=this.buildFinalText(e.t)).length,I=e.tr/1e3*e.finalSize;var A=-1;for(t=0;t<i;t+=1)b=T[t].charCodeAt(0),n=!1," "===T[t]?A=t:13!==b&&3!==b||(n=!(g=0),E+=e.finalLineHeight||1.2*e.finalSize),C<g+(w=c.chars?(s=c.getCharData(T[t],_.fStyle,_.fFamily),n?0:s.w*e.finalSize/100):c.measureText(T[t],e.f,e.finalSize))&&" "!==T[t]?(-1===A?i+=1:t=A,E+=e.finalLineHeight||1.2*e.finalSize,T.splice(t,A===t?1:0,"\r"),A=-1,g=0):(g+=w,g+=I);E+=_.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&x<E?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=T,i=e.finalText.length,k=!1)}g=-I;var R,P=w=0;for(t=0;t<i;t+=1)if(n=!1,13===(b=(R=e.finalText[t]).charCodeAt(0))||3===b?(P=0,v.push(g),y=y<g?g:y,g=-2*I,n=!(r=""),m+=1):r=R,w=c.chars?(s=c.getCharData(R,_.fStyle,c.getFontByName(e.f).fFamily),n?0:s.w*e.finalSize/100):c.measureText(r,e.f,e.finalSize)," "===R?P+=w+I:(g+=w+I+P,P=0),u.push({l:w,an:w,add:h,n:n,anIndexes:[],val:r,line:m,animatorJustifyOffset:0}),2==p){if(h+=w,""===r||" "===r||t===i-1){for(""!==r&&" "!==r||(h-=w);f<=t;)u[f].an=h,u[f].ind=d,u[f].extra=w,f+=1;d+=1,h=0}}else if(3==p){if(h+=w,""===r||t===i-1){for(""===r&&(h-=w);f<=t;)u[f].an=h,u[f].ind=d,u[f].extra=w,f+=1;h=0,d+=1}}else u[d].ind=d,u[d].extra=0,d+=1;if(e.l=u,y=y<g?g:y,v.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=v;var L,M,D,B,N=l.a;o=N.length;var U=[];for(a=0;a<o;a+=1){for((L=N[a]).a.sc&&(e.strokeColorAnim=!0),L.a.sw&&(e.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(e.fillColorAnim=!0),B=0,D=L.s.b,t=0;t<i;t+=1)(M=u[t]).anIndexes[a]=B,(1==D&&""!==M.val||2==D&&""!==M.val&&" "!==M.val||3==D&&(M.n||" "==M.val||t==i-1)||4==D&&(M.n||t==i-1))&&(1===L.s.rn&&U.push(B),B+=1);l.a[a].s.totalChars=B;var F,O=-1;if(1===L.s.rn)for(t=0;t<i;t+=1)O!=(M=u[t]).anIndexes[a]&&(O=M.anIndexes[a],F=U.splice(Math.floor(Math.random()*U.length),1)[0]),M.anIndexes[a]=F}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=_.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var i=this.copyData({},this.data.d.k[t].s);i=this.copyData(i,e),this.data.d.k[t].s=i,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,i=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,a=0,o=1,s=1;0<this.ne.v?r=this.ne.v/100:a=-this.ne.v/100,0<this.xe.v?o=1-this.xe.v/100:s=1+this.xe.v/100;var c=BezierFactory.getBezierEasing(r,a,o,s).get,l=0,u=this.finalS,d=this.finalE,p=this.data.sh;if(2===p)l=c(l=d===u?d<=n?1:0:e(0,t(.5/(d-u)+(n-u)/(d-u),1)));else if(3===p)l=c(l=d===u?d<=n?0:1:1-e(0,t(.5/(d-u)+(n-u)/(d-u),1)));else if(4===p)d===u?l=0:(l=e(0,t(.5/(d-u)+(n-u)/(d-u),1)))<.5?l*=2:l=1-2*(l-.5),l=c(l);else if(5===p){if(d===u)l=0;else{var h=d-u,f=-h/2+(n=t(e(0,n+.5-u),d-u)),m=h/2;l=Math.sqrt(1-f*f/(m*m))}l=c(l)}else l=6===p?c(l=d===u?0:(n=t(e(0,n+.5-u),d-u),(1+Math.cos(Math.PI+2*Math.PI*n/(d-u)))/2)):(n>=i(u)&&(l=e(0,t(n-u<0?t(d,1)-(u-n):d-n,1))),c(l));return l*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/t,n=this.s.v/t+i,r=this.e.v/t+i;if(r<n){var a=n;n=r,r=a}this.finalS=n,this.finalE=r}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(e,t,i){return new n(e,t,i)}}}(),poolFactory=function(e,t,i){var n=0,r=e,a=createSizedArray(r);return{newElement:function(){return n?a[n-=1]:t()},release:function(e){n===r&&(a=pooling.double(a),r*=2),i&&i(e),a[n]=e,n+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)})),shapePool=(xB=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,i=e._length;for(t=0;t<i;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),xB.clone=function(e){var t,i=xB.newElement(),n=void 0===e._length?e.v.length:e._length;for(i.setLength(n),i.c=e.c,t=0;t<n;t+=1)i.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return i},xB),xB,shapeCollectionPool=(FB={newShapeCollection:function(){return GB?IB[GB-=1]:new ShapeCollection},release:function(e){var t,i=e._length;for(t=0;t<i;t+=1)shapePool.release(e.shapes[t]);e._length=0,GB===HB&&(IB=pooling.double(IB),HB*=2),IB[GB]=e,GB+=1}},GB=0,HB=4,IB=createSizedArray(HB),FB),FB,GB,HB,IB,segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,i=e.lengths.length;for(t=0;t<i;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0})),bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}})),markerParser=function(){function e(e){for(var t,i=e.split("\r\n"),n={},r=0,a=0;a<i.length;a+=1)2===(t=i[a].split(":")).length&&(n[t[0]]=t[1].trim(),r+=1);if(0===r)throw new Error;return n}return function(t){for(var i=[],n=0;n<t.length;n+=1){var r=t[n],a={time:r.tm,duration:r.dr};try{a.payload=JSON.parse(t[n].cm)}catch(i){try{a.payload=e(t[n].cm)}catch(i){a.payload={name:t[n]}}}i.push(a)}return i}}();function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(t&&t.title){var n=createNS("title"),r=createElementID();n.setAttribute("id",r),n.textContent=t.title,this.svgElement.appendChild(n),i+=r}if(t&&t.description){var a=createNS("desc"),o=createElementID();a.setAttribute("id",o),a.textContent=t.description,this.svgElement.appendChild(a),i+=" "+o}i&&this.svgElement.setAttribute("aria-labelledby",i);var s=createNS("defs");this.svgElement.appendChild(s);var c=createNS("g");this.svgElement.appendChild(c),this.layerElement=c,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,i){this.data=e,this.element=t,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r,a=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var s,c,l,u,d,p,h=this.masksProperties,f=0,m=[],v=createElementID(),g="clipPath",y="clip-path";for(n=0;n<o;n+=1)if(("a"!==h[n].mode&&"n"!==h[n].mode||h[n].inv||100!==h[n].o.k||h[n].o.x)&&(y=g="mask"),"s"!==h[n].mode&&"i"!==h[n].mode||0!==f?l=null:((l=createNS("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),m.push(l)),r=createNS("path"),"n"===h[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,h[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[n],3),elem:r,lastPath:""},a.appendChild(r);else{var _;if(f+=1,r.setAttribute("fill","s"===h[n].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==h[n].x.k?(y=g="mask",p=PropertyFactory.getProp(this.element,h[n].x,0,null,this.element),_=createElementID(),(u=createNS("filter")).setAttribute("id",_),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),u.appendChild(d),a.appendChild(u),r.setAttribute("stroke","s"===h[n].mode?"#000000":"#ffffff")):p=d=null,this.storedData[n]={elem:r,x:p,expan:d,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===h[n].mode){c=m.length;var w=createNS("g");for(s=0;s<c;s+=1)w.appendChild(m[s]);var S=createNS("mask");S.setAttribute("mask-type","alpha"),S.setAttribute("id",v+"_"+f),S.appendChild(r),a.appendChild(S),w.setAttribute("mask","url("+locationHref+"#"+v+"_"+f+")"),m.length=0,m.push(w)}else m.push(r);h[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,h[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,h[n],3),invRect:l},this.viewData[n].prop.k||this.drawPath(h[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(g),o=m.length,n=0;n<o;n+=1)this.maskElement.appendChild(m[n]);0<f&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+v+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=t,this._isAnimated=!!i.k;for(var n=0,r=e.length;n<r;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(e,t,i){this.transform={mProps:e,op:t,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i}function SVGGradientFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,i)}function SVGGradientStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,i,n=this.layers.length;for(this.completeLayers=!0,t=n-1;0<=t;t-=1)this.elements[t]||(i=this.layers[t]).ip-i.st<=e-this.layers[t].st&&i.op-i.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var i,n=e.length,r=this.layers.length;for(t=0;t<n;t+=1)for(i=0;i<r;){if(this.layers[i].id===e[t].id){this.layers[i]=e[t];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,i){for(var n=this.elements,r=this.layers,a=0,o=r.length;a<o;)r[a].ind==t&&(n[a]&&!0!==n[a]?(i.push(n[a]),n[a].setAsParent(),void 0!==r[a].parent?this.buildElementParenting(e,r[a].parent,i):e.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(e))),a+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length;for(t=0;t<i;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),t.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var i=this.createItem(this.layers[e]);t[e]=i,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?i.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,i=this.elements.length;t<i;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=i-1;0<=t;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){for(var n,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,i=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)n[t]=i[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,i=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=i[t];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var i="0px 0px 0px";t.transformOrigin=i,t.mozTransformOrigin=i,t.webkitTransformOrigin=i,t["-webkit-transform"]=i,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,i,n;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),a=r[1]||"meet",o=r[0]||"xMidYMid",s=o.substr(0,4),c=o.substr(4);i=e/t,n=this.transformCanvas.w/this.transformCanvas.h,this.transformCanvas.sy=i<n&&"meet"===a||n<i&&"slice"===a?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(n<i&&"meet"===a||i<n&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(n<i&&"meet"===a||i<n&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(i<n&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(i<n&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;0<=e;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var i;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=0;i<n;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;0<=i;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var i=this.createItem(this.layers[e],this,this.globalData);(t[e]=i).initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,t);else if(this.threeDElements)this.addTo3dContainer(i,t);else{for(var r,a,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(a=this.elements[o],r=(this.layers[o].ddd?this.getThreeDContainerByPos(o):a.getBaseElement())||r),o+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,i=this.threeDElements.length;t<i;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(e,t){var i,n,r=createTag("div");styleDiv(r);var a=createTag("div");if(styleDiv(a),"3d"===t){(i=r.style).width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";var o="50% 50%";i.webkitTransformOrigin=o,i.mozTransformOrigin=o,i.transformOrigin=o;var s="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=a.style).transform=s,n.webkitTransform=s}r.appendChild(a);var c={container:a,perspectiveElem:r,startPos:e,endPos:e,type:t};return this.threeDElements.push(c),c},HybridRenderer.prototype.build3dContainers=function(){var e,t,i=this.layers.length,n="";for(e=0;e<i;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?"3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")):"2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e);for(e=(i=this.threeDElements.length)-1;0<=e;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var i=0,n=this.threeDElements.length;i<n;){if(t<=this.threeDElements[i].endPos){for(var r,a=this.threeDElements[i].startPos;a<t;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.threeDElements[i].container.insertBefore(e,r):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),i=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",styleDiv(this.resizerElem=t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),i.appendChild(t),n.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var a=createNS("defs");r.appendChild(a),this.data=e,this.setupGlobalData(e,r),this.globalData.defs=a,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,i,n,r=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight;n=r/a<this.globalData.compSize.w/this.globalData.compSize.h?(e=r/this.globalData.compSize.w,t=r/this.globalData.compSize.w,i=0,(a-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(e=a/this.globalData.compSize.h,t=a/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+i+","+n+",0,1)",o.transform=o.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1){var r=this.threeDElements[e].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(i,2))+"px",r.perspective=r.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length,n=createTag("div");for(t=0;t<i;t+=1)if(e[t].xt){var r=this.createComp(e[t],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,i){var n,r,a=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,n=1;n<r;n+=1)a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&1<r&&(a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),i.lastPath!==a){var o="";i.elem&&(t.c&&(o=e.inv?this.solidPath+a:a),i.elem.setAttribute("d",o)),i.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(t||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),i=0;i<n;i+=1)e=this.hierarchy[i].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var i,n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&t.splice(0,0,r.finalTransform),r=r.comp):n=!1;var a,o=t.length;for(i=0;i<o;i+=1)a=t[i].mat.applyToPointArray(0,0,0),e=[e[0]-a[0],e[1]-a[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,i){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,t),this.setGradientOpacity(t,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var i=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,a,o,s=[];for(o=4*t.g.p,a=0;a<o;a+=4)r=createNS("stop"),n.appendChild(r),s.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,r,a=createNS("mask"),o=createNS("path");a.appendChild(o);var s=createElementID(),c=createElementID();a.setAttribute("id",c);var l=createNS(1===e.t?"linearGradient":"radialGradient");l.setAttribute("id",s),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(n=4*e.g.p;n<r;n+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(i),u.push(i);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=l,this.ms=a,this.ost=u,this.maskId=c,t.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function i(e,t,i){(i||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(i||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function n(i,n,r){var a,o,s,c,l,u,d,p,h,f,m,v=n.styles.length,g=n.lvl;for(u=0;u<v;u+=1){if(c=n.sh._mdf||r,n.styles[u].lvl<g){for(p=t.reset(),f=g-n.styles[u].lvl,m=n.transformers.length-1;!c&&0<f;)c=n.transformers[m].mProps._mdf||c,f-=1,m-=1;if(c)for(f=g-n.styles[u].lvl,m=n.transformers.length-1;0<f;)h=n.transformers[m].mProps.v.props,p.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),f-=1,m-=1}else p=e;if(o=(d=n.sh.paths)._length,c){for(s="",a=0;a<o;a+=1)(l=d.shapes[a])&&l._length&&(s+=buildShapeString(l,l._length,l.c,p));n.caches[u]=s}else s=n.caches[u];n.styles[u].d+=!0===i.hd?"":s,n.styles[u]._mdf=c||n.styles[u]._mdf}}function r(e,t,i){var n=t.style;(t.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function a(e,t,i){o(e,t,i),s(0,t,i)}function o(e,t,i){var n,r,a,o,s,c=t.gf,l=t.g._hasOpacity,u=t.s.v,d=t.e.v;if(t.o._mdf||i){var p="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(p,t.o.v)}if(t.s._mdf||i){var h=1===e.t?"x1":"cx",f="x1"===h?"y1":"cy";c.setAttribute(h,u[0]),c.setAttribute(f,u[1]),l&&!t.g._collapsable&&(t.of.setAttribute(h,u[0]),t.of.setAttribute(f,u[1]))}if(t.g._cmdf||i){n=t.cst;var m=t.g.c;for(a=n.length,r=0;r<a;r+=1)(o=n[r]).setAttribute("offset",m[4*r]+"%"),o.setAttribute("stop-color","rgb("+m[4*r+1]+","+m[4*r+2]+","+m[4*r+3]+")")}if(l&&(t.g._omdf||i)){var v=t.g.o;for(a=(n=t.g._collapsable?t.cst:t.ost).length,r=0;r<a;r+=1)o=n[r],t.g._collapsable||o.setAttribute("offset",v[2*r]+"%"),o.setAttribute("stop-opacity",v[2*r+1])}if(1===e.t)(t.e._mdf||i)&&(c.setAttribute("x2",d[0]),c.setAttribute("y2",d[1]),l&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||i)&&(s=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)),c.setAttribute("r",s),l&&!t.g._collapsable&&t.of.setAttribute("r",s)),t.e._mdf||t.h._mdf||t.a._mdf||i){s||(s=Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2)));var g=Math.atan2(d[1]-u[1],d[0]-u[0]),y=t.h.v;1<=y?y=.99:y<=-1&&(y=-.99);var _=s*y,w=Math.cos(g+t.a.v)*_+u[0],S=Math.sin(g+t.a.v)*_+u[1];c.setAttribute("fx",w),c.setAttribute("fy",S),l&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",S))}}function s(e,t,i){var n=t.style,r=t.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return r;case"gf":return o;case"gs":return a;case"st":return s;case"sh":case"el":case"rc":case"sr":return n;case"tr":return i;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,a=4;"rc"===t.ty?a=5:"el"===t.ty?a=6:"sr"===t.ty&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,a,e);var o,s=i.length;for(r=0;r<s;r+=1)i[r].closed||(o={transforms:n.addTransformSequence(i[r].transforms),trNodes:[]},this.styledShapes.push(o),i[r].elements.push(o))}function BaseElement(){}function NullElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initFrame(),this.initTransform(e,t,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,i){this.initElement(e,t,i)}function AudioElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function FootageElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,i)}function SVGCompElement(e,t,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(e,t,i){this.textSpans=[],this.renderType="svg",this.initElement(e,t,i)}function SVGShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,i),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),e.appendChild(i),this.matrixFilter=i,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var n,r=createNS("feMerge");e.appendChild(r),(n=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(n),(n=createNS("feMergeNode")).setAttribute("in","f2"),r.appendChild(n)}}function SVGFillFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(i),this.matrixFilter=i}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var i=createNS("feGaussianBlur");e.appendChild(i),this.feGaussianBlur=i}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.matrixFilter=n;var r=createNS("feFuncR");r.setAttribute("type","table"),n.appendChild(r),this.feFuncR=r;var a=createNS("feFuncG");a.setAttribute("type","table"),n.appendChild(a),this.feFuncG=a;var o=createNS("feFuncB");o.setAttribute("type","table"),n.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(e,t){this.filterManager=t;var i=this.filterManager.effectElements,n=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),n=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}function SVGDropShadowEffect(e,t){var i=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",i.x),e.setAttribute("y",i.y),e.setAttribute("width",i.width),e.setAttribute("height",i.height),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,e.appendChild(n);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,e.appendChild(r);var a=createNS("feFlood");a.setAttribute("flood-color","#00ff00"),a.setAttribute("flood-opacity","1"),a.setAttribute("result","drop_shadow_3"),this.feFlood=a,e.appendChild(a);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),e.appendChild(o);var s,c=createNS("feMerge");e.appendChild(c),s=createNS("feMergeNode"),c.appendChild(s),(s=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(s)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,i=e.length,n="_";for(t=0;t<i;t+=1)n+=e[t].transform.key+"_";var r=this.sequences[n];return r||(r={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=r,this.sequenceList.push(r)),r},processSequence:function(e,t){for(var i,n=0,r=e.transforms.length,a=t;n<r&&!t;){if(e.transforms[n].transform.mProps._mdf){a=!0;break}n+=1}if(a)for(e.finalTransform.reset(),n=r-1;0<=n;n-=1)i=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);e._mdf=a},processSequences:function(e){var t,i=this.sequenceList.length;for(t=0;t<i;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,i){this.globalData=t,this.comp=i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,i,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),n=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(this.layerElement),n=i,r.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var a=createNS("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var o=createNS("g");a.appendChild(o),e=createElementID(),t=filtersFactory.createFilter(e);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),t.appendChild(s);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),s.appendChild(c),this.globalData.defs.appendChild(t);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+e+")"),o.appendChild(l),o.appendChild(this.layerElement),n=o,featureSupport.maskType||(a.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),o.appendChild(l),i.appendChild(this.layerElement),n=i,o.appendChild(i)),this.globalData.defs.appendChild(a)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),d=createNS("path");d.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p=createElementID();if(u.setAttribute("id",p),u.appendChild(d),this.globalData.defs.appendChild(u),this.checkMasks()){var h=createNS("g");h.setAttribute("clip-path","url("+locationHref+"#"+p+")"),h.appendChild(this.layerElement),this.transformedElement=h,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+p+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,i=this.shapeModifiers.length;for(t=0;t<i;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;0<=e&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,i=0,n=t.length;i<n;){if(t[i].elem===e)return t[i].pos;i+=1}return 0},addProcessedElement:function(e,t){for(var i=this.processedElements,n=i.length;n;)if(i[n-=1].elem===e)return void(i[n].pos=t);i.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var i,n,r=t.length,a="";for(i=0;i<r;i+=1)n=t[i].ks.k,a+=buildShapeString(n,n.i.length,!0,e);return a},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,i,n,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0)}t.translate(n,r,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;0<=i;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||.1<Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek()))&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this.audio.volume(e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,i=e.length,n=[],r="";t<i;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(r),r=""):r+=e[t],t+=1;return n.push(r),n},SVGTextLottieElement.prototype.buildNewText=function(){var e,t,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",i.t);var o,s=i.l||[],c=!!this.globalData.fontManager.chars;t=s.length;var l,u=this.mHelper,d="",p=this.data.singleShape,h=0,f=0,m=!0,v=.001*i.tr*i.finalSize;if(!p||c||i.sz){var g,y,_=this.textSpans.length;for(e=0;e<t;e+=1)c&&p&&0!==e||(o=e<_?this.textSpans[e]:createNS(c?"path":"text"),_<=e&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),u.reset(),u.scale(i.finalSize/100,i.finalSize/100),p&&(s[e].n&&(h=-v,f+=i.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(i,u,s[e].line,h,f),h+=s[e].l||0,h+=v),c?(l=(g=(y=this.globalData.fontManager.getCharData(i.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&y.data||{}).shapes?g.shapes[0].it:[],p?d+=this.createPathShape(u,l):o.setAttribute("d",this.createPathShape(u,l))):(p&&o.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),o.textContent=s[e].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&o&&o.setAttribute("d",d)}else{var w=this.textContainer,S="start";switch(i.j){case 1:S="end";break;case 2:S="middle";break;default:S="start"}w.setAttribute("text-anchor",S),w.setAttribute("letter-spacing",v);var b=this.buildTextContents(i.finalText);for(t=b.length,f=i.ps?i.ps[1]+i.ascent:0,e=0;e<t;e+=1)(o=this.textSpans[e]||createNS("tspan")).textContent=b[e],o.setAttribute("x",0),o.setAttribute("y",f),o.style.display="inherit",w.appendChild(o),this.textSpans[e]=o,f+=i.finalLineHeight;this.layerElement.appendChild(w)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var i,n,r=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1)a[e].n||(i=r[e],n=this.textSpans[e],i._mdf.m&&n.setAttribute("transform",i.m),i._mdf.o&&n.setAttribute("opacity",i.o),i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i._mdf.sc&&n.setAttribute("stroke",i.sc),i._mdf.fc&&n.setAttribute("fill",i.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,i,n,r=this.shapes.length,a=this.stylesList.length,o=[],s=!1;for(i=0;i<a;i+=1){for(n=this.stylesList[i],s=!1,e=o.length=0;e<r;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(o.push(t),s=t._isAnimated||s);1<o.length&&s&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var i,n=new SVGStyleData(e,t),r=n.pElem;return"st"===e.ty?i=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?i=new SVGFillStyleData(this,e,n):"gf"!==e.ty&&"gs"!==e.ty||(i=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),r.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))),"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var i=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(i,i.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,i){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var r=new SVGShapeData(t,i,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===t)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,i=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||i.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,i,n,r,a,o){var s,c,l,u,d,p,h=[].concat(a),f=e.length-1,m=[],v=[];for(s=f;0<=s;s-=1){if((p=this.searchProcessedElement(e[s]))?t[s]=i[p-1]:e[s]._render=o,"fl"===e[s].ty||"st"===e[s].ty||"gf"===e[s].ty||"gs"===e[s].ty)p?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],r),e[s]._render&&n.appendChild(t[s].style.pElem),m.push(t[s].style);else if("gr"===e[s].ty){if(p)for(l=t[s].it.length,c=0;c<l;c+=1)t[s].prevViewData[c]=t[s].it[c];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,r+1,h,o),e[s]._render&&n.appendChild(t[s].gr)}else"tr"===e[s].ty?(p||(t[s]=this.createTransformElement(e[s],n)),u=t[s].transform,h.push(u)):"sh"===e[s].ty||"rc"===e[s].ty||"el"===e[s].ty||"sr"===e[s].ty?(p||(t[s]=this.createShapeElement(e[s],h,r)),this.setElementStyles(t[s])):"tm"===e[s].ty||"rd"===e[s].ty||"ms"===e[s].ty||"pb"===e[s].ty?(p?(d=t[s]).closed=!1:((d=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=d,this.shapeModifiers.push(d)),v.push(d)):"rp"===e[s].ty&&(p?(d=t[s]).closed=!0:(d=ShapeModifiers.getModifier(e[s].ty),(t[s]=d).init(this,e,s,t),this.shapeModifiers.push(d),o=!1),v.push(d));this.addProcessedElement(e[s],s+1)}for(f=m.length,s=0;s<f;s+=1)m[s].closed=!0;for(f=v.length,s=0;s<f;s+=1)v[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,i=this.animatedContents.length;for(e=0;e<i;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-t[0]+" 0 0 0 "+t[0]+" "+(i[1]-t[1])+" 0 0 0 "+t[1]+" "+(i[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=3==i?0:t,r=2==i?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+r);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=1+(i=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);i<n;i+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),o=createElementID();a.setAttribute("id",o),a.setAttribute("mask-type","alpha"),a.appendChild(t),this.elem.globalData.defs.appendChild(a);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)s.appendChild(r[0]);this.elem.layerElement.appendChild(s),this.masker=a,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var i,n,r=this.paths.length;for(t=0;t<r;t+=1)if(-1!==this.paths[t].m&&(i=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||i.prop._mdf)&&n.setAttribute("d",i.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),s=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),c=n.getTotalLength();a="0 0 0 "+c*o+" ";var l,u=c*(s-o),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,p=Math.floor(u/d);for(l=0;l<p;l+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+10*c+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",a)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var h=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*h[0])+","+bmFloor(255*h[1])+","+bmFloor(255*h[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,r=n[0]+" "+i[0]+" "+t[0],a=n[1]+" "+i[1]+" "+t[1],o=n[2]+" "+i[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var i=createNS(e);return i.setAttribute("type","table"),t.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,t,i,n,r){for(var a,o,s=0,c=Math.min(e,t),l=Math.max(e,t),u=Array.call(null,{length:256}),d=0,p=r-n,h=t-e;s<=256;)o=(a=s/256)<=c?h<0?r:n:l<=a?h<0?n:r:n+p*Math.pow((a-e)/h,1/i),u[d]=o,d+=1,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(t=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(t=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(t=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(t=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(t=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(n),a=i*Math.sin(n);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,i){this.initialized=!1,this.filterManager=t,this.filterElem=e,(this.elem=i).matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(e){var t,i,n=e.data.ef?e.data.ef.length:0,r=createElementID(),a=filtersFactory.createFilter(r,!0),o=0;for(this.filters=[],t=0;t<n;t+=1)i=null,20===e.data.ef[t].ty?(o+=1,i=new SVGTintFilter(a,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(o+=1,i=new SVGFillFilter(a,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?i=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(o+=1,i=new SVGTritoneFilter(a,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(o+=1,i=new SVGProLevelsFilter(a,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(o+=1,i=new SVGDropShadowEffect(a,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?i=new SVGMatte3Effect(a,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(o+=1,i=new SVGGaussianBlurEffect(a,e.effectsManager.effectElements[t])),i&&this.filters.push(i);o&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,i)}function CVCompElement(e,t,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){var i;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,r=!1;for(i=0;i<n;i+=1)"n"!==this.masksProperties[i].mode&&(r=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);(this.hasMasks=r)&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,i)}function CVSolidElement(e,t,i){this.initElement(e,t,i)}function CVTextElement(e,t,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,i)}function CVEffects(){}function HBaseElement(){}function HSolidElement(e,t,i){this.initElement(e,t,i)}function HCompElement(e,t,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,i)}function HImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i)}function HCameraElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var r,a=e.ks.or.k.length;for(r=0;r<a;r+=1)e.ks.or.k[r].to=null,e.ks.or.k[r].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,i=_svgMatteSymbols.length;t<i;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var i=e.layerElement.parentNode;if(i){for(var n,r=i.children,a=0,o=r.length;a<o&&r[a]!==e.layerElement;)a+=1;a<=o-2&&(n=r[a+1]);var s=createNS("use");s.setAttribute("href","#"+t),n?i.insertBefore(s,n):i.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var r=e.globalData.defs;r.appendChild(n);var a=createNS("symbol");a.setAttribute("id",i),this.replaceInParent(t,i),a.appendChild(t.layerElement),r.appendChild(a);var o=createNS("use");o.setAttribute("href","#"+i),n.appendChild(o),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,i=0,n=t.length;i<n;)t[i]&&t[i].data.ind===e&&this.setElementAsMask(this.elem,t[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var i=0;for(i=this._length;i<e;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,i,n=e.getContext("2d"),r=this.img.width,a=this.img.height,o=r/a,s=this.assetData.w/this.assetData.h,c=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s<o&&"xMidYMid slice"===c||o<s&&"xMidYMid slice"!==c?t=(i=a)*s:i=(t=r)/s,n.drawImage(this.img,(r-t)/2,(a-i)/2,t,i,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;0<=e;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;0<=e;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,i,n,r=this.element.finalTransform.mat,a=this.element.canvasContext,o=this.masksProperties.length;for(a.beginPath(),e=0;e<o;e+=1)if("n"!==this.masksProperties[e].mode){var s;this.masksProperties[e].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),n=this.viewData[e].v,t=r.applyToPointArray(n.v[0][0],n.v[0][1],0),a.moveTo(t[0],t[1]);var c=n._length;for(s=1;s<c;s+=1)i=r.applyToTriplePoints(n.o[s-1],n.i[s],n.v[s]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[s-1],n.i[0],n.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"===e.ty||"st"===e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(i.lc=this.lcEnum[e.lc]||"round",i.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(i.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(i.wi=n.w.v),e.d){var r=new DashProperty(this,e.d,"canvas",this);n.d=r,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,i,n,r){var a,o,s,c,l,u,d=e.length-1,p=[],h=[],f=[].concat(r);for(a=d;0<=a;a-=1){if((c=this.searchProcessedElement(e[a]))?t[a]=i[c-1]:e[a]._shouldRender=n,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty)c?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],f),p.push(t[a].style);else if("gr"===e[a].ty){if(c)for(s=t[a].it.length,o=0;o<s;o+=1)t[a].prevViewData[o]=t[a].it[o];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,n,f)}else"tr"===e[a].ty?(c||(u=this.createTransformElement(e[a]),t[a]=u),f.push(t[a]),this.addTransformToStyleList(t[a])):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?c||(t[a]=this.createShapeElement(e[a])):"tm"===e[a].ty||"rd"===e[a].ty||"pb"===e[a].ty?(c?(l=t[a]).closed=!1:((l=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=l,this.shapeModifiers.push(l)),h.push(l)):"rp"===e[a].ty&&(c?(l=t[a]).closed=!0:(l=ShapeModifiers.getModifier(e[a].ty),(t[a]=l).init(this,e,a,t),this.shapeModifiers.push(l),n=!1),h.push(l));this.addProcessedElement(e[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),d=h.length,a=0;a<d;a+=1)h[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,i,n,r,a,o,s,c,l=this.stylesList.length,u=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<l;e+=1)if(("st"!==(s=(c=this.stylesList[e]).type)&&"gs"!==s||0!==c.wi)&&c.data._shouldRender&&0!==c.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),a=c.elements,"st"===s||"gs"===s?(d.strokeStyle="st"===s?c.co:c.grd,d.lineWidth=c.wi,d.lineCap=c.lc,d.lineJoin=c.lj,d.miterLimit=c.ml||0):d.fillStyle="fl"===s?c.co:c.grd,u.ctxOpacity(c.coOp),"st"!==s&&"gs"!==s&&d.beginPath(),u.ctxTransform(c.preTransforms.finalTransform.props),i=a.length,t=0;t<i;t+=1){for("st"!==s&&"gs"!==s||(d.beginPath(),c.da&&(d.setLineDash(c.da),d.lineDashOffset=c.do)),r=(o=a[t].trNodes).length,n=0;n<r;n+=1)"m"===o[n].t?d.moveTo(o[n].p[0],o[n].p[1]):"c"===o[n].t?d.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):d.closePath();"st"!==s&&"gs"!==s||(d.stroke(),c.da&&d.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&d.fill(c.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,i,n){var r,a;for(a=e,r=t.length-1;0<=r;r-=1)"tr"===t[r].ty?(a=i[r].transform,this.renderShapeTransform(e,a)):"sh"===t[r].ty||"el"===t[r].ty||"rc"===t[r].ty||"sr"===t[r].ty?this.renderPath(t[r],i[r]):"fl"===t[r].ty?this.renderFill(t[r],i[r],a):"st"===t[r].ty?this.renderStroke(t[r],i[r],a):"gf"===t[r].ty||"gs"===t[r].ty?this.renderGradientFill(t[r],i[r],a):"gr"===t[r].ty?this.renderShape(a,t[r].it,i[r].it):t[r].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var i,n,r,a=e.trNodes,o=t.paths,s=o._length;a.length=0;var c=e.transforms.finalTransform;for(r=0;r<s;r+=1){var l=o.shapes[r];if(l&&l.v){for(n=l._length,i=1;i<n;i+=1)1===i&&a.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),a.push({t:"c",pts:c.applyToTriplePoints(l.o[i-1],l.i[i],l.v[i])});1===n&&a.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&n&&(a.push({t:"c",pts:c.applyToTriplePoints(l.o[i-1],l.i[0],l.v[0])}),a.push({t:"z"}))}}e.trNodes=a}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var i,n=t.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(t.styledShapes[i],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,i){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,i){var n,r=t.style;if(!r.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var a,o=this.globalData.canvasContext,s=t.s.v,c=t.e.v;if(1===e.t)n=o.createLinearGradient(s[0],s[1],c[0],c[1]);else{var l=Math.sqrt(Math.pow(s[0]-c[0],2)+Math.pow(s[1]-c[1],2)),u=Math.atan2(c[1]-s[1],c[0]-s[0]),d=t.h.v;1<=d?d=.99:d<=-1&&(d=-.99);var p=l*d,h=Math.cos(u+t.a.v)*p+s[0],f=Math.sin(u+t.a.v)*p+s[1];n=o.createRadialGradient(h,f,0,s[0],s[1],l)}var m=e.g.p,v=t.g.c,g=1;for(a=0;a<m;a+=1)t.g._hasOpacity&&t.g._collapsable&&(g=t.g.o[2*a+1]),n.addColorStop(v[4*a]/100,"rgba("+v[4*a+1]+","+v[4*a+2]+","+v[4*a+3]+","+g+")");r.grd=n}r.coOp=t.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,t,i){var n=t.style,r=t.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,r,a,o,s,c,l,u,d,p,h,f,m=this.globalData.fontManager.getFontByName(e.f),v=e.l,g=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,r=e.finalText.length;var y=this.data.singleShape,_=.001*e.tr*e.finalSize,w=0,S=0,b=!0,I=0;for(n=0;n<r;n+=1){for(o=(a=this.globalData.fontManager.getCharData(e.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&a.data||{},g.reset(),y&&v[n].n&&(w=-_,S+=e.yOffset,S+=b?1:0,b=!1),d=(l=o.shapes?o.shapes[0].it:[]).length,g.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,g,v[n].line,w,S),h=createSizedArray(d),u=0;u<d;u+=1){for(c=l[u].ks.k.i.length,p=l[u].ks.k,f=[],s=1;s<c;s+=1)1===s&&f.push(g.applyToX(p.v[0][0],p.v[0][1],0),g.applyToY(p.v[0][0],p.v[0][1],0)),f.push(g.applyToX(p.o[s-1][0],p.o[s-1][1],0),g.applyToY(p.o[s-1][0],p.o[s-1][1],0),g.applyToX(p.i[s][0],p.i[s][1],0),g.applyToY(p.i[s][0],p.i[s][1],0),g.applyToX(p.v[s][0],p.v[s][1],0),g.applyToY(p.v[s][0],p.v[s][1],0));f.push(g.applyToX(p.o[s-1][0],p.o[s-1][1],0),g.applyToY(p.o[s-1][0],p.o[s-1][1],0),g.applyToX(p.i[0][0],p.i[0][1],0),g.applyToY(p.i[0][0],p.i[0][1],0),g.applyToX(p.v[0][0],p.v[0][1],0),g.applyToY(p.v[0][0],p.v[0][1],0)),h[u]=f}y&&(w+=v[n].l,w+=_),this.textSpans[I]?this.textSpans[I].elem=h:this.textSpans[I]={elem:h},I+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,i,n,r,a,o=this.canvasContext;o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var u,d,p=null,h=null,f=null;for(e=0;e<t;e+=1)if(!l[e].n){if((s=c[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?p!==s.fc&&(p=s.fc,o.fillStyle=s.fc):p!==this.values.fill&&(p=this.values.fill,o.fillStyle=this.values.fill),n=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(d=u[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?f!==s.sw&&(f=s.sw,o.lineWidth=s.sw):f!==this.values.sWidth&&(f=this.values.sWidth,o.lineWidth=this.values.sWidth),s&&s.sc?h!==s.sc&&(h=s.sc,o.strokeStyle=s.sc):h!==this.values.stroke&&(h=this.values.stroke,o.strokeStyle=this.values.stroke),n=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(d=u[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var i,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(e,i):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)t=e[i].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var i,n,r,a,o,s=e.sh.v,c=e.transformers,l=s._length;if(!(l<=1)){for(i=0;i<l-1;i+=1)n=this.getTransformedPoint(c,s.v[i]),r=this.getTransformedPoint(c,s.o[i]),a=this.getTransformedPoint(c,s.i[i+1]),o=this.getTransformedPoint(c,s.v[i+1]),this.checkBounds(n,r,a,o,t);s.c&&(n=this.getTransformedPoint(c,s.v[i]),r=this.getTransformedPoint(c,s.o[i]),a=this.getTransformedPoint(c,s.i[0]),o=this.getTransformedPoint(c,s.v[0]),this.checkBounds(n,r,a,o,t))}},HShapeElement.prototype.checkBounds=function(e,t,i,n,r){this.getBoundsOfCurve(e,t,i,n);var a=this.shapeBoundingBox;r.x=bmMin(a.left,r.x),r.xMax=bmMax(a.right,r.xMax),r.y=bmMin(a.top,r.y),r.yMax=bmMax(a.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,i,n){for(var r,a,o,s,c,l,u,d=[[e[0],n[0]],[e[1],n[1]]],p=0;p<2;++p)a=6*e[p]-12*t[p]+6*i[p],r=-3*e[p]+9*t[p]-9*i[p]+3*n[p],o=3*t[p]-3*e[p],a|=0,o|=0,0==(r|=0)&&0===a||(0===r?0<(s=-o/a)&&s<1&&d[p].push(this.calculateF(s,e,t,i,n,p)):0<=(c=a*a-4*o*r)&&(0<(l=(-a+bmSqrt(c))/(2*r))&&l<1&&d[p].push(this.calculateF(l,e,t,i,n,p)),0<(u=(-a-bmSqrt(c))/(2*r))&&u<1&&d[p].push(this.calculateF(u,e,t,i,n,p))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,i,n,r,a){return bmPow(1-e,3)*t[a]+3*bmPow(1-e,2)*e*i[a]+3*(1-e)*bmPow(e,2)*n[a]+bmPow(e,3)*r[a]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],t):e[i]&&e[i].it&&this.calculateBoundingBox(e[i].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=r,n.webkitTransform=r}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,i=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=i,t.color=i,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,r,a=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{t.fontFamily=a.fFamily;var o=e.fWeight,s=e.fStyle;t.fontStyle=s,t.fontWeight=o}var c,l,u,d=e.l;r=d.length;var p,h=this.mHelper,f="",m=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?c=this.textPaths[m]:((c=createNS("path")).setAttribute("stroke-linecap","butt"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(l=this.textSpans[m]).children[0]:((l=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(c),styleDiv(l)))):this.isMasked?c=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(l=this.textSpans[m],c=this.textPaths[m]):(styleDiv(l=createTag("span")),styleDiv(c=createTag("span")),l.appendChild(c)),this.globalData.fontManager.chars){var v,g=this.globalData.fontManager.getCharData(e.finalText[n],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(v=g?g.data:null,h.reset(),v&&v.shapes&&(p=v.shapes[0].it,h.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(h,p),c.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(c);else{if(this.innerElem.appendChild(l),v&&v.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var _=u.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";_.transform=w,_.webkitTransform=w,d[n].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);l.appendChild(u)}}else if(c.textContent=d[n].val,c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(c);else{this.innerElem.appendChild(l);var S=c.style,b="translate3d(0,"+-e.finalSize/1.2+"px,0)";S.transform=b,S.webkitTransform=b}this.isMasked?this.textSpans[m]=c:this.textSpans[m]=l,this.textSpans[m].style.display="block",this.textPaths[m]=c,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var i,n,r,a,o,s=0,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;for(n=l.length,i=0;i<n;i+=1)l[i].n?s+=1:(a=this.textSpans[i],o=this.textPaths[i],r=c[s],s+=1,r._mdf.m&&(this.isMasked?a.setAttribute("transform",r.m):(a.style.webkitTransform=r.m,a.style.transform=r.m)),a.style.opacity=r.o,r.sw&&r._mdf.sw&&o.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&o.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(o.setAttribute("fill",r.fc),o.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,i,n,r=this.comp.threeDElements.length;for(e=0;e<r;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){i=t.perspectiveElem.style,n=t.container.style;var a=this.pe.v+"px",o="0px 0px 0px",s="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=a,i.webkitPerspective=a,n.transformOrigin=o,n.mozTransformOrigin=o,n.webkitTransformOrigin=o,i.transform=s,i.webkitTransform=s}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,i=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)i=this.hierarchy[e].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;0<=e;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),o=[r[0]/a,r[1]/a,r[2]/a],s=Math.sqrt(o[2]*o[2]+o[0]*o[0]),c=Math.atan2(o[1],s),l=Math.atan2(o[0],-o[2]);this.mat.rotateY(l).rotateX(-c)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var d,p,h;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(u){var f=this.mat.toCSS();(h=d.container.style).transform=f,h.webkitTransform=f}this.pe._mdf&&((p=d.perspectiveElem.style).perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var e={},t=[],i=0,n=0,r=0,a=!0,o=!1;function s(e){for(var i=0,r=e.target;i<n;)t[i].animation===r&&(t.splice(i,1),i-=1,n-=1,r.isPaused||u()),i+=1}function c(e,i){if(!e)return null;for(var r=0;r<n;){if(t[r].elem===e&&null!==t[r].elem)return t[r].animation;r+=1}var a=new AnimationItem;return d(a,e),a.setData(e,i),a}function l(){r+=1,f()}function u(){r-=1}function d(e,i){e.addEventListener("destroy",s),e.addEventListener("_active",l),e.addEventListener("_idle",u),t.push({elem:i,animation:e}),n+=1}function p(e){var s,c=e-i;for(s=0;s<n;s+=1)t[s].animation.advanceTime(c);i=e,r&&!o?window.requestAnimationFrame(p):a=!0}function h(e){i=e,window.requestAnimationFrame(p)}function f(){!o&&r&&a&&(window.requestAnimationFrame(h),a=!1)}return e.registerAnimation=c,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,i){var r;for(r=0;r<n;r+=1)t[r].animation.setSpeed(e,i)},e.setDirection=function(e,i){var r;for(r=0;r<n;r+=1)t[r].animation.setDirection(e,i)},e.play=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.play(e)},e.pause=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.pause(e)},e.stop=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.stop(e)},e.togglePause=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.togglePause(e)},e.searchAnimations=function(e,t,i){var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=r.length;for(n=0;n<a;n+=1)i&&r[n].setAttribute("data-bm-type",i),c(r[n],e);if(t&&0===a){i||(i="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",i),o.appendChild(s),c(s,e)}},e.resize=function(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,i,r){var a;for(a=0;a<n;a+=1)t[a].animation.goToAndStop(e,i,r)},e.destroy=function(e){var i;for(i=n-1;0<=i;i-=1)t[i].animation.destroy(e)},e.freeze=function(){o=!0},e.unfreeze=function(){o=!1,f()},e.setVolume=function(e,i){var r;for(r=0;r<n;r+=1)t[r].animation.setVolume(e,i)},e.mute=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.mute(e)},e.unmute=function(e){var i;for(i=0;i<n;i+=1)t[i].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,i=t.length,n=[];for(e=0;e<i;e+=1)n.push(t[e].animation);return n},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[]};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";switch(e.animType?t=e.animType:e.renderer&&(t=e.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){t&&"object"!=_typeof(t)&&(t=JSON.parse(t));var i={wrapper:e,animationData:t},n=e.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===r?i.loop=!1:"true"===r?i.loop=!0:""!==r&&(i.loop=parseInt(r,10));var a=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==a,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,i,n=this.animationData.layers,r=n.length,a=e.layers,o=a.length;for(i=0;i<o;i+=1)for(t=0;t<r;){if(n[t].id===a[i].id){n[t]=a[i];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,i=0;i<this.markers.length;i+=1)if((t=this.markers[i]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,i){if(!i||this.name===i){var n=Number(e);if(isNaN(n)){var r=this.getMarkerData(e);r&&this.goToAndStop(r.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,i){if(!i||this.name===i){var n=Number(e);if(isNaN(n)){var r=this.getMarkerData(e);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(n,t,i);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,i=!1;t>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(i=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),i&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>t&&(i=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==_typeof(e[0])){var i,n=e.length;for(i=0;i<n;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),t=this.assetsPath+i}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,i=this.assets.length;t<i;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=(tY={},tY.initExpressions=function(e){var t=0,i=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=i.length;for(e=0;e<t;e+=1)i[e].release();i.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===i.indexOf(e)&&i.push(e)}},tY),tY;expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var i,n=e.length,r=[];for(i=0;i<n;i+=1)r[i]=-e[i];return r}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var i=_typeof(e),n=_typeof(t);if("string"===i||"string"===n)return e+t;if(isNumerable(i,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]+t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}var add=sum;function sub(e,t){var i=_typeof(e),n=_typeof(t);if(isNumerable(i,e)&&isNumerable(n,t))return"string"===i&&(e=parseInt(e,10)),"string"===n&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]-t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}function mul(e,t){var i,n,r,a=_typeof(e),o=_typeof(t);if(isNumerable(a,e)&&isNumerable(o,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e[n]*t;return i}if(isNumerable(a,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e*t[n];return i}return 0}function div(e,t){var i,n,r,a=_typeof(e),o=_typeof(t);if(isNumerable(a,e)&&isNumerable(o,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e[n]/t;return i}if(isNumerable(a,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e/t[n];return i}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,i){if(i<t){var n=i;i=t,t=n}return Math.min(Math.max(e,t),i)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var i;t||(t=helperLengthArray);var n=Math.min(e.length,t.length),r=0;for(i=0;i<n;i+=1)r+=Math.pow(t[i]-e[i],2);return Math.sqrt(r)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,i,n=e[0],r=e[1],a=e[2],o=Math.max(n,r,a),s=Math.min(n,r,a),c=(o+s)/2;if(o===s)i=t=0;else{var l=o-s;switch(i=.5<c?l/(2-o-s):l/(o+s),o){case n:t=(r-a)/l+(r<a?6:0);break;case r:t=(a-n)/l+2;break;case a:t=(n-r)/l+4}t/=6}return[t,i,c,e[3]]}function hue2rgb(e,t,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function hslToRgb(e){var t,i,n,r=e[0],a=e[1],o=e[2];if(0===a)i=n=t=o;else{var s=o<.5?o*(1+a):o+a-o*a,c=2*o-s;t=hue2rgb(c,s,r+1/3),i=hue2rgb(c,s,r),n=hue2rgb(c,s,r-1/3)}return[t,i,n,e[3]]}function linear(e,t,i,n,r){if(void 0!==n&&void 0!==r||(n=t,r=i,t=0,i=1),i<t){var a=i;i=t,t=a}if(e<=t)return n;if(i<=e)return r;var o,s=i===t?0:(e-t)/(i-t);if(!n.length)return n+(r-n)*s;var c=n.length,l=createTypedArray("float32",c);for(o=0;o<c;o+=1)l[o]=n[o]+(r[o]-n[o])*s;return l}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var i,n=t.length;e||(e=createTypedArray("float32",n));var r=createTypedArray("float32",n),a=BMMath.random();for(i=0;i<n;i+=1)r[i]=e[i]+a*(t[i]-e[i]);return r}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,i,n){var r,a=e.length,o=shapePool.newElement();o.setPathData(!!n,a);var s,c,l=[0,0];for(r=0;r<a;r+=1)s=t&&t[r]?t[r]:l,c=i&&i[r]?i[r]:l,o.setTripleAt(e[r][0],e[r][1],c[0]+e[r][0],c[1]+e[r][1],s[0]+e[r][0],s[1]+e[r][1],r,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var i,n,r=this.pv.length?this.pv.length:1,a=createTypedArray("float32",r),o=Math.floor(5*time);for(n=i=0;i<o;){for(n=0;n<r;n+=1)a[n]+=-t+2*t*BMMath.random();i+=1}var s=5*time,c=s-Math.floor(s),l=createTypedArray("float32",r);if(1<r){for(n=0;n<r;n+=1)l[n]=this.pv[n]+a[n]+(-t+2*t*BMMath.random())*c;return l}return this.pv+a[0]+(-t+2*t*BMMath.random())*c}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var i=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,n,0]}function easeOut(e,t,i,n,r){return applyEase(easeOutBez,e,t,i,n,r)}function easeIn(e,t,i,n,r){return applyEase(easeInBez,e,t,i,n,r)}function ease(e,t,i,n,r){return applyEase(easeInOutBez,e,t,i,n,r)}function applyEase(e,t,i,n,r,a){void 0===r?(r=i,a=n):t=(t-i)/(n-i),1<t?t=1:t<0&&(t=0);var o=e(t);if($bm_isInstanceOfArray(r)){var s,c=r.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=(a[s]-r[s])*o+r[s];return l}return(a-r)*o+r}function nearestKey(e){var t,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){i=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){n=e-data.k[t].t>data.k[t+1].t-e?(i=t+2,data.k[t+1].t):(i=t+1,data.k[t].t);break}}-1===i&&(i=t+1,n=data.k[t].t)}else n=i=0;var a={};return a.index=i,a.time=n/elem.comp.globalData.frameRate,a}function key(e){var t,i,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var r=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=r.length,i=0;i<n;i+=1)t[i]=r[i],t.value[i]=r[i];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,i){t.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(e,t,i).bind(i)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),i=this.getValueAtTime(e+-.01),n=0;if(t.length){var r;for(r=0;r<t.length;r+=1)n+=Math.pow(i[r]-t[r],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,i,n=this.getValueAtTime(e),r=this.getValueAtTime(e+-.001);if(n.length)for(t=createTypedArray("float32",n.length),i=0;i<n.length;i+=1)t[i]=(r[i]-n[i])/-.001;else t=(r-n)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};!function(){function e(e,t,i){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,r,a,o,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[l.length-1].t;if(c<=u)return this.pv;if(i?r=u-(n=t?Math.abs(u-this.elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>l.length-1)&&(t=l.length-1),n=u-(r=l[l.length-1-t].t)),"pingpong"===e){if(Math.floor((c-r)/n)%2!=0)return this.getValueAtTime((n-(c-r)%n+r)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),h=this.getValueAtTime(((c-r)%n+r)/this.comp.globalData.frameRate,0),f=Math.floor((c-r)/n);if(this.pv.length){for(o=(s=new Array(d.length)).length,a=0;a<o;a+=1)s[a]=(p[a]-d[a])*f+h[a];return s}return(p-d)*f+h}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(m.length)).length,a=0;a<o;a+=1)s[a]=m[a]+(m[a]-v[a])*((c-u)/this.comp.globalData.frameRate)/5e-4;return s}return m+(c-u)/.001*(m-v)}}return this.getValueAtTime(((c-r)%n+r)/this.comp.globalData.frameRate,0)}function t(e,t,i){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,r,a,o,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[0].t;if(u<=c)return this.pv;if(i?r=u+(n=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>l.length-1)&&(t=l.length-1),n=(r=l[t].t)-u),"pingpong"===e){if(Math.floor((u-c)/n)%2==0)return this.getValueAtTime(((u-c)%n+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),h=this.getValueAtTime((n-(u-c)%n+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-c)/n)+1;if(this.pv.length){for(o=(s=new Array(d.length)).length,a=0;a<o;a+=1)s[a]=h[a]-(p[a]-d[a])*f;return s}return h-(p-d)*f}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(m.length)).length,a=0;a<o;a+=1)s[a]=m[a]+(m[a]-v[a])*(u-c)/.001;return s}return m+(m-v)*(u-c)/.001}}return this.getValueAtTime((n-((u-c)%n+u))/this.comp.globalData.frameRate,0)}function i(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var i,n,r=this.comp.renderedFrame/this.comp.globalData.frameRate,a=r-e,o=1<t?(r+e-a)/(t-1):1,s=0,c=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;s<t;){if(n=this.getValueAtTime(a+s*o),this.pv.length)for(c=0;c<this.pv.length;c+=1)i[c]+=n[c];else i+=n;s+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)i[c]/=t;else i/=t;return i}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,i){var r=n(e,t,i);return r.dynamicProperties.length?r.getValueAtTime=function(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var i=this.a.getValueAtTime(e);t.translate(-i[0]*this.a.mult,-i[1]*this.a.mult,i[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(e);t.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(e),a=this.sa.getValueAtTime(e);t.skewFromAxis(-r*this.sk.mult,a*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(e);t.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var s=this.rz.getValueAtTime(e),c=this.ry.getValueAtTime(e),l=this.rx.getValueAtTime(e),u=this.or.getValueAtTime(e);t.rotateZ(-s*this.rz.mult).rotateY(c*this.ry.mult).rotateX(l*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),p=this.py.getValueAtTime(e);if(this.data.p.z){var h=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,p*this.py.mult,-h*this.pz.mult)}else t.translate(d*this.px.mult,p*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}.bind(r):r.getValueAtTime=function(){return this.v.clone(new Matrix)}.bind(r),r.setGroupProperty=expressionHelpers.setGroupProperty,r};var r=PropertyFactory.getProp;PropertyFactory.getProp=function(n,a,o,s,c){var l=r(n,a,o,s,c);l.kf?l.getValueAtTime=expressionHelpers.getValueAtTime.bind(l):l.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(l),l.setGroupProperty=expressionHelpers.setGroupProperty,l.loopOut=e,l.loopIn=t,l.smooth=i,l.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(l),l.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(l),l.numKeys=1===a.a?a.k.length:0,l.propertyIndex=a.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===a.a?a.k[0].s.length:a.k.length)),l._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(n,a,l),l.k&&c.addDynamicProperty(l),l};var a=ShapePropertyFactory.getConstructorFunction(),o=ShapePropertyFactory.getKeyframedConstructorFunction();function s(){}s.prototype={vertices:function(e,t){this.k&&this.getValue();var i,n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var r=n._length,a=n[e],o=n.v,s=createSizedArray(r);for(i=0;i<r;i+=1)s[i]="i"===e||"o"===e?[a[i][0]-o[i][0],a[i][1]-o[i][1]]:[a[i][0],a[i][1]];return s},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var n,r=this._segmentsLength,a=r.lengths,o=r.totalLength*e,s=0,c=a.length,l=0;s<c;){if(l+a[s].addedLength>o){var u=s,d=i.c&&s===c-1?0:s+1,p=(o-l)/a[s].addedLength;n=bez.getPointInSegment(i.v[u],i.v[d],i.o[u],i.i[d],p,a[s]);break}l+=a[s].addedLength,s+=1}return n||(n=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),n},vectorOnPath:function(e,t,i){1==e?e=this.v.c:0==e&&(e=.999);var n=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),a=r[0]-n[0],o=r[1]-n[1],s=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));return 0===s?[0,0]:"tangent"===i?[a/s,o/s]:[-o/s,a/s]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([s],a),extendPrototype([s],o),o.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},o.prototype.initiateExpression=ExpressionManager.initiateExpression;var c=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,i,n,r){var a=c(e,t,i,n,r);return a.propertyIndex=t.ix,a.lock=!1,3===i?expressionHelpers.searchExpressions(e,t.pt,a):4===i&&expressionHelpers.searchExpressions(e,t.ks,a),a.k&&e.addDynamicProperty(a),a}}(),TextProperty.prototype.getExpressionValue=function(e,t){var i=this.calculateExpression(t);if(e.t===i)return e;var n={};return this.copyData(n,e),n.t=i.toString(),n.__complete=!1,n},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(e,t,i){var n=t.sh;function r(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?r.path:null}var a=propertyGroupFactory(r,i);return n.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(r,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:i}}),r},propertyGroupFactory=function(e,t){return function(i){return(i=void 0===i?1:i)<=0?e:t(i-1)}},PropertyInterface=function(e,t){var i={_name:e};return function(e){return(e=void 0===e?1:e)<=0?i:t(e-1)}},ShapeExpressionInterface=function(){function e(e,o,p){var h,f=[],m=e?e.length:0;for(h=0;h<m;h+=1)"gr"===e[h].ty?f.push(t(e[h],o[h],p)):"fl"===e[h].ty?f.push(i(e[h],o[h],p)):"st"===e[h].ty?f.push(r(e[h],o[h],p)):"tm"===e[h].ty?f.push(a(e[h],o[h],p)):"tr"===e[h].ty||("el"===e[h].ty?f.push(s(e[h],o[h],p)):"sr"===e[h].ty?f.push(c(e[h],o[h],p)):"sh"===e[h].ty?f.push(ShapePathInterface(e[h],o[h],p)):"rc"===e[h].ty?f.push(l(e[h],o[h],p)):"rd"===e[h].ty?f.push(u(e[h],o[h],p)):"rp"===e[h].ty?f.push(d(e[h],o[h],p)):"gf"===e[h].ty?f.push(n(e[h],o[h],p)):f.push((e[h],o[h],function(){return null})));return f}function t(t,i,n){var r=function e(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return e.content;default:return e.transform}};r.propertyGroup=propertyGroupFactory(r,n);var a=function(t,i,n){var r,a=function(e){for(var t=0,i=r.length;t<i;){if(r[t]._name===e||r[t].mn===e||r[t].propertyIndex===e||r[t].ix===e||r[t].ind===e)return r[t];t+=1}return"number"==typeof e?r[e-1]:null};a.propertyGroup=propertyGroupFactory(a,n),r=e(t.it,i.it,a.propertyGroup),a.numProperties=r.length;var s=o(t.it[t.it.length-1],i.it[i.it.length-1],a.propertyGroup);return a.transform=s,a.propertyIndex=t.cix,a._name=t.nm,a}(t,i,r.propertyGroup),s=o(t.it[t.it.length-1],i.it[i.it.length-1],r.propertyGroup);return r.content=a,r.transform=s,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}function i(e,t,i){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",i)),t.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function n(e,t,i){function n(e){return"Start Point"===e||"start point"===e?n.startPoint:"End Point"===e||"end point"===e?n.endPoint:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",i)),t.e.setGroupProperty(PropertyInterface("End Point",i)),t.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function r(e,t,i){var n,r,a=propertyGroupFactory(l,i),o=propertyGroupFactory(c,a),s=e.d?e.d.length:0,c={};for(n=0;n<s;n+=1)r=n,Object.defineProperty(c,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)}),t.d.dataProps[n].p.setGroupProperty(o);function l(e){return"Color"===e||"color"===e?l.color:"Opacity"===e||"opacity"===e?l.opacity:"Stroke Width"===e||"stroke width"===e?l.strokeWidth:null}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return c}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",a)),t.o.setGroupProperty(PropertyInterface("Opacity",a)),t.w.setGroupProperty(PropertyInterface("Stroke Width",a)),l}function a(e,t,i){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var r=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",r)),t.e.setGroupProperty(PropertyInterface("End",r)),t.o.setGroupProperty(PropertyInterface("Offset",r)),n.propertyIndex=e.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}function o(e,t,i){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var r=propertyGroupFactory(n,i);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=i,n}function s(e,t,i){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}var r=propertyGroupFactory(n,i);n.propertyIndex=e.ix;var a="tm"===t.sh.ty?t.sh.prop:t.sh;return a.s.setGroupProperty(PropertyInterface("Size",r)),a.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(a.s)},position:{get:ExpressionPropertyInterface(a.p)},_name:{value:e.nm}}),n.mn=e.mn,n}function c(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}var r=propertyGroupFactory(n,i),a="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,a.or.setGroupProperty(PropertyInterface("Outer Radius",r)),a.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),a.pt.setGroupProperty(PropertyInterface("Points",r)),a.p.setGroupProperty(PropertyInterface("Position",r)),a.r.setGroupProperty(PropertyInterface("Rotation",r)),e.ir&&(a.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),a.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(a.p)},rotation:{get:ExpressionPropertyInterface(a.r)},points:{get:ExpressionPropertyInterface(a.pt)},outerRadius:{get:ExpressionPropertyInterface(a.or)},outerRoundness:{get:ExpressionPropertyInterface(a.os)},innerRadius:{get:ExpressionPropertyInterface(a.ir)},innerRoundness:{get:ExpressionPropertyInterface(a.is)},_name:{value:e.nm}}),n.mn=e.mn,n}function l(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}var r=propertyGroupFactory(n,i),a="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,a.p.setGroupProperty(PropertyInterface("Position",r)),a.s.setGroupProperty(PropertyInterface("Size",r)),a.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(a.p)},roundness:{get:ExpressionPropertyInterface(a.r)},size:{get:ExpressionPropertyInterface(a.s)},_name:{value:e.nm}}),n.mn=e.mn,n}function u(e,t,i){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}var r=propertyGroupFactory(n,i),a=t;return n.propertyIndex=e.ix,a.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}function d(e,t,i){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}var r=propertyGroupFactory(n,i),a=t;return n.propertyIndex=e.ix,a.c.setGroupProperty(PropertyInterface("Copies",r)),a.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(a.c)},offset:{get:ExpressionPropertyInterface(a.o)},_name:{value:e.nm}}),n.mn=e.mn,n}return function(t,i,n){var r;function a(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?n:r[e-1];for(var t=0,i=r.length;t<i;){if(r[t]._name===e)return r[t];t+=1}return null}return a.propertyGroup=propertyGroupFactory(a,(function(){return n})),r=e(t,i,a.propertyGroup),a.numProperties=r.length,a._name="Contents",a}}(),TextExpressionInterface=function(e){var t;function i(e){switch(e){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var i=e.textProperty.currentData.t;return void 0!==i&&(e.textProperty.currentData.t=void 0,(t=new String(i)).value=i||new String(i)),t}}),i},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var i=this.getMatrix(t);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.applyPoint(i,e)}function i(e,t){var i=this.getMatrix(t);return this.applyPoint(i,e)}function n(e,t){var i=this.getMatrix(t);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.invertPoint(i,e)}function r(e,t){var i=this.getMatrix(t);return this.invertPoint(i,e)}function a(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function o(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function s(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function c(){return[1,1,1,1]}return function(l){var u;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=o,d.applyPoint=a,d.toWorld=i,d.toWorldVec=t,d.fromWorld=r,d.fromWorldVec=n,d.toComp=i,d.fromComp=s,d.sampleImage=c,d.sourceRectAtTime=l.sourceRectAtTime.bind(l);var p=getDescriptor(u=TransformExpressionInterface((d._elem=l).finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return l.hierarchy.length}},parent:{get:function(){return l.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:p,anchor_point:p,transform:{get:function(){return u}},active:{get:function(){return l.isInRange}}}),d.startTime=l.data.st,d.index=l.data.ind,d.source=l.data.refId,d.height=0===l.data.ty?l.data.h:100,d.width=0===l.data.ty?l.data.w:100,d.inPoint=l.data.ip/l.comp.globalData.frameRate,d.outPoint=l.data.op/l.comp.globalData.frameRate,d._name=l.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,l)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),FootageInterface=(f6=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",i=e.getFootageData();function n(e){if(i[e])return"object"==_typeof(i=i[t=e])?n:i;var r=e.indexOf(t);if(-1===r)return"";var a=parseInt(e.substr(r+t.length),10);return"object"==_typeof(i=i[a])?n:i}return function(){return t="",i=e.getFootageData(),n}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=f6(e),t}),f6,CompExpressionInterface=function(e){function t(t){for(var i=0,n=e.layers.length;i<n;){if(e.layers[i].nm===t||e.layers[i].ind===t)return e.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),(t.layer=t).pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var i,n,r,a;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?a=ExpressionPropertyInterface(e.p):(i=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(r=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?a():[i(),n(),r?r():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,i=this.compositions.length;t<i;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(i,n,r,a){function o(e){for(var t=i.ef,n=0,r=t.length;n<r;){if(e===t[n].nm||e===t[n].mn||e===t[n].ix)return 5===t[n].ty?l[n]:l[n]();n+=1}throw new Error}var s,c=propertyGroupFactory(o,r),l=[],u=i.ef.length;for(s=0;s<u;s+=1)5===i.ef[s].ty?l.push(e(i.ef[s],n.effectElements[s],n.effectElements[s].propertyGroup,a)):l.push(t(n.effectElements[s],i.ef[s].ty,a,c));return"ADBE Color Control"===i.mn&&Object.defineProperty(o,"color",{get:function(){return l[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:c}}),o.enabled=0!==i.en,o.active=o.enabled,o}function t(e,t,i,n){var r=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===t?i.comp.compInterface(e.p.v):r()}}return{createEffectsInterface:function(t,i){if(t.effectsManager){var n,r=[],a=t.data.ef,o=t.effectsManager.effectElements.length;for(n=0;n<o;n+=1)r.push(e(a[n],t.effectsManager.effectElements[n],i,t));var s=t.data.ef||[],c=function(e){for(n=0,o=s.length;n<o;){if(e===s[n].nm||e===s[n].mn||e===s[n].ix)return r[n];n+=1}return null};return Object.defineProperty(c,"numProperties",{get:function(){return s.length}}),c}return null}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var i,n=createSizedArray(t.viewData.length),r=t.viewData.length;for(i=0;i<r;i+=1)n[i]=new e(t.viewData[i],t.masksProperties[i]);return function(e){for(i=0;i<r;){if(t.masksProperties[i].nm===e)return n[i];i+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function i(e,t,i){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(!e.numKeys)return 0;var r;r="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var a="unidimensional"===i?new Number(r):Object.assign({},r);return a.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,a.value="unidimensional"===i?r[0]:r,a},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function n(){return e}return function(r){return r?"unidimensional"===r.propType?function(t){t&&"pv"in t||(t=e);var n=1/t.mult,r=t.pv*n,a=new Number(r);return a.value=r,i(a,t,"unidimensional"),function(){return t.k&&t.getValue(),r=t.v*n,a.value!==r&&((a=new Number(r)).value=r,i(a,t,"unidimensional")),a}}(r):function(e){e&&"pv"in e||(e=t);var n=1/e.mult,r=e.data&&e.data.l||e.pv.length,a=createTypedArray("float32",r),o=createTypedArray("float32",r);return a.value=o,i(a,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<r;t+=1)o[t]=e.v[t]*n,a[t]=o[t];return a}}(r):n}}();function SliderEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function AngleEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function ColorEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function PointEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function LayerIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function MaskIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function CheckboxEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var i,n=e.ef||[];this.effectElements=[];var r,a=n.length;for(i=0;i<a;i+=1)r=new GroupEffect(n[i],t),this.effectElements.push(r)}function GroupEffect(e,t){this.init(e,t)}!function(){var e=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(t,i,n){return 1===i.t?new TextExpressionSelectorPropFactory(t,i,n):e(t,i,n)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var i;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,r=this.data.ef.length,a=this.data.ef;for(i=0;i<r;i+=1){switch(n=null,a[i].ty){case 0:n=new SliderEffect(a[i],t,this);break;case 1:n=new AngleEffect(a[i],t,this);break;case 2:n=new ColorEffect(a[i],t,this);break;case 3:n=new PointEffect(a[i],t,this);break;case 4:case 7:n=new CheckboxEffect(a[i],t,this);break;case 10:n=new LayerIndexEffect(a[i],t,this);break;case 11:n=new MaskIndexEffect(a[i],t,this);break;case 5:n=new EffectsManager(a[i],t,this);break;default:n=new NoValueEffect(a[i],t,this)}n&&this.effectElements.push(n)}};var lottie={};function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function setIDPrefix(e){idPrefix=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&1<e&&(defaultCurveSegments=e);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),i=0;i<t.length;i+=1){var n=t[i].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.7.11";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return factory(root)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},eiYR:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-banner-enter" id=\'player-banner-enter-<%=id%>\'>\n    <div class="bg"></div>\n    <div class="icon"></div>\n    <div class="player-banner-enter-diy-icon">\n        <img class="banner-enter-diy-level-icon"/>\n        <img class="banner-enter-diy-pet"/>\n    </div>\n    <div class="text">\n    \t<p><%-content%></p>\n    </div>\n</div>\n',__filename="src/tpl/notice/banner-enter.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-enter" id=\'player-banner-enter-'),__append(escapeFn(id)),__append('\'>\n    <div class="bg"></div>\n    <div class="icon"></div>\n    <div class="player-banner-enter-diy-icon">\n        <img class="banner-enter-diy-level-icon"/>\n        <img class="banner-enter-diy-pet"/>\n    </div>\n    <div class="text">\n    \t<p>'),__line=9,__append(content),__append("</p>\n    </div>\n</div>\n"),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},fEVj:function(e,t,i){e.exports=function(e){var t=null,n=null,r=i("rXj1");this.show=function(){if(console.log("detector:",r),!(r&&r.browser&&("360ee"==r.browser.name||"360se"==r.browser.name)||r&&r.browser&&"chrome"==r.browser.name&&122==r.browser.version)){n=localStorage.getItem("adUrlSchemeGuide");var e=(new Date).toLocaleDateString();if(n){try{n=JSON.parse(n)}catch(e){console.error("adUrlSchemeGuide parse error:",e)}if("1"==n.dontPromptGgain)return;if(n.showDate==e)return}if(!t){var a=i("2+kj")();(t=$(a)).find(".sw-checkbox").click((function(){$(this).hasClass("checked")?($(this).removeClass("checked"),n={showDate:e,dontPromptGgain:"0"}):($(this).addClass("checked"),n={showDate:e,dontPromptGgain:"1"}),n=JSON.stringify(n),localStorage.setItem("adUrlSchemeGuide",n)})),t.find(".close").click((function(){t&&(t.unbind(),t.remove(),t=null)})),$("body").append(t),n={showDate:e,dontPromptGgain:"0"},n=JSON.stringify(n),localStorage.setItem("adUrlSchemeGuide",n)}}}}},"fF/y":function(e,t,i){i("6cwl");var n=i("57gn");i("EoLl"),i("uOoC"),i("465P"),i("Rx7X"),function(e,t){var r,a,o,s={},c=i("no2z"),l=i("YJXF"),u=i("aACw"),d=i("VSdI"),p=i("caot"),h=i("ksHH"),f=i("mFJH"),m=i("+o7d"),v=i("IrSx"),g=i("HJX7"),y=i("JOBQ"),_=i("ff5l"),w=i("Cv2n"),S=i("3fd8"),b=i("coLX"),I=i("UKSv"),E=i("L2WW"),T=i("tH0G"),k=i("SRrC"),C=i("kpst"),x=i("6WfL"),A=i("Z1Y3"),R=i("hJob"),P=i("AZov"),L=i("btTV"),M=i("simV"),D=i("ZQSS"),B=i("fxD0"),N=i("zzbM"),U=i("TdfJ"),F=i("s2dI"),O=i("vpA/"),H=i("0o2X"),G=i("Ngbk"),V=i("YC+7"),W=i("6gIT"),q=i("MckB"),j=i("7vau"),z=i("ZmLD"),Y=i("t6h8"),$=i("ZjZ8"),J=i("/gJ+"),K=i("Jk6m"),Z=i("OjOf"),X=i("uu8k");e.VPlayerUI=function(e,t){var Q,ee,te,ie,ne,re=this;re.G=s=e.G,re.ENV=r=e.ENV,re.VER=t,re.logUtils=logUtils=s.logUtils,re.Event=o=s.Event,re.Console=c,re.utils=l,re.ISDEBUG=e.G.isDebug(),re.trigger=function(){s.vplayer.trigger.apply(s.vplayer.trigger,arguments)},s.vplayerUI=this,c.log("播放器初始化："+(Date.now()-s.beginTime)),re.R=a=new d(re),new(i("xkVf"))(re);var ae=0,oe=!1;function se(){if(!se.isInited&&oe){se.isInited=!0,clearTimeout(ae),c.log("开始初始化其他模块和UI："+(Date.now()-s.beginTime)),re.leftIcon=new v(re),ee.delayInit(),re.superFans=new g(re),re.order=new y(re),re.box=new w(re),te=new S(re),re.loginTip=te;var e=i("l3QY");if(re.roomEffectStatus=new e(re),!localStorage.db){var t=new b(re);new I(re,t),re.bannerEnter=new E(re,t),new T(re,t),new k(re,t),new C(re,t),new x(re,t),re.bannerMgr=t}if(s.isParty)new(i("+Xzf"))(re);if(ie=new A(re),re.marquee=ie,new h(re),new R(re),new L(re),s.isYanzhi||s.isMobileStarShow||6==Number(r.iSourceType))new(i("sfRv"))(re);new D(re),new B(re),new n(re);var a=i("80jK");if(re.smallHandle=new a(re),!s.isReplay)new M(re),new N(re),new U(re),new F(re),new P(re),new O(re),new V(re),re.accompany=new z(re),new Y(re),new $(re),new J(re),new(i("X1nP"))(re),re.obWatch=new j(re);var l=i("D7TG");re.roomSet=new l(re),re.initManager.addModule(re.roomSet,1);var u=i("3cGO");re.allSubscribe=new u(re);var d=i("sFSJ");re.userCardPackage=new d(re),o.fireEvent(o.PLAYER_UI_INITED),o.removeEvent(o.VIDEO_FIRST_PLAY,se)}}!function(){a.init(),o.addEvent(o.VIDEO_FIRST_PLAY,se),r.avatarImg=decodeURIComponent(r.avatarImg),ne=new u,re.alert=ne,ee=new m(re),re.ctrl=ee;var e=new Z(re);re.initManager=e,re.popupManager=new X(re),o.addEvent(o.TAF_SIGNAL_READY,(function(){!function(){if(s.isReplay){var e=i("85+e");re.replay=new e(re)}re.recommendMgr=new p(re),re.copyrightTip=new W(re),re.secret=new q(re),re.makefriend=new H(re),re.gift=new _(re),re.huyaAD=new G(re),re.resourceManager=new K(re)}(),oe=!0,s.isSecret||(ae=setTimeout(se,1e3))})),Q=new f(re),re.vcore=Q,Q.init({target:document.querySelector("#player-video")})}()}}(window,jQuery)},ff5l:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t,r=e.G,a=e.Event,o=e.ISDEBUG,s=e.ENV,c=e.utils,l=e.alert,u=e.Console,d=e.logUtils,p=e.R,h=e.taf,f=h.HUYA,m=h.Taf,v=i("eKvN"),g=i("2s9n"),y=i("v8a1"),_=i("owf/"),w=i("rXj1"),S=this,b=0,I=[],E=new _("player-db","gift"),T=!1;function k(){!function(){var t=new f.GetItemTipsInfoReq;t.tId=r.userId,t.lPid=r.presenterUid,e.sendWup2("PropsUIServer","getItemTipsList",t,B)}(),b=setTimeout(le,5e3)}function C(e){Z(e)}function x(t){var i=t.propsId,n=t.num,a=t.sSrcType||"";return r.isLogin?r.isVideoMaster()?(e.trigger("sendGiftExtRsp",{msg:"主播不能给自己送礼物！",code:-1}),void l.show({msg:"主播不能给自己送礼物！",type:3})):(X(i,n,!1,!1,!0,a),void(r.sendGiftFromPanel=!1)):(e.trigger("sendGiftExtRsp",{msg:"未登录",code:-1}),void e.popLogin())}function A(e){S.giftMain.setSuperFansCount(e)}function R(){var t=new f.WeekStarPropsIdsReq;t.tUserId=r.userId,t.iWeekStarType=0,t.iGameID=s.gameId,e.sendWup2("liveui","getCurWeekStarPropsIds",t,P)}function P(e){S.giftMain.setGiftWeekStar(e)}function L(e){var t=e.iStatus;if(e.lPid==r.presenterUid){var i=e.vGiftId.value;if(0!=i.length)if(1==t){var n=1e4*Math.random();setTimeout(ie,n)}else 2==t&&(!function(e){var t,i=r.curShowPropData.length,n=[];for(t=0;t<i;t++){var a=r.curShowPropData[t].iPropsId;e.includes(a)&&n.push(t)}for(t=n.length-1;t>=0;t--)r.curShowPropData.splice(n[t],1);S.giftMain.setData(r.curShowPropData)}(i),D())}}this.giftMain=null,this.sendBagGift=Z,this.sendCardPackageItem=U,this.getSequenceReq=X,this.getPidPropsList=ie,this.sendGiftToUser=function(t){e.order.getOrderId((function(i){var n;if(!r.isLogin)return n={res:-3,msg:"未登录",data:{}},void t.reject(n);if(0!=r.wsconnected){var a=new f.ConsumeGiftSafeReq;a.lHomeOwnerUid=r.presenterUid,a.lRoomId=s.profileRoom,a.tId=r.userId,a.tId.sToken=c.getCookie("udb_n"),a.tId.iTokenType=3,a.iShowFreeitemInfo=0,a.iItemType=t.giftId,a.iItemCount=t.giftCount,a.lPresenterUid=t.uid,a.sSrcType=t.sSrcType||"",a.sPayId=i,a.sSendContent="";a.iPayPloy=223,a.iFromType=5,a.iTemplateType=5,a.sPassport=r.getUserName(),a.iEventType=2;var o=de();a.sSign=v("".concat(a.tId.lUid).concat(a.lRoomId).concat(a.iShowFreeitemInfo).concat(a.iItemType).concat(a.iItemCount).concat(a.lPresenterUid).concat(a.sPayId).concat(a.iPayPloy).concat(a.iFromType).concat(a.iTemplateType).concat(a.sPassport).concat(a.iEventType).concat(o)),a.iUseType=0,e.sendWup2("PropsUIServer","consumeGiftSafe",a,(function(e){var i=e.sMsg,r=e.iPayRespCode;n={res:r,msg:i,data:e},t.resolve(n)}))}else n={res:-4,msg:"未连接上服务",data:{}}}))},this.sendExtActivityGift=function(t){return d.log("sendExtActivityGift",t),new Promise((function(a,o){var l=t.giftId,u=t.giftCount,d=t.uid,p=t.sourceType,h=t.secondConfirm,g=t.mapParam;if(l&&u){var y=d||r.presenterUid;if(!r.isLogin)return e.popLogin(),void o({res:1999,msg:"未登录",data:{}});if(0!=r.wsconnected)if(y==r.presenterUid&&r.isVideoMaster())a({res:0,msg:"成功",data:{code:6,err:"主播不能给自己送礼物！",consumeRsp:""}});else if(1!=ee){var _=r.newPropDict[l];if(_)if(h)new(i("alRd"))(e).showDialogNew(_,u).then((function(e){w()})).catch((function(e){a({res:0,msg:"成功",data:{code:2,err:"弹窗确认取消送出",consumeRsp:""}})}));else w();else a({res:0,msg:"成功",data:{code:5,err:"礼物不存在",consumeRsp:""}})}else o({res:1002,msg:"操作频繁",data:{}});else o({res:1999,msg:"未连接上服务",data:{}})}else o({res:1004,msg:"参数不合法",data:{}});function w(){var t=setTimeout((function(){ee=!1,o({res:1999,msg:"超时",data:{}})}),8e3);ee=!0,e.order.getOrderId((function(i){var d=r.isMakeFriend||r.isParty,h=null;d?((h=new f.ConsumeGiftSafeReq).lHomeOwnerUid=r.presenterUid,h.lRoomId=s.profileRoom):((h=new f.ConsumeGiftReq).sSenderNick=r.getNickName(),h.sPresenterNick=s.pnick),h.tId=r.userId,h.tId.sToken=c.getCookie("udb_n"),h.tId.iTokenType=3,h.sSrcType=p,h.iShowFreeitemInfo=0,h.iItemType=l,h.iItemCount=u,h.lPresenterUid=y,h.sPayId=i,h.iPayPloy=223,h.iFromType=5,g&&"object"==n(g)&&Object.assign(h.mapParam.value,g),1==r.isYanzhi?h.iTemplateType=6:h.iTemplateType=5,h.sPassport=r.getUserName(),h.iEventType=d?2:0;var _="";d?(_=de(),h.sSign=v("".concat(h.tId.lUid).concat(h.lRoomId).concat(h.iShowFreeitemInfo).concat(h.iItemType).concat(h.iItemCount).concat(h.lPresenterUid).concat(h.sPayId).concat(h.iPayPloy).concat(h.iFromType).concat(h.iTemplateType).concat(h.sPassport).concat(h.iEventType).concat(_))):h.sSign=v("".concat(h.tId.lUid).concat(h.lSid).concat(h.lSubSid).concat(h.iShowFreeitemInfo).concat(h.iItemType).concat(h.iItemCount).concat(h.lPresenterUid).concat(h.sPayId).concat(h.iPayPloy).concat(h.iFromType).concat(h.iTemplateType).concat(h.sPassport).concat(h.iEventType).concat(_)),h.iUseType=0;var w=function(e){clearTimeout(t),ee=!1;var i=e.bcode,n=e.iPayRespCode;if(0==i){console.log("rsp",e);try{var s=new m.JceOutputStream;e.writeTo(s);var l=s.getBuffer();m.Util.jcestream(l,32);var u=c.ab2str(l,!1),d=window.btoa(u);if(3==n){var p=r.newPropDict[e.iItemType];p&&O(p,e)}a({res:0,msg:"成功",data:{code:0,err:"成功",consumeRsp:d}})}catch(e){o({res:1999,msg:"报错"+e,data:{}})}}else a({res:0,msg:"成功",data:{code:-1,err:"送礼接口请求失败",consumeRsp:""}})};d?e.sendWupNew("PropsUIServer","consumeGiftSafe",h,f.ConsumeGiftSafeRsp).then(w):e.sendWupNew("PropsUIServer","consumeGift",h,f.ConsumeGiftRsp).then(w)}))}}))},t=i("TXSq")(),$("#player-gift-wrap").append($(t)),T=w&&w.browser&&"safari"==w.browser.name,function(){this.giftInfo=new y(e),a.addEvent(a.GIVE_GIFT,C),a.addEvent(a.SEND_GIFT_EXT,x),a.addEvent(a.SET_SUPERFANS_CARD_COUNT,A),e.addTafListener("6515",L),r.isUserInfoInited()?k():a.addEvent(a.USER_INFO_INITED,k),a.addEvent("updatePropList",te),S.giftMain=new g(e,S)}();var M=0;function D(){r.giftIsRefresh=!0,clearTimeout(M),M=setTimeout((function(){r.giftIsRefresh=!1}),2e3)}function B(e){r.giftTipInfo=e}e.addTafListener("6100",P),e.addTafListener("6235",P),e.addTafListener("6102",(function(e){S.giftMain.updateWeekStar(e)}));var N=!1;function U(t,i,n,a,o){if(q=!1,o&&(q=o),r.isLogin)if(0!=r.wsconnected){var u=r.isMakeFriend||r.isParty,p=null;u?((p=new f.ConsumeGiftSafeReq).lHomeOwnerUid=r.presenterUid,p.lRoomId=s.profileRoom):((p=new f.ConsumeGiftReq).lSid=r.topsid,p.lSubSid=r.subsid,p.sSenderNick=r.getNickName(),p.sPresenterNick=r.curSendGiftData?r.curSendGiftData.nick:s.pnick),p.tId=r.userId,p.tId.sToken=c.getCookie("udb_n"),p.tId.iTokenType=3,p.sSrcType=Y,p.iShowFreeitemInfo=0,p.iItemType=i,p.iItemCount=n,p.lPresenterUid=r.curSendGiftData?r.curSendGiftData.uid:r.presenterUid,p.sPayId=t;var h={supportCamp:{id:r.lXid}};r.lXid?p.sSendContent=JSON.stringify(h):p.sSendContent="";N=a,p.iPayPloy=a?3:223,p.iFromType=5,1==r.isYanzhi?p.iTemplateType=6:p.iTemplateType=5,p.sPassport=r.getUserName(),p.iEventType=u?2:0;var m="";u?(m=de(),p.sSign=v("".concat(p.tId.lUid).concat(p.lRoomId).concat(p.iShowFreeitemInfo).concat(p.iItemType).concat(p.iItemCount).concat(p.lPresenterUid).concat(p.sPayId).concat(p.iPayPloy).concat(p.iFromType).concat(p.iTemplateType).concat(p.sPassport).concat(p.iEventType).concat(m))):p.sSign=v("".concat(p.tId.lUid).concat(p.lSid).concat(p.lSubSid).concat(p.iShowFreeitemInfo).concat(p.iItemType).concat(p.iItemCount).concat(p.lPresenterUid).concat(p.sPayId).concat(p.iPayPloy).concat(p.iFromType).concat(p.iTemplateType).concat(p.sPassport).concat(p.iEventType).concat(m)),p.iUseType=0,u?e.sendWup2("PropsUIServer","consumeGiftSafe",p,F):e.sendWup2("PropsUIServer","consumeGift",p,F,!0,z),d.addLog("ConsumeGiftReq"),d.addLog(p)}else l.show({msg:"没有连接上服务，请刷新试试!",type:3});else e.popLogin()}function F(t){d.addLog("ConsumeGiftRsp"),d.addLog(t);var i=r.newPropDict[t.iItemType];switch(0!==t.iPayRespCode&&S.giftMain.clearCombo(),j&&e.trigger("sendGiftExtRsp",{msg:t.sMsg,code:t.iPayRespCode}),t.iPayRespCode){case 0:sessionStorage.tokencakey&&e.trigger("setUsedClientCAMark",{jsKey:"setUsedClientCAMark",param:r.yyuid}),function(t){var i=r.newPropDict[t.iItemType];if(i){var n=t.iItemCount*i.iPropsGreenBean;e.trigger("SendCardPackageItemRsp",n)}e.trigger("SendCardPackageItemRspTV",{isTv:q}),a.fireEvent(a.SEND_CARDPACKAGE_ITEMRSP,t)}(t),function(e){var t={_ditemtype:e.iItemType,_dpayid:e.strPayId,_mnum:e.iItemCount};p.huyuReport("send",t)}(t),S.giftMain.onSendGift(t),20317==t.iItemType&&e.superFans.getSuperFansCard(),i&&6==i.iPropsUseType&&a.fireEvent("onSendChongYa");break;case 1:e.trigger("webgamelivepay",{param:{url:t.strPayConfirmUrl}});break;case 3:O(i,t);break;case 24:e.trigger("paySMSConfirm",{param:{url:t.strPayConfirmUrl}});break;default:if(0!=t.iPayRespCode){N&&e.trigger("closePackage");var n=t.sMsg;l.show({msg:n,type:1,title:"送礼失败"})}}e.trigger("SendCardPackageItemBack",t),z=0,sessionStorage.tokencakey="",0==t.iPayRespCode&&12==t.iItemType&&l.show({msg:"藏宝图赠送成功，请耐心等待抽奖",type:2,btnLabel:"关闭"})}function O(t,i){var n={};6==t.iPropsUseType?n.hyb=parseInt(t.iPropsGreenBean/1e3)*i.iItemCount:n.goldbean=parseInt(t.iPropsGreenBean)*i.iItemCount,n.prod_id=i.iItemType,n.count_by_group=i.iItemCount,n.group=1;var a=t.vWebSpecilInfo.value[0];a&&a.vPropsIdentity.value[0]&&(n.imgURL=a.vPropsIdentity.value[0].sPropsWeb.replace("&","?"),n.imgURL=r.makeHttpsUrl(n.imgURL)),n.nick=r.getNickName(),n.hasVideo=r.hasVideo?1:0,u.info("J","topUpPayment",n),e.trigger("topUpPayment",{param:n,jsKey:"topUpPayment"}),e.closeAllPanel(),e.quitFullscreen()}var H=["扣费成功","扣费确认","扣费失败","Y币不足","等级不够","没到时限","付费道具关闭","扣道具信息返回","无效类型信息","数量超出限制","检测到您的账号存在风险，请重新登录后再送礼","防刷验证失败","参数错误，密保验证错误","没有足够资源(针对免费道具)","Y币冻结","超出频率限制"];H[15]="超出频率限制",H[16]="订单已经存在",H[17]="用户加入黑名单",H[18]="用户风控失败",H[19]="日额度超出限制",H[48]="二次验证失败",H[49]="UDB二次验证失败",H[50]="二次验证参数错误";var G,V,W,q,j,z,Y,J=null,K=0;function Z(t){if(J=t,r.isLogin)if(r.isMakeFriend||!r.isVideoMaster())if(r.curSendGiftData&&r.curSendGiftData.uid==r.presenterUid&&r.isVideoMaster())l.show({msg:"主播不能给自己送礼物！",type:3});else{var i=J.type,n=J.num,o=J.isPackage,s=J.isTv,c=J.isSF,u=J.sSrcType;z=J.iRequestId||0,!c&&20317!=i||r.isSuperFans?(void 0===o&&(o=!1),X(i,n,o,s,!1,u),r.sendGiftFromPanel=!1):a.fireEvent(a.SHOW_OPEN_SUPER_FANS)}else l.show({msg:"主播不能给自己送礼物！",type:3});else e.popLogin()}function X(t,i,n,a,o,s){var c=(new Date).getTime();!r.isAllSendGift&&K>0&&c-K<200?o&&e.trigger("sendGiftExtRsp",{msg:"操作太频繁",code:9999}):(K=c,G=t,V=i,W=n,q=a,j=o,Y=s||"",e.order.getOrderId(Q))}function Q(e){U(e,G,V,W,q)}var ee=!1;function te(e){function t(e){if(e){var t=e.vItem,i=e.vDeletedId;!function(e){for(var t=e.value,i=0,n=t.length;i<n;i++){var a=t[i],o=t[i],s=o.sId,c=o.iType,l=new m.JceInputStream(a.vData);if(1==c){var u=new f.PropsRawInfo;u.readFrom(l),a.vData=u,r.propData[s]=u}}}(t),function(e){for(var t=e.value,i=0,n=t.length;i<n;i++){var a=t[i];r.propData[a]&&delete r.propData[a]}}(i),function e(t){if(null!==t&&"object"===n(t)){for(var i in t)t.hasOwnProperty(i)&&"object"===n(t[i])&&e(t[i]);delete t.proto}}(r.propData);var a=JSON.stringify(r.propData);T?E.setItem("propData",a,(function(){u.log("propData 保存成功")}),(function(){u.error("propData 保存失败")})):localStorage.propData=a}u.log("G.propData",r.propData),ie()}if(T)E.getItem("propData",(function(i){r.propData=i?JSON.parse(i):{},t(e)}),(function(){r.propData={},t(e)}));else{try{r.propData=JSON.parse(localStorage.propData)}catch(e){r.propData={}}t(e)}}function ie(){var t=new f.GetPidPropsListReq;t.tUserId=r.userId,t.lPresenterUid=r.presenterUid,t.iGameId=r.gameId,e.sendWup2("wupui","getPidPropsList",t,ne),D()}function ne(e){e.iVersion;var t=e.lOnceLimitGreenBean,i=e.iRetCode,n=e.bcode;r.onceLimitGreenBean=t>0?t:2147483647;var a=e.vSortedItemType.value,o=e.vInfo.value;I=o,u.log("vSortedItemTypeList",a.join(",")),re(),ae(a),S.giftMain.setData(r.curShowPropData),ne.hasSet||(R(),ne.hasSet=!0),0!=i&&performanceInfo._hmt.push(["reportApiMess","getpidpropslistempty","retcode:".concat(i),0]),0==i&&n>=0&&(ue()?localStorage.vSortedItemTypeList1=a.join(","):localStorage.vSortedItemTypeList2=a.join(","))}function re(){for(var t in clearTimeout(b),"1"===localStorage.log?r.newPropDict=c.deepCopy(r.propData):r.newPropDict=Object.assign({},r.propData),r.newPropDict){var i=oe(t),n=r.newPropDict[t];try{se(i,n)}catch(e){u.warn("礼物解析出错id:"+t,e);continue}}e.trigger("allPropDict",r.newPropDict),u.log("G.newPropDict",r.newPropDict)}function ae(e){r.curShowPropData=[];for(var t=e.length,i=0;i<t;i++){var n=e[i],a=r.newPropDict[n];if(a){var o=ce(a);o&&(r.extPropData.push(o),r.curShowPropData.push(a))}}u.log("G.curShowPropData",r.curShowPropData)}function oe(e){for(var t=I.length,i=0;i<t;i++){if(e==I[i].iItemType)return I[i]}return new f.PropsPidInfo}function se(e,t){var i=e.sPropsName,n=e.iViewIdx,r=e.iIdentityIdx,a=e.iGodIdentityIdx,o=e.vPcWebExtInfo.value,s=n||0;t.vPropView=t.vPropView.value[s]||{},i&&(t.vPropView.sPropsName=i),t.sPropsName=t.vPropView.sPropsName||t.sPropsName;var c=r||0,l=a||0,u=t.vWebSpecilInfo.value[0],d=u.vPropsIdentity.value[c],p=u.vPropsIdentityGod.value[l],h=u.iTabId;if(o&&o.length>0){var f=o[0],m=f.iPropStreamerFrameRate,v=f.sPropStreamerResource,g=f.sPropsPic108,y=f.sPropsWeb;d.iPropStreamerFrameRate=m||d.iPropStreamerFrameRate,d.sPropStreamerResource=v||d.sPropStreamerResource,d.sPropsPic108=g||d.sPropsPic108,d.sPropsWeb=y||d.sPropsWeb}t.vWebSpecilInfo.value[0]={vPropsIdentity:{value:[d]},vPropsIdentityGod:{value:[p]},iTabId:h}}function ce(e){var t=e.iPropsId,i=e.sPropsName,n=e.iPropsYb,r=e.iPropsGreenBean,a=e.iPropsWhiteBean;if(e.vWebSpecilInfo.value.length<1)return null;var o=e.vWebSpecilInfo.value[0].vPropsIdentity.value[0];if(!o)return null;var s=o.sPropsPic108,c=o.sPropsWeb,l=o.sPropsPicGif,u={};return u.value=[{sPropsPic108:s,sPropsWeb:c,sPropsPicGif:l}],{iPropsId:t,sPropsName:i,iPropsYb:n,iPropsGreenBean:r,iPropsWhiteBean:a,vPropsIdentity:u}}function le(){function e(){r.onceLimitGreenBean=2147483647,re(),t&&(ae(t),S.giftMain.setData(r.curShowPropData),ne.hasSet||(R(),ne.hasSet=!0))}if(u.log("获取礼物信息超时，使用本地的礼物"),T)E.getItem("propData",(function(t){r.propData=JSON.parse(t);var i=(ue()?localStorage.vSortedItemTypeList1:localStorage.vSortedItemTypeList2)||"";i=i.split(","),e()}),(function(){r.propData={},e()}));else{try{r.propData=JSON.parse(localStorage.propData);var t=(ue()?localStorage.vSortedItemTypeList1:localStorage.vSortedItemTypeList2)||"";t=t.split(",")}catch(e){r.propData={}}e()}}function ue(){if(2168==Number(s.gameId)||4079==Number(s.gameId)||o&&3205==Number(s.gameId))return!0}function de(){return o?"c84eWpKudhlb0T2JQbMM96RJpgqQRwEq":"Hi2UfWa8LhRM07ZjucWL9wzuX7okmGvd"}}},funx:function(e,t,i){e.exports=function(e){var t,n=5e3,r=2e3,a=-359,o=10,s=0,c=0,l=0,u=0,d=i("CchG"),p=e.G,h=e.R,f=(e.Console,e.ENV),m=e.utils,v=e.taf.HUYA;function g(){t||(t=$(d())).hover((function(){t.hasClass("subscribed")||t.css({transition:"",transform:"translate3d("+t.position().left+"px, 0, 0)"})}),(function(){if(!t.hasClass("subscribed")){var e=Math.floor(($(f.idDom).width()-a)/o),i=(t.position().left-a)/e;t.css({transition:"transform "+i+"s linear"}),c=setTimeout((function(){t.css({transform:"translate3d("+a+"px, 0, 0)"})}),0)}})).click((function(){t.hasClass("subscribe")&&function(t){if(!p.isLogin)return e.popLogin(),t(new Error("not logined"));if(!p.followList)return t(new Error("not followList"));h.huyuReport("click/zhibo/subbarrage"),p.followList.get(p.presenterUid).on(),t()}((function(e){e?(t.remove(),_()):(y(),t.removeClass("subscribe").addClass("subscribed").find("span").text("已关注"),setTimeout((function(){t.remove(),_()}),r))}))}))}function y(){clearTimeout(s),clearTimeout(c),clearTimeout(l),clearTimeout(u)}function _(e,i){y(),t.off(),t.remove(),t=null,"function"==typeof e&&e(i)}!function i(r,d){if(g(),0===r.length)return _(d);var y=r.shift();t.hide(),s=setTimeout((function(){!function(t){if(!p.hasVideo)return t(new Error("no video"));var i="vplayer_sbanner_"+p.topsid+"_"+p.subsid;try{if(m.getCookie(i))return t(new Error("already showed"));m.setCookieWithPath(i,1,7,"",window.location.pathname);var n=new v.SubscribeStatusReq;n.tId=p.userId,n.tFrom.iType=1,n.tFrom.sKey=p.yyuid,n.tTo.iType=2,n.tTo.sKey=p.presenterUid,e.sendWup2("liveui","getSubscribeStatus",n,(function(e){0===e.iStatus?t():t(new Error("subscribed"))}))}catch(e){t(e)}}((function(e){if(e)_(d,e);else{var s=$(f.idDom).width(),p=o;$("#player-wrap").append(t),t.css({transform:"translate3d("+s+"px, 0, 0)"}),t.show(),c=setTimeout((function(){t.css({transition:"transform "+p+"s linear"}),l=setTimeout((function(){t.css({transform:"translate3d("+a+"px, 0, 0)"})}),50)}),50),t.one("transitionend",(function(){u=setTimeout((function(){i(r,d)}),n)})),h.huyuReport("pageview/zhibo/subbarrage")}}))}),y)}([18e4])}},fxD0:function(e,t,i){e.exports=function(e){var t=i("jxvB"),n=e.G,r=e.Event,a=e.ENV,o=e.ISDEBUG,s=e.utils,c=e.logUtils,l=e.Console,u=e.taf.HUYA,d=-1;function p(t){d=t,n.videoFloatStatus=t,1==t?($("#videoContainer").addClass("mod-float"),e.setDanmuVisible(!1)):($("#videoContainer").removeClass("mod-float"),n.isShowDanmu&&!n.isUIPause&&e.setDanmuVisible(!0))}r.addEvent(r.PLAYER_FLOAT,p),r.addEvent(r.PLAYER_UI_INITED,(function(){-1==d&&p($("#videoContainer").width()<600?1:0)})),s.setCookie("isInLiveRoom","true",365,".huya.com"),window.getLog=function(){s.downloadFile(n.h5Log.toString(),"h5日志")},window.getSdkLog=function(){var e=n.vplayerUI.vcore.getSDKLog().toString();e=e.replace(/,h5/g,"\n"),s.downloadFile(e,"h5SDK日志")};var h=i("GK+E"),f=new h(1),m=new h(2);r.addEvent(r.SHOW_COMMON_TOAST,(function(e){e&&f.show(e)})),r.addEvent(r.SHOW_COMMON_TOAST_TOP,(function(e){e&&m.show(e,!0)})),r.addEvent(r.CF_MINI_JUMP,(function(){var e="//www.huya.com/"+a.profileRoom+"?promoter=huya_pc_225";o&&(e="//test-www.huya.com/"+a.profileRoom+"?promoter=huya_pc_225"),window.open(e)})),r.addEvent("getSequenceReq",(function(t){e.order.getOrderId((function(t){e.trigger("getSequenceRsp",{sSeq:t})}),t)})),r.addEvent(r.EXT_FEEDBACK,(function(e){c.addExtLog(e)}));var v;v=(new t).udbAnonymousUid,l.log("anonymousUid:",v),localStorage.anonymousUid=v,function(){var e=new Image;function t(t){n.isSupportWebp=!(!t||"load"!==t.type)&&1==e.width}e.onerror=t,e.onload=t,e.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="}();if(n.hasVideo&&"wakeLock"in navigator){var g=null,y=function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(navigator.wakeLock.request("screen"));case 3:g=e.sent,l.log("Wake Lock is active!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.log("".concat(e.t0.name,", ").concat(e.t0.message));case 10:case"end":return e.stop()}}),null,null,[[0,7]])};y(),document.addEventListener("visibilitychange",(function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:null!==g&&"visible"===document.visibilityState&&y();case 1:case"end":return e.stop()}}))}))}localStorage.showPts&&new(i("omIg"))(e);function _(){n.h5player&&n.h5player.setRoomLive(n.hasVideo&&!n.isReplay)}n.vplayerUI.addBodyClickEvent=s.once((function(){$("body").click((function(e){r.fireEvent("bodyClick",e.target)}))})),function(){try{TT.checkAdBlock().then((function(e){l.log("checkAdBlock",e),n.adBlock=e?1:0,localStorage.adBlock=n.adBlock}))}catch(e){}}(),_(),r.addEvent(r.VIDEO_PLAY,_),r.addEvent(r.VIDEO_STOP,_),e.addTafListener("6518",(function(t){var i=t.lPid,r=t.sContext;if(i==n.presenterUid){var a=s.unescapeHTML(r),o=new u.ReportLiveStreamStatReq;o.tId=n.userId,o.lPid=n.presenterUid,o.lPts=n.vplayer.getCurrentTime(),o.sContext=a,e.sendWupNew("wupui","reportLiveStreamStat",o,u.ReportLiveStreamStatRsp).then((function(e){}))}}))}},gKsB:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="new-reward-ab-wrap">\n    <div class="ab-top">\n        <div class="ab-title ellipsis">主播为你推荐</div>\n        <div class="ab-close">\n            <div class="ab-time">10s</div>\n            <div class="line"></div>\n            <i>关闭</i>\n        </div>\n        <div class="ab-close-2">\n            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-middle">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="vertical-explain-group">\n            <div class="brand-group">\n                <img class="logo" />\n                <div class="brand ellipsis"></div>\n            </div>\n            <div class="vertical-word"></div>\n            <div class="ab-common-details-btn details-btn">       \n                <div class="ab-qrcode-logo-common">\n                    <div class="qrcocde-logo"></div>\n                </div>\n                <span></span>\n            </div>\n        </div>\n        \n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc-btn"></div>\n            <div class="ab-qr-code-desc"></div>\n        </div>\n\n        <div class="ab-logo">广告</div>\n        <div id="sound" class="sound-close"></div>\n    </div>\n</div>\n',__filename="src/tpl/ad/new-reward-ad-vertical.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="new-reward-ab-wrap">\n    <div class="ab-top">\n        <div class="ab-title ellipsis">主播为你推荐</div>\n        <div class="ab-close">\n            <div class="ab-time">10s</div>\n            <div class="line"></div>\n            <i>关闭</i>\n        </div>\n        <div class="ab-close-2">\n            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99989 4.84854L6.97474 7.82339L7.82327 6.97487L4.84842 4.00002L7.82327 1.02516L6.97474 0.176636L3.99989 3.15149L1.02504 0.176636L0.176514 1.02516L3.15137 4.00002L0.176514 6.97487L1.02504 7.82339L3.99989 4.84854Z" fill="white"/>\n            </svg>\n        </div>\n    </div>\n    <div class="ab-middle">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="vertical-explain-group">\n            <div class="brand-group">\n                <img class="logo" />\n                <div class="brand ellipsis"></div>\n            </div>\n            <div class="vertical-word"></div>\n            <div class="ab-common-details-btn details-btn">       \n                <div class="ab-qrcode-logo-common">\n                    <div class="qrcocde-logo"></div>\n                </div>\n                <span></span>\n            </div>\n        </div>\n        \n        <div class="ab-qr-code-wrap">\n            <div class="ab-qr-code-container">\n                <div class="ab-qr-code"></div>\n            </div>\n            <div class="ab-qr-code-desc-btn"></div>\n            <div class="ab-qr-code-desc"></div>\n        </div>\n\n        <div class="ab-logo">广告</div>\n        <div id="sound" class="sound-close"></div>\n    </div>\n</div>\n'),__line=46;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},gPcb:function(e,t){e.exports=function(e,t){var i,n,r=0,a=0;function o(t){t=t||window.event;r=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop,l(this.container,"mousemove",i),l(this.container,"mouseup",n),l(this.container,"mouseleave",n),t.preventDefault&&t.preventDefault(),this.handle.setCapture&&this.handle.setCapture(),this.onStart&&this.onStart()}function s(t){t=t||window.event;if(!this.lock){var i=t.clientY-a,n=t.clientX-r,o=this.container.clientHeight-e.offsetHeight,s=this.container.clientWidth-e.offsetWidth;this.limit&&(i=(i=i<0?0:i)>o?o:i,n=(n=n<0?0:n)>s?s:n),this.lockY||(e.style.top=i+"px"),this.lockX||(e.style.left=n+"px"),t.preventDefault&&t.preventDefault(),this.onMove&&this.onMove()}}function c(){u(this.container,"mousemove",i),u(this.container,"mouseup",n),u(this.container,"mouseleave",n),this.handle.releaseCapture&&this.handle.releaseCapture(),this.onStop&&this.onStop()}function l(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function u(e,t,i){return e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)}function d(e,t){return function(){return t.apply(e,arguments)}}(function(){this.target=e;var r={handle:e,limit:!0,lock:!1,lockX:!1,lockY:!1,needAppend:!0,container:document.body,onStart:function(){},onMove:function(){},onStop:function(){}};for(var a in t)r[a]=t[a];for(var a in r)this[a]=r[a];i=d(this,s),n=d(this,c),this.handle.style.cursor="move",e.style.top=e.offsetTop+"px",e.style.left=e.offsetLeft+"px",e.style.position="absolute",e.style.margin="0",this.needAppend&&this.container.appendChild(e),l(this.handle,"mousedown",d(this,o))}).apply(this,arguments),this.toCenter=function(){var e=$("#videoContainer").width(),t=$("#videoContainer").height(),i=$(this.target).width(),n=t-100-$(this.target).height()>>1;n=Math.max(0,n),$(this.target).css({left:e-i>>1,top:n})}}},"gb/T":function(e,t,i){var n,r;e.exports=(r=i("Ib8C"),i("OLod"),r.mode.ECB=((n=r.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),r.mode.ECB)},hJob:function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.taf.HUYA;function r(){var i=new n.GetMountsListReq;i.tUserId=t.userId,i.iMountsListType=1,e.sendWup2("huyauserui","getMountsList",i,a)}function a(n){t.diyDomian=n.tExterInfo.sDIYDomain,t.mountsList=n.vMountsInfoList.value,e.trigger("getMountsList",n.vMountsInfoList.value),e.trigger("getMountsListRsp",n),i.fireEvent(i.GET_MOUNTS_LIST_COMPLETE)}t.isUserInfoInited()?r():i.addEvent(i.USER_INFO_INITED,r)}},hb3c:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="make-friend-item make-friend-special-item">\n   <div class="make-friend-head">\n\t  <img src="">\n        <div class="make-friend-present-close-mic"><i></i></div>\n    </div>\n    <img class="wave-effect wave-big"></img>\n    <div id="make-friend-head-frame"></div>\n    <div class="reception-logo">\n          <div class="reception-icon"></div>\n          <div class="reception-txt">接待</div>\n    </div>\n    <div class="boss-txt">老板</div>\n    <div class="guard-txt">守护</div>\n    <div class="high-guard-txt">高级守护</div>\n    <div class="make-friend-nick">获取中...</div>\n    <img class="make-friend-source-url-special"></img>\n    <img class="make-friend-seat-url-special"></img>\n    <div class="make-friend-charm"><i></i><span>0</span></div>\n    <div class="make-friend-seat-icon"></div>\n\n</div>',__filename="src/tpl/makefriend/make-friend-special-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="make-friend-item make-friend-special-item">\n   <div class="make-friend-head">\n\t  <img src="">\n        <div class="make-friend-present-close-mic"><i></i></div>\n    </div>\n    <img class="wave-effect wave-big"></img>\n    <div id="make-friend-head-frame"></div>\n    <div class="reception-logo">\n          <div class="reception-icon"></div>\n          <div class="reception-txt">接待</div>\n    </div>\n    <div class="boss-txt">老板</div>\n    <div class="guard-txt">守护</div>\n    <div class="high-guard-txt">高级守护</div>\n    <div class="make-friend-nick">获取中...</div>\n    <img class="make-friend-source-url-special"></img>\n    <img class="make-friend-seat-url-special"></img>\n    <div class="make-friend-charm"><i></i><span>0</span></div>\n    <div class="make-friend-seat-icon"></div>\n\n</div>'),__line=21;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},hl5z:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-recommend" id="player-recommend">\n    <img class="player-recommend-bg" id="player-recommend-bg" src="">\n    <div class="player-recommend-bg-cover"></div>\n\n    <div class="player-recommend-container">\n        <div class="recommend-top-ui">\n            <div class="recommend-live-forenotice">\n                <i></i>\n                <p>直播预告：</p>\n            </div>\n        </div>\n\n        <div id="recommend-forbid">\n            <i></i>\n            <span>该主播涉嫌违规，正在整改中...</span>\n        </div>\n\n        <% \n            var __hasMoment = (moment && moment.lMomId);\n            if (__hasMoment) { \n                var _vInfo = moment.tVideoInfo;\n        %>\n        <div class="player-recommend-big-video" vid=\'<%=_vInfo.lVid%>\'>\n            <img src="<%=_vInfo.sVideoCover%>" alt="<%=_vInfo.sVideoTitle%>" class="big-video-cover"\n                onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n            <div class="player-recommend-big-video-ui">\n                <div class="player-state-video">主播动态</div>\n                <i class="play-icon"></i>\n                <i class="title-bg"></i>\n                <span class="title"><%-utils.xss(_vInfo.sVideoTitle)%></span>\n                <span class="v-time"><%=_vInfo.sVideoDuration%></span>\n            </div>\n        </div>\n        <% \n            } else if(liveList[0]) { \n            var _firstLive = liveList[0]; \n        %>\n        <div class="player-recommend-big-video" yyid=\'<%=_firstLive.yyid%>\' signChannel=\'<%=_firstLive.signChannel%>\' profileRoom=\'<%=_firstLive.profileRoom%>\'\n            privateHost=\'<%=_firstLive.privateHost%>\'>\n            <img src="<%=_firstLive.screenshot%>" alt="<%=_firstLive.intro%>"\n                class="big-video-cover"\n                onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n            <div class="player-recommend-big-video-ui">\n                <div class="player-state-living">推荐直播</div>\n                <i class="play-icon"></i>\n                <i class="title-bg"></i>\n                <span class="title"><%-utils.xss(_firstLive.intro)%></span>\n                <div class="gNick">\n                    <img src="<%=_firstLive.avatar%>" alt="<%=_firstLive.nick%>"\n                        onerror="this.onerror=\'\';this.src=\'//v.huya.com/style/img/editor-avatar.gif\'">\n                    <div class="nick"><%-utils.xss(_firstLive.nick)%></div>\n                </div>\n            </div>\n        </div>\n        <% } %>\n\n        <div class="player-recommend-list">\n            <ul>\n                <%\n                    var __b = __hasMoment ? 0 : 1;\n                    for(var i=__b; i<__b+3; i++){\n                        var data = liveList[i];\n                        if(!data) continue;\n                %>\n                <li yyid=\'<%=data.yyid%>\' signChannel=\'<%=data.signChannel%>\' profileRoom=\'<%=data.profileRoom%>\' privateHost=\'<%=data.privateHost%>\'>\n                    <div class=" player-recommend-vbox">\n                        <img src="<%=data.screenshot%>" class="player-recommend-video"\n                            alt="<%=data.intro%>"\n                            onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n                        <div class="player-recommend-mask">\n                            <i></i>\n                        </div>\n                        <div class="player-state-living">\n                            <i class="icon-living"></i>直播中\n                        </div>\n                        <i class="player-recommend-name-bg"></i>\n                        <p class="player-recommend-name">\n                            <%-utils.xss(data.intro)%>\n                        </p>\n                        <p class="player-recommend-viewers">\n                            <i></i>\n                            <span style=\'float: left;\'><%=data.totalCount%></span>\n                            <span style="float: right;"><%=data.gameName%></span>\n                        </p>\n                    </div>\n                </li>\n                <%  }%>\n            </ul>\n        </div>\n\n        <p class="player-recommend-home">\n            <%=(__hasMoment ? \'更多主播精彩动态\' : \'更多热门精彩动态\')%>\n            <i></i>\n        </p>\n    </div>\n\n</div>',__filename="src/tpl/others/recommend.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append('<div class="player-recommend" id="player-recommend">\n    <img class="player-recommend-bg" id="player-recommend-bg" src="">\n    <div class="player-recommend-bg-cover"></div>\n\n    <div class="player-recommend-container">\n        <div class="recommend-top-ui">\n            <div class="recommend-live-forenotice">\n                <i></i>\n                <p>直播预告：</p>\n            </div>\n        </div>\n\n        <div id="recommend-forbid">\n            <i></i>\n            <span>该主播涉嫌违规，正在整改中...</span>\n        </div>\n\n        '),__line=18;var __hasMoment=moment&&moment.lMomId;if(__hasMoment){var _vInfo=moment.tVideoInfo;__line=22,__append('\n        <div class="player-recommend-big-video" vid=\''),__line=23,__append(escapeFn(_vInfo.lVid)),__append("'>\n            <img src=\""),__line=24,__append(escapeFn(_vInfo.sVideoCover)),__append('" alt="'),__append(escapeFn(_vInfo.sVideoTitle)),__append('" class="big-video-cover"\n                onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n            <div class="player-recommend-big-video-ui">\n                <div class="player-state-video">主播动态</div>\n                <i class="play-icon"></i>\n                <i class="title-bg"></i>\n                <span class="title">'),__line=30,__append(utils.xss(_vInfo.sVideoTitle)),__append('</span>\n                <span class="v-time">'),__line=31,__append(escapeFn(_vInfo.sVideoDuration)),__append("</span>\n            </div>\n        </div>\n        "),__line=34}else if(liveList[0]){var _firstLive=liveList[0];__line=37,__append('\n        <div class="player-recommend-big-video" yyid=\''),__line=38,__append(escapeFn(_firstLive.yyid)),__append("' signChannel='"),__append(escapeFn(_firstLive.signChannel)),__append("' profileRoom='"),__append(escapeFn(_firstLive.profileRoom)),__append("'\n            privateHost='"),__line=39,__append(escapeFn(_firstLive.privateHost)),__append("'>\n            <img src=\""),__line=40,__append(escapeFn(_firstLive.screenshot)),__append('" alt="'),__append(escapeFn(_firstLive.intro)),__append('"\n                class="big-video-cover"\n                onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n            <div class="player-recommend-big-video-ui">\n                <div class="player-state-living">推荐直播</div>\n                <i class="play-icon"></i>\n                <i class="title-bg"></i>\n                <span class="title">'),__line=47,__append(utils.xss(_firstLive.intro)),__append('</span>\n                <div class="gNick">\n                    <img src="'),__line=49,__append(escapeFn(_firstLive.avatar)),__append('" alt="'),__append(escapeFn(_firstLive.nick)),__append('"\n                        onerror="this.onerror=\'\';this.src=\'//v.huya.com/style/img/editor-avatar.gif\'">\n                    <div class="nick">'),__line=51,__append(utils.xss(_firstLive.nick)),__append("</div>\n                </div>\n            </div>\n        </div>\n        "),__line=55}__append('\n\n        <div class="player-recommend-list">\n            <ul>\n                '),__line=59;for(var __b=__hasMoment?0:1,i=__b;i<__b+3;i++){var data=liveList[i];data&&(__line=64,__append("\n                <li yyid='"),__line=65,__append(escapeFn(data.yyid)),__append("' signChannel='"),__append(escapeFn(data.signChannel)),__append("' profileRoom='"),__append(escapeFn(data.profileRoom)),__append("' privateHost='"),__append(escapeFn(data.privateHost)),__append('\'>\n                    <div class=" player-recommend-vbox">\n                        <img src="'),__line=67,__append(escapeFn(data.screenshot)),__append('" class="player-recommend-video"\n                            alt="'),__line=68,__append(escapeFn(data.intro)),__append('"\n                            onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'">\n                        <div class="player-recommend-mask">\n                            <i></i>\n                        </div>\n                        <div class="player-state-living">\n                            <i class="icon-living"></i>直播中\n                        </div>\n                        <i class="player-recommend-name-bg"></i>\n                        <p class="player-recommend-name">\n                            '),__line=78,__append(utils.xss(data.intro)),__append("\n                        </p>\n                        <p class=\"player-recommend-viewers\">\n                            <i></i>\n                            <span style='float: left;'>"),__line=82,__append(escapeFn(data.totalCount)),__append('</span>\n                            <span style="float: right;">'),__line=83,__append(escapeFn(data.gameName)),__append("</span>\n                        </p>\n                    </div>\n                </li>\n                "),__line=87)}__append('\n            </ul>\n        </div>\n\n        <p class="player-recommend-home">\n            '),__line=92,__append(escapeFn(__hasMoment?"更多主播精彩动态":"更多热门精彩动态")),__append("\n            <i></i>\n        </p>\n    </div>\n\n</div>"),__line=97}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ht5b:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-caption-switch-guide">\n    <span>当前音量过低，是否开启实时字幕?</span>\n    <div class="guide-btn">打开</div>\n</div>',__filename="src/tpl/ctrl/caption-switch-guide.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-caption-switch-guide">\n    <span>当前音量过低，是否开启实时字幕?</span>\n    <div class="guide-btn">打开</div>\n</div>'),__line=4;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},i3yQ:function(e,t,i){e.exports=function(e){var t=null,n=null,r="",a=null,o=e.G,s=e.R,c=0,l=0,u="",d=0,p={};function h(){t.find("#time-text").html("".concat(l,"s&nbsp;"))}function f(){v(),a&&(a.area="close",a.close_type="manual",s.newHuyaReport({eid_desc:"彩蛋弹窗点击事件",eid:"click/easter-egg_popup",prop:JSON.stringify(a)})),e.popupManager.nativePopupDeQueue({liveroomPopupKey:u})}function m(){n&&n(r,a),v(),a&&(a.area="button",s.newHuyaReport({eid_desc:"彩蛋弹窗点击事件",eid:"click/easter-egg_popup",prop:JSON.stringify(a)})),e.popupManager.reportClickLiveRoomPopup(p,"button")}function v(){clearInterval(c),t&&(t.unbind(),t.remove()),t=null}this.show=function(e,g,y,_,w,S){v(),n=g,a=Object.assign({},y),u=_,d=w,p=S;var b=e.sPopupIcon,I=e.sPopupImage,E=e.sPopupTitle,T=e.sPopupButton,k=e.sPopupContent,C=e.sAction,x=e.iPopupCloseTime;if(r=C,null==t){var A=i("Fd//")();t=$(A)}var R=t.find(".bg"),P=t.find(".icon");R[0].onerror=function(){R.attr("src",o.H5ROOT+"src/img/danmu/danmu-egg-popup-bg.png")},P[0].onerror=function(){P.attr("src",o.H5ROOT+"src/img/huyalogo.png")},R.attr("src",I),P.attr("src",b),t.find(".title").text(E),t.find(".content").text(k);var L=t.find(".btn");L.text(T),L.click(m),$("#videoContainer").append(t);var M=t.find(".close");if(a&&s.newHuyaReport({eid_desc:"彩蛋弹窗曝光事件",eid:"show/easter-egg_popup",prop:JSON.stringify(a)}),(l=d||x)>0){M.hide();var D=t.find(".time-close");D.css("display","flex"),D.click(f),clearInterval(c),h(),c=setInterval((function(){l--,h(),l<=0&&(clearInterval(c),v(),a.area="close",a.close_type="auto",s.newHuyaReport({eid_desc:"彩蛋弹窗点击事件",eid:"click/easter-egg_popup",prop:JSON.stringify(a)}))}),1e3)}else M.click(f)},this.hide=v}},i9Ku:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-vip-time">\n\t<div class="title-wrap">\n\t\t<div class="title"></div>\n\t\t<div class="subtitle"></div>\n\t</div>\n\t<div class="player-vip-buy-btn btn">去开通</div>\n</div>',__filename="src/tpl/vip/vip-time.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-vip-time">\n\t<div class="title-wrap">\n\t\t<div class="title"></div>\n\t\t<div class="subtitle"></div>\n\t</div>\n\t<div class="player-vip-buy-btn btn">去开通</div>\n</div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},iEWe:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="small-handle-reserve-panel">\n    <div class="top-wrap">\n        <div class="title-group">\n            <div class="logo"></div>\n            <div class="title">预约成功</div>\n        </div>\n        <div class="close-btn"></div>\n    </div>\n    <div class="content">你已成功预约，游戏上线时将提醒你</div>\n    <div class="bottom-wrap">\n        <div class="switch-btn">\n            <div id="switch-btn-icon" class="switch-on"></div>\n            <div class="switch-btn-text">上线是自动下载</div>\n        </div>\n        <div class="i-know">我知道了</div>\n    </div>\n\n</div>',__filename="src/tpl/smallhandle/small-handle-reserve.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="small-handle-reserve-panel">\n    <div class="top-wrap">\n        <div class="title-group">\n            <div class="logo"></div>\n            <div class="title">预约成功</div>\n        </div>\n        <div class="close-btn"></div>\n    </div>\n    <div class="content">你已成功预约，游戏上线时将提醒你</div>\n    <div class="bottom-wrap">\n        <div class="switch-btn">\n            <div id="switch-btn-icon" class="switch-on"></div>\n            <div class="switch-btn-text">上线是自动下载</div>\n        </div>\n        <div class="i-know">我知道了</div>\n    </div>\n\n</div>'),__line=18;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},iHjI:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.VER,a=e.Event,o=e.ISDEBUG,s=e.ENV,c=e.utils,l=e.Console,u=e.logUtils,d=null,p=null,h=null,f=this,m=i("vGTA"),v=0,g=null,y=["getAuditorRole","getLinkMicPresenterListByUid"],_=i("kvx5").extraTafProtocol,w=i("MEzy").default;function S(m){g=n.tafSignal=m;var v=i("5nzc").coverHUYA;m.taf=v(m.taf),n.vplayer.taf=e.taf=g.taf,d=e.taf.HUYA,p=e.taf.Taf,h=e.taf.TafMx,_(d),n.wsConnectTime=Date.now(),l.log("开始连接WebSocket："+(n.wsConnectTime-n.beginTime)),function(){g.on("WEBSOCKET_CONNECTED",b),g.on("WEBSOCKET_ClOSE",E),g.on("WEBSOCKET_ERROR",T),g.on("VERIFYCOOKIE_PASS",k),g.on("OTHER_MESSAGE",C),g.on("EXT_TAF_DATA",x),g.on("DATA_METRIC_NO_COMMON_DIM",A),g.on("DISPATCH_URI_DATA",R),g.on("TAF_SUCCESS_REPORT",P),n.customHeaders=g.customHeaders,new(i("l096"))(e),function(){for(var e=y.length,t=0;t<e;t++)g.on(y[t],(function(e){var t=e.sFuncName,i=e.wupStruct;f.dispatch(t,i)}));g.setSpecialFunNameList(y)}(),t.initTafManager(),a.fireEvent(a.TAF_SIGNAL_READY);var d={VER:r,isTest:o&&!s.online,useHttps:n.useHttps,uid:n.yyuid,appSrc:n.appSrc,guid:n.getGuid(),mpExperiment:n.mpExperiment,enableTrace:n.enableTrace,presenterUid:n.presenterUid,PushMessageControl:huyabaselibsPushMsgControl.PushMessageControl.default};M("start"),g.init(d),i("JctT")(g),l.log("tafSignal初始化完成",n.tafSignal),u.addLog("tafSignal初始化完成"),I=setTimeout((function(){var e=c.getDnsData("mainwssdns"),t={pid:n.presenterUid,pnick:s.pnick,guid:n.getGuid(),version:r,wsDns:e};l.log("timeoutWssDns",e);var i=JSON.stringify(t);performanceInfo._hmt.push(["reportApiMess","timeoutWssDns",i,222])}),1e4),w.on("tabvisible",(function(){l.log("addVisibilityMonitorEvent 页面显示"),D()})),w.on("systemunlock",(function(){l.log("addVisibilityMonitorEvent 系统解锁"),D()}))}()}function b(t){l.log("=== WebSocket Connected ==="),u.addLog("websocket连接成功"),clearTimeout(I),n.wsurl=t,n.loginRegister=!1,b.isFirst||(n.wsConnectTime=Date.now()-n.wsConnectTime,b.isFirst=!0,M("end")),f.connected=n.wsconnected=!0,e.trigger("wsStatusChange",{connected:n.wsconnected}),a.fireEvent(a.WEBSOCKET_CONNECTED)}f.connected=!1;var I=0;function E(t){var i=t.badIp,r=t.evt;l.log("%c=== WebSocket Closed ===","font-size:120%",r),u.addLog("websocket断开"),f.connected=n.wsconnected=!1,e.trigger("wsStatusChange",{connected:n.wsconnected}),-1==n.badWsIps.indexOf(i)&&(n.badWsIps.push(i),n.badCode.push(r.code),n.badReason=r.reason),l.info("%cbadIp "+i,"color:white;background:black;")}function T(t){f.connected=n.wsconnected=!1,e.trigger("wsStatusChange",{connected:n.wsconnected}),l.log("%c=== WebSocket Error ===","font-size:120%",t)}function k(e){n.verifyCookiePass=e,e||n.vplayerUI.trigger("verifyCookieFail"),u.addLog("VerifyCookie校验"+(e?"通过！":"失败！")),l.log("%c<<<<<<< %cVerifyCookie",N("#0000E3"),N("#D9006C"),"校验"+(e?"通过！":"失败！"),verifyRsp)}function C(e){var t=e.iCmdType;switch(t){case d.EWebSocketCommandType.EWSCmdS2C_EnterP2PAck:is=new p.JceInputStream(e.vData.buffer);var i=new d.WSEnterP2PAck;i.readFrom(is),l.log("<<<<<<< WSEnterP2PAck",i),f.dispatch("WSEnterP2PAck",i);break;case d.EWebSocketCommandType.EWSCmdS2C_ExitP2PAck:is=new p.JceInputStream(e.vData.buffer);var n=new d.WSExitP2PAck;n.readFrom(is),l.log("<<<<<<< WSExitP2PAck",n),f.dispatch("WSExitP2PAck",n);break;case d.EWebSocketCommandType.EWSCmdS2C_UpdateUserInfoRsp:is=new p.JceInputStream(e.vData.buffer);var r=new d.WSUpdateUserInfoRsp;r.readFrom(is),l.log("<<<<<<< WSUpdateUserInfoRsp",r),f.dispatch("WSUpdateUserInfoRsp",r);break;default:l.log("%c<<<<<<< Not matched CmdType: "+t,N("#red"))}}function x(e){var t=e.uri,i=e.fName,r=e.buffer;t&&n.extTafUri[t]?n.vplayerUI.trigger("extTafData",{uri:t,funcName:"",data:r}):i&&n.extTafFunName[i]&&n.vplayerUI.trigger("extTafData",{uri:0,funcName:i,data:r})}function A(e){a.fireEvent(a.DATA_METRIC_NO_COMMON_DIM,e)}function R(e){var t=e.uri,i=e.uriStruct;f.dispatch(t,i),h.NoLog[t.toString()]||l.log("%c<<<<<<< %crspMsgPush, %curi="+t,N("#0000E3"),N("black"),N("#8600FF"),i)}function P(e){a.fireEvent(a.TAF_SUCCESS_REPORT,e)}var L=0;function M(e){"start"===e?(L=+new Date,performanceInfo._hmt.push(["reportApiTime","mainWsConnectTime","start",L,"",L]),console.time("mainWsConnectTime")):"end"===e&&(performanceInfo._hmt.push(["reportApiTime","mainWsConnectTime","end",+new Date,"",L]),console.timeEnd("mainWsConnectTime"))}function D(){l.log("checkConnetAndReconnect G.wsconnected ",n.wsconnected),0==n.wsconnected&&(l.log("checkConnetAndReconnect 重连"),f.reconnect())}window.testReconnect=function(){f.reconnect()},this.reconnect=function(){g&&g.reconnect()},this.sendWup=function(e,t,i,r,a,o,s){r&&(n.userId.sToken=r),i&&i.tId&&!o&&(i.tId=n.userId),h.NoLog[t]||l.log("%c>>>>>>> %creqWup: %c"+t,N("#009100"),N("black"),N("#009100"),e,i);var c=new p.Wup;c.setServant(e),c.setFunc(t),c.writeStruct("tReq",i),void 0!==a&&0!==a||(a=++v),c.setRequestId(a);var u=new d.WebSocketCommand;u.iCmdType=d.EWebSocketCommandType.EWSCmd_WupReq;var f=c.encode();u.vData=f;try{var y=f.getBuffer(),_=new m.ArrayBuffer;_.append(y);var w=_.end();u.sMD5=w}catch(e){l.log("sparkMd5End",e)}s||(s=n.getTraceId());var S="".concat(s,":").concat(s,":").concat(0,":").concat(n.enableTrace);u.traceId=S,g.sendWupData(u)},this.sendWup2=function(e,t,i,r,o,s,c){void 0!==s&&0!==s||(s=++v);var l=+new Date,u=n.getTraceId(),d="".concat(t).concat(s);if("function"==typeof r){g.once(d,(function(i){a.fireEvent(a.TAF_SUCCESS_REPORT,{type:2,code:i.bcode,funcName:t,moduleName:e,startTime:l}),r(i)})),a.fireEvent(a.TAF_SUCCESS_REPORT,{type:1,funcName:t,moduleName:e,startTime:l,traceid:u})}f.sendWup(e,t,i,null,s,c,u)},this.sendWupNew=function(e,t,i,n){return g.sendWupNew(e,t,i,n)},this.sendRegisterGroup=function(e,t){l.log("%c>>>>>>> %creqRegisterGroup:",N("#009100"),N("#D26900"),e);var i=g.sendRegisterGroup(e);g.once("rspregisterGroup".concat(i),(function(e){l.log("%c>>>>>>> %crspRegisterGroup:",N("#009100"),N("#D26900"),e),t&&t(e)}))},this.sendUnRegisterGroup=function(e,t){l.log("%c>>>>>>> %creqUnRegisterGroup:",N("#009100"),N("#D26900"),e);var i=g.sendUnRegisterGroup(e,i);g.once("rspUnRegisterGroup".concat(i),(function(e){l.log("%c>>>>>>> %crspUnRegisterGroup:",N("#009100"),N("#D26900"),e),t&&t(e)}))},this.sendEnterP2P=function(e){l.log("%c>>>>>>> %sendEnterP2P:",e);var t=new p.JceOutputStream;e.writeTo(t);var i=new d.WebSocketCommand;i.iCmdType=d.EWebSocketCommandType.EWSCmdS2C_EnterP2P,i.vData=t.getBinBuffer(),t=new p.JceOutputStream,i.writeTo(t),g.send(t.getBuffer())},this.sendExitP2P=function(e){l.log("%c>>>>>>> %sendExitP2P:",e);var t=new p.JceOutputStream;e.writeTo(t);var i=new d.WebSocketCommand;i.iCmdType=d.EWebSocketCommandType.EWSCmdS2C_ExitP2P,i.vData=t.getBinBuffer(),t=new p.JceOutputStream,i.writeTo(t),g.send(t.getBuffer())},e.sendWSUpdateUserInfoReq=function(e){var t=new d.WSUpdateUserInfoReq;t.sAppSrc=n.appSrc,t.sGuid=n.getGuid(),e&&e.msgStatInfo&&(t.tWSMsgStatInfo=e.msgStatInfo),t.iMsgDegradeLevel=window.msgDegradeLevel||0,l.log("WSUpdateUserInfoReq",t);var i=new p.JceOutputStream;t.writeTo(i);var r=new d.WebSocketCommand;r.iCmdType=d.EWebSocketCommandType.EWSCmdC2S_UpdateUserInfoReq,r.vData=i.getBinBuffer(),i=new p.JceOutputStream,r.writeTo(i),g.send(i.getBuffer())};var B=localStorage.getItem("showP2PLog")||0;function N(e){return"color:"+e+";font-weight:900"}this.onP2PData=function(e){g.onP2PData(e).then((function(e){var t=e.uri,i=e.lMsgId,n=e.uriStruct;B&&l.log("danmuP2P",t,i,n)})).catch((function(e){B&&l.log(e)}))},this.getUserId=function(){var e=new d.UserId;return c.copy(e,n.userId),e},this.send=function(e){g&&g.send(e)},this.registerUri=function(e,t){h.UriMapping[e+""]||(h.UriMapping[e+""]=t)},this.registerUriMap=function(e){for(var t in e){var i=e[t];h.UriMapping[t+""]||(h.UriMapping[t+""]=i)}},this.registerWup=function(e,t){h.WupMapping[e]||(h.WupMapping[e]=t)},this.registerWupMap=function(e){for(var t in e){var i=e[t];h.WupMapping[t]||(h.WupMapping[t]=i)}},this.getTaf=function(){return p};var U={},F=null,O={};this.addListener=function(e,t){if(void 0===U[e]&&(U[e]=[]),"function"==typeof t){for(var i=U[e],n=0,r=i.length;n<r;n++)if(i[n]===t)return this;i.push(t)}return this},this.removeListener=function(e,t){if(null!=e&&e===F)return void 0===O[e]&&(O[e]=[]),O[e].push(t),this;var i=U[e];if(i instanceof Array)if("function"==typeof t){for(var n=0,r=i.length;n<r;n++)if(i[n]===t){i.splice(n,1);break}0==i.length&&delete U[e]}else null==t&&delete U[e];return this},this.dispatch=function(e,t){F=e;var i=U[e];if(i instanceof Array)for(var r=i.length,a=0;a<r;a++){var o=i[a];n.isFullscreen&&1400==e&&""===o.name||"function"==typeof o&&o(t)}if(F=null,(i=O[e])instanceof Array){for(a=0,r=i.length;a<r;a++)f.removeListener(e,i[a]);delete O[e]}return this},this.init=function(){u.addLog("TafHandler init"),n.vplayer.getCallJsDataByKey("tafSignalInit",S)},this.unpackNest=function(e){g.unpackNest(e)}}},iSNx:function(e,t,i){e.exports=function(e,t){var n=e.utils,r=e.Console,a=e.G,o=e.R,s=e.taf.HUYA,c=[201,202,204,206,3021,3023,3026,4040],l=[];function u(t){var i=new s.ReportUserTaskClickEventReq;i.tId=a.userId,i.iTaskId=t,e.sendWupNew("wupui","reportUserTaskClickEvent",i,s.ReportUserTaskClickEventRsp).then((function(e){}))}this.setData=function(t,s){r.log("BoxTaskList setData",s),l=s;var d=t.find(".box-task-list");n.clearWrap(d);for(var p=s.length,h=0;h<p;h++){var f=i("xJND")(),m=$(f),v=s[h],g=v.sTagIcon,y=v.sTitle,_=v.sTaskText,w=v.sTaskAction,S=v.iId,b=v.iType,I=v.iTarget,E=v.iProgress,T=v.iReceivePrize,k=v.sBackImage,C=v.sIcon;if(C)m.find(".icon").find("img").attr("src",C),m.addClass("has-icon");var x=y;if(g){var A=encodeURI(g);x+="<img src=".concat(A," />")}k&&(m.css("background","url(".concat(k,") no-repeat")),m.css("background-size","461px 70px")),m.find(".name").html(x);var R=m.find(".btn");m.find(".btn").text(_);var P=E>=I&&0==T,L=1==T,M=_;P?(R.addClass("finished"),m.find(".btn").text("领取"),M="领取"):L?(R.addClass("receive"),m.find(".btn").text("已完成"),M="已领取"):(""==w||c.includes(S))&&(m.find(".btn").text("未完成"),R.addClass("nolink"));var D={anchor_uid:a.presenterUid,game_id:a.gameId,scene:2,ua:"web",tasktype:b,taskid:S,taskname:y,status:M,source:"live"};R.data("data",{isFinish:P,sTaskAction:w,iId:S,reportParams:D}),R.click((function(t){var i=t.currentTarget,n=$(i).data("data"),r=n.isFinish,a=n.sTaskAction,s=n.iId,c=n.reportParams;r?e.box.receiveUserLevelTaskPrize(s).then((function(t){var n=t.iSuccess,r=t.sMessage;1==n?($(i).removeClass("finished").addClass("receive"),$(i).text("已完成"),e.box.getLiveBoxPage()):e.box.showToast(r),c.result=n,o.newHuyaReport({eid_desc:"用户/点击/任务中心/任务操作",eid:"usr/click/receive/taskcenter",prop:JSON.stringify(c)},"huya_web")})):(e.box.hideBoxPanel(),a&&window.open(a),c.result=1,o.newHuyaReport({eid_desc:"用户/点击/任务中心/任务操作",eid:"usr/click/receive/taskcenter",prop:JSON.stringify(c)},"huya_web"),u(s))})),d.append(m);for(var B=s[h].vPrize.value,N=0;N<B.length;N++){var U,F=B[N],O=F.sPrizeIcon,H=F.lPrizeNum;2==F.sPrizeId?(U=(H/100).toFixed(2),U="¥".concat(U)):U="*".concat(H);var G=$('<div class="prize-item"><img src='.concat(O," /><span>").concat(U,"</span></div>"));m.find(".prize-list").append(G)}}},this.pageShowReport=function(){for(var e=l.length,t=0;t<e;t++){var i=l[t],n=i.iId,r=i.sTitle,s=i.iType,c={anchor_uid:a.presenterUid,game_id:a.gameId,scene:2,ua:"web",tasktype:s,taskid:n,taskname:r,status:"展示",source:"live"};o.newHuyaReport({eid_desc:"系统/展示/任务中心/任务类型",eid:"sys/pageshow/task/levelpage",prop:JSON.stringify(c)},"huya_web")}}}},itZY:function(e,t,i){e.exports=function(e,t){var n,r,a,o,s,c,l,u,d,p,h,f,m,v,g,y,_,w,S=t.G,b=t.Event,I=t.ENV,E=t.utils,T=t.Console,k=t.R,C=t.logUtils,x=!1,A=!1,R=!1,P=!1,L=!1,M=null,D=null,B=null,N=null,U=null;function F(e){ue(),clearTimeout(ee),ee=setTimeout(de,e||5e3)}function O(){ue();var e=$(".player-ctrl-btn"),t=$(r).outerWidth();t<e.outerWidth()+80?e.hasClass("narrow")||e.addClass("narrow"):t>800&&e.removeClass("narrow")}function H(){var e=A&&!R;S.isFullSize=e,S.isFullscreen=A,$(n).css("height",e?"100%":"calc(100% - 60px)"),$(a).css("display",e?"inline-flex":"none"),$(s).css("display",e&&!I.isSimple?"block":"none"),$(o).css("display",e?"none":"block"),$(u).css("display",A||x?"block":"none"),h.css("display",x&&!A?"block":"none"),!S.hasVideoPlay()||S.isReplay||I.isSimple||S.isOBRoom?(f.hide(),U.hide()):(f.show(),U.show()),$(m).css("visibility",!S.isShieldingEffect&&A?"visible":"hidden"),v.css("display",A&&!L?"block":"none"),$(".player-danmu-pane").css("right",A?"45px":0),e||x?(G(),$(r).mousemove(q),$(r).mouseleave(j),$(n).mousemove(q),$(n).mouseleave(j),$(".player-danmu-pane").hide()):G(),function(){if(!A)return;if($("#player-resource-wrap").children(".room-gg-chat").length>0){var e=$("#player-resource-wrap").children(".room-gg-chat").attr("data-ggid");k.huyuReport("pageview/zhibo/xfgg/",null,e)}}(),M(),d.removeClass(),e?d.addClass("hy-watermark-fullscreen"):d.addClass("hy-watermark-normal"),O(),S.isFullSize&&S.is360Video&&$("#player-wrap")[0].focus(),b.fireEvent(b.FUllSCREEN_CHANGE,A),b.fireEvent(b.FUll_OR_WEBFULL_SCREEN_CHANGE,A||x)}function G(){$(r).unbind("mousemove",q),$(r).unbind("mouseleave",j),$(n).unbind("mousemove",q),$(n).unbind("mouseleave",j)}n=document.querySelector("#player-wrap"),r=document.querySelector("#player-ctrl-wrap"),a=document.querySelector("#player-full-input"),o=document.querySelector("#player-gift-wrap"),s=document.querySelector("#gift-show-btn"),c=document.querySelector("#player-fullpage-btn"),l=document.querySelector("#player-fullscreen-btn"),u=document.querySelector("#player-subscribe-wap"),d=$("#hy-watermark"),p=$("#shielding-effect"),h=$("#player-fullpage-right-btn"),f=$("#player-pc-watch-btn"),m=document.querySelector("#player-nobel-open"),v=$("#player-resource-wrap"),g=$("#player-community-contaier"),y=document.querySelector("#face-director-subscribe"),k.huyuReport("status/screen/",null,1),function(){var e=0;function t(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&A&&(J(),function(){if(S.isFullscreen){var e=$(r).outerWidth(),t=$(".player-ctrl-btn").outerWidth(),i=e-t-80-10;i<570&&($(a).css("width",i+"px"),$(".player-full-input-num").css("right",$("#player-full-input-btn").outerWidth()+5))}}())}$(window).keydown(Z),n.onclick=function(t){if(!S.is360Video&&!S.isMakeFriend&&!S.isOBWatch){var i=t.target.className;if(!i||"string"!=typeof i||-1==i.indexOf("vr-arrow")){var n=(new Date).getTime(),r=n-e;e=n,r<300&&(e=0,A?z():I.isSimple?J():K())}}},$(l).click(J),$(c).click(K),$(document).bind("fullscreenchange",t),$(document).bind("mozfullscreenchange",t),$(document).bind("webkitfullscreenchange",t)}(),function(){var e=$(".player-full-input-txt"),i=$("#player-full-input-btn"),n=$(".player-full-input-num");function r(){var t=e.val().length;t>0?i.addClass("player-full-input-btn2"):i.removeClass("player-full-input-btn2"),t=Math.min(t,30),n.text(t+"/30")}function a(){if(S.isLogin){var i=e.val();""!=i&&(e.val(""),r(),t.trigger("sendDanmuText",{param:{danmutext:i}}))}else t.popLogin()}i.click(a),e.focusin((function(){q(),e.css("background","#fff")})),e.focusout((function(){r(),e.css("background","#666")})),e.keydown((function(e){13==e.keyCode&&1==P&&a(),clearTimeout(ee),ee=setTimeout(de,5e3)})),e.keyup(r)}(),ne(),function(){if(null==ie){var e=i("ywCb");ie=new e(t),t.shieldSetList=ie,b.addEvent("setRoomShieldingEffect",(function(e){localStorage.shieldVideoEffect=e,ne()}))}}(),ie.updateShieldStyle(),p.hover((function(){t.shieldSetList&&t.shieldSetList.show()}),(function(){t.shieldSetList&&t.shieldSetList.hide()})),$(s).click((function(){R=!R,$(s).text(R?"收起礼物":"展开礼物"),H(),$(a).css("display","block"),$(s).css("display","block"),ue()})),$(r).mouseover(ce),$(r).mouseout(le),$(r).css({"-webkit-transition":"all 300ms ease-in",transition:"all 300ms ease-in"}),$(c).css("display",I.isSimple||S.isCFMiNi?"none":"block"),$(n).mousemove(re),$(n).mouseleave((function(){clearTimeout(ee),ee=setTimeout(de,100)})),h.click(he),h.addClass("player-fullpage-right-close"),M=E.hoverDisplay(h,(function(){return!x||A}),1e3),f.find("span").text("小窗播放"),f.click(ye),D=E.hoverDisplay(f,(function(){return!S.hasVideoPlay()||S.isReplay||I.isSimple||S.isOBRoom}),1e3),B=E.hoverDisplay(v,(function(){return!S.isFullscreen||!S.hasVideo||I.isSimple||L}),1e3),N=E.hoverDisplay(g,(function(){return!S.isFullscreen||!S.hasVideo||I.isSimple}),1e3),w=i("RsDo"),U=new w(t),t.initManager.addModule(U,1),$("#player-video").resize(O),b.addEvent(b.QUIT_FULL_SCREEN,Q),b.addEvent(b.QUIT_FULL_MODE,X),b.addEvent(b.EXT_HOVER,re),b.addEvent(b.GET_FACE_DIRECTOR_ELM,Se),b.addEvent(b.SET_LIVEROOM_REATURES,ae),b.addEvent(b.ACTIVE_SHOW_CTRL,F),b.addEvent(b.EXT_TRIGGER_VIDEO_CLICK,be),-1!=navigator.userAgent.indexOf("QQBrowserLite")&&(L=!0),C.addLog("isQQInMac:"+L),T.log("isQQInMac",L);var V,W=null;function q(e){if((A||x)&&(!W||!e||W.pageX!=e.pageX||W.pageY!=e.pageY)&&(e&&(W=e),A||x)){if($(u).css("display","block"),S.bDirector)return;clearTimeout(V),V=setTimeout((function(){$(u).css("display","none")}),4e3)}}function j(){(A||x)&&(S.bDirector||$(u).css("display","none"))}function z(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),A=!1,k.huyuReport("status/screen/",null,x?2:1),H(),S.isReplay||e.hideGuess(),$(l).attr("title","全屏"),$(l).removeClass("player-narrowscreen"),$(l).addClass("player-fullscreen-btn"),k.huyuReport("click/kongzhi/quanping/close");var i=oe?1:3;t.trigger("pageFullScreen",{param:{flag:x?i:0}}),S.screenStatus=x?2:1}function Y(){if(A)return z(),void setTimeout(Y,100);k.huyuReport("status/screen/",null,2),x=!0,H(),S.isReplay||e.hideGuess(),$(c).attr("title","退出剧场"),$(c).removeClass("player-fullpage-btn"),$(c).addClass("player-narrowpage"),k.huyuReport("click/kongzhi/wyquanping/on"),null==localStorage.isShowChatScreen&&(localStorage.isShowChatScreen="false"),oe="true"==localStorage.isShowChatScreen,fe(),S.screenStatus=2}function J(){var i;R=!1,A?z():((i=document.querySelector(I.idDom)).requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(),A=!0,k.huyuReport("status/screen/",null,3),H(),S.isReplay||e.hideGuess(),$(l).attr("title","退出全屏"),$(l).removeClass("player-fullscreen-btn"),$(l).addClass("player-narrowscreen"),k.huyuReport("click/kongzhi/quanping/on"),t.trigger("pageFullScreen",{param:{flag:2}}),S.screenStatus=3)}function K(){x?(t.trigger("pageFullScreen",{param:{flag:0}}),x=!1,H(),k.huyuReport("status/screen/",null,1),S.isReplay||e.hideGuess(),$(c).attr("title","剧场模式"),$(c).removeClass("player-narrowpage"),$(c).addClass("player-fullpage-btn"),A&&setTimeout(z,100),k.huyuReport("click/kongzhi/wyquanping/close"),S.screenStatus=1):Y()}function Z(t){27==t.keyCode&&x&&K(),(A||x)&&function(t){switch(t.keyCode){case 38:e.volume.updateVolume(8);break;case 40:e.volume.updateVolume(-8)}}(t),13==t.keyCode&&A&&(ue(),clearTimeout(ee),ee=setTimeout(de,5e3),clearTimeout(_),_=setTimeout((function(){$(".player-full-input-txt").focus(),P=!0}),300))}function X(){x&&K(),A&&J()}function Q(){oe&&x&&K(),A&&J()}var ee,te=!1,ie=null;function ne(){te="1"==localStorage.shieldVideoEffect,S.isShieldingEffect=!S.giftEffectEnable||te,T.log("shieldingeffect",te,S.isShieldingEffect),1==S.isShieldingEffect&&b.fireEvent(b.CLEAR_PLAYER_EFFECT),$(m).css("visibility",!S.isShieldingEffect&&A?"visible":"hidden")}function re(){S.uiActivated&&(ue(),M(),U&&U.showFansClip(),D(),B(),N())}function ae(){var e;S.roomFeatures&&S.roomFeatures.ui&&(null!=(e=S.roomFeatures.ui.activated)&&(S.uiActivated=e,S.uiActivated?($(r).show(),ue()):($(r).hide(),de(),f.hide(),v.hide(),g.hide(),U.hide())));S.roomFeatures&&S.roomFeatures.effect&&(null!=(e=S.roomFeatures.effect.giftEffectEnable)&&(S.giftEffectEnable=e,ne()))}var oe,se=!1;function ce(){se=!0}function le(){se=!1,clearTimeout(ee),ee=setTimeout(de,100)}function ue(){A&&!R||I.isSimple?$(r).css("bottom","0px"):$(r).css("bottom","60px"),clearTimeout(ee),ee=setTimeout(de,1e3),pe(!0)}function de(){se||(A&&!R||I.isSimple?($(r).css("bottom","-48px"),$(".player-full-input-txt").blur(),clearTimeout(_),P=!1):$(r).css("bottom","16px"),pe(!1))}function pe(e){S.ctrlIsShow!=e&&(S.ctrlIsShow=e,t.trigger("controlStatusChange",{visibility:e,detail:{uiBar:e}}))}function he(){oe=!oe,localStorage.isShowChatScreen=oe,fe()}function fe(){h.removeClass(),oe?(h.addClass("player-fullpage-right-open"),t.trigger("pageFullScreen",{param:{flag:1}})):(h.addClass("player-fullpage-right-close"),t.trigger("pageFullScreen",{param:{flag:3}}))}var me=0,ve=0,ge=!1;function ye(){if(!S.isCanvasRender&&ge&&document.pictureInPictureEnabled&&!S.isUIPause)return k.huyuReport("click/zhibo/miniscreen"),void b.fireEvent(b.ENTER_PIP);var e=Date.now();if(e-ve<5e3)e-ve>1e3&&_e();else{k.huyuReport("click/zhibo/miniscreen"),ve=e;var t="huyapc://openmini=1&pid="+S.presenterUid+"&tid="+S.topsid+"&sid="+S.subsid,i="http://127.0.0.1:20192/?CheckClientInstall=1&OpenClient="+encodeURIComponent(t);$.ajax({url:i,type:"GET",dataType:"jsonp",data:{}}).done((function(e){T.log("PCWatchData",e),clearTimeout(me),e.result&&0==e.result.errcode&&0==e.result.isInstall?we():e.result&&0==e.result.errcode&&1==e.result.isInstall&&(b.fireEvent(b.SHIPIN_PAUSE),ge=!1)})),clearTimeout(me),me=setTimeout((function(){we()}),1e3)}}function _e(){var e=_e.hdl;e&&clearTimeout(e);var t=$("#pc-watch-download-tips");t.show(),t.fadeIn("fast"),t.css({width:"200px",height:"32px"}),t.find("span").html("正在启动小窗"),e=setTimeout((function(){t.fadeOut("normal",(function(){t.hide()}))}),2e3),_e.hdl=e}function we(){if(!S.isCanvasRender&&document.pictureInPictureEnabled&&!S.isUIPause)return ge=!0,void b.fireEvent(b.ENTER_PIP);ge=!1;var e=we.hdl;e&&clearTimeout(e);var t=$("#pc-watch-download-tips");t.show(),t.fadeIn("fast"),t.css({width:"200px",height:"55px"}),t.find("span").html("未检测到最新版虎牙PC客户端<br>安装后即可小窗播放"),e=setTimeout((function(){t.fadeOut("normal",(function(){t.hide()}))}),5e3);var i=we.dhl;i&&clearTimeout(i),i=setTimeout((function(){k.huyuReport("show/zhibo/miniscreen/download");var e=(new Date).toLocaleDateString();localStorage.pcDownLoad!=e&&(localStorage.pcDownLoad&&k.huyuReport("show/zhibo/miniscreen/download/anotherday"),localStorage.pcDownLoad=e);var t="//download.huya.com/huyapc/install/HuyaClientInstall005.exe",i=E.appStoreDownLoad(t);i?window.open(i):window.location.href=t}),3e3),we.hdl=e,we.dhl=i}function Se(){$(u).hide(),u=y,t.trigger("faceDirectorElmRsp",y)}function be(e){if(e){var t=e.button,i=e.clientX,n=e.clientY;if(0==t)F(1e3),$.smartMenu.hide();else if(2==t)try{var r=document.createEvent("MouseEvents");r.initMouseEvent("contextmenu",!0,!1,window,0,i,n,i,n,!1,!1,!1,!1,0,null),$("#player-video")[0].dispatchEvent(r),$("#smartMenu_videoMenu").css({left:i||200,top:n||200})}catch(e){console.log("onExtTriggerVideoClick",e)}}}this.quitFullMode=X,this.quitFullscreen=Q,this.showCtrlWrap=ue}},iwIq:function(e,t){e.exports=function(e){var t=e.Console,i=e.ISDEBUG,n=(e.VER,e.utils),r=e.logUtils;this.amsTraceReport=function(i){var n=i.id,r=i.sdkConfig,a=i.reportData;if(e.huyaAD.isAMSAd(n)){var o=function(e){var i=e.currentTime,n=e.duration,r=e.lastPauseTime,a=Math.round(1e3*i),o={bt:r>0?Math.round(1e3*r):0,et:a,bf:r>0?0:1,pp:0};o.pa=e.pa,o.ft=e.isPause?1:3,o.ef=n&&i==n?"1":"0",e.ps&&(o.ps=e.ps);return o.pt=Math.round(1e3*(i-r)),o=JSON.stringify(o),t.log("amsReport VideoPlayData",o),{video:o}}(a);e.huyaAD.reportPlaying(r,{},{},n,o)}},this.amsSchemeTraceReport=function(e,a){var o=function(e,t){var i=parseInt(e.extra.value.programType),a=e.extra.value.wxAdAppJson,o=null;try{var s=n.unescapeHTML(a),c=s=JSON.parse(s),l=c.wxAppAdId,u=c.wxAppPosId,d=c.wxAppNetLogId,p=c.wxAppOriginTraceId,h={aid:l,traceid:p,pid:u,wx_sdk_type:5,wx_type:i};d&&(h.net_log_id=d),o={ct:0,os:3,sdk_st:16,events:[{ts:(new Date).getTime(),ei:t,biz:h}]}}catch(e){r.addLog("makeTraceReportData失败 wxAdAppJson:"+a,e)}return o}(e,a);if(o){var s="https://sdkreport.e.qq.com/link_event";i&&(s="https://ttc.gdt.qq.com/link_event"),n.customAjaxRequst(s,"POST","application/json",JSON.stringify(o),(function(e){t.log("amsSchemeTraceReport success",e)}),(function(e){t.error("amsSchemeTraceReport Error:",e)}))}},this.isWXUrlScheme=function(e){return e.startsWith("weixin://")},this.amsClickReport=function(e){n.customAjaxRequst(e,"GET")}}},iyPA:function(e,t,i){"use strict";i.r(t),i.d(t,"SoundProgress",(function(){return a}));var n=i("YJXF"),r=i.n(n),a=function(e,t,i,n){var a=e.find(".progress"),o=e.find(".btn"),s=e.find(".bar"),c=0,l=!1,u=0;function d(e){o.css("left",e+"px"),s.css("width",e+o.width()/2+"px");var r=(e-t)/(i-t);r=r.toFixed(2),n&&n(r)}function p(e){if(l){var n=e.pageX-u-c;d(n=(n=n<t?t:n)>i?i:n)}}function h(e){l=!1,$(document).unbind("mousemove",p),$(document).unbind("mouseup",h)}a.mousedown((function(e){if(r.a.stopPropagation(e),e.target!=o[0]){var n=e.offsetX-t;d(n=(n=n<t?t:n)>i?i:n)}l=!0,c=r.a.getPos(a[0]).left,u=e.pageX-r.a.getPos(o[0]).left,$(document).mousemove(p),$(document).mouseup(h)})),this.setVolume=function(e){d((i-t)*e+t)},this.clear=function(){a.unbind("mousedown"),$(document).unbind("mousemove",p),$(document).unbind("mouseup",h)}}},izBd:function(e,t,i){e.exports=function(e,t){var n=t.G,r=t.Event,a=t.ISDEBUG,o=t.ENV,s=t.R,c=t.Console,l=$(".player-videotype-cur"),u=$(".player-videoline-cur"),d=$(".player-menu-panel"),p=$(".player-videotype-list"),h=$(".player-videoline-list"),f=$(".player-videoline"),m=$("#player-audio-btn"),v=0,g=0,y=99,_=[],w=null,S=null;function b(){$("#player-bitrate-tips").show(),s.huyuReport("Pageview/partner/h5/push"),$("#player-bitrate-tips").find("span").click(E),$(".player-bitrate-tips-close").click(I),setTimeout(I,1e4)}function I(){$("#player-bitrate-tips").remove()}function E(){s.huyuReport("click/partner/h5/push");var e="//www.huya.com/"+o.profileRoom;a&&(e="//test.www.huya.com/"+o.profileRoom),window.open(e)}function T(){localStorage.flacTips||n.isOpenFlac||8==n.lLiveCompatibleFlag&&n.flacSwitch&&($("#player-flac-tips").show(),e.showCtrlWrap(),s.huyuReport("pageview/flac/tips"),setTimeout(k,5e3),$(".player-flac-tips-close").click(k),localStorage.flacTips=1,$(".player-videotype-cur").mouseenter(k))}function k(){$("#player-flac-tips").remove()}function C(){if(n.extStreamVR){var t=(new Date).toLocaleDateString();localStorage.VRTipTime!=t&&(localStorage.VRTipTime=t,localStorage.VRTipCount=0),localStorage.VRTipCount>4||($("#player-vr-switch-tips").show(),e.showCtrlWrap(),$(".player-vr-switch-close").click(x),$(".player-videotype-cur").mouseenter(x),localStorage.VRTipCount++,setTimeout(x,4e3))}}function x(){$("#player-vr-switch-tips").remove()}function A(){var e=Date.now();if(e-v<500)return!1;v=e,n.isOpenFlac=!n.isOpenFlac,localStorage.openflac=n.isOpenFlac?1:0,n.isOpenFlac?(s.huyuReport("click/flac/open"),r.fireEvent(r.GET_FLAC_TOKEN,!0)):(n.vplayer.stopFlac(),s.huyuReport("click/flac/close"),t.showPlayTip("flac-close")),m.removeClass("audio-hide-btn audio-show-btn"),n.isOpenFlac?m.addClass("audio-show-btn"):m.addClass("audio-hide-btn")}function R(e,t){c.log("openBuffCardModalMessage:",e,t)}function P(e){return li=$('<li><span></span><img class="bitrate-right-btn vip-bitrate-btn"></img></li>'),li.find(".bitrate-right-btn").attr("src",e),li}function L(e){return li=$('<li><span></span><div class="bitrate-right-btn common-enjoy-btn">'.concat(e,"</div></li>")),li}function M(e){return!n.isLogin&&((e||n.SrcBitRate)>=3e3||void 0)}function D(){$(".player-videotype-list li").each((function(e,t){"on"!=t.className?$(t).css("color","#999"):$(t).css("color","#F80")})),$(".player-videoline-list li").each((function(e,t){"on"!=t.className?$(t).css("color","#999"):$(t).css("color","#F80")}))}function B(a){if(a){r.fireEvent(r.CLEAR_VIDEO_REPORT),n.vplayer.setVRPort(),$(".player-videotype-list li").each((function(e,t){$(t).attr("class",t==a?"on":"")})),n.pullStreamFrom=1;var o=$(a),c=o.data("data"),u=c.iBitRate;u==y?(n.isAutoBitrate=!0,n.autoCurBitrate=n.curBitRate,u=n.curBitRate):n.isAutoBitrate=!1,function(e,t){var i=e.find("span").text();if(i)l.text(i);else{var n=t.sDisplayName;l.text(n)}O()}(o,c),n.isReplay?t.replay.switchBitrate(u):(t.vcore.reqBitRate(u),function(e){var t=e.sDisplayName,i=e.status;r.addEvent(r.NEW_VIDEO,(function e(){r.removeEvent(r.NEW_VIDEO,e);var n=G(i,1,t);r.fireEvent(r.SHOW_COMMON_TOAST_TOP,n)}));var n=G(i,0,t);r.fireEvent(r.SHOW_COMMON_TOAST_TOP,n)}(c),function(e){if(120===e.iFrameRate){r.addEvent(r.NEW_VIDEO,(function e(){r.removeEvent(r.NEW_VIDEO,e),function(){if(null==S){var e=i("7apI");S=new e(t)}S.play()}()}))}}(c));var p=c.status,h={roomtype:["","ordinarylive","theaterlive","fullscreenlive"][n.screenStatus],line:n.videoLine,quality:u,original:0==u?1:0,status:p},f=JSON.stringify(h);s.newHuyaReport({eid_desc:"用户/点击/画质设置/直播间",eid:"usr/click/imagedefinition_set/liveroom",prop:f}),d.hide(),e.turnPlayButtonOn()}}function N(){for(var e=0,t=$(".player-videotype-list li"),i=0,n=t.length;i<n;i++){var r=t[i];if("on"==$(r).attr("class")){e=i;break}}return e==n-1?e--:e++,!!t[e]&&(B(t[e]),!0)}function U(e){if(e){$(".player-vr-model-list li").each((function(t,i){$(i).attr("class",i==e?"on":"")}));var t=e.innerText;"全景模式"==t?n.vrSwitch=!0:"普通模式"==t&&(n.vrSwitch=!1),r.fireEvent(r.VR_MODEL_CHANGE),d.hide()}}function F(){var e=$(".player-vr-model-list li"),t=n.vrSwitch?e[0]:e[1];$(".player-vr-model-list li").each((function(e,i){$(i).attr("class",i==t?"on":"")}))}function O(){if(n.hasAutoBitrate){var e=function(){if(!n.isAutoBitrate)return"自动";var e=function(e){for(var t in _){var i=_[t],r=i.sDisplayName,a=i.iBitRate;if((a||n.SrcBitRate)==e)return r}return""}(n.autoCurBitrate);if(e)return"自动(".concat(e,")");return"自动"}();$(".player-videotype-list li").each((function(t,i){"1"==$(i).data("data").isAuto&&$(i).find("span").text(e)}))}}function H(){$(".player-videotype").hide()}function G(e,t,i){return 2==e?0==t?"已开通高清画质权益，正在为你切换至 <span>".concat(i,"</span> 请稍后..."):"已开通高清画质权益，成功为你切换至 <span>".concat(i,"</span>"):3==e?0==t?"正在为你切换至 <span>".concat(i,"（限时免费）</span> 请稍后..."):"成功为你切换至 <span>".concat(i,"（限时免费）</span>"):0==t?"正在为你切换至 <span>".concat(i,"</span> 请稍后..."):"成功为你切换至 <span>".concat(i,"</span>")}function V(e,t,i){var n=e.iFrameRate,r=e.iBitRate;return!t&&120===n||!(!(i.filter((function(e){return e&&e.iBitRate===r})).length>=2&&t)||60!==n&&0!==n)}function W(e,t){var i=n.bitRateList1.findIndex((function(i){return i.iBitRate===e&&i.iFrameRate===t}));-1!==i&&n.bitRateList1.splice(i,1)}m.click(A),o.isSimple&&o.isRedirectHuya&&setTimeout(b,3e5),setTimeout(T,1e4),r.addEvent(r.SHOW_VR_UI,C),r.addEvent(r.GET_VR_STREAM_ERR,F),r.addEvent(r.HIDE_BITRATE_MENU,H),r.addEvent(r.BITRATE_AUTO_CHANGE,O),this.setBitRateList=function(e){var i,a,o,h,f,m,v,S,b,I,E,T,k,C,x,A,H,G,q,j,z,Y,J;return regeneratorRuntime.async((function(K){for(;;)switch(K.prev=K.next){case 0:if(c.log("setBitRateList",e),n.h5player){K.next=3;break}return K.abrupt("return");case 3:return K.next=5,regeneratorRuntime.awrap(n.h5player.isSupport120Hz(n.presenterUid));case 5:i=K.sent,c.log("isSupport120Hz",i),$(".player-videotype").show(),$(".player-videotype").unbind(),$(".player-videotype-list li").unbind(),d.hide(),p.empty(),_=e.list,a=e.list.concat(),n.hasAutoBitrate&&a.push({iBitRate:y,sDisplayName:"自动"}),o=a.length,h="",f=n.hasAutoBitrate&&n.isAutoBitrate,m=!1,v=!1,S=0,b=0;case 22:if(!(b<a.length)){K.next=45;break}if(I=a[b],E=I.sDisplayName,T=I.iBitRate,k=I.sTagUrl,C=I.iEnableMethod,x=I.iEnable,A=I.iFrameRate,!V(I,i,a)){K.next=29;break}return W(T,A),K.abrupt("continue",42);case 29:""==(H=E)&&(H="原画"),G=$("<li><span></span></li>"),q=0,j=o>1&&M(T)&&!n.isReplay,q=C,2==C?(G=P(k),v=!0):j?(G=L("请先登录"),m=!0,q=-1):4==C&&0==x?(G=L("扫码即享"),m=!0):k&&(G=P(k),v=!0),G.find("span").text(H),G.appendTo(p),z=Object.assign({status:q,isAuto:y==T?1:0},I),G.data("data",z),(f&&y==T||!f&&e.default==T)&&(G.attr("class","on"),h=H,w=G,0==x&&setTimeout((function(){N()&&r.fireEvent(r.SHOW_COMMON_TOAST,"观看的视频码率权限不够，正在为您切换至其它码率")}),1e3)),S++;case 42:b++,K.next=22;break;case 45:Y=8==n.lLiveCompatibleFlag&&n.flacSwitch?90:60,n.isReplay?(d.hasClass("player-menu-panel-replay")||d.addClass("player-menu-panel-replay"),Y=8==n.lLiveCompatibleFlag&&n.flacSwitch?50:20):m?d.hasClass("player-menu-panel-common")||d.addClass("player-menu-panel-common"):v&&(d.hasClass("player-menu-panel-vip")||d.addClass("player-menu-panel-vip")),d.css("height",Y+30*S+"px"),1==(J=n.extStreamVR)?($(".player-vr-switch-wrap").show(),d.css("height",60+Y+30*S+"px")):$(".player-vr-switch-wrap").hide(),$(".player-videoline-videotype").css("top",J?"60px":0),8==n.lLiveCompatibleFlag&&n.flacSwitch?$(".player-audio-wrap").show():$(".player-audio-wrap").hide(),h&&l.text(h),O(),l.css("cursor",1==S?"default":"pointer"),$(".player-videotype").hover((function(e){if(n.matchReplayStatus)r.fireEvent(r.SHOW_COMMON_TOAST,"返回直播模式后才能设置哦");else if((!e.target||"player-flac-tips-close"!=e.target.className)&&(n.isUIPause?l.css("cursor","default"):(clearTimeout(g),d.show(),$(".player-videoline-list li").each((function(e,t){var i=$(t);if(i.attr("line")==n.videoLine){i.attr("class","on");var r=i.text();r&&u.find("span").text(r)}else i.removeAttr("class")})),D(),l.css("cursor","pointer")),w)){var t=w.data("data").status,i={roomtype:["","ordinarylive","theaterlive","fullscreenlive"][n.screenStatus],line:n.videoLine,quality:n.curBitRate,original:0==n.curBitRate?1:0,status:t},a=JSON.stringify(i);s.newHuyaReport({eid_desc:"系统/展示/直播间/清晰度浮窗",eid:"sys/pageshow/liveroom/definition_window",prop:a})}}),(function(){clearTimeout(g),g=setTimeout((function(){d.hide()}),100)})),$(".player-videotype-list li").click((function(e){var i=e.currentTarget;if("on"!=i.className){var a=$(i).data("data"),o=a.status,l=a.iEnable,u=a.sEnableUrl,d=a.sDisplayName;if(n.targetBitrate=-1,"-1"==o)t.popLogin();else if("2"==o&&"0"==l){if(!n.isLogin)return void t.popLogin();n.targetBitrate=a.iBitRate,c.log("跳转到开启尊享",u),t.trigger("openBuffCardModal",{url:u,onMessage:R})}else if("4"==o&&"0"==l)r.fireEvent(r.QUIT_FULL_SCREEN),n.targetBitrate=a.iBitRate,t.trigger("openUserGrowthPrivilegePopup",{open:1,url:u,quality:d});else{if(n.isPip)return;if(1==n.paymentStatus)return;s.huyuReport("click/kongzhi/liuchang"),B(i),w=$(i)}}})),$(".player-vr-model-list li").click((function(e){var t=e.currentTarget;"on"!=t.className&&U(t)})),F();case 59:case"end":return K.stop()}}))},this.setLineList=function(e){$(".player-videoline-list li").unbind(),d.hide(),h.empty();for(var t=e,i=t.length,a=0;a<i;a++){var o,s=$("<li></li>").text("线路"+t[a].iLineIndex);s.appendTo(h),t[a].iLineIndex==n.videoLine&&(s.attr("class","on"),o="线路"+t[a].iLineIndex),o&&u.find("span").text(o);e={line:t[a].iLineIndex};s.attr(e)}i>1&&f.hover((function(){h.show()}),(function(){h.hide()})),$(".triangle-down").css("display",i>1?"block":"none"),u.css("cursor",1==i?"default":"pointer"),$(".player-videoline-list li").click((function(e){if(1!=n.paymentStatus&&!n.isPip){var t=e.currentTarget;"on"!=t.className&&function(e){if(!e)return;$(".player-videoline-list li").each((function(t,i){$(i).attr("class",i==e?"on":"")}));var t=e.innerText;t&&u.find("span").text(t);var i=$(e).attr("line");r.fireEvent(r.SWITCH_LINE,i)}(t)}}))},this.updateCurBitRateMenu=function(){var e=n.getCurBitRate();$(".player-videotype-list li").each((function(t,i){var n=$(i);if(n.data("data").iBitRate==e){n.attr("class","on");var r=n.find("span").text();r&&l.text(r)}else n.removeAttr("class")})),O()},this.changeToNextBitrate=function(){for(var e=-1,t=$(".player-videotype-list li"),i=0,n=t.length;i<n;i++){var r=t[i];if("on"==$(r).attr("class")){i<n-1&&(e=i+1);break}}-1!=e&&B(t[e])}}},jEfI:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="match-audio-stream-item">\n    <div class="icon-wrap">\n        <div class="icon-bg"></div>\n        <img class="icon in-center" />\n    </div>\n    <div class="team-name ellipsis"></div>\n</div>',__filename="src/tpl/ctrl/match-audio-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="match-audio-stream-item">\n    <div class="icon-wrap">\n        <div class="icon-bg"></div>\n        <img class="icon in-center" />\n    </div>\n    <div class="team-name ellipsis"></div>\n</div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},jO9C:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)},jYtM:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-fans-banner">\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <div class="content">\n        <img class="head"/>\n        <div class="text"></div>\n        <div class="btn">加入</div>\n    </div>\n    <div class="level-up">\n        <div class="icon"></div>\n        <div class="levelup-text"></div>\n    <div>\n</div>',__filename="src/tpl/notice/banner-fans.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-fans-banner">\n    <div class="bg-left"></div>\n    <div class="bg-right"></div>\n    <div class="bg-center"></div>\n    <div class="content">\n        <img class="head"/>\n        <div class="text"></div>\n        <div class="btn">加入</div>\n    </div>\n    <div class="level-up">\n        <div class="icon"></div>\n        <div class="levelup-text"></div>\n    <div>\n</div>'),__line=14;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},jxvB:function(e,t,i){"use strict";e.exports=i("yUf2")},k5KR:function(e,t,i){e.exports=function(e){var t=e.taf,n=e.Event,r=e.G,a=e.utils,o=e.R,s=e.Console,c=t.HUYA,l=[],u=null,d=null,p={};function h(){var t=new c.GetMessageEasterEggListReq;t.tId=r.userId,t.lPid=r.presenterUid,e.sendWupNew("wupui","getMessageEasterEggList",t,c.GetMessageEasterEggListRsp).then(f)}function f(e){var t=e.vEffect.value;l=t,D(e.tScheduleEgg)}function m(e){for(var t=0,i=l.length;t<i;t++){if(e==l[t].iId)return l[t]}return null}function v(e){if(!r.shieldDanmuEggEffect){var t=e.lPid;if(r.presenterUid==t||-1==t){var n=function(e){for(var t="",i=e.length,n=0;n<i;n++){var r=e[n];r.sText=a.xss(r.sText);var o=r.sColor;o=a.argbToRgba(o),t+="<span style='color:"+o+"'>"+r.sText+"</span>"}return t}(e.vMessage.value);if(n){var o=i("RnZD")(),s=$(o);s.find("h3").html(n);var c=$("#player-wrap").width(),l=s.find(".bg-center");s.css({transition:"transform 10s linear",transform:"translateX("+c+"px)"}),$("#player-wrap").append(s);var u=s.find("h3").width(),d={width:u-20};l.css(d),s.css({width:u+100});var p=s.width()+5;s.css({transform:"translateX("+-p+"px)"}),s.bind("transitionend webkitTransitionEnd",(function(){s.unbind(),s.remove()}))}}}}r.isUserInfoInited()?h():n.addEvent(n.USER_INFO_INITED,h),e.addTafListener("2001203",y),e.addTafListener("2001202",v),r.tafSignal.on("uri:7920",D),n.addEvent(n.SHOW_SLAP_FACE,k);var g=0;function y(t){if(!r.shieldDanmuEggEffect){var s=t.iId,c=t.iReport,l=t.sReportData,d=t.lPid,h=t.sPopupkey;if(r.presenterUid==d||-1==d){var f=a.unescapeHTML(l);try{f=JSON.parse(f)}catch(e){console.log(e)}var v=function(e){for(var t=e.length,n=0;n<t;n++){var a=e[n],o=a.sUAFilter;if(null==R&&(R=i("TIXe")),1==R.default(r.userId.sHuYaUA,o))return a}return null}(t.vEffect.value);if(f=1==c?f:null,v){var y=v.sAction,_=v.iPopupStyle,w=v.sPopupContent,S=v.iPopupWaitTime;clearTimeout(g),timeId=setTimeout((function(){0==_?(n.fireEvent(n.SHOW_COMMON_TOAST,w),C(y,f),1==c&&y&&(f&&f.hasOwnProperty("type")&&(f.eggs_stage=f.type),o.newHuyaReport({eid_desc:"彩蛋toast曝光事件",eid:"show/easter-egg_tips",prop:JSON.stringify(f)}))):1==_&&function(t,i,n){var r=t.iPopupCloseTime,a={liveroomPopupKey:n,showTime:1e3*r};e.popupManager.nativePopupEnQueue(a,(function(e){var r=e.data.showTime/1e3;p=e.data.reportParams,T(t,i,n,r)}),(function(e){u&&u.hide()}))}(v,f,h)}),S)}var b=m(s);if(b){var I=b.iType,E=b.sEffect;1==I&&A(E),1==c&&(o.newHuyaReport({eid_desc:"彩蛋曝光事件",eid:"show/easter-egg",prop:JSON.stringify(f)}),1==I&&o.newHuyaReport({eid_desc:"彩蛋挂件曝光事件",eid:"show/easter-egg_toast",prop:JSON.stringify(f)}))}}}}var _={},w=null;function S(){var e=_,t=e.type,i=e.url;I(),n.fireEvent(n.HY_ACTION,{type:t,url:i}),w&&o.newHuyaReport({eid_desc:"点击彩蛋拍脸图",eid:"click/eggs_facepicture",prop:JSON.stringify(w)})}function b(){I(),w&&o.newHuyaReport({eid_desc:"点击关闭彩蛋拍脸图",eid:"click/eggs_facepicture_close",prop:JSON.stringify(w)})}function I(){d&&(d.unbind(),d.remove(),$("#videoContainer").unbind("resize",E),d=null)}function E(){if(d){var e=$("#videoContainer"),t=e.width(),i=e.height(),n=d.width(),r=i-d.height()>>1,a=t-n>>1;d.css({top:"".concat(r,"px"),left:"".concat(a,"px")})}}function T(t,n,r,a){if(null==u){var o=i("i3yQ");u=new o(e)}u.show(t,C,n,r,a,p)}function k(e){var t=e.action,i=e.reportData;t&&i?C(t,JSON.parse(i)):C(e,{})}function C(e,t){if(e)try{e=a.unescapeHTML(e);var i=JSON.parse(e),r=i.type,s=i.url,c=i.img;7==r?function(e,t,i){_=e,(w=Object.assign({},i))&&w.hasOwnProperty("type")&&(w.eggs_stage=w.type,delete w.type),I(),null==d&&(d=$("<div id='player-egg-slap-face'><img><div class='close-btn'></div></div>")),d.find(".close-btn").click(b),d.find("img").click(S),d.find("img")[0].onload=function(){var e=$("#videoContainer");e.append(d),e.resize(E),E()},d.find("img").attr("src",t),w&&o.newHuyaReport({eid_desc:"曝光彩蛋拍脸图",eid:"show/eggs_facepicture",prop:JSON.stringify(w)})}(s,c,t):n.fireEvent(n.HY_ACTION,{type:r,url:s})}catch(e){console.log(e)}}window.testCreatEggPopup=function(){T({sAction:'{"type":7,"url":{"type":0,"url":"http://huya.com"},"img":"https://hyweb-test.oss-cn-shenzhen.aliyuncs.com/test_egg_face.png"}',sPopupIcon:"",sPopupImage:"",sPopupTitle:"testdsf",sPopupButton:"fdsfsgs",sPopupContent:"分公司个三个三国杀个三国杀公司gs"})};var x=null;function A(t){if(null==x){var n=i("Epu9");x=new n(e)}x.setData(t)}var R=null;var P,L={},M=[];function D(e){M=e.vScheduleEgg.value.concat(),function(){for(var e in L){var t=L[e];clearTimeout(t)}L={}}(),r.h5player&&(clearInterval(P),M.length>0&&(N(),P=setInterval(N,6e4)))}function B(t,i){s.log("彩蛋触发时间差："+i),i>=0&&(L[t]=setTimeout((function(){var i=function(e){var t=m(100*e+1);return t||m(100*e)}(t);if(i){var n=i.iType,r=i.sEffect;1==n?A(r):2==n&&e.trigger("showBigEggEffect",{iId:i.iId});var a={eggs_id:t,type:n};o.newHuyaReport({eid_desc:"彩蛋曝光事件",eid:"show/easter-egg",prop:JSON.stringify(a)})}}),i))}function N(){for(var e=r.h5player.getSyncTime(),t=0;t<M.length;t++){var i=M[t],n=i.iId,a=1e3*i.lBeginTime,o=a-e;s.log("彩蛋触发时间："+a+" 服务端时间："+e+" 彩蛋id："+n,o),e>0&&o<6e4&&(B(n,o=Math.max(0,o)),M.splice(t,1),t--)}M.length<=0&&clearInterval(P)}window.testEggEffect=function(){var e=m(20100);if(e){var t=e.iType,i=e.sEffect;1==t&&A(i)}},this.isDanmuEgg=function(e){var t=e.lUid;return e.iId>0&&(-1==t||r.yyuid==t)}}},"kVK+":function(e,t){t.read=function(e,t,i,n,r){var a,o,s=8*r-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=i?r-1:0,p=i?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=l}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,i,n,r,a){var o,s,c,l=8*a-r-1,u=(1<<l)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[i+h]=255&s,h+=f,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[i+h]=255&o,h+=f,o/=256,l-=8);e[i+h-f]|=128*m}},komX:function(e,t){e.exports=function(e){var t=e.taf,i=e.Event,n=e.G,r=t.HUYA;function a(){var t=new r.GetLiveWatermarkReq;t.tId=n.userId,t.lPresenterUid=n.presenterUid,e.sendWup2("huyaliveui","getLiveWatermark",t,o)}function o(e){s(e.vWatermark.value)}function s(e){$("#player-watermark").empty(),e.forEach((function(e,t){var i=e.iPosIndex,n=e.sPicUrl,r=$("<img>");r.attr("src",n),r.css("position","absolute"),1==i||2==i?r.css("top","20px"):4==i?r.css("bottom","32px"):3==i&&r.css("bottom","20px"),2==i||4==i?r.css("right","10px"):1!=i&&3!=i||r.css("left","10px"),r.css("max-height","18px"),$("#player-watermark").append(r)}))}function c(e){var t=e.iUpdateMode,i=e.vWatermark.value;1==t?s(i):2==t&&a()}n.isUserInfoInited()?a():i.addEvent(i.USER_INFO_INITED,a),i.addEvent(i.VIDEO_PLAY_NEW,a),n.tafSignal.on("uri:30088087",c)}},kpst:function(e,t,i){e.exports=function(e,t){var n=e.G;function r(e){var r=e.lBannerId,a=e.mParam;if(-1!=n.questionBannerIdArr.indexOf(r)){var o={bannerType:"question",actionType:"fadeOut",id:r};o.question=a.value.question,o.answer=a.value.answer,o.answer=function(e){for(;-1!=e.indexOf(" ");)e=e.replace(" ","&nbsp;");return e}(o.answer),o.iShowTime=parseInt(a.value.showtime)||5,function(e){var n=i("oX5l")({id:t.newId()}),r=$(n).data("data",e);r.find(".player-banner-text-question p").html(e.question),r.find(".player-banner-text-answer").html(e.answer),t.addBanner(r);var a=r.find(".player-banner-text-question"),o=a.width();if(0==o)return;var s=(600-o)/2;a.css("left",s+"px");var c=r.find(".player-banner-text-answer"),l=(600-c.width())/2;c.css("left",l+"px")}(o)}}e.addTafListener("6291",r),window.testBannerQuestion=function(){var e=new Object;(e={lBannerId:7}).mParam={value:{question:"测试的？",answer:"A:是   B:不是 ",showtime:8}},r(e)}}},ksHH:function(e,t){e.exports=function(e){var t=e.Event,i=e.VER,n=e.Console;function r(r){var a=e.marquee,o=e.bannerMgr;if(a&&o){var s={version:i},c={marquee:a.getMarqueeLength(),banner:o.getBannerLength()},l={sMetricName:"fed.main_effect_queue",vDimension:s,vField:c=Object.assign(c,r)};n.log("main_effect_queue",l),t.fireEvent(t.DATA_METRIC2,[l])}}setInterval((function(){e.trigger("getQueueInfoReq")}),6e4),t.addEvent("getQueueInfoRsp",r)}},ktl9:function(e,t,i){e.exports=function(e){var t=i("v1Vo"),n=i("+mX4"),r=i("zKJC"),a=i("9r+K"),o=i("KO5X"),s=i("B9Qt"),c=i("AkUI"),l=i("k5KR"),u=i("AWlx"),d=i("pc7l"),p=i("1P5h"),h=e.G,f=e.Event,m=e.ENV,v=e.utils,g=e.R,y=e.taf.HUYA,_=new c(e),w=new t(e,this,_),S=new n(e,this),b=new r(e),I=new a(e,w,this),E=new o(e),T=new s(e),k=new l(e),C=(new u(e),new d(e)),x=(new p(e,w),4);function A(e){h.isManager=1==e||2==e||6==e||11==e}function R(t){var i=t.tNotice,n=t.iStatus;L(i,!0),905==n&&e.ctrl.quitFullMode()}function P(e){if((I.updateCount(1),-1!=e.tUserInfo.lUid)&&((0==e.iShowMode||2==e.iShowMode)&&(h.isPresenter||"hidden"!=h.visibilityState)&&""!=e.sContent)){var t=e.tUserInfo.lUid==h.yyuid,i=e.tUserInfo.sGuid==h.getGuid();t&&i||L(e,!1)}}function L(e,t){var i=e.sContent;if(!ke(i=v.xss(i))&&function(e){if(0==h.extBarrageTags.length)return!0;var t=e.value.length;if(0==t)return!0;for(var i=0;i<t;i++){var n=e.value[i];if(n&&1==n.iAppId){var r=n.sTag;return-1!=h.extBarrageTags.indexOf(r)}}return!0}(e.vTagInfo)&&!b.isFilter(e,t)){var n=e.tBulletFormat.iFontColor,r=e.tBulletFormat.iFontSize||4,a=e.tUserInfo.lUid,o=e.tUserInfo.sNickName,s=e.tBulletFormat.iAvatarFlag,c=e.tBulletFormat.iAvatarTerminalFlag,l=e.tBulletFormat.vGraduatedColor.value,u=e.tBulletFormat.tBorderGroundFormat.iTerminalFlag,d=e.tBulletFormat.tBorderGroundFormat.iEnableUse,p=e.tSenceFormat,f=0,m=0;p&&(f=p.iSenceType,m=p.lFormatId);var g="",_=0;if(e.vBulletPrefix.value.length>0){var S=e.vBulletPrefix.value[0];S&&S.vData&&(S.vData.sUrl?g=(g=S.vData.sUrl).replace(".png","_3.png"):S.vData.lEffectsId&&(_=S.vData.lEffectsId))}var I=1==s&&4==(4&c);I&&(g=e.tUserInfo.sAvatarUrl);for(var A=null,R=null,P=null,L=e.vDecorationPrefix.value,M=L.length,D=0;D<M;D++){var B=L[D],N=B.iAppId,U=B.vData;switch(N){case y.EDecorationAppType.kDecorationAppTypeMsgInterConnect:P=T.getMsgConnectData(U);break;case y.EDecorationAppType.kDecorationAppTypeRepeatMessengeFilter:if(!t)if(b.isRepeatMessengerFilter(U))return}}var F=!1,O=e.vDecorationSuffix.value;M=O.length;for(D=0;D<M;D++){var H=O[D],G=H.iAppId,V=H.vData;switch(G){case y.EDecorationAppType.kDecorationAppTypeEasterEgg:F=k.isDanmuEgg(V);break;case y.EDecorationAppType.kDecorationAppTypeEasterEggCounter:if(C.setData(V))return}}var W=e.vBulletSuffix.value;M=W.length;var q=null;for(D=0;D<M;D++){var j=W[D],z=j.iViewType,Y=j.vData;switch(z){case y.EDecorationViewType.kDecorationViewTypeNewIcon:var $=Y.sUrl;$&&(q={sUrl:$})}}if(P){if(T.isMsgConnectClose())return;T.showMsgConnectBanner()}if(f>0&&m>0){if(A=E.getFormatById(f,m)){var J=A.tBackInfo,K=J.iTerminal;l=A.vColor.value,(K&x)==x&&(l=J.vColor.value,(R={}).iGroundColour=J.iGroundColor,R.vGroundColor=J.vGroundColor.value,R.iGroundColourDiaphaneity=J.iGroundDiaphaneity)}}else 1==l.length&&(n=l[0]),1==d&&(u&x)==x&&(n=e.tBulletFormat.tBorderGroundFormat.iFontColor,(R={}).iGroundColour=e.tBulletFormat.tBorderGroundFormat.iGroundColour,R.iGroundColourDiaphaneity=e.tBulletFormat.tBorderGroundFormat.iGroundColourDiaphaneity);var Z={msg:i,color:n,size:r,isSelf:t,uid:a,nick:o,iconUrl:g,needHead:I,graduatedColor:l,groundFormat:R,msgConnectData:P,isEgg:F,effectId:_,fansNo:q};w.addDanmu(Z)}}this.setVisible=function(e){e&&!M?w.setVisible(!1):w.setVisible(e)},e.addTafListener("1400",P),e.addTafListener("getAuditorRole",(function(e){A(e.iUserType)})),e.addTafListener("10041",(function(e){e.lUid==h.yyuid&&A(e.iNewUserType)})),m.isSimple||(e.addTafListener("6298",(function(e){if(I.updateCount(2),"hidden"!=h.visibilityState){var t=e.tBarrage.sContent;if(!ke(t)){t=v.xss(t);var i=e.tBarrage.lUid==h.yyuid;w.addTv(t,i,e.tBarrage.iTVColor,e.tBarrage.lUid,e.sNickName,e.sDiyIcon)}}})),e.addTafListener("1422",(function(e){if("hidden"!=h.visibilityState){var t=e.vEmoticon,i=e.iShowMode;if((0==i||2==i)&&0!=t.value.length){var n=e.tDecoration.tUserInfo.lUid==h.yyuid,r=t.value[0].sEmoticonId;w.setEmotFlexi(r,n)}}})),e.addTafListener("1100003",(function(e){"hidden"!=h.visibilityState&&h.isShowDanmu&&h.danmuMask&&ie&&S.setMaskData(e)}))),f.addEvent("sendMessageTimeout",R),f.addEvent("sendMessageSuccess",R);var M=!0,D=[[30,26,22],[27,24,21],[22,20,18]],B=[1,1,.5,.3],N=0,U=$(".danmu-setting-size li"),F=$(".danmu-setting-area li"),O=$(".player-danmu-pane"),H=$("#danmu-mask-set"),G=$("#danmu-mask-set .danmu-switch-btn"),V=$("#player-danmu-btn"),W=[],q=!1,j=null,z=$(".danmu-alpha-progress"),Y=$(".danmu-alpha-progress .danmu-alpha-btn"),J=$(".danmu-alpha-progress .danmu-alpha-bar"),K=0,Z=0,X=170,Q=!1,ee=0,te=-1,ie=!1,ne=!1,re=!1;function ae(e){(re=e)&&M?(O.hide(),oe(!1),w.setVisible(!1),h.isShowDanmu=!1):(h.isShowDanmu=M,oe(M),w.setVisible(M)),le()}function oe(e){e?(V.attr("title","关闭弹幕"),V.removeClass("player-ctrl-switch-hide")):(V.attr("title","开启弹幕"),V.addClass("player-ctrl-switch-hide"),S.clearMask())}function se(){S.clearMask()}function ce(){return ie&&h.isShowDanmu}function le(){ce()?S.registerDanmuGroup():S.unRegisterDanmuGroup()}function ue(){ie=!ie,localStorage.danmuMask=ie?1:0,de(ie),g.newHuyaReport({eid_desc:"点击/防遮挡弹幕",eid:"Click/AntiBlockBarrage/".concat(ie?1:0),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),g.newHuyaReport({eid_desc:"状态/防遮挡弹幕",eid:"State/AntiBlockBarrage/".concat(ie?1:0),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),le()}function de(e){e?(G.removeClass("danmu-switch-btn-hide"),G.addClass("danmu-switch-btn-show")):(G.removeClass("danmu-switch-btn-show"),G.addClass("danmu-switch-btn-hide"),S.clearMask())}function pe(e){v.stopPropagation(e),re?f.fireEvent(f.SHOW_COMMON_TOAST,"返回直播模式后才能开启哦"):(he(),localStorage.danmuOpen=M?1:0,M?(O.show(),g.newHuyaReport({eid_desc:"点击/控制栏/弹幕/开启",eid:"click/kongzhi/danmu/on",prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid})):(O.hide(),g.newHuyaReport({eid_desc:"点击/控制栏/弹幕/关闭",eid:"click/kongzhi/danmu/close",prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid})),le())}function he(){M=!M,h.isShowDanmu=M,oe(M),w.setVisible(M)}function fe(e){for(var t=e.currentTarget,i=0,n=U.length;i<n;i++){var r=U[i];r==t?($(r).addClass("on"),w.setWordSize(D[i],i),w.resizeDanmu(),localStorage.danmuSize=i,g.newHuyaReport({eid_desc:"状态/控制栏/弹幕/弹幕大小",eid:"status/kongzhi/danmu/size/".concat(i+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),g.newHuyaReport({eid_desc:"点击/控制栏/弹幕/弹幕大小",eid:"click/kongzhi/danmu/size/".concat(i+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid})):$(r).removeClass("on")}return!1}function me(e){for(var t=e.currentTarget,i=0,n=F.length;i<n;i++){var r=F[i];r==t?($(r).addClass("on"),w.setMultiMod(0==i),w.setArea(B[i]),w.resizeDanmu(),N=i,localStorage.danmuArea=i,g.newHuyaReport({eid_desc:"状态/控制栏/弹幕/弹幕位置",eid:"status/kongzhi/danmu/area/".concat(i+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),g.newHuyaReport({eid_desc:"点击/控制栏/弹幕/弹幕位置",eid:"click/kongzhi/danmu/area/".concat(i+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid})):$(r).removeClass("on")}return!1}!function(){var e,t=localStorage.danmuSize||1,i=localStorage.danmuArea||1;0==v.getQueryString("danmu")?he():"0"==localStorage.danmuOpen&&he(),e=null==localStorage.danmuMask?h.danmuMaskOpen?1:0:localStorage.danmuMask,t=parseInt(t),i=parseInt(i),e=parseInt(e),(t<0||t>2)&&(t=1),(i<0||i>3)&&(i=0);for(var n=0,r=D.length;n<r;n++)if(t==n){w.setWordSize(D[n],n),localStorage.danmuSize=t;var a="li:eq(x)".replace("x",n);$(".danmu-setting-size "+a).addClass("on"),g.newHuyaReport({eid_desc:"状态/控制栏/弹幕/弹幕大小",eid:"status/kongzhi/danmu/size/".concat(n+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid});break}for(n=0,r=B.length;n<r;n++)if(i==n){var o=parseFloat(B[n]);g.newHuyaReport({eid_desc:"状态/控制栏/弹幕/弹幕位置",eid:"status/kongzhi/danmu/area/".concat(n+1),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),w.setArea(o),N=n,localStorage.danmuArea=i,a="li:eq(x)".replace("x",n),$(".danmu-setting-area "+a).addClass("on");break}0!=i&&w.setMultiMod(!1),w.resizeDanmu(),de(1==e),1==(localStorage.shieldTVDanmu||0)&&w.setShieldTVDanmu(1),1==(localStorage.shieldFaceDanmu||0)&&w.setShieldFaceDanmu(1),1==(localStorage.shieldDanmuEffect||0)&&w.setShieldDanmuEffect(1),ie=1==e,le();var s=v.getCookie("alphaValue");s=parseFloat(s),isNaN(s)&&(s=.8),s=Math.min(s,1),s=Math.max(s,0),_e((X-Z)*s+Z)}(),U.click(fe),F.click(me),$("#player-danmu-wrap").hover(ge,ye),z.mousedown(be),V.click(pe),f.addEvent(f.BLOCK_WORDS_UPDATE,Ee),f.addEvent(f.MATCH_REPLAY_MODE_CHANGE,ae),f.addEvent(f.NEW_VIDEO,se),f.addEvent(f.SET_LIVEROOM_REATURES,Ie),f.addEvent(f.MSG_SHIELD_CFG,Te),G.click(ue);var ve=0;function ge(){clearTimeout(ve),M&&O.show()}function ye(){clearTimeout(ve),ve=setTimeout((function(){O.hide()}),300)}function _e(e){Y.css("left",e+"px"),J.css("width",e+"px");var t=(e-Z)/(X-Z)*100>>0;te!=t&&(te=t,z.find("em").text(t+"%"),w.setAlpha(t/100),v.setCookie("alphaValue",(.01*t).toFixed(2),365,".huya.com"))}function we(e){if(Q){var t=e.pageX-K-ee;_e(t=(t=t<Z?Z:t)>X?X:t)}}function Se(e){Q=!1,$(document).unbind("mousemove",we),$(document).unbind("mouseup",Se)}function be(e){v.stopPropagation(e),e.offsetX-Z>X||(e.target!=Y[0]&&_e(e.offsetX-Z),Q=!0,ee=v.getPos(z[0]).left,K=e.pageX-v.getPos(Y[0]).left,$(document).mousemove(we),$(document).mouseup(Se))}function Ie(){if(h.roomFeatures&&h.roomFeatures.barrage){var e=h.roomFeatures.barrage.enable;if(void 0===e)return;oe(e),w.setVisible(e),h.isShowDanmu=e,le()}}function Ee(e){(W=e).length>0&&(j=function(e){var t=new RegExp("(\\"+"^$.*+?=!:|\\/()[]{}".split("").join("|\\")+")","g"),i=[];return $.each(e,(function(e,n){i.push(n.replace(t,(function(e,t){return"\\"+t})))})),new RegExp(i.join("|"),"i")}(W))}function Te(e){q=1==e[20008],h.shieldDanmuEggEffect=1==e[20004]}function ke(e){return!!q&&(0!=W.length&&j.test(e))}this.getAreaIndex=function(){return parseInt(N)},this.setDanmuMaskUI=function(){ne||(ne=!0,g.newHuyaReport({eid_desc:"状态/防遮挡弹幕",eid:"State/AntiBlockBarrage/".concat(ie?1:0),prop:JSON.stringify({pid:h.presenterUid}),uid:h.yyuid}),H.removeClass("danmu-switch-set-unable"),O.css("height","277px"),H.css("display","flex"),$(".danmu-split-line").show())},this.isNeedMask=ce,this.onDanmuData=P,this.fps=I,this.closeDanmuMaskInLowFPS=function(){de(ie=0),le()},this.setShieldVaule=function(e,t){"shield-tv"==e?(localStorage.shieldTVDanmu=t,w.setShieldTVDanmu(t)):"shield-face"==e?(localStorage.shieldFaceDanmu=t,w.setShieldFaceDanmu(t)):"shield-danmu-effect"==e&&(localStorage.shieldDanmuEffect=t,w.setShieldDanmuEffect(t))},this.sendBarrage=function(t){return new Promise((function(i,n){var r=t.content;r?(h.isLogin?h.wsconnected||i({res:1015,msg:"网络异常",data:{}}):i({res:1011,msg:"未登录",data:{}}),e.trigger("sendDanmuText",{param:{danmutext:r}}),i({res:0,msg:"成功",data:{}})):i({res:1004,msg:"content 为空",data:{}})}))}}},kvx5:function(e,t,i){"use strict";i.r(t),i.d(t,"extraTafProtocol",(function(){return n}));var n=function(e){e.ConsumeGiftSafeRsp.prototype.writeTo=function(e){e.writeInt32(0,this.iPayRespCode),e.writeInt32(1,this.iItemType),e.writeInt32(2,this.iItemCount),e.writeString(3,this.strPayId),e.writeString(4,this.strPayConfirmUrl),e.writeString(5,this.strSendContent),e.writeInt64(6,this.lPresenterUid),e.writeString(7,this.sExpand),e.writeString(8,this.strPayItemInfo),e.writeInt32(9,this.iPayType),e.writeString(10,this.sSign),e.writeString(11,this.sMsg),e.writeInt32(12,this.iPayTotal),e.writeInt32(13,this.iItemGroup),e.writeString(14,this.sJumpUrl),e.writeString(15,this.sJumpText),e.writeInt32(16,this.iToastType),e.writeString(17,this.sWndJumpUrl),e.writeStruct(18,this.tBizInfo)},e.ConsumeGiftRsp.prototype.writeTo=function(e){e.writeInt32(0,this.iPayRespCode),e.writeInt32(1,this.iItemType),e.writeInt32(2,this.iItemCount),e.writeString(3,this.strPayId),e.writeString(4,this.strPayConfirmUrl),e.writeString(5,this.strSendContent),e.writeInt64(6,this.lPresenterUid),e.writeString(7,this.sExpand),e.writeString(8,this.strPayItemInfo),e.writeInt32(9,this.iPayType),e.writeString(10,this.sSign),e.writeString(11,this.sMsg),e.writeInt32(12,this.iPayTotal),e.writeInt32(13,this.iItemGroup),e.writeString(14,this.sJumpUrl),e.writeString(15,this.sJumpText),e.writeInt32(16,this.iToastType),e.writeString(17,this.sWndJumpUrl),e.writeStruct(18,this.tBizInfo)}}},l096:function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.ISDEBUG,r=(e.ENV,e.VER,["OnUserHeartBeat","videoGatewayProxy2VGPing","getCdnTokenInfoEx","getInfoFromCdnVG","getLivingStreamInfo","getInfoFromVG"]);function a(e){if(t.wsconnected){var i=e.funcName,a=e.moduleName,o=e.traceid;if(-1==r.indexOf(i)){var s=e.type,c=e.startTime,l=e.code,u="taf-"+a+"-"+i,d=n?"test":"prod";if(1==s){var p=t.wsurl;p=p.split("?")[0],t.enableTrace>0?performanceInfo._hmt.push(["reportApiTime",u,"start",c,"",c,{appid:"huya",platform:"web",path:"/".concat(a,"/").concat(i),traceid:o,spanid:o,ip:p,prodenv:d}]):performanceInfo._hmt.push(["reportApiTime",u,"start",c,"",c])}else if(2==s){var h=l>=0?"0":"2";performanceInfo._hmt.push(["reportApiTime",u,"end",+new Date,"",c,{retcode:l.toString(),success:h}]),0!=l&&performanceInfo._hmt.push(["reportApiMess","taf-error","".concat(u),"".concat(l)])}}}}i.addEvent(i.TAF_SUCCESS_REPORT,a)}},l3QY:function(e,t){e.exports=function(e){var t=e.Event,i=e.Console,n="bigGiftStreamer",r={},a={};function o(t){var o=t.status,s=t.id+"";r={id:s,status:o},i.log("bigGiftStreamerStatusChange",t),a[n]&&e.trigger("liveroomEffectStatusChange",{type:n,data:t})}t.addEvent("bigGiftStreamerStatusChange",o),this.getLiveroomEffectStatus=function(e){if(!e||null==e.type)return{res:1,msg:"参数错误",data:{}};var t=e.type,i="";switch(t){case n:if(r&&r.id&&"show"===r.status)return{res:0,msg:"成功",data:{id:i=r.id}};break;default:return{res:1,msg:"未知type："+t,data:{id:i}}}return{res:2,msg:"没有此类型的特效在播type："+t,data:{id:i}}},this.addLiveroomEffectStatusChange=function(e){if(!e||null==e.type)return{res:1,msg:"参数错误",data:{}};var t=e.type;return a[t]=!0,{res:0,msg:"成功",data:{}}},this.delLiveroomEffectStatusChange=function(e){if(!e||null==e.type)return{res:1,msg:"参数错误",data:{}};var t=e.type;return delete a[t],{res:0,msg:"成功",data:{}}}}},lPiR:function(e,t,i){var n;e.exports=(n=i("Ib8C"),function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var i=e.sqrt(t),n=2;n<=i;n++)if(!(t%n))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)t(n)&&(r<8&&(s[r]=i(e.pow(n,.5))),c[r]=i(e.pow(n,1/3)),r++),n++}();var l=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],u=i[5],d=i[6],p=i[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=l[h-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[h]=m+l[h-7]+g+l[h-16]}var y=n&r^n&a^r&a,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];p=d,d=u,u=s,s=o+w|0,o=a,a=r,r=n,n=w+(_+y)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+s|0,i[5]=i[5]+u|0,i[6]=i[6]+d|0,i[7]=i[7]+p|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=e.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),n.SHA256)},lTFj:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="match-score-popup">\n    <div class="top-ui">\n        <div class="tittle-group">\n            <div class="tittle ellipsis"></div>\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                <path d="M10.7808 8.00049L5.22021 13.561V11.4399L8.65967 8.00049L5.22021 4.56104V2.43994L10.7808 8.00049Z" fill="white" fill-opacity="0.9" style="fill:white;fill-opacity:0.9;"/>\n            </svg>\n        </div>\n        <div class="close">\n            \x3c!-- 普通状态的SVG --\x3e\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M11.8062 1.3064L7.11279 5.99976L11.8062 10.6931L10.6929 11.8064L5.99951 7.11304L1.30615 11.8064L0.192871 10.6931L4.88623 5.99976L0.192871 1.3064L1.30615 0.193115L5.99951 4.88647L10.6929 0.193115L11.8062 1.3064Z" fill="white" fill-opacity="0.5" style="fill:white;fill-opacity:0.5;"/>\n            </svg>\n            \x3c!-- hover状态的SVG --\x3e\n            <svg class="hover" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6934 11.8065L11.8066 10.6932L7.11328 5.99988L11.8066 1.30652L10.6934 0.193237L6 4.8866L1.30664 0.193237L0.193359 1.30652L4.88672 5.99988L0.193359 10.6932L1.30664 11.8065L6 7.11316L10.6934 11.8065Z" fill="white" fill-opacity="0.9" style="fill:white;fill-opacity:0.9;"/>\n            </svg>\n        </div>\n    </div>\n    <div class="content">\n        <div class="info">\n            <div class="icon"></div>\n            <div class="info-desc">\n                <p class="nick-name ellipsis"></p>\n                <p class="score"></p>\n            </div>\n        </div>\n      <div class="star-rating">\n        <div class="star" data-value="1">\n            \x3c!-- 普通状态的星星SVG --\x3e\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            \x3c!-- 选中状态的星星SVG --\x3e\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="2">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="3">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="4">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="5">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n    </div>\n</div>\n',__filename="src/tpl/popup/match-score-popup.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="match-score-popup">\n    <div class="top-ui">\n        <div class="tittle-group">\n            <div class="tittle ellipsis"></div>\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                <path d="M10.7808 8.00049L5.22021 13.561V11.4399L8.65967 8.00049L5.22021 4.56104V2.43994L10.7808 8.00049Z" fill="white" fill-opacity="0.9" style="fill:white;fill-opacity:0.9;"/>\n            </svg>\n        </div>\n        <div class="close">\n            \x3c!-- 普通状态的SVG --\x3e\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M11.8062 1.3064L7.11279 5.99976L11.8062 10.6931L10.6929 11.8064L5.99951 7.11304L1.30615 11.8064L0.192871 10.6931L4.88623 5.99976L0.192871 1.3064L1.30615 0.193115L5.99951 4.88647L10.6929 0.193115L11.8062 1.3064Z" fill="white" fill-opacity="0.5" style="fill:white;fill-opacity:0.5;"/>\n            </svg>\n            \x3c!-- hover状态的SVG --\x3e\n            <svg class="hover" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6934 11.8065L11.8066 10.6932L7.11328 5.99988L11.8066 1.30652L10.6934 0.193237L6 4.8866L1.30664 0.193237L0.193359 1.30652L4.88672 5.99988L0.193359 10.6932L1.30664 11.8065L6 7.11316L10.6934 11.8065Z" fill="white" fill-opacity="0.9" style="fill:white;fill-opacity:0.9;"/>\n            </svg>\n        </div>\n    </div>\n    <div class="content">\n        <div class="info">\n            <div class="icon"></div>\n            <div class="info-desc">\n                <p class="nick-name ellipsis"></p>\n                <p class="score"></p>\n            </div>\n        </div>\n      <div class="star-rating">\n        <div class="star" data-value="1">\n            \x3c!-- 普通状态的星星SVG --\x3e\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            \x3c!-- 选中状态的星星SVG --\x3e\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="2">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="3">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="4">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n        <div class="star" data-value="5">\n            <svg class="nor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M12.3223 6.44409L12.4199 6.67065L12.667 6.69409L18.5098 7.23511L14.1016 11.1091L13.915 11.2722L13.9697 11.5134L15.2598 17.238L10.2139 14.2419L10.002 14.116L9.78906 14.2419L4.74219 17.238L6.0332 11.5134L6.08789 11.2722L5.90137 11.1091L1.49219 7.23511L7.33594 6.69409L7.58301 6.67065L7.68066 6.44409L10.001 1.05347L12.3223 6.44409Z" stroke="white" stroke-opacity="0.3" style="stroke:white;stroke-opacity:0.3;" stroke-width="0.833321"/>\n            </svg>\n            <svg class="sel" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n              <path d="M10.0007 0.000610352L12.7044 6.27894L19.5109 6.91023L14.3754 11.4217L15.8783 18.0902L10.0007 14.6002L4.123 18.0902L5.62594 11.4217L0.490396 6.91023L7.29694 6.27894L10.0007 0.000610352Z" fill="#FFD732" style="fill:#FFD732;fill:color(display-p3 1.0000 0.8431 0.1961);fill-opacity:1;"/>\n            </svg>\n        </div>\n    </div>\n</div>\n'),__line=73;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},lUiF:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="pre-ad-reward-pannel">\n    <div class="pannel-success">\n        <i class="panne-tittle">奖励已发放</i>\n        <div class="pannel-details"></div>\n    </div>\n    <div class="pannel-fail">\n        <div class="no-data-logo"></div>\n        <i class="panne-tittle">奖励已被领光了</i>\n    </div>\n    <div class="pannel-btn">我知道了</div>\n    <div class="pannel-close"></div>\n</div>',__filename="src/tpl/ad/pre-ad-reward-pannel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="pre-ad-reward-pannel">\n    <div class="pannel-success">\n        <i class="panne-tittle">奖励已发放</i>\n        <div class="pannel-details"></div>\n    </div>\n    <div class="pannel-fail">\n        <div class="no-data-logo"></div>\n        <i class="panne-tittle">奖励已被领光了</i>\n    </div>\n    <div class="pannel-btn">我知道了</div>\n    <div class="pannel-close"></div>\n</div>'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},lYYl:function(e,t,i){(function(i,n){var r,a,o,s,c;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!

JSZip v3.1.5 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/c=function(){return function e(t,i,n){function r(o,c){if(!i[o]){if(!t[o]){if(!c&&"function"==typeof s&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};t[o][0].call(u.exports,(function(e){var i=t[o][1][e];return r(i||e)}),u,u.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof s&&s,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,o,s,c,l,u=[],d=0,p=e.length,h=p,f="string"!==n.getTypeOf(e);d<e.length;)h=p-d,f?(t=e[d++],i=d<p?e[d++]:0,r=d<p?e[d++]:0):(t=e.charCodeAt(d++),i=d<p?e.charCodeAt(d++):0,r=d<p?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|i>>4,c=h>1?(15&i)<<2|r>>6:64,l=h>2?63&r:64,u.push(a.charAt(o)+a.charAt(s)+a.charAt(c)+a.charAt(l));return u.join("")},i.decode=function(e){var t,i,n,o,s,c,l=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var p,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=r.uint8array?new Uint8Array(0|h):new Array(0|h);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,i=(15&o)<<4|(s=a.indexOf(e.charAt(l++)))>>2,n=(3&s)<<6|(c=a.indexOf(e.charAt(l++))),p[u++]=t,64!==s&&(p[u++]=i),64!==c&&(p[u++]=n);return p}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";function n(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}var r=e("./external"),a=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe");o=e("./stream/DataLengthProbe"),n.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(e,t,i){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=n},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var n=e("./utils"),r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var a=r,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,i,n){var a=r,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){"use strict";function n(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),c=r?"uint8array":"array";i.magic="\b\0",o.inherits(n,s),n.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(c,e.data),!1)},n.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},n.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},n.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new n("Deflate",e)},i.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";function n(e,t,i,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),s=e("../crc32"),c=e("../signature"),l=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},u=function(e,t,i,n,a,u){var d,p,h=e.file,f=e.compression,m=u!==o.utf8encode,v=r.transformTo("string",u(h.name)),g=r.transformTo("string",o.utf8encode(h.name)),y=h.comment,_=r.transformTo("string",u(y)),w=r.transformTo("string",o.utf8encode(y)),S=g.length!==h.name.length,b=w.length!==y.length,I="",E="",T="",k=h.dir,C=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),m||!S&&!b||(A|=2048);var R=0,P=0;k&&(R|=16),"UNIX"===a?(P=798,R|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(h.unixPermissions,k)):(P=20,R|=function(e,t){return 63&(e||0)}(h.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,p=C.getUTCFullYear()-1980,p<<=4,p|=C.getUTCMonth()+1,p<<=5,p|=C.getUTCDate(),S&&(E=l(1,1)+l(s(v),4)+g,I+="up"+l(E.length,2)+E),b&&(T=l(1,1)+l(s(_),4)+w,I+="uc"+l(T.length,2)+T);var L="";return L+="\n\0",L+=l(A,2),L+=f.magic,L+=l(d,2),L+=l(p,2),L+=l(x.crc32,4),L+=l(x.compressedSize,4),L+=l(x.uncompressedSize,4),L+=l(v.length,2),L+=l(I.length,2),{fileRecord:c.LOCAL_FILE_HEADER+L+v+I,dirRecord:c.CENTRAL_FILE_HEADER+l(P,2)+L+l(_.length,2)+"\0\0\0\0"+l(R,4)+l(n,4)+v+I+_}},d=function(e){return c.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};r.inherits(n,a),n.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},n.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:d(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,n=function(e,t,i,n,a){var o=r.transformTo("string",a(n));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(o.length,2)+o}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},n.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var n=e("../compressions"),r=e("./ZipFileWorker"),a=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r};i.generateWorker=function(e,t,i){var n=new r(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var r=a(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},c=i.dir,l=i.date;i._compressWorker(r,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)})),n.entriesCount=o}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e("./object"),n.prototype.loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.2.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";function n(e){return new a.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new c);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}var r=e("./utils"),a=e("./external"),o=e("./utf8"),s=(r=e("./utils"),e("./zipEntries")),c=e("./stream/Crc32Probe"),l=e("./nodejsUtils");t.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new s(t);return i.load(e),i})).then((function(e){var i=[a.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)i.push(n(r[o]));return a.Promise.all(i)})).then((function(e){for(var n=e.shift(),r=n.files,a=0;a<r.length;a++){var o=r[a];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";function n(e,t){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var r=e("../utils"),a=e("../stream/GenericWorker");r.inherits(n,a),n.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},n.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";function n(e,t,i){r.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),i&&i(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}var r=e("readable-stream").Readable;e("../utils").inherits(n,r),n.prototype._read=function(){this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:void 0!==i,newBufferFrom:function(e,t){return new i(e,t)},allocBuffer:function(e){return i.alloc?i.alloc(e):new i(e)},isBuffer:function(e){return i.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";function n(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),f=function(e,t,i){var n,r=a.getTypeOf(t),s=a.extend(i||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=v(e)),s.createFolders&&(n=m(e))&&g.call(this,n,!0);var d="string"===r&&!1===s.binary&&!1===s.base64;i&&void 0!==i.binary||(s.binary=!d);var f,y=t instanceof l&&0===t.uncompressedSize;(y||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string"),f=t instanceof l||t instanceof o?t:p.isNode&&p.isStream(t)?new h(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var _=new u(e,f,s);this.files[e]=_},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:c.createFolders,e=v(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t},file:function(e,t,i){if(1===arguments.length){if(n(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null}return e=this.root+e,f.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(n(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=g.call(this,t),r=this.clone();return r.root=i.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");a.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var n=i.comment||this.comment||"";t=d.generateWorker(this,i,n)}catch(e){(t=new o("error")).error(e)}return new s(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";function n(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===i&&this.data[a+2]===n&&this.data[a+3]===r)return a-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&i===a[1]&&n===a[2]&&r===a[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":32}],19:[function(e,t,i){"use strict";function n(e){r.call(this,e)}var r=e("./Uint8ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";function n(e){r.call(this,e)}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";function n(e){r.call(this,e)}var r=e("./ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new c(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,i){"use strict";function n(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),a=e("../utils");a.inherits(n,r),n.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";function n(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=e("./GenericWorker"),a=e("../crc32");e("../utils").inherits(n,r),n.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";function n(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var r=e("../utils"),a=e("./GenericWorker");r.inherits(n,a),n.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";function n(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}var r=e("../utils"),a=e("./GenericWorker");r.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,n){"use strict";function r(e,t,i){switch(e){case"blob":return s.newBlob(s.transformTo("arraybuffer",t),i);case"base64":return u.encode(t);default:return s.transformTo(e,t)}}function a(e,t){return new p.Promise((function(n,a){var o=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",(function(e,i){o.push(e),t&&t(i)})).on("error",(function(e){o=[],a(e)})).on("end",(function(){try{var e=r(c,function(e,t){var n,r=0,a=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(o),n=0;n<t.length;n++)a.set(t[n],r),r+=t[n].length;return a;case"nodebuffer":return i.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),l);n(e)}catch(e){a(e)}o=[]})).resume()}))}function o(e,t,i){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=i,s.checkSupport(n),this._worker=e.pipe(new c(n)),e.lock()}catch(e){this._worker=new l("error"),this._worker.error(e)}}var s=e("../utils"),c=e("./ConvertWorker"),l=e("./GenericWorker"),u=e("../base64"),d=e("../support"),p=e("../external"),h=null;if(d.nodestream)try{h=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}o.prototype={accumulate:function(e){return a(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){s.delay(t,arguments,i)})),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==i,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),n.blob=0===a.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";function n(){c.call(this,"utf-8 decode"),this.leftOver=null}function r(){c.call(this,"utf-8 encode")}for(var a=e("./utils"),o=e("./support"),s=e("./nodejsUtils"),c=e("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,i.utf8encode=function(e){return o.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,i,n,r,a,s=e.length,c=0;for(r=0;r<s;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=o.uint8array?new Uint8Array(c):new Array(c),a=0,r=0;a<c;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t}(e)},i.utf8decode=function(e){return o.nodebuffer?a.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,n,r,o=e.length,s=new Array(2*o);for(i=0,t=0;t<o;)if((n=e[t++])<128)s[i++]=n;else if((r=l[n])>4)s[i++]=65533,t+=r-1;else{for(n&=2===r?31:3===r?15:7;r>1&&t<o;)n=n<<6|63&e[t++],r--;r>1?s[i++]=65533:n<65536?s[i++]=n:(n-=65536,s[i++]=55296|n>>10&1023,s[i++]=56320|1023&n)}return s.length!==i&&(s.subarray?s=s.subarray(0,i):s.length=i),a.applyFromCharCode(s)}(e=a.transformTo(o.uint8array?"uint8array":"array",e))},a.inherits(n,c),n.prototype.processChunk=function(e){var t=a.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var n=t;(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+l[e[i]]>t?i:t}(t),s=t;r!==t.length&&(o.uint8array?(s=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(s=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:i.utf8decode(s),meta:e.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=n,a.inherits(r,c),r.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=r},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";function n(e){return a(e,c.uint8array?new Uint8Array(e.length):new Array(e.length))}function r(e){return e}function a(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}function o(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=h.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=h.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return h.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return h.stringifyByChar(e)}function s(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}var c=e("./support"),l=e("./base64"),u=e("./nodejsUtils"),d=e("set-immediate-shim"),p=e("./external");i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(e,t,i){var n=[],r=0,a=e.length;if(a<=i)return String.fromCharCode.apply(null,e);for(;r<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+i,a)))):n.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+i,a)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&1===String.fromCharCode.apply(null,u.allocBuffer(1)).length}catch(e){return!1}}()}};i.applyFromCharCode=o;var f={};f.string={string:r,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:function(e){return a(e,u.allocBuffer(e.length))}},f.array={string:o,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBufferFrom(e)}},f.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return u.newBufferFrom(e)}},f.nodebuffer={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},i.transformTo=function(e,t){if(t||(t=""),!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return f[n][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":c.nodebuffer&&u.isBuffer(e)?"nodebuffer":c.uint8array&&e instanceof Uint8Array?"uint8array":c.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!c[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){d((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,r,a,o){return p.Promise.resolve(t).then((function(e){return c.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new p.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var s=i.getTypeOf(t);return s?("arraybuffer"===s?t=i.transformTo("uint8array",t):"string"===s&&(o?t=l.decode(t):r&&!0!==a&&(t=n(t))),t):p.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,i){"use strict";function n(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),a=e("./utils"),o=e("./signature"),s=e("./zipEntry"),c=(e("./utf8"),e("./support"));n.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=c.uint8array?"uint8array":"array",i=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";function n(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),a=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),c=e("./utf8"),l=e("./compressions"),u=e("./support");n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null}},t.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";var n=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),s=e("./stream/GenericWorker"),c=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};c.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new n(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)c.prototype[l[d]]=u;t.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";function i(){l=!0;for(var e,t,i=u.length;i;){for(t=u,u=[],e=-1;++e<i;)t[e]();i=u.length}l=!1}var n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,o=new r(i),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){i(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(i,0)};else{var c=new e.MessageChannel;c.port1.onmessage=i,n=function(){c.port2.postMessage(0)}}var l,u=[];t.exports=function(e){1!==u.push(e)||l||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";function n(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==n&&c(this,e)}function a(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function o(e,t,i){d((function(){var n;try{n=t(i)}catch(t){return p.reject(e,t)}n===e?p.reject(e,new TypeError("Cannot resolve promise with itself")):p.resolve(e,n)}))}function s(e){var t=e&&e.then;if(e&&("object"==l(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function i(t){r||(r=!0,p.reject(e,t))}function n(t){r||(r=!0,p.resolve(e,t))}var r=!1,a=u((function(){t(n,i)}));"error"===a.status&&i(a.value)}function u(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}var d=e("immediate"),p={},h=["REJECTED"],f=["FULFILLED"],m=["PENDING"];t.exports=r,r.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if("function"!=typeof e&&this.state===f||"function"!=typeof t&&this.state===h)return this;var i=new this.constructor(n);return this.state!==m?o(i,this.state===f?e:t,this.outcome):this.queue.push(new a(i,e,t)),i},a.prototype.callFulfilled=function(e){p.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){p.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)},p.resolve=function(e,t){var i=u(s,t);if("error"===i.status)return p.reject(e,i.value);var n=i.value;if(n)c(e,n);else{e.state=f,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},p.reject=function(e,t){e.state=h,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},r.resolve=function(e){return e instanceof this?e:p.resolve(new this(n),e)},r.reject=function(e){var t=new this(n);return p.reject(t,e)},r.all=function(e){function t(e,t){i.resolve(e).then((function(e){o[t]=e,++s!==r||a||(a=!0,p.resolve(l,o))}),(function(e){a||(a=!0,p.reject(l,e))}))}var i=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,c=-1,l=new this(n);++c<r;)t(e[c],c);return l},r.race=function(e){function t(e){i.resolve(e).then((function(e){a||(a=!0,p.resolve(s,e))}),(function(e){a||(a=!0,p.reject(s,e))}))}var i=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);for(var o=-1,s=new this(n);++o<r;)t(e[o]);return s}},{immediate:36}],38:[function(e,t,i){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";function n(e){if(!(this instanceof n))return new n(e);this.options=o.assign({level:p,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==d)throw new Error(c[i]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=a.deflateSetDictionary(this.strm,r))!==d)throw new Error(c[i]);this._dict_set=!0}}function r(e,t){var i=new n(t);if(i.push(e,!0),i.err)throw i.msg||c[i.err];return i.result}var a=e("./zlib/deflate"),o=e("./utils/common"),s=e("./utils/strings"),c=e("./zlib/messages"),l=e("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,f=8;n.prototype.push=function(e,t){var i,n,r=this.strm,c=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=s.string2buf(e):"[object ArrayBuffer]"===u.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new o.Buf8(c),r.next_out=0,r.avail_out=c),1!==(i=a.deflate(r,n))&&i!==d)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(s.buf2binstring(o.shrinkBuf(r.output,r.next_out))):this.onData(o.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===d):2!==n||(this.onEnd(d),r.avail_out=0,!0)},n.prototype.onData=function(e){this.chunks.push(e)},n.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=n,i.deflate=r,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,r(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";function n(e){if(!(this instanceof n))return new n(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,t.windowBits);if(i!==c.Z_OK)throw new Error(l[i]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var i=new n(t);if(i.push(e,!0),i.err)throw i.msg||l[i.err];return i.result}var a=e("./zlib/inflate"),o=e("./utils/common"),s=e("./utils/strings"),c=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),d=e("./zlib/gzheader"),p=Object.prototype.toString;n.prototype.push=function(e,t){var i,n,r,l,u,d,h=this.strm,f=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?h.input=s.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(f),h.next_out=0,h.avail_out=f),(i=a.inflate(h,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===p.call(m)?new Uint8Array(m):m,i=a.inflateSetDictionary(this.strm,d)),i===c.Z_BUF_ERROR&&!0===v&&(i=c.Z_OK,v=!1),i!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&i!==c.Z_STREAM_END&&(0!==h.avail_in||n!==c.Z_FINISH&&n!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=s.utf8border(h.output,h.next_out),l=h.next_out-r,u=s.buf2string(h.output,r),h.next_out=l,h.avail_out=f-l,l&&o.arraySet(h.output,h.output,r,l,0),this.onData(u)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((h.avail_in>0||0===h.avail_out)&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(n=c.Z_FINISH),n===c.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK):n!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},n.prototype.onData=function(e){this.chunks.push(e)},n.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},i.ungzip=r},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=l(i))throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){var t,i,n,r,a,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,i,n,r){for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(n)},{}],42:[function(e,t,i){"use strict";function n(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i}var r=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,i.string2buf=function(e){var t,i,n,a,o,s=e.length,c=0;for(a=0;a<s;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=new r.Buf8(c),o=0,a=0;o<c;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return n(e,e.length)},i.binstring2buf=function(e){for(var t=new r.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,r,a,o,c=t||e.length,l=new Array(2*c);for(r=0,i=0;i<c;)if((a=e[i++])<128)l[r++]=a;else if((o=s[a])>4)l[r++]=65533,i+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&i<c;)a=a<<6|63&e[i++],o--;o>1?l[r++]=65533:a<65536?l[r++]=a:(a-=65536,l[r++]=55296|a>>10&1023,l[r++]=56320|1023&a)}return n(l,r)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+t[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var a=n,o=r+i;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,i){"use strict";function n(e,t){return e.msg=C[t],t}function r(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(I.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function s(e,t){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,i,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,I.arraySet(t,e.input,e.next_in,r,i),1===e.state.wrap?e.adler=T(e.adler,t,r,i):2===e.state.wrap&&(e.adler=k(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-ie?e.strstart-(e.w_size-ie):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+te,h=l[a+o-1],f=l[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+o]===f&&l[i+o-1]===h&&l[i]===l[a]&&l[++i]===l[a+1]){a+=2,i++;do{}while(l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&a<p);if(n=te-(p-a),a=p-te,n>o){if(e.match_start=t,o=n,n>=s)break;h=l[a+o-1],f=l[a+o]}}}while((t=d[t&u])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead}function p(e){var t,i,n,r,a,o=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-ie)){I.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--i);t=i=o;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--i);r+=o}if(0===e.strm.avail_in)break;if(i=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=i,e.lookahead+e.insert>=ee)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+ee-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<ee)););}while(e.lookahead<ie&&0!==e.strm.avail_in)}function h(e,t){for(var i,n;;){if(e.lookahead<ie){if(p(e),e.lookahead<ie&&t===x)return de;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ie&&(e.match_length=d(e,i)),e.match_length>=ee)if(n=E._tr_tally(e,e.strstart-e.match_start,e.match_length-ee),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ee){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=e.strstart<ee-1?e.strstart:ee-1,t===P?(s(e,!0),0===e.strm.avail_out?he:fe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:pe}function f(e,t){for(var i,n,r;;){if(e.lookahead<ie){if(p(e),e.lookahead<ie&&t===x)return de;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ee-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ie&&(e.match_length=d(e,i),e.match_length<=5&&(e.strategy===O||e.match_length===ee&&e.strstart-e.match_start>4096)&&(e.match_length=ee-1)),e.prev_length>=ee&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ee,n=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ee),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=ee-1,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return de}else if(e.match_available){if((n=E._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return de}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=E._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ee-1?e.strstart:ee-1,t===P?(s(e,!0),0===e.strm.avail_out?he:fe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:pe}function m(e,t){for(var i,n,r,a,o=e.window;;){if(e.lookahead<=te){if(p(e),e.lookahead<=te&&t===x)return de;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ee&&e.strstart>0&&(n=o[r=e.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r]){a=e.strstart+te;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<a);e.match_length=te-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ee?(i=E._tr_tally(e,1,e.match_length-ee),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?he:fe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:pe}function v(e,t){for(var i;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===x)return de;break}if(e.match_length=0,i=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?he:fe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:pe}function g(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*X),this.dyn_dtree=new I.Buf16(2*(2*K+1)),this.bl_tree=new I.Buf16(2*(2*Z+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(Q+1),this.heap=new I.Buf16(2*J+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*J+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=q,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?re:le,e.adler=2===t.wrap?0:1,t.last_flush=x,E._tr_init(t),M):n(e,B)}function w(e){var t=_(e);return t===M&&function(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=b[e.level].max_lazy,e.good_match=b[e.level].good_length,e.nice_match=b[e.level].nice_length,e.max_chain_length=b[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ee-1,e.match_available=0,e.ins_h=0}(e.state),t}function S(e,t,i,r,a,o){if(!e)return B;var s=1;if(t===F&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>z||i!==j||r<8||r>15||t<0||t>9||o<0||o>V)return n(e,B);8===r&&(r=9);var c=new y;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+ee-1)/ee),c.window=new I.Buf8(2*c.w_size),c.head=new I.Buf16(c.hash_size),c.prev=new I.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new I.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=i,w(e)}var b,I=e("../utils/common"),E=e("./trees"),T=e("./adler32"),k=e("./crc32"),C=e("./messages"),x=0,A=1,R=3,P=4,L=5,M=0,D=1,B=-2,N=-3,U=-5,F=-1,O=1,H=2,G=3,V=4,W=0,q=2,j=8,z=9,Y=15,$=8,J=286,K=30,Z=19,X=2*J+1,Q=15,ee=3,te=258,ie=te+ee+1,ne=32,re=42,ae=69,oe=73,se=91,ce=103,le=113,ue=666,de=1,pe=2,he=3,fe=4,me=3;b=[new g(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===x)return de;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,s(e,!1),0===e.strm.avail_out))return de;if(e.strstart-e.block_start>=e.w_size-ie&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?he:fe):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),de)})),new g(4,4,8,4,h),new g(4,5,16,8,h),new g(4,6,32,32,h),new g(4,4,16,16,f),new g(8,16,32,32,f),new g(8,16,128,128,f),new g(8,32,128,256,f),new g(32,128,258,1024,f),new g(32,258,258,4096,f)],i.deflateInit=function(e,t){return S(e,t,j,Y,$,W)},i.deflateInit2=S,i.deflateReset=w,i.deflateResetKeep=_,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?B:(e.state.gzhead=t,M):B},i.deflate=function(e,t){var i,s,u,d;if(!e||!e.state||t>L||t<0)return e?n(e,B):B;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ue&&t!==P)return n(e,0===e.avail_out?U:B);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===re)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=k(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ae):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),c(s,me),s.status=le);else{var p=j+(s.w_bits-8<<4)<<8;p|=(s.strategy>=H||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=ne),p+=31-p%31,s.status=le,l(s,p),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===ae)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=oe)}else s.status=oe;if(s.status===oe)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=se)}else s.status=se;if(s.status===se)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ce)}else s.status=ce;if(s.status===ce&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=le)):s.status=le),0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,M}else if(0===e.avail_in&&r(t)<=r(i)&&t!==P)return n(e,U);if(s.status===ue&&0!==e.avail_in)return n(e,U);if(0!==e.avail_in||0!==s.lookahead||t!==x&&s.status!==ue){var h=s.strategy===H?v(s,t):s.strategy===G?m(s,t):b[s.level].func(s,t);if(h!==he&&h!==fe||(s.status=ue),h===de||h===he)return 0===e.avail_out&&(s.last_flush=-1),M;if(h===pe&&(t===A?E._tr_align(s):t!==L&&(E._tr_stored_block(s,0,0,!1),t===R&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,M}return t!==P?M:s.wrap<=0?D:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?M:D)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==re&&t!==ae&&t!==oe&&t!==se&&t!==ce&&t!==le&&t!==ue?n(e,B):(e.state=null,t===le?n(e,N):M):B},i.deflateSetDictionary=function(e,t){var i,n,r,o,s,c,l,u,d=t.length;if(!e||!e.state)return B;if(2===(o=(i=e.state).wrap)||1===o&&i.status!==re||i.lookahead)return B;for(1===o&&(e.adler=T(e.adler,t,d,0)),i.wrap=0,d>=i.w_size&&(0===o&&(a(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new I.Buf8(i.w_size),I.arraySet(u,t,d-i.w_size,i.w_size,0),t=u,d=i.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(i);i.lookahead>=ee;){n=i.strstart,r=i.lookahead-(ee-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+ee-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=ee-1,p(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ee-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,i.wrap=o,M},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,r,a,o,s,c,l,u,d,p,h,f,m,v,g,y,_,w,S,b,I,E,T,k;i=e.state,n=e.next_in,T=e.input,r=n+(e.avail_in-5),a=e.next_out,k=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=i.dmax,l=i.wsize,u=i.whave,d=i.wnext,p=i.window,h=i.hold,f=i.bits,m=i.lencode,v=i.distcode,g=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{f<15&&(h+=T[n++]<<f,f+=8,h+=T[n++]<<f,f+=8),_=m[h&g];t:for(;;){if(h>>>=w=_>>>24,f-=w,0==(w=_>>>16&255))k[a++]=65535&_;else{if(!(16&w)){if(0==(64&w)){_=m[(65535&_)+(h&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}S=65535&_,(w&=15)&&(f<w&&(h+=T[n++]<<f,f+=8),S+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=T[n++]<<f,f+=8,h+=T[n++]<<f,f+=8),_=v[h&y];i:for(;;){if(h>>>=w=_>>>24,f-=w,!(16&(w=_>>>16&255))){if(0==(64&w)){_=v[(65535&_)+(h&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(b=65535&_,f<(w&=15)&&(h+=T[n++]<<f,(f+=8)<w&&(h+=T[n++]<<f,f+=8)),(b+=h&(1<<w)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(h>>>=w,f-=w,b>(w=a-o)){if((w=b-w)>u&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(I=0,E=p,0===d){if(I+=l-w,w<S){S-=w;do{k[a++]=p[I++]}while(--w);I=a-b,E=k}}else if(d<w){if(I+=l+d-w,(w-=d)<S){S-=w;do{k[a++]=p[I++]}while(--w);if(I=0,d<S){S-=w=d;do{k[a++]=p[I++]}while(--w);I=a-b,E=k}}}else if(I+=d-w,w<S){S-=w;do{k[a++]=p[I++]}while(--w);I=a-b,E=k}for(;S>2;)k[a++]=E[I++],k[a++]=E[I++],k[a++]=E[I++],S-=3;S&&(k[a++]=E[I++],S>1&&(k[a++]=E[I++]))}else{I=a-b;do{k[a++]=k[I++],k[a++]=k[I++],k[a++]=k[I++],S-=3}while(S>2);S&&(k[a++]=k[I++],S>1&&(k[a++]=k[I++]))}break}}break}}while(n<r&&a<s);n-=S=f>>3,h&=(1<<(f-=S<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),i.hold=h,i.bits=f}},{}],49:[function(e,t,i){"use strict";function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=L,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new h.Buf32(ue),t.distcode=t.distdyn=new h.Buf32(de),t.sane=1,t.back=-1,E):C}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):C}function s(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?C:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,o(e))):C}function c(e,t){var i,n;return e?(n=new r,e.state=n,n.window=null,(i=s(e,t))!==E&&(e.state=null),i):C}function l(e){if(he){var t;for(d=new h.Buf32(512),p=new h.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(_,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(w,e.lens,0,32,p,0,e.work,{bits:5}),he=!1}e.lencode=d,e.lenbits=9,e.distcode=p,e.distbits=5}function u(e,t,i,n){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new h.Buf8(a.wsize)),n>=a.wsize?(h.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>n&&(r=n),h.arraySet(a.window,t,i-n,r,a.wnext),(n-=r)?(h.arraySet(a.window,t,i-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}var d,p,h=e("../utils/common"),f=e("./adler32"),m=e("./crc32"),v=e("./inffast"),g=e("./inftrees"),y=0,_=1,w=2,S=4,b=5,I=6,E=0,T=1,k=2,C=-2,x=-3,A=-4,R=-5,P=8,L=1,M=2,D=3,B=4,N=5,U=6,F=7,O=8,H=9,G=10,V=11,W=12,q=13,j=14,z=15,Y=16,$=17,J=18,K=19,Z=20,X=21,Q=22,ee=23,te=24,ie=25,ne=26,re=27,ae=28,oe=29,se=30,ce=31,le=32,ue=852,de=592,pe=15,he=!0;i.inflateReset=o,i.inflateReset2=s,i.inflateResetKeep=a,i.inflateInit=function(e){return c(e,pe)},i.inflateInit2=c,i.inflate=function(e,t){var i,r,a,o,s,c,d,p,ue,de,pe,he,fe,me,ve,ge,ye,_e,we,Se,be,Ie,Ee,Te,ke=0,Ce=new h.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return C;(i=e.state).mode===W&&(i.mode=q),s=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,p=i.hold,ue=i.bits,de=c,pe=d,Ie=E;e:for(;;)switch(i.mode){case L:if(0===i.wrap){i.mode=q;break}for(;ue<16;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(2&i.wrap&&35615===p){i.check=0,Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=m(i.check,Ce,2,0),p=0,ue=0,i.mode=M;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",i.mode=se;break}if((15&p)!==P){e.msg="unknown compression method",i.mode=se;break}if(ue-=4,be=8+(15&(p>>>=4)),0===i.wbits)i.wbits=be;else if(be>i.wbits){e.msg="invalid window size",i.mode=se;break}i.dmax=1<<be,e.adler=i.check=1,i.mode=512&p?G:W,p=0,ue=0;break;case M:for(;ue<16;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(i.flags=p,(255&i.flags)!==P){e.msg="unknown compression method",i.mode=se;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=se;break}i.head&&(i.head.text=p>>8&1),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=m(i.check,Ce,2,0)),p=0,ue=0,i.mode=D;case D:for(;ue<32;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.head&&(i.head.time=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,Ce[2]=p>>>16&255,Ce[3]=p>>>24&255,i.check=m(i.check,Ce,4,0)),p=0,ue=0,i.mode=B;case B:for(;ue<16;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.head&&(i.head.xflags=255&p,i.head.os=p>>8),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=m(i.check,Ce,2,0)),p=0,ue=0,i.mode=N;case N:if(1024&i.flags){for(;ue<16;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.length=p,i.head&&(i.head.extra_len=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=m(i.check,Ce,2,0)),p=0,ue=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&((he=i.length)>c&&(he=c),he&&(i.head&&(be=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),h.arraySet(i.head.extra,r,o,he,be)),512&i.flags&&(i.check=m(i.check,r,he,o)),c-=he,o+=he,i.length-=he),i.length))break e;i.length=0,i.mode=F;case F:if(2048&i.flags){if(0===c)break e;he=0;do{be=r[o+he++],i.head&&be&&i.length<65536&&(i.head.name+=String.fromCharCode(be))}while(be&&he<c);if(512&i.flags&&(i.check=m(i.check,r,he,o)),c-=he,o+=he,be)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=O;case O:if(4096&i.flags){if(0===c)break e;he=0;do{be=r[o+he++],i.head&&be&&i.length<65536&&(i.head.comment+=String.fromCharCode(be))}while(be&&he<c);if(512&i.flags&&(i.check=m(i.check,r,he,o)),c-=he,o+=he,be)break e}else i.head&&(i.head.comment=null);i.mode=H;case H:if(512&i.flags){for(;ue<16;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(p!==(65535&i.check)){e.msg="header crc mismatch",i.mode=se;break}p=0,ue=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=W;break;case G:for(;ue<32;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}e.adler=i.check=n(p),p=0,ue=0,i.mode=V;case V:if(0===i.havedict)return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=c,i.hold=p,i.bits=ue,k;e.adler=i.check=1,i.mode=W;case W:if(t===b||t===I)break e;case q:if(i.last){p>>>=7&ue,ue-=7&ue,i.mode=re;break}for(;ue<3;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}switch(i.last=1&p,ue-=1,3&(p>>>=1)){case 0:i.mode=j;break;case 1:if(l(i),i.mode=Z,t===I){p>>>=2,ue-=2;break e}break;case 2:i.mode=$;break;case 3:e.msg="invalid block type",i.mode=se}p>>>=2,ue-=2;break;case j:for(p>>>=7&ue,ue-=7&ue;ue<32;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",i.mode=se;break}if(i.length=65535&p,p=0,ue=0,i.mode=z,t===I)break e;case z:i.mode=Y;case Y:if(he=i.length){if(he>c&&(he=c),he>d&&(he=d),0===he)break e;h.arraySet(a,r,o,he,s),c-=he,o+=he,d-=he,s+=he,i.length-=he;break}i.mode=W;break;case $:for(;ue<14;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(i.nlen=257+(31&p),p>>>=5,ue-=5,i.ndist=1+(31&p),p>>>=5,ue-=5,i.ncode=4+(15&p),p>>>=4,ue-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=se;break}i.have=0,i.mode=J;case J:for(;i.have<i.ncode;){for(;ue<3;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.lens[xe[i.have++]]=7&p,p>>>=3,ue-=3}for(;i.have<19;)i.lens[xe[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ee={bits:i.lenbits},Ie=g(y,i.lens,0,19,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,Ie){e.msg="invalid code lengths set",i.mode=se;break}i.have=0,i.mode=K;case K:for(;i.have<i.nlen+i.ndist;){for(;ge=(ke=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,ye=65535&ke,!((ve=ke>>>24)<=ue);){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(ye<16)p>>>=ve,ue-=ve,i.lens[i.have++]=ye;else{if(16===ye){for(Te=ve+2;ue<Te;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(p>>>=ve,ue-=ve,0===i.have){e.msg="invalid bit length repeat",i.mode=se;break}be=i.lens[i.have-1],he=3+(3&p),p>>>=2,ue-=2}else if(17===ye){for(Te=ve+3;ue<Te;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}ue-=ve,be=0,he=3+(7&(p>>>=ve)),p>>>=3,ue-=3}else{for(Te=ve+7;ue<Te;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}ue-=ve,be=0,he=11+(127&(p>>>=ve)),p>>>=7,ue-=7}if(i.have+he>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=se;break}for(;he--;)i.lens[i.have++]=be}}if(i.mode===se)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=se;break}if(i.lenbits=9,Ee={bits:i.lenbits},Ie=g(_,i.lens,0,i.nlen,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,Ie){e.msg="invalid literal/lengths set",i.mode=se;break}if(i.distbits=6,i.distcode=i.distdyn,Ee={bits:i.distbits},Ie=g(w,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ee),i.distbits=Ee.bits,Ie){e.msg="invalid distances set",i.mode=se;break}if(i.mode=Z,t===I)break e;case Z:i.mode=X;case X:if(c>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=c,i.hold=p,i.bits=ue,v(e,pe),s=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,p=i.hold,ue=i.bits,i.mode===W&&(i.back=-1);break}for(i.back=0;ge=(ke=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,ye=65535&ke,!((ve=ke>>>24)<=ue);){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(ge&&0==(240&ge)){for(_e=ve,we=ge,Se=ye;ge=(ke=i.lencode[Se+((p&(1<<_e+we)-1)>>_e)])>>>16&255,ye=65535&ke,!(_e+(ve=ke>>>24)<=ue);){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}p>>>=_e,ue-=_e,i.back+=_e}if(p>>>=ve,ue-=ve,i.back+=ve,i.length=ye,0===ge){i.mode=ne;break}if(32&ge){i.back=-1,i.mode=W;break}if(64&ge){e.msg="invalid literal/length code",i.mode=se;break}i.extra=15&ge,i.mode=Q;case Q:if(i.extra){for(Te=i.extra;ue<Te;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.length+=p&(1<<i.extra)-1,p>>>=i.extra,ue-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;ge=(ke=i.distcode[p&(1<<i.distbits)-1])>>>16&255,ye=65535&ke,!((ve=ke>>>24)<=ue);){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(0==(240&ge)){for(_e=ve,we=ge,Se=ye;ge=(ke=i.distcode[Se+((p&(1<<_e+we)-1)>>_e)])>>>16&255,ye=65535&ke,!(_e+(ve=ke>>>24)<=ue);){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}p>>>=_e,ue-=_e,i.back+=_e}if(p>>>=ve,ue-=ve,i.back+=ve,64&ge){e.msg="invalid distance code",i.mode=se;break}i.offset=ye,i.extra=15&ge,i.mode=te;case te:if(i.extra){for(Te=i.extra;ue<Te;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}i.offset+=p&(1<<i.extra)-1,p>>>=i.extra,ue-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=se;break}i.mode=ie;case ie:if(0===d)break e;if(he=pe-d,i.offset>he){if((he=i.offset-he)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=se;break}he>i.wnext?(he-=i.wnext,fe=i.wsize-he):fe=i.wnext-he,he>i.length&&(he=i.length),me=i.window}else me=a,fe=s-i.offset,he=i.length;he>d&&(he=d),d-=he,i.length-=he;do{a[s++]=me[fe++]}while(--he);0===i.length&&(i.mode=X);break;case ne:if(0===d)break e;a[s++]=i.length,d--,i.mode=X;break;case re:if(i.wrap){for(;ue<32;){if(0===c)break e;c--,p|=r[o++]<<ue,ue+=8}if(pe-=d,e.total_out+=pe,i.total+=pe,pe&&(e.adler=i.check=i.flags?m(i.check,a,pe,s-pe):f(i.check,a,pe,s-pe)),pe=d,(i.flags?p:n(p))!==i.check){e.msg="incorrect data check",i.mode=se;break}p=0,ue=0}i.mode=ae;case ae:if(i.wrap&&i.flags){for(;ue<32;){if(0===c)break e;c--,p+=r[o++]<<ue,ue+=8}if(p!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=se;break}p=0,ue=0}i.mode=oe;case oe:Ie=T;break e;case se:Ie=x;break e;case ce:return A;case le:default:return C}return e.next_out=s,e.avail_out=d,e.next_in=o,e.avail_in=c,i.hold=p,i.bits=ue,(i.wsize||pe!==e.avail_out&&i.mode<se&&(i.mode<re||t!==S))&&u(e,e.output,e.next_out,pe-e.avail_out)?(i.mode=ce,A):(de-=e.avail_in,pe-=e.avail_out,e.total_in+=de,e.total_out+=pe,i.total+=pe,i.wrap&&pe&&(e.adler=i.check=i.flags?m(i.check,a,pe,e.next_out-pe):f(i.check,a,pe,e.next_out-pe)),e.data_type=i.bits+(i.last?64:0)+(i.mode===W?128:0)+(i.mode===Z||i.mode===z?256:0),(0===de&&0===pe||t===S)&&Ie===E&&(Ie=R),Ie)},i.inflateEnd=function(e){if(!e||!e.state)return C;var t=e.state;return t.window&&(t.window=null),e.state=null,E},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?C:(i.head=t,t.done=!1,E):C},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==V?C:i.mode===V&&f(1,t,n,0)!==i.check?x:u(e,t,n,n)?(i.mode=ce,A):(i.havedict=1,E):C},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var n=e("../utils/common"),r=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,d,p,h){var f,m,v,g,y,_,w,S,b,I=h.bits,E=0,T=0,k=0,C=0,x=0,A=0,R=0,P=0,L=0,M=0,D=null,B=0,N=new n.Buf16(16),U=new n.Buf16(16),F=null,O=0;for(E=0;E<=r;E++)N[E]=0;for(T=0;T<l;T++)N[t[i+T]]++;for(x=I,C=r;C>=1&&0===N[C];C--);if(x>C&&(x=C),0===C)return u[d++]=20971520,u[d++]=20971520,h.bits=1,0;for(k=1;k<C&&0===N[k];k++);for(x<k&&(x=k),P=1,E=1;E<=r;E++)if(P<<=1,(P-=N[E])<0)return-1;if(P>0&&(0===e||1!==C))return-1;for(U[1]=0,E=1;E<r;E++)U[E+1]=U[E]+N[E];for(T=0;T<l;T++)0!==t[i+T]&&(p[U[t[i+T]]++]=T);if(0===e?(D=F=p,_=19):1===e?(D=a,B-=257,F=o,O-=257,_=256):(D=s,F=c,_=-1),M=0,T=0,E=k,y=d,A=x,R=0,v=-1,g=(L=1<<x)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){w=E-R,p[T]<_?(S=0,b=p[T]):p[T]>_?(S=F[O+p[T]],b=D[B+p[T]]):(S=96,b=0),f=1<<E-R,k=m=1<<A;do{u[y+(M>>R)+(m-=f)]=w<<24|S<<16|b|0}while(0!==m);for(f=1<<E-1;M&f;)f>>=1;if(0!==f?(M&=f-1,M+=f):M=0,T++,0==--N[E]){if(E===C)break;E=t[i+p[T]]}if(E>x&&(M&g)!==v){for(0===R&&(R=x),y+=k,P=1<<(A=E-R);A+R<C&&!((P-=N[A+R])<=0);)A++,P<<=1;if(L+=1<<A,1===e&&L>852||2===e&&L>592)return 1;u[v=M&g]=x<<24|A<<16|y-d|0}}return 0!==M&&(u[y+M]=E-R<<24|64<<16|0),h.bits=x,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";function n(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return e<256?$[e]:$[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,i){e.bi_valid>N-i?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>N-e.bi_valid,e.bi_valid+=i-N):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function l(e,t,i){c(e,i[2*t],i[2*t+1])}function u(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function d(e,t,i){var n,r,a=new Array(B+1),o=0;for(n=1;n<=B;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(a[s]++,s))}}function p(e){var t;for(t=0;t<P;t++)e.dyn_ltree[2*t]=0;for(t=0;t<L;t++)e.dyn_dtree[2*t]=0;for(t=0;t<M;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*F]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function h(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function f(e,t,i,n){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]}function m(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&f(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!f(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function v(e,t,i){var n,r,a,s,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===n?l(e,r,t):(l(e,(a=J[r])+R+1,t),0!==(s=V[a])&&c(e,r-=K[a],s),l(e,a=o(--n),i),0!==(s=W[a])&&c(e,n-=Z[a],s))}while(u<e.last_lit);l(e,F,t)}function g(e,t){var i,n,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=D,i=0;i<c;i++)0!==a[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=l,i=e.heap_len>>1;i>=1;i--)m(e,a,i);r=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],m(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,a[2*r]=a[2*i]+a[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,a[2*i+1]=a[2*n+1]=r,e.heap[1]=r++,m(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,a,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(a=0;a<=B;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<D;i++)(a=c[2*c[2*(n=e.heap[i])+1]+1]+1)>f&&(a=f,m++),c[2*n+1]=a,n>l||(e.bl_count[a]++,o=0,n>=h&&(o=p[n-h]),s=c[2*n],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==m){do{for(a=f-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(a=f;0!==a;a--)for(n=e.bl_count[a];0!==n;)(r=e.heap[--i])>l||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),n--)}}(e,t),d(a,l,e.bl_count)}function y(e,t,i){var n,r,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<c&&r===o||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*O]++):s<=10?e.bl_tree[2*H]++:e.bl_tree[2*G]++,s=0,a=r,0===o?(c=138,l=3):r===o?(c=6,l=3):(c=7,l=4))}function _(e,t,i){var n,r,a=-1,o=t[1],s=0,u=7,d=4;for(0===o&&(u=138,d=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<u&&r===o)){if(s<d)do{l(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(l(e,r,e.bl_tree),s--),l(e,O,e.bl_tree),c(e,s-3,2)):s<=10?(l(e,H,e.bl_tree),c(e,s-3,3)):(l(e,G,e.bl_tree),c(e,s-11,7));s=0,a=r,0===o?(u=138,d=3):r===o?(u=6,d=3):(u=7,d=4)}}function w(e,t,i,n){c(e,(k<<1)+(n?1:0),3),function(e,t,i,n){h(e),n&&(s(e,i),s(e,~i)),S.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}var S=e("../utils/common"),b=4,I=0,E=1,T=2,k=0,C=1,x=2,A=29,R=256,P=R+1+A,L=30,M=19,D=2*P+1,B=15,N=16,U=7,F=256,O=16,H=17,G=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(P+2));n(z);var Y=new Array(2*L);n(Y);var $=new Array(512);n($);var J=new Array(256);n(J);var K=new Array(A);n(K);var Z=new Array(L);n(Z);var X,Q,ee,te=!1;i._tr_init=function(e){te||(function(){var e,t,i,n,a,o=new Array(B+1);for(i=0,n=0;n<A-1;n++)for(K[n]=i,e=0;e<1<<V[n];e++)J[i++]=n;for(J[i-1]=n,a=0,n=0;n<16;n++)for(Z[n]=a,e=0;e<1<<W[n];e++)$[a++]=n;for(a>>=7;n<L;n++)for(Z[n]=a<<7,e=0;e<1<<W[n]-7;e++)$[256+a++]=n;for(t=0;t<=B;t++)o[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,o[8]++;for(;e<=255;)z[2*e+1]=9,e++,o[9]++;for(;e<=279;)z[2*e+1]=7,e++,o[7]++;for(;e<=287;)z[2*e+1]=8,e++,o[8]++;for(d(z,P+1,o),e=0;e<L;e++)Y[2*e+1]=5,Y[2*e]=u(e,5);X=new r(z,V,R+1,P,B),Q=new r(Y,W,0,L,B),ee=new r(new Array(0),q,0,M,U)}(),te=!0),e.l_desc=new a(e.dyn_ltree,X),e.d_desc=new a(e.dyn_dtree,Q),e.bl_desc=new a(e.bl_tree,ee),e.bi_buf=0,e.bi_valid=0,p(e)},i._tr_stored_block=w,i._tr_flush_block=function(e,t,i,n){var r,a,o=0;e.level>0?(e.strm.data_type===T&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return I;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return E;for(t=32;t<R;t++)if(0!==e.dyn_ltree[2*t])return E;return I}(e)),g(e,e.l_desc),g(e,e.d_desc),o=function(e){var t;for(y(e,e.dyn_ltree,e.l_desc.max_code),y(e,e.dyn_dtree,e.d_desc.max_code),g(e,e.bl_desc),t=M-1;t>=3&&0===e.bl_tree[2*j[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=i+5,i+4<=r&&-1!==t?w(e,t,i,n):e.strategy===b||a===r?(c(e,(C<<1)+(n?1:0),3),v(e,z,Y)):(c(e,(x<<1)+(n?1:0),3),function(e,t,i,n){var r;for(c(e,t-257,5),c(e,i-1,5),c(e,n-4,4),r=0;r<n;r++)c(e,e.bl_tree[2*j[r]+1],3);_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),v(e,e.dyn_ltree,e.dyn_dtree)),p(e),n&&h(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(J[i]+R+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){c(e,C<<1,3),l(e,F,z),function(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){"use strict";t.exports=function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},"object"==l(t)&&void 0!==e?e.exports=c():(a=[],void 0===(o="function"==typeof(r=c)?r.apply(t,a):r)||(e.exports=o))}).call(this,i("tjlA").Buffer,i("yLpj"))},leE4:function(e,t){var i=[],n={lock:function(e,t){i.push(e),t||(t=500),setTimeout((function(){var t=i.indexOf(e);-1!=t&&i.splice(t,1)}),t)},isLock:function(e){return-1!=i.indexOf(e)}};e.exports=n},"m5i+":function(e,t,i){var n=i("WONh"),r=i("O02O");n.browser.unshift(["baiduspider-render",/baiduspider-render\/([0-9.]+)/]),n.browser.unshift(["headlesschrome",/headlesschrome\/([0-9.]+)/]),n.browser.unshift(["edg",/edg\/([0-9.]+)/]),n.browser.unshift(["360ee",function(e){var t=/ (?:chrome|crios|crmo)\/([0-9.]+)/.exec(e);if(t){var i="-1";t.length>=2&&t[1]&&(i=t[1].replace(/_/g,"."));var n=parseInt(i.split(".")[0],10);if(n&&n>0&&n<=86&&function(){try{return r.exec(),"360SE"===r.result||"360EE"===r.result}catch(e){console.log(e)}}())return{version:i}}}])},mFJH:function(e,t,i){var n=i("iHjI"),r=i("PaUR"),a=i("Ryyc"),o=i("7AYe");e.exports=function(e){var t,i,s,c=this,l=e.G,u=e.VER,d=e.ENV,p=e.utils,h=e.Console;function f(){s=new r(e,i)}function m(){return t?t.getSDKLog():""}(i=new n(e,c),l.tafHandler=i,c.initTafManager=f,t=l.isReplay?new o(c,e):new a(c,e,i),$("#player-wrap").resize((function(){l.vplayer&&l.vplayer.resize()})),this.init=function(e){t.init(e),d.stream&&h.log(d.stream.data),i.init()},this.play=function(){t.play()},this.pause=function(){t.pause()},this.refresh=function(){return t.refresh()},this.stopVideo=function(e){t.stopVideo(e)},this.getCurrentTime=function(){return t.getCurrentTime()},this.isLowestBitRate=function(){t.isLowestBitRate()},this.getSDKLog=m,this.getMetrics=function(){return t?t.getMetrics():{}},window.$_dlsdklog=function(){var e=m().join("\n");p.downloadFile(e,"sdk.log")},this.addTafListener=function(e,t){i.addListener(e,t)},this.removeTafListener=function(e,t){i.removeListener(e,t)},this.sendWup=function(e,t,n){i.sendWup(e,t,n)},this.sendWup2=function(e,t,n,r,a,o,s){i.sendWup2(e,t,n,r,a,o,s)},this.sendWupNew=function(e,t,n,r){return i.sendWupNew(e,t,n,r)},this.registerGroup=function(e){s&&s.registerGroup(e)},this.unRegisterGroup=function(e){s&&s.unRegisterGroup(e)},this.registerGroupList=function(e){s&&s.registerGroupList(e)},this.unRegisterGroupList=function(e){s&&s.unRegisterGroupList(e)},this.sendEnterP2P=function(e){s&&s.sendEnterP2P(e)},this.sendExitP2P=function(e){s&&s.sendExitP2P(e)},this.getLivingInfo=function(){s&&s.getLivingInfo()},this.getStreamInfoByStreamName=function(e){s&&s.getStreamInfoByStreamName(e)},this.send=function(e){i.send(e)},this.reqBitRate=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s&&s.reqBitRate(e,t)},this.reqTokenInfo=function(e){s&&s.reqTokenInfo(e)},this.unpackNest=function(e){i&&i.unpackNest(e)},l.isReplay)?document.querySelector(d.idDom).oncontextmenu=function(){return!1}:($(d.idDom).bind("contextmenu",(function(){return!1})),$("#player-video").smartMenu(l.menuData,{name:"videoMenu",textLimit:23,beforeShow:function(){if($("#player-danmu-report").hide(),$.smartMenu.remove(),l.menuData[0][0].text="虎牙直播(H5)_"+u,l.extVideoPlay)l.menuData[1]=[{text:"点播流"}];else{if(!l.livingInfo)return 0==l.menuItems.length&&l.menuItems.push({text:"数据获取中..."}),void(l.menuData[1]=l.menuItems);var e;if(l.menuData[1]=l.menuItems,l.livingInfo.vMediaStreamInfo)e=l.livingInfo.vMediaStreamInfo.value;else{if(!l.livingInfo.tNotice)return;e=l.livingInfo.tNotice.vStreamInfo.value}for(var t=e.length,i=0;i<t;i++){var n=e[i],r=n.iLineIndex,a=2==n.iIsP2PSupport?" @":" #",o=l.videoLine==r?"√ ":"　 ",s=l.menuItems[r];if(s){var c=l.isP2pPlayIng?a:" *";s.text=o+"直播线路"+r+(l.menuItems[r].p2p?c:"")}}}},afterShow:function(){l.hasVideo||$.smartMenu.hide()}}))}},mJ11:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="pre-ab-new-wrap">\n    <div class="ab-content-container">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="vertical-right-container"></div>\n        <div class="pre-ad-details-wrap">\n            <div class="pre-ad-details-group">\n                <div class="logo"></div>\n                <div class="details">\n                    <div class="title ellipsis"></div>\n                    <div class="desc"></div>\n                </div>\n            </div>\n            <div class="btn">\n                <span></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-skip-group">\n        <div class="ab-skip">跳过</div>\n        <div class="negative-feedBack-tip">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="6" viewBox="0 0 12 6" fill="none">\n                <path d="M12 6L0 6L6 0L12 6Z" fill="#333333"/>\n            </svg>\n        </div>\n   </div>\n\n</div>\n',__filename="src/tpl/ad/new-pre-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="pre-ab-new-wrap">\n    <div class="ab-content-container">\n        <div class="bg-img"></div>\n        <div class="bg-cover"></div>\n        <div class="ab-content"></div>\n        <div class="vertical-right-container"></div>\n        <div class="pre-ad-details-wrap">\n            <div class="pre-ad-details-group">\n                <div class="logo"></div>\n                <div class="details">\n                    <div class="title ellipsis"></div>\n                    <div class="desc"></div>\n                </div>\n            </div>\n            <div class="btn">\n                <span></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="ab-skip-group">\n        <div class="ab-skip">跳过</div>\n        <div class="negative-feedBack-tip">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="6" viewBox="0 0 12 6" fill="none">\n                <path d="M12 6L0 6L6 0L12 6Z" fill="#333333"/>\n            </svg>\n        </div>\n   </div>\n\n</div>\n'),__line=36;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},mq93:function(e,t){e.exports=function(e){var t=e.G,i=e.Event,n=e.utils,r=e.R,a=$("#player-sound-btn"),o=$(".sound-progress"),s=$(".sound-progress .sound-btn"),c=$(".sound-progress .sound-bar"),l=!1,u=!1,d=0,p=2,h=85,f=0,m=2,v=10;function g(r,o){s.css("left",r+"px"),c.css("width",r+"px"),m=r!=p?r:m;var u=(r-p)/(h-p)*100>>0;t.volume=u,i.fireEvent(i.VOLUME_CHANGE,u),o||n.setCookie("SoundValue",(.01*u).toFixed(2),365,".huya.com"),(l=0==u)?(a.removeClass("player-sound-on"),a.addClass("player-sound-off")):(a.removeClass("player-sound-off"),a.addClass("player-sound-on")),function(e){if(clearTimeout(E),e>v)return;E=setTimeout((function(){i.fireEvent(i.IS_IN_LOW_VOLUME)}),1e3)}(u),e.trigger("volumechange",{muted:l,volume:u}),t.hasPreAd&&t.hasVideo&&0==t.preAdStatus||1==t.preAdStatus||2==t.preAdStatus||_()}function y(){_()}function _(){t.matchTeamAudioPlay&&0==t.matchReplayStatus?e.vcore.volume=t.volume*t.matchTeamAudioSoundValue:e.vcore.volume=t.volume}function w(e){if(u){var t=e.pageX-d-f;g(t=(t=t<p?p:t)>h?h:t)}}function S(e){u=!1,$(document).unbind("mousemove",w),$(document).unbind("mouseup",S),r.huyuReport("click/kongzhi/yinliang")}function b(){a.hasClass("player-sound-off")?(m<p+5&&(m=45),g(m)):g(p),r.huyuReport("click/kongzhi/yinliang")}function I(e){l!=e&&b()}!function(){var e=n.getCookie("SoundValue");e=parseFloat(e),isNaN(e)&&(e=.5),e=Math.min(e,1),e=Math.max(e,0);var r=(h-p)*e+p;t.mute=n.getQueryString("mute"),("ceshi05"===t.from||t.mute)&&(r=p),t.browerPause&&!t.browerAutoPlayFail?k():g(r),i.addEvent(i.SHOW_BROWER_PAUSE_TIPS,k),i.addEvent("setVideoMute",I),i.addEvent(i.MATCH_REPLAY_MODE_CHANGE,y)}(),o.mousedown((function(e){n.stopPropagation(e),e.target!=s[0]&&g(e.offsetX-p),u=!0,f=n.getPos(o[0]).left,d=e.pageX-n.getPos(s[0]).left,$(document).mousemove(w),$(document).mouseup(S)})),a.click(b);var E=0;var T=0;function k(){clearTimeout(T),T=setTimeout((function(){i.fireEvent(i.SHOW_COMMON_TOAST,"浏览器当前处于静音状态，请手动开启声音")}),1e3),g(p,!0)}this.updateVolume=function(e){var t=s.position().left;g(t=(t=(t+=parseInt(e))<p?p:t)>h?h:t)}}},n2ux:function(e,t,i){e.exports=function(e){var t,n=e.G,r=e.ENV,a=e.R,o=e.Event,s=null,c=null;t=i("zi6i")(),s=$(t),$("#player-ctrl-wrap").append(s),s.find(".player-vip-buy-btn").click(d),s.mousemove(u);var l=0;function u(){clearTimeout(l),l=setTimeout((function(){s.fadeOut("normal",(function(){s.hide()}))}),5e3)}function d(){var t={from:1,url:c.jumpUrl,liveType:c.liveType};e.trigger("openVip",t),o.fireEvent(o.QUIT_FULL_SCREEN);var i=c,s=i.session_id,l=i.payment_type,u={live_id:n.liveid,paylive_id:s,scene:2,room_id:r.profileRoom,anchor_uid:n.presenterUid,game_id:n.gameId,status:2,payment_type:l};a.newHuyaReport({eid_desc:"付费直播间解锁按钮点击",eid:"click/unlock_paylive",prop:JSON.stringify(u)},"huya_web")}this.show=function(){s&&s.show(),u();var e=c,t=e.session_id,i=e.payment_type,o={live_id:n.liveid,paylive_id:t,scene:2,room_id:r.profileRoom,anchor_uid:n.presenterUid,game_id:n.gameId,status:2,payment_type:i};a.newHuyaReport({eid_desc:"付费直播间解锁界面曝光",eid:"show/unlock_paylive",prop:JSON.stringify(o)},"huya_web")},this.hide=function(){s&&s.hide()},this.setData=function(e){c=e,s.find(".msg").text(e.text)}}},n6Uf:function(e,t,i){e.exports=function(e,t,n){var r=0,a=0,o=null,s=e.utils,c=e.Console,l=e.R,u=null,d=null,p=null;function h(e){a=e,clearInterval(r),r=setInterval(f,1e3),m(),t.setItemStatusView(0,d,u)}function f(){if(a<=0)return clearInterval(r),void setTimeout((function(){var i,n,r,a;n=(i=u).iId,r=i.iResourceType,a=u.mpExtend.value,e.box.finishLiveBox(n,r,a).then((function(i){var n=i.iBoxStatus;0==i.bcode?(1==n?t.setItemStatusView(1,d,u):(c.log("finishLiveBox状态不对"),h(i.mpExtend.value.time_wait)),e.box.showTip(!0)):e.box.getLiveBoxPage()}))}),1e3);a--,m()}function m(){var e=s.formatTime(a);o.text(e)}this.setData=function(e,i){u=i,d=e,c.log("整点宝箱数据 setData",i);var n=i.iTimeWait,r=i.iStatus;o=e.find("p"),0==r?h(n):t.setItemStatusView(1,d,u)},this.awardLiveBox=function(){var t=u,r=t.iId,a=t.iResourceType,o=u.mpExtend.value;e.box.awardLiveBox(r,a,o).then((function(t){var o=t.sMessage,s=t.bcode,c={result:0==s?1:0,status:2,source:"live",ua:"web",box_id:r,box_type:a};if(l.newHuyaReport({eid_desc:"用户/点击/任务中心/百宝箱/领取百宝箱奖励",eid:"usr/click/gift-receive/taskcenter",prop:JSON.stringify(c)},"huya_web"),927!=s)return 0!=s?(o&&e.box.showToast(o),void e.box.getLiveBoxPage()):(function(t){if(null==p){var r=i("r4Hh");p=new r(e)}p.setData(t),n&&n.updateJfText()}(t.vAward.value),void h(t.mpExtend.value.time_wait));e.box.showBindPhone(o)}))},this.clear=function(){}}},nR6k:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-gift-anim" id="player-gift-anim-<%=id%>">\n    <img src="<%=icon%>"></img><p>×<%=num%></p>\n</div>',__filename="src/tpl/gift/gift-anim.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-gift-anim" id="player-gift-anim-'),__append(escapeFn(id)),__append('">\n    <img src="'),__line=2,__append(escapeFn(icon)),__append('"></img><p>×'),__append(escapeFn(num)),__append("</p>\n</div>"),__line=3;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},nm1K:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-all-gift-panel">\n     <div class="tag-list"></div>\n     <div class="player-arrow-down arrow"></div>\n     <div class="panel-current-page-gift"></div>\n</div>',__filename="src/tpl/gift/gift-panel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-all-gift-panel">\n     <div class="tag-list"></div>\n     <div class="player-arrow-down arrow"></div>\n     <div class="panel-current-page-gift"></div>\n</div>'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},no2z:function(e,t){e.exports=new function(){var e=window.console,t=localStorage.log;this.log=function(){"1"==t&&e.log.apply(e,arguments)},this.info=function(){"1"==t&&e.info.apply(e,arguments)},this.warn=function(){"1"==t&&e.warn.apply(e,arguments)},this.error=function(){"1"==t&&e.error.apply(e,arguments)},this.debug=function(){"1"==t&&e.debug.apply(e,arguments)},this.trace=function(){"1"==t&&e.trace.apply(e,arguments)}}},oRuE:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.pad.Iso10126={pad:function(e,t){var i=4*t,r=i-e.sigBytes%i;e.concat(n.lib.WordArray.random(r-1)).concat(n.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)},oTF3:function(e,t,i){
/*!
 * Version v1.2.9
 * Author: linguangwen@huya.com
 * Date: Wed Jun 23 2021 10:58:44 GMT+0800 (GMT+08:00)
 */
window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";function n(e){return!e||!/\S/.test(e)||"undefined"===e||"null"===e}function r(e){for(var t=document.cookie.split("; "),i=0;i<t.length;i++){var n=t[i].replace("=","$=").split("$=");try{if(n[0]==e)return decodeURIComponent(n[1])}catch(t){if(n[0]==e)return unescape(n[1])}}return""}function a(e,t){try{n(o(e))||function(e){try{localStorage.removeItem(e)}catch(e){console.log(e)}}(e),"string"==typeof t?window.localStorage.setItem(e,t):window.localStorage.setItem(e,JSON.stringify(t))}catch(o){console.log("e:"+o),i=e,r=JSON.stringify(t),a=i+"="+encodeURIComponent(r),(s=new Date).setTime(s.getTime()+288e5),a+="; expires="+s.toUTCString(),n(location.port)&&(a+="; domain="+document.domain),a+="; path=/",document.cookie=a}var i,r,a,s}function o(e){try{return JSON.parse(localStorage.getItem(e))||JSON.parse(r(e)||null)}catch(t){return n(r(e))?(console.log("e:"+t),null):JSON.parse(r(e)||null)}}i.r(t);var s="https://wsapi-global.master.live",c="https://cdnws.api.huya.com",l="https://testws.va.huya.com";function u(e,t,i){return new Promise((function(n,r){var o=e.platform,u=e.businessId,d=e.uid,p=e.guid,h=e.env,f=e.variable;isNaN(Number(d))&&r("Illegal uid format, requires int uid");var m={tReq:{lUid:Number(d),sUA:"".concat(o,"&1.0.0&store"),sGuid:p,mpVariable:f,sAppId:u}},v=function(){if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(void 0!==window.ActiveXObject){if("string"!=typeof arguments.callee.activeXString)for(var e=["MSXML2.XMLHttp.6.0","Msxml2.XMLHttp.5.0","Msxml2.XMLHttp.4.0","MSXML2.XMLHttp.3.0",,"Msxml2.XMLHttp","MSXML2.XMLHttp"],t=0,i=e.length;t<i;t++)try{var n=new window.ActiveXObject(e[t]);return arguments.callee.activeXString=e[t],n}catch(e){throw console.warn("do not support XHR"),new Error(e)}return new window.ActiveXObject(arguments.callee.activeXString)}throw new Error("No XHR object available")}();v.open("POST","".concat(h?l:"huya"===u?c:s,"?json_func=getConfig")),v.timeout=3e3,v.ontimeout=function(){r("timed out")},v.onerror=function(e){r(e)},v.onload=function(){try{this.response||r("abtestconfig fetch fail");var e=JSON.parse(this.response).tRsp;if(200!=this.status&&304!=this.status)return void r("请求异常");var o=e.mpConfig,s=e.mpExperiment,c=[];for(var l in s)c.push("".concat(l,".").concat(s[l]));i[t]=Object.assign({},{mpExperiment:c.join(","),mpConfig:o}),a("AB_SRE_CONFIGS",i),n(i[t]||{})}catch(e){r(e)}},v.send(JSON.stringify(m))}))}function d(e,t,i){var n=e.platform,r=e.businessId,a=e.uid,o=e.guid,u=e.env,d=e.variable;isNaN(Number(a))&&reject("Illegal uid format, requires int uid");var p={tReq:{lUid:Number(a),sUA:"".concat(n,"&1.0.0&store"),sGuid:o,mpVariable:d,sAppId:r}};return new Promise((function(e,n){wx.request({url:"".concat(u?l:"huya"===r?c:s,"?json_func=getConfig"),data:p,method:"GET",success:function(r){try{r||n("abtestconfig fetch fail");var a=r.data.tRsp;if(200!=r.statusCode&&304!=r.statusCode)return void n("请求异常");var o=a.mpConfig,s=a.mpExperiment,c=[];for(var l in s)c.push("".concat(l,".").concat(s[l]));i[t]=Object.assign({},{mpExperiment:c.join(","),mpConfig:o}),wx.setStorage({key:"AB_SRE_CONFIGS",data:i}),e(i[t]||{})}catch(e){n(e)}},fail:function(e){n(e)}})}))}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||"[object Object]"!==Object.prototype.toString.call(t))throw Error("the params parameter of getABExtParam must be Object");this.params=t,this.type=i&&i.type?i.type:"web",this.time=i&&i.loopTime&&!isNaN(Number(i.loopTime))&&0!==Number(i.loopTime)?1e3*Number(i.loopTime):6e5,this.timer={},this.startSetInterval()}var t,i;return t=e,(i=[{key:"startSetInterval",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey,i=e.AB_SRE_CONFIGS;"wx"===this.type?d(this.params,t,i):u(this.params,t,i);var n=this;setInterval((function(){"wx"===n.type?d(n.params,t,i):u(n.params,t,i)}),this.time)}catch(e){throw new Error(e)}}},{key:"getABExtParam",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey,i=e.AB_SRE_CONFIGS;return"wx"===this.type?d(this.params,t,i):u(this.params,t,i)}catch(e){throw new Error(e)}}},{key:"getSyncABExtParam",value:function(){try{var e=this.getConfigAndKey(),t=e.thisKey;return e.AB_SRE_CONFIGS[t]||{}}catch(e){throw new Error(e)}}},{key:"getConfigAndKey",value:function(){var e=this.type?this.type:"web",t=this.params,i=t.platform,n=t.businessId,r=t.uid,a=t.variable,s="wx"===e?wx.getStorageSync("AB_SRE_CONFIGS")||{}:o("AB_SRE_CONFIGS")||{},c=i+"_"+n+(r?"_uid_".concat(r):"_no_login_data");if(a||"undefined"!==a)for(var l in a)c+="_".concat(l,"_").concat(a[l]);if(!a||"[object Object]"!==Object.prototype.toString.call(a))throw Error("the variable parameter of params must be Object");return{thisKey:c,AB_SRE_CONFIGS:s}}}])&&p(t.prototype,i),e}();t.default=h,window.ABTEST=h}])},oX5l:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-banner-question" id=\'player-banner-question-<%=id%>\'>\n    <div class="player-banner-question-bg"></div>\n    <div class="player-banner-text-question">\n        <div class=\'player-banner-question-icon\'>\n            <i></i>\n            <span>问</span>\n        </div>\n        <p></p>\n    </div>\n    <div class="player-banner-text-answer">\n    </div>\n</div>',__filename="src/tpl/notice/banner-question.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-question" id=\'player-banner-question-'),__append(escapeFn(id)),__append('\'>\n    <div class="player-banner-question-bg"></div>\n    <div class="player-banner-text-question">\n        <div class=\'player-banner-question-icon\'>\n            <i></i>\n            <span>问</span>\n        </div>\n        <p></p>\n    </div>\n    <div class="player-banner-text-answer">\n    </div>\n</div>'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},oYw7:function(e,t){e.exports=function(e){var t=e.G,i=8,n=0,r=null,a=t.abConfig;function o(){r.find(".time").text("".concat(i,"s后自动进入直播间"))}a&&a.mpConfig&&a.mpConfig.preadShowTime&&(i=parseInt(a.mpConfig.preadShowTime)||8),this.showTimeCount=function(e){(r=$("#pre-ab-video")).show(),clearInterval(n),o(),n=setInterval((function(){i--,o(),i<=0&&(clearInterval(n),e())}),1e3)},this.clear=function(){clearInterval(n)}}},omIg:function(e,t){e.exports=function(e){var t,i=e.G,n=e.Event;function r(){var e=document.querySelector("#hy-video"),t=$(".player-video-pts");(e=document.querySelector("#hy-video"))&&e.requestVideoFrameCallback&&e.requestVideoFrameCallback((function n(r,a){var o=i.vplayer.getCurrentTime(),s=i.vplayer.getCurrentSeiDts(),c=new Date,l=c.toLocaleTimeString(),u=c.getMilliseconds();(o||s)&&t.html("pts: ".concat(o,"<br>seiDts: ").concat(s,"<br>curTime：").concat(l,":").concat(u)),e&&e.requestVideoFrameCallback&&e.requestVideoFrameCallback(n)}))}n.addEvent(n.NEW_VIDEO,r),t=$('<div class="player-video-pts"></div>'),$("#player-wrap").append(t),r()}},"owf/":function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dbName=t,this.storeName=i,this.db=null,this.openDatabase()}var t,n,r;return t=e,(n=[{key:"openDatabase",value:function(){var e=this,t=indexedDB.open(this.dbName,1);t.onupgradeneeded=function(t){t.target.result.createObjectStore(e.storeName,{keyPath:"id"})},t.onsuccess=function(t){e.db=t.target.result,console.log("数据库打开成功")},t.onerror=function(e){console.error("数据库打开失败",e)}}},{key:"setItem",value:function(e,t,i,n){try{var r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put({id:e,data:t});r.onsuccess=function(){console.log("数据存储成功"),i&&i()},r.onerror=function(e){console.error("数据存储失败",e),n&&n(e)}}catch(e){console.log(e),n&&n(e)}}},{key:"getItem",value:function(e,t,i){var n=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);n.onsuccess=function(e){var n=e.target.result;n?(console.log("获取数据成功:",n.data),t&&t(n.data)):(console.log("没有找到数据"),i&&i("没有找到数据"))},n.onerror=function(e){console.error("获取数据失败",e),i&&i(e)}}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=n},pA7S:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("ETIr"),i("cv67"),i("K3mO"),i("OLod"),function(){var e=n,t=e.lib,i=t.WordArray,r=t.BlockCipher,a=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;i<56;i++){var n=o[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(var r=this._subKeys=[],a=0;a<16;a++){var l=r[a]=[],u=c[a];for(i=0;i<24;i++)l[i/6|0]|=t[(s[i]-1+u)%28]<<31-i%6,l[4+(i/6|0)]|=t[28+(s[i+24]-1+u)%28]<<31-i%6;for(l[0]=l[0]<<1|l[0]>>>31,i=1;i<7;i++)l[i]=l[i]>>>4*(i-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(i=0;i<16;i++)d[i]=r[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var n=0;n<16;n++){for(var r=i[n],a=this._lBlock,o=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((o^r[c])&u[c])>>>0];this._lBlock=o,this._rBlock=a^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function h(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}e.DES=r._createHelper(d);var f=a.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(i.create(t)),this._des2=d.createEncryptor(i.create(n)),this._des3=d.createEncryptor(i.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(f)}(),n.TripleDES)},pVfA:function(e,t,i){"use strict";i.r(t),i.d(t,"getPropTipInfoByItem",(function(){return o})),i.d(t,"getPropTipInfo",(function(){return c}));var n={},r=null,a=null,o=function(e,t){var i=t.iPropsId;return r=e.taf.Taf,a=e.taf.HUYA,new Promise((function(r,a){n[i]?r({propsId:i,propsInfo:s(n[i])}):c(e,t).then((function(e){if(0==e.iRetCode){var t=e.vBizItem.value;n[i]=t,r({propsId:i,propsInfo:s(n[i])})}}))}))};function s(e){for(var t=null,i=0;i<e.length;i++){var n=e[i],o=n.iType,s=n.vData;if(console.log(" getPropTipInfo: iType",o),14==o){var c=new r.JceInputStream(s);(t=new a.SeriesGifts).readFrom(c),console.log(" getPropTipInfo: seriesGifts",t)}}return t}var c=function(e,t){var i=e.G,n=e.taf.HUYA,r=new n.GetPropTipInfoReq;return r.tUserId=i.userId,r.lPid=i.presenterUid,r.iItemType=t.iPropsId,r.iSourceTab=0,e.sendWupNew("wupui","getPropTipInfo",r,n.GetPropTipInfoRsp)}},pc7l:function(e,t,i){e.exports=function(e){var t=e.utils,n=e.Console,r=e.G,a=e.R,o=e.taf,s=o.Taf,c=o.HUYA,l=!1,u=i("U54Q");this.setData=function(o){if(l)return!1;if(!r.isShowDanmu||r.shieldDanmuEggEffect)return!1;var d=o.sContent,p=o.eEggType,h=o.tData,f=o.iCounterId;if(0===p||1===p){var m=h.iType,v=h.vData,g="";if(1===m){v.position=0;var y=new s.JceInputStream(v),_=new c.MsgCommDecoIcon;_.readFrom(y),n.log("DanmuPlusOne",_);var w=_.sUrl;g=(_.sGifUrl||w).replace(/(\.[^.]+)$/,"_14$1")}return function(n,o,s,c){var d=i("EQRH")(),p=$(d);n?p.find(".logo").attr("src",n):p.find(".logo").hide();p.find(".content").text(o),$("#player-wrap").append(p);var h=$("#player-wrap").width();p.css({transition:"none",transform:"translateX("+h+"px)"});var f=p.width()+(n?64:0);p.css({transition:"transform 3s linear",transform:"translateX("+(h/2-f/2)+"px)"}),setTimeout((function(){p.css({transition:"transform 3s linear",transform:"translateX(-".concat(f+50,"px)")})}),6e3),setTimeout((function(){p.unbind(),p.remove(),l=!1}),1e4);var m={anchor_uid:r.presenterUid,game_id:r.gameId,content:o,config_id:c,trigger_type:s,scene:2};p.click((function(i){t.stopPropagation(i),r.isLogin?u.isLock(p)||(u.lock(p),function(e){var t=e.find(".plus-one-effect");t.show(),t.css({animation:"none"}),setTimeout((function(){t.css({animation:""})}),10)}(p),e.trigger("sendDanmuText",{param:{danmutext:o}}),a.newHuyaReport({eid_desc:"高频词计数引导条“+1”按钮点击",eid:"click/highword_add",prop:JSON.stringify(m)},"huya_web")):e.popLogin()})),a.newHuyaReport({eid_desc:"高频词计数引导条曝光",eid:"show/highword_count",prop:JSON.stringify(m)},"huya_web"),l=!0}(g,d,p,f),!0}}}},pep2:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<li>\n\t<div class="player-left-head-item">\n        <div class="head-bg-container">\n\t\t    <div class="head-bg">\n\t\t       <div class="nick-name"></div>\n\t\t       <p>去围观TA</p>\n\t\t       <div class="arrow"></div>\n\t\t     </div>\n\t    </div> \n\t    <div class="head-img">\n\t          <img>\n\t    </div>\n\t    <div class="head-type">\n\t         <i></i>\n\t         <span></span>\n\t     </div>\n\t</div>\n</li>\n',__filename="src/tpl/others/left-head-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<li>\n\t<div class="player-left-head-item">\n        <div class="head-bg-container">\n\t\t    <div class="head-bg">\n\t\t       <div class="nick-name"></div>\n\t\t       <p>去围观TA</p>\n\t\t       <div class="arrow"></div>\n\t\t     </div>\n\t    </div> \n\t    <div class="head-img">\n\t          <img>\n\t    </div>\n\t    <div class="head-type">\n\t         <i></i>\n\t         <span></span>\n\t     </div>\n\t</div>\n</li>\n'),__line=19;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},qBft:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,n=4*t,r=n-i%n,a=i+r-1;e.clamp(),e.words[a>>>2]|=r<<24-a%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)},qM6L:function(e,t,i){var n;e.exports=(n=i("Ib8C"),function(){var e=n,t=e.lib.WordArray,i=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r+=2){var a=t[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var i=e.length,n=[],r=0;r<i;r++)n[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return t.create(n,2*i)}},i.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],a=0;a<i;a+=2){var o=r(t[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var i=e.length,n=[],a=0;a<i;a++)n[a>>>1]|=r(e.charCodeAt(a)<<16-a%2*16);return t.create(n,2*i)}}}(),n.enc.Utf16)},qu8F:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}else e+=1<<24;return e}var i=e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(o);var s=o.slice(0);n.encryptBlock(s,0);for(var c=0;c<r;c++)e[i+c]^=s[c]}});return e.Decryptor=i,e}(),n.mode.CTRGladman)},qyzN:function(e,t,i){"use strict";var n=i("2YGp"),r=i("WONh"),a=(navigator.userAgent||"")+" "+(navigator.appVersion||"")+" "+(navigator.vendor||""),o=new n(r);function s(e){var t=o.parse(e),i=function(e){if(!r.re_msie.test(e))return null;var t,i,n=void 0,a=void 0,o=void 0;if(-1!==e.indexOf("trident/")&&(n=/\btrident\/([0-9.]+)/.exec(e))&&n.length>=2){a=n[1];var s=n[1].split(".");s[0]=parseInt(s[0],10)+4,o=s.join(".")}i=(n=r.re_msie.exec(e))[1];var c=n[1].split(".");return void 0===o&&(o=i),c[0]=parseInt(c[0],10)-4,t=c.join("."),void 0===a&&(a=t),{browserVersion:o,browserMode:i,engineVersion:a,engineMode:t,compatible:a!==t}}(e);if(i){var n=t.engine.name,a=i.engineVersion||i.engineMode,s=parseFloat(a),c=i.engineMode;t.engine={name:n,version:s,fullVersion:a,mode:parseFloat(c),fullMode:c,compatible:!!i&&i.compatible},t.engine[t.engine.name]=s;var l=t.browser.name,u=t.browser.fullVersion;"ie"===l&&(u=i.browserVersion);var d=i.browserMode,p=parseFloat(u);t.browser={name:l,version:p,fullVersion:u,mode:parseFloat(d),fullMode:d,compatible:!!i&&i.compatible},t.browser[l]=p}return t}var c=s(a);c.parse=s,e.exports=c},qzho:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-video-transition-effect">\n     <div class="player-video-transition-wipes"></div>\n     <div id="player-video-transition-logo"></div>\n</div>\n',__filename="src/tpl/ctrl/video-transition-effect.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-video-transition-effect">\n     <div class="player-video-transition-wipes"></div>\n     <div id="player-video-transition-logo"></div>\n</div>\n'),__line=5;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},r4Hh:function(e,t,i){e.exports=function(e){var t,n=null,r=null,a=null;function o(){n.hide()}t=i("Fp8d")(),(n=$(t)).find(".btn").click(o),a=n.find("#box-reward-panel"),r=n.find(".reward-list"),$("#player-box-panel").append(n),this.setData=function(e){r.empty(),a.removeClass();var t=e.length;if(t>0)for(var i=0;i<t;i++){var o=e[i],s=o.sIcon,c=o.iCount,l=o.sName,u=$('<div class="item"><img/><div class="text"></div></div>');u.find("img").attr("src",s),u.find(".text").text("".concat(l,"X").concat(c)),r.append(u)}else a.addClass("fail");n.css("display","flex")}}},rD0H:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="end-ab-wrap">\n    <div class="bg-img"></div>\n    <div class="bg-cover"></div>\n    <div id="end-ab"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="end-ab-close">\n        <i></i>\n        <div class="line"></div>\n        <div class="x-btn"></div>\n    </div>\n    <div class="details-btn">\n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n   </div>\n</div>',__filename="src/tpl/ad/end-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="end-ab-wrap">\n    <div class="bg-img"></div>\n    <div class="bg-cover"></div>\n    <div id="end-ab"></div>\n    <div class="ab-logo">\n        <i>广告</i>\n        <div class="line"></div>\n        <div id="sound"></div>\n    </div>\n    <div class="end-ab-close">\n        <i></i>\n        <div class="line"></div>\n        <div class="x-btn"></div>\n    </div>\n    <div class="details-btn">\n        <div class="ab-qrcode-logo-common">\n            <div class="qrcocde-logo"></div>\n        </div>\n        <span></span>\n   </div>\n</div>'),__line=21;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},rE85:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="video-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <video id="video-ab"></video>\n    <div class="ab-sound-btn ad-sound-off"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n    </div>\n</div>',__filename="src/tpl/ad/video-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="video-ab-warp">\n    <div class="ab-default-bg">\n    \t<i></i>\n    \t<span>加载中...</span>\n    </div>\n    <video id="video-ab"></video>\n    <div class="ab-sound-btn ad-sound-off"></div>\n    <div class="ab-close-btn"></div>\n    <div class="common-ab-logo">\n        <i>广告</i>\n    </div>\n</div>'),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"rH+6":function(e,t,i){e.exports=function(e){var t,n,r,a,o,s,c,l,u,d,p=e.G,h=e.Event,f=e.utils,m=e.Console,v=e.logUtils,g=e.R,y=e.taf.HUYA,_=!1,w=0,S=0,b=930,I=!1,E=[],T=0,k=0,C=0,x=0,A=0,R=null,P=!1,L=!1,M=!1,D=0,B=null,N=null,U=6,F=10,O=40;_this=this;var H=[];function G(){var t=new y.GetMatchPlaybackPointPosReq;t.tId=p.userId,t.lPid=p.presenterUid+"",e.sendWup2("mobileui","getMatchPlaybackPointPos",t,V)}function V(f){P=f.iHasLiveRecord,u=f.lStartTime,d=f.lEndTime,A=d-u,C=0,k=performance?performance.now():Date.now();f.iRecordTime;if(P){!function(){if(I)return;N=i("yRpe"),function(){if(null==n){var u=i("uiwr")();(n=$("#match-replay-progress")).append($(u)),t=$(".player-back-live"),r=n.find(".match-replay-btn"),a=n.find(".match-replay-bar"),o=n.find(".match-replay-bg"),s=n.find(".hover-flag"),c=n.find("#match-replay-thumbnail"),l=$("#player-wrap"),n.hover(Te,ke),e.addTafListener("1150001",Z),h.addEvent(h.PLAYBACK_UPDATE,J),h.addEvent(h.NEED_UPDATE_M3U8,Y),h.addEvent(h.PLAYBACK_M3U8_UPDATED,K),h.addEvent(h.MATCHREPLAY_BACK_LIVE,we),h.addEvent(h.PLAYBACK_DIF_CDN,Se),h.addEvent(h.VIDEO_PLAY,j),h.addEvent(h.VIDEO_STOP,z)}}(),t.click(de),o.mousedown(he),r.mousedown(he),l.resize(pe),o.mousemove(te),o.hover(ie,ne),I=!0}(),0==T&&(T=setInterval(Ae,1e3)),g.newHuyaReport({eid_desc:"用戶/曝光/进度条曝光/直播间",eid:"usr/pageshow/replayprogressbar/liveroom",prop:JSON.stringify({room:p.presenterUid}),uid:p.yyuid}),n.show(),Ce();var m=f.vPoint.value;B=null,Ee(m),pe()}else xe(),Ie()}function W(t,n,r){var a=new y.GetMatchPlaybackThumbnailReq;a.tId=p.userId,a.lPid=p.presenterUid,a.lStartTime=t,a.lEndTime=n,console.log("getMatchPlaybackThumbnail 请求开始时间",ue(t)),console.log("getMatchPlaybackThumbnail 请求结束时间",ue(n)),e.sendWup2("wupui","getMatchPlaybackThumbnail",a,(function(e){var t=e.vThumbnail.value,i=(H=t).length;if(i>0){var n=H[i-1],a=n.iColumn,o=n.iRow,s=n.lInterval,c=n.lStart+a*o*s;console.log("getMatchPlaybackThumbnail 时间区间","".concat(ue(H[0].lStart),"-").concat(ue(c)))}r&&r()})),function(t,n){if(null==q){var r=i("D+OB");q=new r(e)}q.getLiveBarrageThermodynamic(t,n)}(t,n)}p.isUserInfoInited()?G():h.addEvent(h.USER_INFO_INITED,G);var q=null;function j(){P&&G()}function z(){P&&(a.css("width",b+U+"px"),x=-1,be(0),Ce(),xe(),Ie())}function Y(){m.log("onNeedUpdateM3u8"),X(!1)}function J(e){m.log("onPlayBackUpdate",e);var t=e.totalDuration;A=t,_||(p.matchReplaySeekTime=parseInt(e.currentTime/1e3),_e())}function K(t){var i=t.totalDuration;A=i,m.log("onM3u8Updated",t),v.addLog("onM3u8Updated:"+A),Re(),R&&(!function(t){for(var i=t.vPoint,n=t.fDuration,r=i.length,a=0;a<r;a++){var o=new N(e,fe,_this),s=i[a],c=s.iTime-F,l=A-(n-c);if(o.undateTime({time:l,curTime:l,maxTime:A,maxW:b}),o.setData(s),o.isOnlyEvent()){var u=o.getPos();if(B&&u-B.getPos()<30){o.clear();continue}B=o}E.push(o)}}(R),R=null)}function Z(e){var i=e.lPid;if(p.presenterUid==i){if(p.matchReplayStatus)return void function(){if(L)return;L=!0;var e=t.find(".player-back-live-tips");e.show(),t.addClass("player-back-live-light"),setTimeout((function(){e.fadeOut("normal",(function(){t.removeClass("player-back-live-light"),e.remove(),e=null}))}),3e3)}();Ee(e.vPoint.value)}}function X(t){var i=new y.GetMatchPlaybackInfoReq;i.tId=p.userId,i.lPid=p.presenterUid+"",i.lStartTime=u,i.iDurationType=t?2:1,i.sStreamName=p.streamInfo?p.streamInfo.sStreamName:"";var n=p.getCurBitRate();i.iBitrate=n,p.fakeHDRBitrate>0&&(i.iBitrate=p.fakeHDRBitrate),i.iNeedDotInfo=1,e.sendWup2("mobileui","getMatchPlaybackInfo",i,(function(i){var n=i.sUrl,r=i.sCdn,a=i.fDuration,o=(i.lEndTime,i.vPoint.value);if(n=n.replace("http:","https:"),p.matchReplayUrl=n,p.matchReplayCdnName=r,p.matchReplayStream=i.vStreams.value,""==p.matchReplayUrl)return we(),void setTimeout((function(){h.fireEvent(h.SHOW_COMMON_TOAST,"回放出了小差，稍后再试")}),1e3);if(t){A=a,Ce(),B=null,Ee(o);var s=(A-O)/A;if(s=Math.max(0,s),x=Math.min(s,x),p.matchReplaySeekTime=x*A,M&&D){var c=function(e){for(var t in E){if(E[t].getId()==e)return E[t]}return e}(D);c&&c.getTime&&(p.matchReplaySeekTime=c.getTime()),M=!1,D=0}e.vcore.play()}else p.vplayer.updateLiveVodUrl(),R={vPoint:o,fDuration:a};v.addLog("matchReplayUrl:"+p.matchReplayUrl)}))}var Q=0,ee=0;function te(e){w=f.getPos(n[0]).left;var t=e.pageX-w,i=u+C,r=i+parseInt(t/b*A);i-ee>60?(W(i,i+A,(function(){ce(r,t)})),ee=i):ce(r,t),s.show(),s.css("left",t)}function ie(){se=!0}function ne(e){s.hide(),le()}this.overItem=function(e,t,i){se=!0,ce(u+C+parseInt(e),t,i)},this.outItem=function(){le()};var re=960,ae=540,oe="",se=!1;function ce(e,t,i){se&&(clearTimeout(Q),Q=setTimeout((function(){!function(e,t,i){var n=function(e){console.log("getThumbnailByTime 当前时间",e>0?ue(e):0);for(var t=0;t<H.length;t++){var i=H[t],n=i.iColumn,r=i.iRow,a=i.lInterval,o=i.lStart,s=o+n*r*a;if(o<=e&&e<s)return console.log("getThumbnailByTime 缩略图获取成功","".concat(ue(o),"-").concat(ue(s))),H[t]}return console.log("getThumbnailByTime 返回 null"),null}(e);n?function(e,t,i,n){var r=i.sImgUrl,a=i.iColumn,o=i.iRow,s=i.lInterval,u=i.lStart,d=c.find(".thumbnail-container"),p=d.width(),h=d.height();re=p*o,ae=h*a;var f=parseInt((e-u)/s),m=f%o,v=parseInt(f/o),g=p*m,y=h*v,_={};oe!=r&&(_.background="url(".concat(r,")  no-repeat"),_["background-size"]="".concat(re,"px ").concat(ae,"px"),oe=r);_["background-position"]="-".concat(g,"px -").concat(y,"px"),d.css(_);var w=t-p/2;w=Math.max(0,w),w=Math.min(l.width()-p,w),c.css({left:w});var S=i.vImgDesc.value,b=n||S[f];b?(c.removeClass("no-desc"),c.find(".desc").text(b)):c.hasClass("no-desc")||c.addClass("no-desc");c.show()}(e,t,n,i):le(!0)}(e,t,i)}),50))}function le(e){clearTimeout(Q),c&&c.hide(),e||(se=!1)}function ue(e){var t=new Date(1e3*e);return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}function de(){1!=p.paymentStatus&&(e.turnPlayButtonOn(),g.newHuyaReport({eid_desc:"用户/点击/返回直播/直播间",eid:"usr/click/returnlive/liveroom",prop:JSON.stringify({room:p.presenterUid}),uid:p.yyuid}),we())}function pe(){for(var e in b=l.width()-U,p.matchReplayStatus?_e():a.css("width",b+U+"px"),E)E[e].updateMaxWidth(b)}function he(e){if(1!=p.paymentStatus){f.stopPropagation(e),w=f.getPos(n[0]).left,r.show();var t=e.target.className;"btn-circle"==t&&"match-replay-btn"==t||ye(e.pageX-w-U/2),_=!0,$(document).mousemove(ve),$(document).mouseup(ge)}}function fe(e,t,i){ye(e-S-U/2),0==p.matchReplayStatus?(M=!0,D=t,me()):(p.matchReplaySeekTime=x*A,p.vplayer.seek(),v.addLog("clickCallback seek:",p.matchReplaySeekTime));var n=i?3:2,r=0==p.matchReplayStatus?"live":"video";g.newHuyaReport({eid_desc:"用户/点击/进度条事件节点/直播间",eid:"usr/click/replayprogressbarevent/liveroom",prop:JSON.stringify({room:p.presenterUid,scene:r,type:n}),uid:p.yyuid}),g.newHuyaReport({eid_desc:"用户/点击/进度条拖动/直播间",eid:"usr/click/replayprogressbar/liveroom",prop:JSON.stringify({room:p.presenterUid,scene:r,type:n}),uid:p.yyuid})}function me(){be(1),p.vplayer.showLoading(),e.vcore.stopVideo("赛事回放"),p.streamSetFlag=!0,C=0,X(!0),r.show(),t.css("display","flex"),xe(),e.turnPlayButtonOn()}function ve(e){if(_){var t=e.pageX-w-U/2;ye(t=(t=t<S?S:t)>b?b:t)}}function ge(e){_=!1,$(document).unbind("mousemove",ve),$(document).unbind("mouseup",ge);var t=1;if(0==p.matchReplayStatus)M=!1,me();else{var i=function(){for(var e=x*A,t=E.length,i=0;i<t;i++){var n=E[i];if(n){var r=n.getTime(),a=r+15,o=r-15;if(!n.isOnlyEvent()&&e>=o&&e<=a)return m.log("checkInItemRange自动吸附",e,o,a),n}}return null}();if(i)ye(i.getPos()-S-U/2),t=i.isOnlyEvent()?3:2;p.matchReplaySeekTime=x*A,p.vplayer.seek(),v.addLog("onMouseUp seek:",p.matchReplaySeekTime)}var n=0==p.matchReplayStatus?"live":"video";g.newHuyaReport({eid_desc:"用户/点击/进度条拖动/直播间",eid:"usr/click/replayprogressbar/liveroom",prop:JSON.stringify({room:p.presenterUid,scene:n,type:t}),uid:p.yyuid})}function ye(e){r.css("left",e+"px"),a.css("width",e+"px");var t=(e-S)/(b-S),i=(A-O)/A;i=Math.max(0,i),x=Math.min(i,t)}function _e(){var e=(x=p.matchReplaySeekTime/A)*(b-S)+S;r.css("left",e+"px"),a.css("width",e+"px")}function we(){r.hide(),t.hide(),a.css("width",b+U+"px"),x=-1,be(0),p.streamSetFlag=!0,e.vcore.stopVideo("backLive"),p.vplayer.showLoading(),e.getLivingInfo(),G()}function Se(){p.vplayer.showLoading(),e.vcore.stopVideo("赛事回放"),p.streamSetFlag=!0,X(!0)}function be(e){p.matchReplayStatus=e,h.fireEvent(h.MATCH_REPLAY_MODE_CHANGE,e),1==p.matchReplayStatus?(clearInterval(Pe),Pe=setInterval((function(){g.newHuyaReport({eid_desc:"用户/曝光/观看回放时长/直播间",eid:"usr/pageshow/replaypermin/liveroom",prop:JSON.stringify({room:p.presenterUid}),uid:p.yyuid})}),6e4),g.newHuyaReport({eid_desc:"用户/曝光/观看回放时长/直播间",eid:"usr/pageshow/replaypermin/liveroomm",prop:JSON.stringify({room:p.presenterUid}),uid:p.yyuid})):clearInterval(Pe)}function Ie(){n&&n.hide()}function Ee(t){for(var i=t.length,n=0;n<i;n++){var r=new N(e,fe,_this),a=t[n],o=a.iTime-F;if(r.undateTime({time:o+C,curTime:o,maxTime:A,maxW:b}),r.setData(a),r.isOnlyEvent()){var s=r.getPos();if(B&&s-B.getPos()<30){r.clear();continue}B=r}E.push(r)}}function Te(){for(var e in E)E[e].showOnlyEventTip();q&&q.show()}function ke(){for(var e in E)E[e].hideOnlyEventTip();q&&q.hide(),le()}function Ce(){for(var e in E)E[e].clear();E=[]}function xe(){T&&(clearInterval(T),T=0)}function Ae(){var e=performance?performance.now():Date.now();if(k<e){var t=e-k;k=e,C+=parseInt(t/1e3),Re()}}function Re(){for(var e=[],t=E.length,i=0;i<t;i++){var n=E[i];if(n){var r=n.getTime();n.undateTime({time:r,curTime:r-C,maxTime:A,maxW:b}),C>r&&e.push(i)}else e.push(i)}for(var a=e.length-1;a>=0;a--){var o=e[a];E[o]&&E[o].clear(),E.splice(o,1)}}var Pe=0}},rIqo:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="ab-qr-code-wrap">\n    <div class="ab-qr-code-container">\n        <div class="ab-qr-code"></div>\n    </div>\n    <div class="ab-qr-code-desc"></div>\n</div>',__filename="src/tpl/ad/ad-qrcode-card-simple.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="ab-qr-code-wrap">\n    <div class="ab-qr-code-container">\n        <div class="ab-qr-code"></div>\n    </div>\n    <div class="ab-qr-code-desc"></div>\n</div>'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},rXj1:function(e,t,i){i("m5i+");var n=i("qyzN");e.exports=n},rbXk:function(e,t,i){e.exports=function(e,t){var n=e.R,r=null,a=!0,o=null;function s(){(a=!a)?r.find("#switch-btn-icon").removeClass("switch-off").addClass("switch-on"):r.find("#switch-btn-icon").removeClass("switch-on").addClass("switch-off")}function c(e){r&&(r.unbind(),r.remove(),r=null),a&&t.gameReserveWifiDl(o);var i={gameid:o.handleGameInfo.gameId,button_name:e,is_auto:a?1:0};n.newHuyaReport({eid_desc:"点击预约成功弹窗",eid:"click/game_order_success",prop:JSON.stringify(i)},"huya_web")}this.show=function(e){if(o=e,null==r){var t=i("iEWe")();(r=$(t)).appendTo("#videoContainer"),r.find(".i-know").click((function(){c("know")})),r.find(".close-btn").click((function(){c("close")})),r.find("#switch-btn-icon").click(s)}var a=e.handleGameInfo,l=a.gameName,u=a.gameId;r.find(".game-name").text("你已成功预约“".concat(l||"","”，游戏上线时将提醒你。"));var d={gameid:u};n.newHuyaReport({eid_desc:"曝光预约成功弹窗",eid:"show/game_order_success",prop:JSON.stringify(d)},"huya_web")}}},rxmJ:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-commentator-shield-tip">\n    <div class="commentator-shield-tittle">选择播放的解说声音<span>实验功能,仅在游戏画面生效</span></div>\n    <div class="commentator-item-list"></div>\n    <div class="commentator-gap"></div>\n    <div class="recommend-list-wrap">\n        <div class="commentator-shield-recommend-tittle">更多解说直播间</div>\n        <div class="recommend-item-list"></div>\n    </div>\n</div>',__filename="src/tpl/ctrl/commentator-shield-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-commentator-shield-tip">\n    <div class="commentator-shield-tittle">选择播放的解说声音<span>实验功能,仅在游戏画面生效</span></div>\n    <div class="commentator-item-list"></div>\n    <div class="commentator-gap"></div>\n    <div class="recommend-list-wrap">\n        <div class="commentator-shield-recommend-tittle">更多解说直播间</div>\n        <div class="recommend-item-list"></div>\n    </div>\n</div>'),__line=9;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},s2dI:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e){var t=e.G,n=e.Console,a=e.logUtils,o=e.utils,s=e.R,c=null,l=[],u="matchProfileRec",d=i("Tw3u"),p=0,h=this;function f(e){var t=e.body;if(t.event==u){var i=t.content;i=o.unescapeHTML(i),a.addLog("1080000:"+i);try{i=JSON.parse(i)}catch(e){return void n.log("1080000 json parse error:"+i)}v(i)}}e.addTafListener("1080000",f);var m=0;function v(a){n.log("PresenterRecommend:",a);var u=function(e){var t=[];if(!e.profileList)return t;var i=e.profileList.length,n=$("#player-video").width(),a=2;n>=1350&&(a=3);i=Math.min(i,a);for(var o=0;o<i;o++){var s=r({},e.profileList[o]);t.push(s)}return t}(a);if(0!=u.length){g();var p=i("GZ/b")();for(var f in c=$(p),$("#player-ctrl-wrap").prepend(c),u){var v=new d(e,h),w=u[f];v.setData(w),l.push(v)}var S=a.title,b=a.showTime;S=o.setLongString(S,10),c.find(".player-presenter-recommend-title").text(S),c.find(".player-presenter-recommend-close").click(g),c.hover(y,_),clearTimeout(m),m=setTimeout(g,1e3*b),s.newHuyaReport({eid_desc:"曝光/直播间/主播推荐",eid:"pv/room/zhubotuijian",prop:JSON.stringify({pid:t.presenterUid}),uid:t.yyuid})}}function g(){for(var e in l)l[e].clear();l=[],c&&(c.unbind(),c.remove())}function y(){clearTimeout(m)}function _(){}window.testPresentesrRecommend=function(){v({id:"2",title:"绝地求生专用发送发送发是",showTime:"200",profileList:[{uid:"1199512667030",nick:"哒哒哒珠",picUrl:"https://test-huyaimg.msstatic.com/cdnimage/huyaprofilerec/pic/995_1601350568.png",jumpUrl:"http://develop.www.huya.com/10010247",introduction:"test",liveStatus:1},{uid:"887764729",nick:"犬夜叉testimm??",picUrl:"http://huyaimg.msstatic.com/avatar/1099/c9/ca59736e3adab6820313259098e4c2_180_135.jpg",jumpUrl:"https://www.huya.com/l",introduction:"xxxxx公司的刚三国杀高速钢是刚试了搞哈老司机刚开始的改了但是几个十多个十多个刚收到十大歌手刚收到是",liveStatus:0},{uid:"887764729",nick:"犬夜叉testimm??",picUrl:"http://huyaimg.msstatic.com/avatar/1099/c9/ca59736e3adab6820313259098e4c2_180_135.jpg",jumpUrl:"https://www.huya.com/l",introduction:"xxxxx公司的刚三国杀高速钢是刚试了搞哈老司机刚开始的改了但是几个十多个十多个刚收到十大歌手刚收到是",liveStatus:0}]})},this.getRequestId=function(){return++p}}},sEOw:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.utils,o=e.Console,s=null,c=null,l={},u="",d=t.adReport,p=null,h=!0,f=null,m=null,v=[],g=[2009,2010,2011,2015,2016,2017],y="",_={};function w(){e.popupManager.reportLoseLiveRoomPopup({popup_id:y},"在直播间收到推送后，匹配不到 initShowUnitId,丢弃弹窗上报")}function S(t,r,s){var m=t.templateId,v=t.showSec||15,g={liveroomPopupKey:y,showTime:v*=1e3,unlimitedTime:!!(2011==m||2017==m)};e.popupManager.nativePopupEnQueue(g,(function(m){var v=m.data.showTime;_=m.data.reportParams,function(t,r,s,m){o.log("小风车广告：",t),k();var v=t.sdkConf,g=t.templateId,y=t.actionTxt,w=(t.showSec,t.title),S=t.brand,b=t.tags;c=a.unescapeHTML(v);var E=JSON.parse(c);u=E&&E.landingUrl?E.landingUrl:"";var L=i("yJsN")();p=$(L);var M=1;2009==g||2015==g?M=1:2010==g||2016==g?M=2:2011!=g&&2017!=g||(M=3);(function(e,t){var i=t.iconUrl,r=t.imageUrl,a=t.videoUrl;i=n.makeHttpsUrl(i),r=n.makeHttpsUrl(r),a=n.makeHttpsUrl(a);var o=p.find(".ab-concent");if(2==e){(s=$("<img />")).attr("src",r),o.prepend(s)}else if(1==e){var s;p.addClass("icon-mode"),(s=$("<img />")).attr("src",i),o.prepend(s)}else if(3==e){p.addClass("video-mode");var c=$("<video></video>");(f=c[0]).onended=P,f.oncanplay=R,r&&c.attr("poster",r),c.attr("src",a),f.currentTime=0,o.prepend(c),h=!0,f.muted=h,f.play()}})(M,t),p.find(".title").text(S),p.find(".title").attr("title",S),p.find(".subtitle").text(w),function(e){for(var t=p.find(".tag-list"),i=e.length,n=0;n<i;n++){var r=$('<div class="tag-item"></div>');r.text(e[n]),r.appendTo(t)}}(b.split(",")),p.appendTo("#huya-ab"),I(),$("#player-wrap").resize(I);var D=p.find(".close-btn");D.click(C);var B=p.find(".download-btn");B.click((function(t){a.stopPropagation(t),x(),e.popupManager.reportClickLiveRoomPopup(_,"button")})),p.click((function(t){a.stopPropagation(t),x(),e.popupManager.reportClickLiveRoomPopup(_,"body")})),B.text(y||"立即下载"),3!=M?T(D,m):p.find(".sound-btn").click(A);l=s||{},l=e.huyaAD.setADEnv(t,l),r?setTimeout((function(){d.reportPageView(c,l)}),a.getRandomValues()*r):d.reportPageView(c,l)}(t,r,s,v)}),(function(e){k()}))}function b(){if(1==v.length){var n=function(){var e=v[0].sdkConf;try{var t=a.unescapeHTML(e),i=JSON.parse(t)}catch(e){return o.log("componentAD ,onClickXFCIcon parse sdkConf error",e),null}return{sdkConfig:t,config:i}}();if(n){var r=n.sdkConfig,s=n.config,c=s&&s.landingUrl?s.landingUrl:"";c&&window.open(c),d.reportPageView(r),setTimeout((function(){d.reportClick(r)}),1e3)}}else!function(){if(null==m){var n=i("5vc3");m=new n(e,t)}m.show(v)}()}function I(){var e=$("#player-video").height();if(p){var t=p.height();p.css({top:e-t-50+"px"})}}var E=null;function T(e,t){if(!E){if(null==E){var n=i("uvt+");E=new n(e[0],16,1.5,t)}E.start()}}function k(){f&&f.pause(),f=null,E&&(E.pause(),E=null),p&&(p.unbind(),p.remove()),p=null,$("#player-wrap").unbind("resize",I)}function C(t){a.stopPropagation(t),e.popupManager.nativePopupDeQueue({liveroomPopupKey:y}),k(),d.reportClose(c,l)}function x(){u&&window.open(u),d.reportClick(c,l)}function A(e){a.stopPropagation(e);var t=p.find(".sound-btn");(h=!h)?t.addClass("sound-close-btn"):t.removeClass("sound-close-btn"),f.muted=h}function R(){var e=f.duration;T(p.find(".close-btn"),1e3*e)}function P(){e.popupManager.nativePopupDeQueue({liveroomPopupKey:y,initiative:!1}),k()}function L(e){for(var t=null,i=v.length,n=0;n<i;n++)v[n].unitId==e?(v[n].explain=!0,t=v[n]):v[n].explain=!1;return t}this.adNotice=function(e){var t=e.unitId,i=e.delayMilSec,n=L(t),r=e.env.value;n?(m&&m.getIsShow()&&m.show(v),y=r.adTanChuangConfigId||"",S(n,i,r)):w()},this.setData=function(e,t,i){o.log("ComponetsAdDAta",e,t),y=i,v=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var r=e[n],a=r.templateId;-1!=g.indexOf(a)&&t.push(r)}return t}(t),o.log("ComponetsAdDAta filterAd",v),e&&function(e){if(e>0){var t=L(e);t?S(t,0,{source:1}):w()}}(e.initShowUnitId),v.length>0&&function(){null==s&&((s=$('<div class="ab-icon xfc-icon"><i></i><span>主播推荐</span></div>')).click(b),$(".player-gift-left").append(s));s.show(),r.fireEvent(r.ACTIVITY_ICON_COUNT_UPDATE,{icon:s,priority:993,key:"xfcad",value:1})}()},this.clear=function(){e.popupManager.nativePopupDeQueue({liveroomPopupKey:y}),k(),m&&m.clear(),m=null,v=[]}}},sFSJ:function(e,t){e.exports=function(e){var t=e.G,i=e.taf.HUYA,n=[];function r(){t.tafSignal.on("uri:2300001",o),a()}function a(r){var a=new i.GetUserCardPackageReq;a.tId=t.userId,1==t.isYanzhi?a.eTempleteType=6:a.eTempleteType=5,a.eSource=3,a.lPid=t.presenterUid,e.sendWupNew("liveui","getUserCardPackage",a,i.GetUserCardPackageResp).then((function(e){n=e.vUserCardItemCountLists.value,r&&r(e)}))}function o(t){a((function(){var t=n.concat();e.trigger("userCardPackageUpdate",{vUserCardItemCountLists:t})}))}e.userInfoInitedCallback(r),this.getUserCardPackage=function(){return new Promise((function(e,t){e({res:0,msg:"成功",data:{vUserCardItemCountLists:n.concat()}})}))}}},sPxn:function(e,t,i){e.exports=function(e,t){e.Console;var n=e.logUtils,r=e.Event,a=e.G,o=e.ISDEBUG,s="",c=null,l="",u=0,d=0,p=null,h=1,f="",m=!1;function v(t){var o=i("lTFj")();(c=$(o)).appendTo("#player-wrap");var u=t.sTitle,v=t.sAction,S=t.sServerContext;f=v||"",l=S,c.find(".tittle").text(u||"评分");var b=c.find(".icon"),I=t.vCard.value[0],E=I.sAvatarUrl,T=I.sName,k=I.lObjectId,C=I.iType;h=C,d=k,b.append('<img src="'.concat(E||"",'" alt="').concat(T||"",'"/>')),c.find(".nick-name").text(T||"");var x=I.dScore;c.find(".score").text(_(x)),function(t){var i=c.find(".star"),o=t/2;function s(e){i.each((function(){var t=$(this);parseInt(t.data("value"))<=e?t.addClass("selected"):t.removeClass("selected")}))}i.on({mouseover:function(){s(parseInt($(this).data("value")))},mouseout:function(){s(o)},click:function(){if(!1!==function(){if(!a.isLogin)return e.popLogin(),!1;return!0}()){var t=parseInt($(this).data("value"));s(o=t),w("star",o),e.popupManager.reportClickLiveRoomPopup(p,"body"),function(t){!function(t){var i=new e.taf.HUYA.UpdateCommonObjectScoreReq;i.tId=a.userId,i.lObjectId=d;var o=2*t;o=Math.max(0,Math.min(10,o)),i.lScore=o,i.sServerContext=l,i.iFromScene=h,n.log("UpdateCommonObjectScoreReq",i),e.sendWupNew("wupui","updateCommonObjectScoreV2",i,e.taf.HUYA.UpdateCommonObjectScoreRsp).then((function(e){if(n.log("UpdateCommonObjectScoreRsp",e),0===e.bcode){var t=e.tScoreRet.dScore;c&&c.find(".score").text(_(t)),!1===m&&(m=!0,r.fireEvent(r.SHOW_COMMON_TOAST,"点评成功"))}else e.sMsg&&r.fireEvent(r.SHOW_COMMON_TOAST,e.sMsg)}))}(t)}(o)}}}),s(o)}(I.lUserScore),c.find(".close").on("click",(function(){e.popupManager.nativePopupDeQueue({liveroomPopupKey:s})})),c.find(".info").click(g),c.find(".tittle-group").click(y),m=!1}function g(){r.fireEvent(r.QUIT_FULL_SCREEN);var t="https://hd.huya.com/h5/event-rating/index.html#/player?lObjectId=".concat(d,"&platform=web&hideBack=1&serverContext=").concat(l);o&&(t="https://test-hd.huya.com/h5/event-rating/test/index.html#/player?lObjectId=".concat(d,"&platform=web&hideBack=1&serverContext=").concat(l)),t=encodeURIComponent(t);var i="https://www.huya.com/?hyaction=halfscreenmodal&type=0&positionType=1&url=".concat(t);r.fireEvent(r.HY_ACTION_NEW,i),w("body_item"),e.popupManager.reportClickLiveRoomPopup(p,"body")}function y(){r.fireEvent(r.QUIT_FULL_SCREEN),r.fireEvent(r.HY_ACTION_NEW,f),w("body_item"),e.popupManager.reportClickLiveRoomPopup(p,"body")}function _(e){var t=parseFloat(e);return isNaN(t)?"-":0===t?"-":t.toFixed(1)}function w(e,t){if(p&&p.popup_ext)try{var i=JSON.parse(p.popup_ext);i.clickarea=e,void 0!==t&&(i.score_star=2*t),p.popup_ext=JSON.stringify(i)}catch(e){n.log("updatePopupExt error:",e)}}window.testMatchScorePopup=function(){var t=new e.taf.HUYA.GetMatchScoreCardPopupWindowRsp;t.iType=1,t.sAction="http://m.huya.com?hyaction=newrn&rnmodule=kiwi-PlayerScoringPage&rnentry=PlayerScoringPage&hideBar=true&halfWindow=1&statusbarLiteContent=true&playerId=17461&fromScene=1&commonObjectCard=AUQ1EAEmrWh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvaW50ZXJuYXRpb25NYXRjaC9waHA4RWVyU2oxNzM2MTcyMTU5LnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSxsaW1pdF8wLG1fbGZpdCx3XzE0MC9zaGFycGVuLDgwL2Zvcm1hdCxqcGcvaW50ZXJsYWNlLDEvcXVhbGl0eSxxXzkwNgdUYWV5b29uRgBVQBwAAAAAAABhAPVw%2F4NoZSDpTr9Od5YJ5ZOI5ZOI5ZOIphXot6%2FmnInkuIDmsr7mnpXlpLTlsLG2Zmh0dHBzOi8vdGVzdC1odXlhaW1nLm1zc3RhdGljLmNvbS9hdmF0YXIvMTA0NS9hOS81ZWVjMTNjODg2MDM2M2JkZjUxZWE5OTBhY2FmOGZfMTgwXzEzNS5qcGc%2FMTcxMTQ1Mjg0NMYA0gAQ7UvmKmh0dHBzOi8vbGl2ZXdlYmJzMi5tc3N0YXRpYy5jb20vV0VjYXJkLnBuZ%2FYPByMxMjI2NTT4EAAPBgpjYXRlZ29yeUlkFgMxNDcGDGNhdGVnb3J5TmFtZRYCV0UGEGNvbW1lbnRUYWJEYXJrQmsWL2h0dHBzOi8vbGl2ZXdlYmJzMi5tc3N0YXRpYy5jb20vYmxhY2twdXJwbGUucG5nBhFjb21tZW50VGFiTGlnaHRCaxYpaHR0cHM6Ly9saXZld2ViYnMyLm1zc3RhdGljLmNvbS9jYXJkMi5wbmcGF2ZpcnN0X21vbV9kaXNwbGF5X3RpdGxlFgnlk4jlk4jlk4gGDmZpcnN0X21vbV9pY29uFmZodHRwczovL3Rlc3QtaHV5YWltZy5tc3N0YXRpYy5jb20vYXZhdGFyLzEwNDUvYTkvNWVlYzEzYzg4NjAzNjNiZGY1MWVhOTkwYWNhZjhmXzE4MF8xMzUuanBnPzE3MTE0NTI4NDQGEmZpcnN0X21vbV9uaWNrbmFtZRYV6Lev5pyJ5LiA5rK%2B5p6V5aS05bCxBgtmaXJzdF9tb21pZBYTNzUyMjQ1NDkzOTAxMjkxMDcxMQYHbWF0Y2hJZBYDNDQ1BghwbGF5ZXJJZBYEMTI2MwYIcG9zaXRpb24WAkFEBgVyb3VuZBYBMQYKc2NoZWR1bGVJZBYEMzUxMQYFc2NvcmUWAzcuMAYIdGVhbU5hbWUWAldF9hFOaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9pbnRlcm5hdGlvbk1hdGNoL3BocDhFZXJTajE3MzYxNzIxNTkucG5n8BIB9hMraHR0cHM6Ly9saXZld2ViYnMyLm1zc3RhdGljLmNvbS9XRXNoYXJlLnBuZ%2FYULGh0dHBzOi8vbGl2ZXdlYmJzOS5tc3N0YXRpYy5jb20vRURHc2hhcmUucG5n9hUA9hZOaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9pbnRlcm5hdGlvbk1hdGNoL3BocDhFZXJTajE3MzYxNzIxNTkucG5n9hcqaHR0cHM6Ly9saXZld2ViYnMyLm1zc3RhdGljLmNvbS9XRWNhcmQucG5n9hgA9hkjMDXmnIgyNOaXpSBXRSB2cyBSQSDmsLjnkKrmtYvor5XnlKjxGgqf&server_context=111_2158000556",t.sServerContext="111_2158000556",t.sTitle="第4次推送评分";var i=new e.taf.HUYA.CommonObjectCard;i.sAvatarUrl="https://huyaimg.msstatic.com/cdnimage/internationMatch/php8EerSj1736172159.png",i.mpExt.value.score="8.0",i.sName="Taeyoon",i.sNickName="路有一沾枕头就",t.vCard.value.push(i),s="communityrate_autotrigger",v(t)},this.setData=function(t,i,r){n.log("收到评分数据：",t,i);var o=t.sKey,l=t.lMinDelayMs,d=t.lMaxDelayMs;s=i,u=r;var h=Math.floor(Math.random()*(d-l+1))+l;setTimeout((function(){!function(t){var i=new e.taf.HUYA.GetMatchScoreCardPopupWindowReq;i.tId=a.userId,i.sKey=t,i.lPid=a.presenterUid,e.sendWupNew("wupui","getMatchScoreCardPopupWindow",i,e.taf.HUYA.GetMatchScoreCardPopupWindowRsp).then((function(t){n.log("getMatchScoreCardPopupWindow",t);var i=t.iType;if(1==i||2==i){var r=1e3*u;if(!t||!t.vCard||0==t.vCard.value.length)return void n.log("getMatchScoreCardPopupWindow，vCard列表为空",t);var a={liveroomPopupKey:s,showTime:r};try{var o=t.vCard.value[0],l=o.lObjectId,d=o.iListId,h=o.mpExt.value.matchId,f=o.mpExt.value.scheduleId,m=JSON.stringify({competitor_id:l,match_id:h,schedule_id:f,list_id:d});a.popup_ext=m}catch(e){}e.popupManager.nativePopupEnQueue(a,(function(e){p=e.data.reportParams,v(t)}),(function(e){c&&(c.unbind(),c.remove(),c=null)}))}}))}(o)}),h)}}},sfRv:function(e,t,i){e.exports=function(e){var t,n,r=e.G,a=e.ENV;n=i("F2sD")(),$(n).prependTo("#player-video"),t=a.avatarImg,r.isHttps()&&(t=t.replace("http:","https:")),$("#yanzhi-bg .bg-img").attr("src",t)}},simV:function(e,t,i){e.exports=function(e){var t,n=0,r="",a=0,o=e.G,s=e.Event,c=e.R,l=e.ENV,u=e.utils,d=e.taf.HUYA,p=i("funx");function h(e){o.followList=e,o.followList.add(o.yyuid,a,E)}function f(e){if(e.bDirector){var i=e.vLMPresenterInfos.value;if(0!=i.length){t.find(".player-subscribe-viewers").css("visibility","hidden");var n=i[0];r=n.sNick,a=n.lUid,I();var s=n.sAvatarUrl;o.isHttps()&&(s=s.replace("http:","https:")),t.find(".player-subscribe-head img").attr("src",s);var c=n.iActivityCount;t.find(".player-subscribe-viewers apan").text(c)}}}function m(e){r=e.sNick,a=e.lUid,I();var i=e.sAvatarUrl;o.isHttps()&&(i=i.replace("http:","https:")),t.find(".player-subscribe-head img").attr("src",i),S()}function v(e){o.bDirector||(o.subscribedCount=e.iToCount,t.find("#player-subscribe-value").text(o.subscribedCount))}!function(){var n=i("L0YQ")();t=$(n);var c=l.avatarImg;o.isHttps()&&(c=c.replace("http:","https:")),t.find(".player-subscribe-head img").attr("src",c),t.css("visibility","hidden"),$("#player-subscribe-wap").append(t),0==o.iAttendeeCount?t.find(".player-subscribe-viewers apan").text("加载中"):t.find(".player-subscribe-viewers apan").text(o.iAttendeeCount),a=o.presenterUid,r=l.pnick,I(),e.addTafListener("3104",v),e.addTafListener("getLinkMicPresenterListByUid",f),e.addTafListener("1025801",m),s.addEvent(s.ATTENDEE_COUNT_CHANGE,_),s.addEvent(s.FUll_OR_WEBFULL_SCREEN_CHANGE,w),o.followList?o.followList.add(o.yyuid,a,E):s.addEvent(s.FOLLOW_LIST_READY,h),$("#player-subscribe-btn").click(y),new p(e)}();var g=0;function y(){if(o.isLogin){if(o.followList){var i=Date.now();i-g<500||(g=i,0==n?(c.huyuReport("click/dingyue/dy"),o.followList.get(a).on(),o.subscribedCount++,t.find("#player-subscribe-value").text(o.subscribedCount)):(c.huyuReport("click/dingyue/qxdy"),o.followList.get(a).off(),o.subscribedCount--,t.find("#player-subscribe-value").text(o.subscribedCount)))}}else e.popLogin()}function _(){o.bDirector||t.find(".player-subscribe-viewers span").text(o.iAttendeeCount)}function w(e){e&&S()}function S(){var t=new d.SubscribeStatusReq;t.tId=o.userId,t.tFrom.iType=1,t.tFrom.sKey=o.yyuid,t.tTo.iType=2,t.tTo.sKey=a,e.sendWup2("liveui","getSubscribeStatus",t,b)}function b(i){var r=i.iStatus;o.subscribedCount=i.iSubscribedCount,t.find("#player-subscribe-value").text(o.subscribedCount),t.css("visibility",0==r?"visible":"hidden"),n!=r&&(n=r,e.trigger("subscribeStatusChange",{iSubscribedCount:o.subscribedCount,iStatus:n,uid:a}),t.find("#player-subscribe-value").text(o.subscribedCount),1==n?(t.find("#player-subscribe-btn").removeClass("player-subscribe-btn1"),t.find("#player-subscribe-btn").addClass("player-subscribe-btn2"),t.find("#player-subscribe-word").text("已关注")):(t.find("#player-subscribe-btn").removeClass("player-subscribe-btn2"),t.find("#player-subscribe-btn").addClass("player-subscribe-btn1"),t.find("#player-subscribe-word").text("关注")))}function I(){r=u.setLongString(r,8),t.find("#presenter-nick").text(r)}function E(e){var i=o.followList.get(a).state;1==(n=1==i?1:0)?(t.find(".make-friend-subscribe").removeClass("player-subscribe-btn1"),t.find("#player-subscribe-btn").addClass("player-subscribe-btn2"),t.find("#player-subscribe-word").text("已关注")):(t.find("#player-subscribe-btn").removeClass("player-subscribe-btn2"),t.find("#player-subscribe-btn").addClass("player-subscribe-btn1"),t.find("#player-subscribe-word").text("关注"))}}},t6h8:function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=e.G,n=e.Event,r=e.Console,a=e.ISDEBUG,o=e.VER,s=e.utils,c=e.taf,l=c.HUYA,u=c.Taf,d=c.TafMx,p=0,h=[],f="14.29.112.64:8085",m="wsproxy.huya.com:8085",v="wsproxy.va.huya.com:8086",g="cdn.wup.huya.com",y="wsproxy.huya.com";function _(e){!function(e,i){if(null==(l=R(e))){var n=s.getDnsData("miniGameDns"),r=n.length,o="wss://"+v;if(0==r)t.useHttps||(o="ws://"+m);else{var c=Math.floor(Math.random()*r);o=(t.useHttps?"wss://":"ws://")+n[c]+(t.useHttps?":8086":":8085")}localStorage.gameWSIP&&(o=localStorage.gameWSIP),a&&(o="ws://"+f);var l,u="?bizid={1}&uid={2}&cookie={3}&data={4}";u=(u=(u=(u=u.replace("{1}","huya")).replace("{2}",t.yyuid)).replace("{3}",encodeURIComponent(document.cookie))).replace("{4}",encodeURIComponent(i)),(l=new WebSocket(o+u)).id=e,l.ip=o,l.onopen=E,l.onclose=k,l.onerror=C,l.onmessage=b,h.push(l)}}(e.id,e.url),function(){if(0!=p)return;w(),clearInterval(p),p=setInterval(w,18e4)}()}function w(){var e,i=new l.QueryHttpDnsReq;i.lUid=t.yyuid,i.sUA="webh5&"+o+"&mingame",i.sAppSrc="HUYA&ZH&2052";var n=[y];(e=i.vDomain.value).push.apply(e,n),function(e,i,n){var a=new u.Wup;a.setServant(e),a.setFunc(i),a.writeStruct("tReq",n);var o=a.encode().getBuffer(),c=(new Date).getTime(),l="https://"+g;u.Util.ajax(l+"?timestamp=".concat(c,"&").concat(t.baseinfo),o,(function(e){var t=new u.Wup;t.decode(e);var i=t.readInt32(""),n=d.WupMapping[t.sFuncName];if(0==i&&n){var r=new n,a=t.newdata.get("tRsp")?"tRsp":"tResp";for(var a in t.readStruct(a,r,n),r.mDomain2Ip.value)if(a==y){var o=r.mDomain2Ip.value[a].vIp.value;return void s.storeDnsData("miniGameDns",o)}}S()}),(function(e){S(),r.log("queryHttpDns失败",e)}))}("launch","queryHttpDns",i)}function S(){localStorage.miniGameDns&&delete localStorage.miniGameDns}function b(e){var t=e.data,i=e.currentTarget.id,n=new FileReader;n.id=i,n.onload=I,n.readAsArrayBuffer(t)}function I(t){var i=t.currentTarget.id,n=this.result,r=new u.JceInputStream(n),a=new l.WsProxyPacket;a.readFrom(r);var o=a.iCommand;if(2==o||3==o){var c=a.vData.getBuffer();2==o&&(c=s.ab2str(c,!0)),e.trigger("wsMessage",{wsId:i,event:"message",param:c})}}function E(t){var i=t.currentTarget,n=i.id;r.log("=== WebSocket Connected  id :",n),e.trigger("wsMessage",{wsId:n,event:"open"}),clearInterval(i.tickHandler),i.tickHandler=setInterval(T,6e4,i),T(i)}function T(e){var t=new l.WsProxyPacket;t.iCommand=1;var i=new u.JceOutputStream;t.writeTo(i),e&&e.send(i.getBuffer())}function k(t){var i=t.currentTarget,n=i.id;t.code,t.reason;P(n),r.log("=== WebSocket Closed id",i.id,t),e.trigger("wsMessage",{wsId:n,event:"close",param:{code:t.code,reason:t.reason}})}function C(t){var i=t.currentTarget,n=i.id;P(n),r.log("=== WebSocket Error id",i.id,t),e.trigger("wsMessage",{wsId:n,event:"error",param:"连接出错error"})}function x(e){var t=e.wsId,n=e.message,r=R(t),a=new l.WsProxyPacket;if("string"==typeof n){a.iCommand=2,a.vData=new u.BinBuffer;try{n=unescape(encodeURIComponent(n))}catch(e){}a.vData.writeString(n)}else"object"===i(n)&&(a.iCommand=3,n instanceof Uint8Array?a.vData=new u.BinBuffer(n.buffer):a.vData=new u.BinBuffer(n));var o=new u.JceOutputStream;a.writeTo(o),r&&r.send(o.getBuffer())}function A(e){var t=e.wsId,i=R(t);i&&i.close(),P(t)}function R(e){for(var t in h)if(h[t].id==e)return h[t];return null}function P(e){for(var t=0;t<h.length;t++)if(h[t].id==e){clearInterval(h[t].tickHandler),h.splice(t,1);break}}n.addEvent(n.EXT_WS_CONNECT,_),n.addEvent(n.EXT_WS_SEND,x),n.addEvent(n.EXT_WS_CLOSE,A)}},tH0G:function(e,t,i){e.exports=function(e,t){var n=e.G;function r(e){n.isSupportWebp&&a({bannerType:"drop",actionType:"fadeOut",text:e.sShowDoc},e.tBanner?e.tBanner.sH5Banner:"")}function a(e,n){var r=t.newId(),a="";""!=n&&(a=(a=n).replace("http:","https:"));var o=i("y01X")({id:r,content:e.text}),s=$(o).data("data",e);""!=n&&(-1!=n.indexOf("1492678888.699")?s.find("p").css({top:"48px",color:"#EDCF83","font-size":"16px","font-family":"Microsoft YaHei"}):-1!=n.indexOf("1493887381.9337")?s.find("p").css({top:"50px",color:"#FFFFFF","font-size":"20px","font-family":"Microsoft YaHei"}):-1!=n.indexOf("1499062648.9812")?s.find("p").css({top:"48px",color:"#FFFFFF","font-size":"18px","font-family":"Microsoft YaHei"}):-1!=n.indexOf("1490264873.6657")||-1!=n.indexOf("1505725482.7033")?s.find("p").css({top:"82px",color:"#C8E8F3","font-size":"20px","font-family":"Microsoft YaHei"}):-1!=n.indexOf("1506495507.6475")||-1!=n.indexOf("1506495521.1821")?s.find("p").css({top:"43px",color:"#FFFFFF","font-size":"18px","font-family":"Microsoft YaHei"}):-1!=n.indexOf("1511432184.2607")||-1!=n.indexOf("1511437306.7788")||-1!=n.indexOf("1512025186.5094")||-1!=n.indexOf("1522225560.5592")?s.find("p").css({top:"82px",color:"#FFFFFF","font-size":"18px","font-family":"Microsoft YaHei"}):s.find("p").css({top:"48px",color:"#FFFFFF","font-size":"18px","font-family":"Microsoft YaHei"})),""!=a&&s.find(".bg").css("background","url("+a+")"),t.addBanner(s)}e.addTafListener("7055",r),window.testBannerDrop=function(e,t){t||(t="https://huyaimg.msstatic.com/cdnimage/activity/awardcom/banner/h5_client_logo_1574769621.0455.webp"),a({bannerType:"drop",actionType:"fadeOut",text:e||"横幅的方案可以自己填写，什么都行，只要你喜欢"},t)}}},tLES:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.taf,a=e.Event,o=e.utils,s=e.Console,c=(e.R,r.Taf),l=r.AdxServer,u=null,d=null,p=null,h={},f=!0,m=null,v=null,g=0,y=t.adReport,_=1,w=0,S=!1,b=!1,I="",E=null,T=null,k=0,C=i("ZVwP"),x=C.Ad_Brand,A=C.Ad_Description,R=C.Ad_ActionTxt,P=i("ErL0").detectAdBlockerByImg,L="",M="",D=!1,B=0,N=0;function U(){T||(y.reportPageView(m,h),u.hide().fadeIn("normal"),te("bigarea")),e.trigger("showPublicScreenAd",{div:u[0]}),D=!1,clearTimeout(g),g=setTimeout((function(){Q(),ie("bigarea","autoclose"),p&&p.onCloseReportVideo()}),1e3*N)}function F(t,n,r){var o=e.huyaAD.getVideoInfo(t);if(null==o){if(!n)return s.log("未获取到公屏广告视频"),!1;o={videoUrl:n,isMp4:!0}}if(null==p){var c=i("vNGJ");p=new c(e,J,K,Z,X,h)}p.startPlay(o,d,m,r),V();var l=u.find(".sound-btn");return l.show(),l.click(H),G(),a.addEvent(a.VOLUME_CHANGE,V),!0}function O(t){if(!t)return!1;var i=n.makeHttpsUrl(t),r=u.find(".ab-content"),a=$("<img />");return P(a[0]).then((function(t){s.log("detectAdBlockerByImg广告图片可能被广告插件拦了！",n.adBlock,t),n.adBlock&&t?(e.huyaAD.reportExternalEvent(m,h,"adBlockPlugin"),oe()):U()})),a.attr("src",i),r.prepend(a),!0}function H(e){o.stopPropagation(e),f=!f,G()}function G(){var e=u.find(".sound-btn");e.removeClass("sound-close"),f&&e.addClass("sound-close");var t=f?0:w;p&&p.setVolume(t)}function V(){p&&(w=n.volume/100,!f&&p.setVolume(w))}function W(e){var t=d,i=t.brand,n=t.title,r=t.iconUrl,a=t.actionTxt;e.find(".logo img").attr("src",r),e.find(".title").text(i||x),e.find(".explain").text(n||A);var o=e.find(".details-btn2 span"),s="".concat(a||R);E&&E.num>0&&(s="".concat(a||R,'，领取 <div class="pre-ab-huyaliang-logo"></div> * ').concat(E.num)),o.html(s)}function q(){var e=d.actionTxt,t=u.find(".public-ab-details-btn span"),i="".concat(e||R);E&&E.num>0&&(i="".concat(e||R,'，领取 <div class="pre-ab-huyaliang-logo"></div> * ').concat(E.num)),t.html(i)}function j(){E=null;var e=d.actionTxt,t="".concat(e||R);!0===b&&u.find(".details-btn2 ").find("span").html(t);u.find(".public-ab-details-btn").find("span").html(t);var i=u.find("#details-btn-1");i.find("span").html(t),i.addClass("show"),u.find("#details-btn-2").hide(),clearInterval(se)}function z(t,i){if(0!==k)if(u.find(".public-ab-details-btn").addClass("qrcode-style"),t){t.hover((function(){D||(!1===b?t.addClass("qr-code-mode"):t.addClass("vertical-video-qrcode-mode"))}),(function(){D||(!1===b?t.removeClass("qr-code-mode"):t.removeClass("vertical-video-qrcode-mode"))}));var n=e.huyaAD.createQrcode(114,M);t.find(".ab-qr-code-container .ab-qr-code").append(n),t.find(".ab-qr-code-desc").text(L),2==k&&(t.find(".ab-qr-code-desc").hide(),b?t.find(".details-btn3").css("display","flex"):t.find(".details-btn2").css("display","flex"))}else if(i){var r=i.attr("class");i.hover((function(){D||(i.removeClass(r),i.addClass("banner-qr-code-mode"),b&&i.addClass(" banner-qr-code-mode-vertical"))}),(function(){D||(i.removeClass("banner-qr-code-mode banner-qr-code-mode-vertical"),i.addClass(r))}));n=e.huyaAD.createQrcode(114,M);i.find(".ab-qr-code-container .ab-qr-code").append(n)}}function Y(t){y.reportClick(m,h),e.huyaAD.openAdUrl(d,v,!0);var i={slotcode:I,style:t,area:"body",url:v.landingUrl,round:B};e.huyaAD.huyaReportClick(d,i),T&&E&&T.awardADTask(j)}function J(e,t){var i=u.find(".ab-content");i.find(".ab-video").remove();var n=t||e;$(n).attr("class","ab-video"),i.append(n),U()}function K(e,t){}function Z(e){e?oe():(Q(),ie("bigarea","autoclose"))}function X(){f=!0;var e=u.find(".sound-btn");e.removeClass("sound-close"),f&&e.addClass("sound-close")}function Q(){clearTimeout(g),u.bind("transitionend webkitTransitionEnd",(function(){u.unbind(),ae(),u.find(".ab-main").remove()})),S?u.addClass("main-ab-close-fullimage-mode"):u.addClass("main-ab-close-mode"),function(){_=2;var t=u.find("#ab-banner");t.css("display","flex"),t.click((function(e){1!=k&&(o.stopPropagation(e),Y("smallbanner"))})),S&&u.find("#ab-banner").addClass("full-mode");var r=d,a=r.brand,s=r.title,c=r.imageUrl,l=r.iconUrl,p=d.actionTxt,h=u.find("#details-btn-1"),f=u.find("#details-btn-2");if(h.show(),f.hide(),b){t.addClass("vertical-video-mode");var m=t.find(".details-btn-group");t.append(m);var v="".concat(p||R);h.find("span").html(v),E&&E.num>0?(v='领取 <div class="pre-ab-huyaliang-logo"></div> * '.concat(E.num),f.show(),f.find("span").html(v),function(e,t){function i(e){e.addClass("show"),setTimeout((function(){e.removeClass("show")}),3e3)}function n(){i(e),setTimeout((function(){i(t)}),3e3)}clearInterval(se),se=setInterval(n,4e3),n()}(h,f)):h.addClass("show")}else{v="".concat(p||R);E&&E.num>0&&(v="".concat(p||R,'，领取 <div class="pre-ab-huyaliang-logo"></div> * ').concat(E.num)),h.find("span").html(v)}t.find(".banner-image img").attr("src",b?l:c),t.find(".title").text(a||x),t.find(".explain").text(s||A),function(){null==re&&(re=i("eNXa"));var e={container:u.find(".glow-effect")[0],renderer:"svg",loop:!1,autoplay:!0,path:n.H5ROOT+"json/public-screen-ab-effect.json"};(ne=re.loadAnimation(e)).addEventListener("complete",(function(){ne&&ne.destroy(),ne=null}))}(),e.trigger("publicScreenAdStatus",{status:1}),te("smallbanner"),z(null,t)}()}function ee(){D=!0,u.bind("transitionend webkitTransitionEnd",(function(){oe(),e.trigger("publicScreenAdStatus",{status:2})})),u.addClass("ab-close-mode")}function te(t){var i={slotcode:I,style:t,round:B};e.huyaAD.huyaReportShow(d,i)}function ie(t,i){var n={slotcode:I,style:t,close_type:i,round:B};e.huyaAD.huyaReportClose(d,n)}var ne=null,re=null;function ae(){p&&(p.clear(),a.removeEvent(a.VOLUME_CHANGE,V),p=null)}function oe(){ae(),u&&(u.remove(),u.unbind(),u=null),clearTimeout(g),clearInterval(se),ne&&(ne.destroy(),ne=null)}var se=0;this.setData=function(t,r){oe(),I=r;var a=i("aj8K")();u=$(a),d=t;var f=t.sdkConf,g=t.adExtCommonInfo,w=t.videoUrl,E=t.templateId,T=t.imageUrl,C=t.iconUrl,x=t.showSec,A=new c.JceInputStream(g.buffer),R=new l.AdExtCommonInfo;R.readFrom(A),m=o.unescapeHTML(f);var P=e.huyaAD.getQrcodeInfo(d);k=P.mode,L=P.qrcodeTips,M=P.qrcodeUrl,h=e.huyaAD.setADEnv(d,h),s.log("公屏广告视频信息 adComInfo",R);var D=!1;switch(N=x||15,n.mpExperiment&&(h.exp=n.mpExperiment),E){case 20231123:case 2022:D=F(R,w);break;case 20231124:case 2023:D=F(R,w),S=!0;break;case 20231125:case 2024:D=O(T);break;case 2029:D=F(R,w),b=!0;break;case 2030:D=O(T),b=!0;break;default:s.log("未知公屏广告模版")}if(D){try{v=JSON.parse(m)}catch(e){return void s.log("PublicScreenAd parse sdkConf error")}u.find(".close-btn").click((function(){1==_?(ie("bigarea","close"),p&&p.onCloseReportVideo()):ie("smallbanner","close"),y.reportClose(m,h),ee()}));var U=u.find(".ab-main");if(U.click((function(e){1!=k&&(o.stopPropagation(e),Y("bigarea"))})),!0===b){if(W(U),C){var H=u.find(".bg-img");H.css("background","url("+C+") no-repeat"),H.css("background-size","100% 100%"),H.show()}U.addClass("vertical-video-mode")}B++,h.adenv_turn=B,q(),z(U)}},this.preADData=function(t,r,a,f){I=r,E=a,T=f,oe();var g=i("aj8K")();u=$(g),d=t;var w=t.sdkConf,S=t.adExtCommonInfo,C=t.videoUrl,x=t.templateId,A=t.imageUrl,R=t.iconUrl,P=t.showSec,D=new c.JceInputStream(S.buffer),B=new l.AdExtCommonInfo;B.readFrom(D),m=o.unescapeHTML(w),s.log("公屏广告视频信息 adComInfo",B);var U=e.huyaAD.getQrcodeInfo(d);switch(k=U.mode,L=U.qrcodeTips,M=U.qrcodeUrl,N=P||15,x){case 2031:F(B,C,5);break;case 2032:O(A);break;case 2033:F(B,C,5),b=!0;break;case 2034:O(A),b=!0;break;default:s.log("未知公屏广告模版")}try{v=JSON.parse(m)}catch(e){}n.mpExperiment&&(h.exp=n.mpExperiment),u.find(".close-btn").click((function(){1==_?(ie("bigarea","close"),p&&p.onCloseReportVideo()):ie("smallbanner","close"),y.reportClose(m,h),ee()}));var H=u.find(".ab-main");if(H.click((function(e){1!=k&&(o.stopPropagation(e),Y("bigarea"))})),!0===b){if(W(H),R){var G=u.find(".bg-img");G.css("background","url("+R+") no-repeat"),G.css("background-size","100% 100%"),G.show()}H.addClass("vertical-video-mode")}q(),z(H),u.css({animation:"fadeInOut 2s ease-in-out forwards","-webkit-animation":"fadeInOut 2s ease-in-out forwards"})}}},tchx:function(e,t,i){e.exports=function(e){var t=!1,n=!1,r=0,a=null,o=[],s=0,c=0,l=!1,u=e.G,d=e.Event,p=e.R,h=e.ENV,f=e.utils,m=e.Console,v=e.taf.HUYA,g=null,y=null,_="2022hyxbsp";function w(){!function(){var t=new v.GetEndLiveMomentListForWebReq;t.tId=u.userId,t.lPid=u.presenterUid,e.sendWupNew("moment","getEndLiveMomentListForWeb",t,v.GetEndLiveMomentListForWebRsp).then((function(e){!function(e){var t=e.vMoments.value,i=t.length>0?t[0]:null,n=i?i.lMomId:0,o=i?i.iCTime:0,s=Math.round(Date.now()/1e3);r=null==i||0==n||0==o?1:o&&s-o<604800?2:3;a=i,c++,b()}(e)}))}(),u.isEndLive||x()}function S(){d.fireEvent(d.QUIT_FULL_MODE);var t=2==r?"anchor":"hot";e.trigger("goToMoment",t),p.huyuReport("click/zhibo/moremoment")}function b(){var d=u.isEndLive?2:3;if(!(c<d)){$(".player-recommend-vbox").unbind("click"),$(".player-recommend-home").unbind("click"),$(window).unbind("resize",k),$("#player-recommend").remove();var m=i("hl5z")({liveList:o,moment:2==r?a:null,utils:f});$("#player-ext-wrap").before(m),t?$("#player-recommend").show():$("#player-recommend").hide(),n?($(".recommend-top-ui").hide(),$(".player-recommend-big-video").hide(),$("#recommend-forbid").show()):(T(),l&&function(){if(null==g){var t=i("FyD9");g=new t(e,A)}g.setData(y)?$("#player-recommend").addClass("recommend-ab-mode"):l=!1}());var v=2==r&&a&&a.lMomId;v?p.huyuReport("pageview/zhibo/anchormoment"):p.huyuReport("pageview/zhibo/livepush"),(h.isSimple||0==h.hasMoments)&&$(".player-recommend-home").remove(),$(".player-recommend-big-video-ui").click(C),$(".player-recommend-vbox").click(C),$(".player-recommend-home").click(S),k(),$(window).resize(k),function(){var e=h.avatarImg;null==e&&(e="");$("#player-recommend-bg").attr("src",e)}();var _=$("#player-recommend").width();_>900&&p.huyuReport("pageview/zhibo/jieshuzhibo"),!v&&o[0]&&o[0].signChannel==s?p.huyuReport("pageview/zhibo/jieshuzhibo/sameunion"):_>900&&(v&&I(3)?p.huyuReport("pageview/zhibo/jieshuzhibo/sameunion"):!v&&I(4)&&p.huyuReport("pageview/zhibo/jieshuzhibo/sameunion"))}}function I(e){for(var t=0;t<o.length;t++){if(t<e&&o[t].signChannel==s)return!0;if(t>=e)return!1}return!1}function E(e){var t="",i=e/1e4;return i>1&&(t+=i.toFixed(1)+"万"),t||(t=e),t}function T(){var e=$(".recommend-live-forenotice");if(0!=e.length){var t="直播预告："+u.sSchedule;""!=u.sDescription&&(t+=(""==u.sSchedule?"":"，")+u.sDescription);var i=e.find("p:nth-of-type(1)");""==u.sSchedule&&""==u.sDescription?i.text("直播预告：主播正在赶来..."):(t=f.unescapeHTML(t),i.text(t))}}function k(){var e=$("#player-recommend").width(),t=$("#player-recommend").height();if(l);else{var i=960/814*(t-120),n=!h.isSimple&&h.hasMoments;$(".player-recommend-container").css({width:i,top:n?"50%":"calc(50% - 20px)"}),$(".player-recommend-big-video").css({height:9*i/16}),$(".player-recommend-list").toggle(e>900)}}function C(e){var t=e.currentTarget,i=t.parentNode,n=$(i).attr("yyid"),r=$(i).attr("vid"),o=$(i).attr("signChannel"),c="";if(n){var l=$(i).attr("profileRoom"),u=$(i).attr("privateHost");c=location.protocol+"//"+location.host+"/yy/"+n,u?c=location.protocol+"//"+location.host+"/"+u:l&&(c=location.protocol+"//"+location.host+"/"+l)}else r&&((c=a.tVideoInfo.sVideoUrl)||(c=location.protocol+"//v.huya.com/play/"+r+".html"));$(t).hasClass("player-recommend-big-video-ui")?n?p.huyuReport("click/zhibo/livepush"):r&&p.huyuReport("click/zhibo/anchormoment"):(p.huyuReport("click/zhibo/jieshutuijie"),o&&s==o&&p.huyuReport("click/zhibo/jieshutuijie/sameunion")),window.open(c)}function x(t){function i(){c++,b()}if(u.preADPlayingFlag)i();else try{var n=t||_;e.huyaAD.getAdInfo(n,1,{innerSecondQuery:"0"}).then((function(e){if(m.log("下播广告",e),e&&200==e.code&&e.data&&e.data.value.length){var t=e.data.value[0].ads.value;t.length>0&&(y=t[0],l=!0)}i()})).catch((function(e){m.error(e),i()}))}catch(e){m.error("getAdInfo",e),i()}}function A(){l=!1,$("#player-recommend").removeClass("recommend-ab-mode"),b()}d.addEvent(d.FORENOTICE_UPDATE,T),u.isUserInfoInited()?w():d.addEvent(d.USER_INFO_INITED,w),Object.defineProperties(this,{isShow:{get:function(){return t}},isForbid:{set:function(e){n=e}}}),this.show=function(){t||(t=!0,$("#player-recommend").show(),$(".player-videotype").hide(),$("#player-recommend").removeClass("recommend-ab-mode recommend-ab-full-mode"))},this.hide=function(){t=!1,$("#player-recommend").hide(),$(".player-videotype").show(),g&&g.stopAd()},this.setData=function(e){var t=[],i=[];s=e.signChannel;for(var n=0,r=e.liveList.length;n<r;n++){var a=e.liveList[n];if(h.eu!=a.uid&&-1==i.indexOf(a.uid)){if(h.isSimple)break;u.isHttps()&&(a.screenshot=a.screenshot.replace("http:","https:")),a.totalCount=E(a.totalCount),i.push(a.uid),t.push(a)}}o=t,c++,b()},this.onEndAdNotice=function(e){x(e)}}},tjlA:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("H7XF"),r=i("kVK+"),a=i("49sm");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,i)}function l(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i),r=(e=s(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(c.isBuffer(t)){var i=0|h(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function p(e,t){var i=t.length<0?0:0|h(t.length);e=s(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,i);case"utf8":case"utf-8":return k(this,t,i);case"ascii":return x(this,t,i);case"latin1":case"binary":return A(this,t,i);case"base64":return T(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function g(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,i,n,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):y(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,i,n,r){var a,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,i/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(a=i;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(i+c>s&&(i=s-c),a=i;a>=0;a--){for(var d=!0,p=0;p<c;p++)if(l(e,a+p)!==l(t,p)){d=!1;break}if(d)return a}return-1}function _(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[i+o]=s}return o}function w(e,t,i,n){return W(G(t,e.length-i),e,i,n)}function S(e,t,i,n){return W(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function b(e,t,i,n){return S(e,t,i,n)}function I(e,t,i,n){return W(V(t),e,i,n)}function E(e,t,i,n){return W(function(e,t){for(var i,n,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,r=i%256,a.push(r),a.push(n);return a}(t,e.length-i),e,i,n)}function T(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function k(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var a,o,s,c,l=e[r],u=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=i)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[r+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=d}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=C));return i}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return l(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return function(e,t,i,n){return u(t),t<=0?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,a=Math.min(i,n);r<a;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,n,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,r),u=e.slice(t,i),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":return S(this,e,t,i);case"latin1":case"binary":return b(this,e,t,i);case"base64":return I(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function A(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function R(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=t;a<i;++a)r+=H(e[a]);return r}function P(e,t,i){for(var n=e.slice(t,i),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function L(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,i,n,r,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-i,2);r<a;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function B(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-i,4);r<a;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function N(e,t,i,n,r,a){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function U(e,t,i,n,a){return a||N(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,a){return a||N(e,0,i,8),r.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;i=new c(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||L(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||L(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||L(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||L(e,t,this.length);for(var n=t,r=1,a=this[e+--n];n>0&&(r*=256);)a+=this[e+--n]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,a=0;for(this[t]=255&e;++a<i&&(r*=256);)this[t+a]=e/r&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<i&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}var a=i-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return U(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return U(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,a=n-i;if(this===e&&i<t&&t<n)for(r=a-1;r>=0;--r)e[r+t]=this[r+i];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},c.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var o=c.isBuffer(e)?e:G(new c(e,n).toString()),s=o.length;for(a=0;a<i-t;++a)this[a+t]=o[a%s]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var i;t=t||1/0;for(var n=e.length,r=null,a=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function V(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}}).call(this,i("yLpj"))},u04c:function(e,t,i){e.exports=function(e,t){var n=this,r=[],a=null,o=!1;this.isActive=!1;var s=e.G,c=e.Event,l=e.R,u=e.ISDEBUG,d=e.utils,p=e.taf.HUYA;function h(){var t=new p.GetMultiPKPanelInfoReq;t.tId=s.userId,t.lPid=s.presenterUid,e.sendWup2("revenueui","getMultiPKPanelInfo",t,f)}function f(e){m(e=e.tInfo,!0)}function m(e,c){var u=e.tLeftTeam.vMemberInfo.value.length+e.tRightTeam.vMemberInfo.value.length>0;n.isActive=u,t.setPkActive(n.isActive),r=[],a.empty(),function(e){if(!n.isActive)return;var t=e.tLeftTeam,i=e.tRightTeam,r=y(t);y(i);r?_(t,i):_(i,t)}(e),function(){if(n.isActive){for(var e=0,t=r.length;e<t;e++){var c=r[e];if(c.lPid!=s.presenterUid){var u=i("pep2")(),p=$(u),h=c.tLiveInfo;p.attr("lYYId",h.lYYId),p.attr("iRoomId",h.iRoomId),p.attr("lUid",h.lUid),p.find(".head-type").addClass("head-pk-style");for(var f=c.sTeamName;d.getStringLength(f)>2;)f=f.substring(0,f.length-1);p.find(".head-type span").text(f),p.find(".nick-name").text(c.sNickName),p.find(".head-type i").addClass("head-type-pk"),p.find("img").attr("src",c.sAvatarUrl),p.click(g),a.append(p)}}o||(l.newHuyaReport({eid_desc:"展示/直播间/PK打开",eid:"Pageview/Live/PK",prop:JSON.stringify({label:1}),uid:s.yyuid}),o=!0)}}(),t.layout()}function v(e){n.isActive=!1,t.setPkActive(n.isActive),r=[],a.empty(),t.layout()}function g(e){e.stopPropagation();var t=$(this).attr("iRoomId"),i=$(this).attr("lYYId"),n=$(this).attr("lUid");if(0!=t||0!=i){var r="//www.huya.com/"+t;u&&(r="//test-www.huya.com/"+t),0==t&&(r="//www.huya.com/yy/"+i),window.open(r),l.newHuyaReport({eid_desc:"点击/直播间/PK跳转",eid:"Click/Live/PKLink",prop:JSON.stringify({click:"Click",beforepid:s.presenterUid,afterpid:n}),uid:s.yyuid})}}function y(e){for(var t=e.vMemberInfo.value.length,i=0;i<t;i++){var n=e.vMemberInfo.value[i].lPid;if(s.presenterUid==n)return!0}return!1}function _(e,t){w(e.vMemberInfo.value,e.sTeamName),w(t.vMemberInfo.value,t.sTeamName)}function w(e,t){for(var i=0;i<e.length;i++){var n=e[i];n.sTeamName=t,r.push(n)}}a=$("#player-multi-pk ul"),e.addTafListener("1090009",m),e.addTafListener("1090007",v),s.isUserInfoInited()?h():c.addEvent(c.USER_INFO_INITED,h),window.testMultiPK=function(){m({tLeftTeam:{sTeamName:"红队",vMemberInfo:{value:[{lPid:"1656754951",sAvatarUrl:"https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",sNickName:"Lo丶daigod",tLiveInfo:{lYYId:"1881868826",iRoomId:"10006325"}}]}},tRightTeam:{sTeamName:"wmwm",vMemberInfo:{value:[{lPid:"369897411",sAvatarUrl:"https://huyaimg.msstatic.com/avatar/1044/81/920e0ef057dfc1a949524381d8c812_180_135.jpg",sNickName:"Veronica.ccc",tLiveInfo:{lYYId:"282987108",iRoomId:"10006869"}}]}}})}}},uDiH:function(e,t,i){e.exports=function(e){var t,n,r,a,o="#player-panel-feedback",s=3,c=0,l="",u="";autoFeedbackInterval=0;var d,p=e.G,h=e.VER,f=(e.ISDEBUG,e.utils),m=e.Console,v=e.logUtils,g=i("Dstj"),y=i("eKvN"),_=i("vGTA"),w=i("lYYl"),S=i("rXj1"),b=0,I="",E=null,T="https://ffilelogupload.huya.com/uploadBinary",k="//ffilelogapp.huya.com/addFeedBack",C=["画面卡顿","无限缓冲","声音和画面不同步","有画面没声音","发送不了道具","有声音没画面","花屏","黑屏","其它","虎牙小程序"],x=[1,2,5,6,7,9,3,4,8,235];function A(){var e,t=r[0].selectionStart;(e=(e=r.val()).replace(/\D/g,""))==c&&t--,c=e,r.val(e),r[0].setSelectionRange&&r[0].setSelectionRange(t,t)}function R(e){var t=e.currentTarget;$(t).find("i").attr("class","select"),$(t).siblings("li").find("i").removeClass("select")}function P(){I="p2p 上报日志 guid="+p.getGuid(),b=10,M("自动上报",I+="+"+p.videoLine,D)}function L(){var e=$(o+" li i.select").parent(),i=e.text().replace(/\s/gim,"");if(I=$(o+" textarea").val(),I=f.xss(I),i!=l||I!=u)if(l=i,u=I,"其它"!=i||""!=I.replace(/\s/gim,"")){var n=$(o+" input").val();b=e.attr("index");var r=I;r+="+birate:"+p.getTrueBitRate(),r+="+line:"+p.videoLine,p.isP2pPlayIng&&(r+="+p2p"),p.isReplay&&(r+="+replay"),"h265"==p.videoCodec?r+="+h265":"av1"==p.videoCodec&&(r+="+av1"),p.hasAutoBitrate&&(r+="+auto:".concat(p.isAutoBitrate?1:0)),""!=n&&(r+="+qq:"+n),E&&E.param&&(r+="+ext:"+E.param),S&&S.browser&&(r+="+(".concat(S.browser.name,":").concat(S.browser.version,")")),s=3,clearInterval(a),a=setInterval(N,1e3),M(i,r,D)}else t.hide()}function M(e,t,i){var n={fbType:e,fbDetails:t||e,uid:p.yyuid?p.yyuid:18e11+parseInt(1e11*Math.random()),gid:p.getGuid(),device:S?S.os.name+S.os.version:"未知设备",appVersion:"H5直播间"+h,deviceType:1,anchorId:p.presenterUid,ssid:p.subsid,appId:200,isp2p:p.isP2pPlayIng?1:0};$.ajax({type:"POST",url:k,data:n,error:function(e,t,i){m.log(e,"获取fbid出错",t,i)},success:function(e){m.log("获取反馈id",e);var t=e.fbId;1==e.result?(i(t),m.info("获取fbid成功")):m.info("获取fbid失败")}})}function D(e){var t,i,n,r,a,o,s,c,l,u;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=B(!0),(i=new w).file("info.txt",t.mainLog),i.file("h5Log.txt",t.h5Log),i.file("extLog.txt",t.extLog),i.file("hySdkLog.txt",t.sdkLog),d.next=8,regeneratorRuntime.awrap(i.generateAsync({type:"arraybuffer"}));case 8:if(!(n=d.sent)){d.next=37;break}r="",_?((a=new _.ArrayBuffer).append(n),r=a.end()):m.log("SparkMD5 not found"),d.prev=12,o=n.byteLength,1048576,s=Math.ceil(o/1048576),c=T,"log.zip",m.log("待上传分片数: ".concat(s,", 总大小: ").concat(o,", 分片大小: ").concat(1048576)),l=function(t){var i,a,l,u,d;return regeneratorRuntime.async((function(p){for(;;)switch(p.prev=p.next){case 0:return i=1048576*t,a=Math.min(i+1048576,o),l=n.slice(i,a),u=["".concat(c,"?fbId=").concat(e),"md5=".concat(r),"isReload=0","fileSize=".concat(o),"beginPos=".concat(i),"fileName=".concat("log.zip"),"chunkIndex=".concat(t),"totalChunks=".concat(s)].join("&"),m.log("上传日志分片: ".concat(t+1,"/").concat(s,", 开始位置: ").concat(i,", 结束位置: ").concat(a,", 分片大小: ").concat(l.byteLength)),p.next=7,regeneratorRuntime.awrap(new Promise((function(e,t){$.ajax({type:"POST",url:u,data:l,processData:!1,contentType:"application/octet-stream",error:function(e,i,n){m.log(e,"上传日志分片出错",i,n),t(n)},success:function(t){m.log("上传日志分片返回",t),e(t)}})})));case 7:if(d=Math.round((t+1)/s*100),m.log("上传进度: ".concat(d,"% (").concat(t+1,"/").concat(s,")")),!(t<s-1)){p.next=12;break}return p.next=12,regeneratorRuntime.awrap(new Promise((function(e){return setTimeout(e,5e3)})));case 12:case"end":return p.stop()}}))},u=0;case 21:if(!(u<s)){d.next=27;break}return d.next=24,regeneratorRuntime.awrap(l(u));case 24:u++,d.next=21;break;case 27:m.info("上传日志成功"),O(),d.next=35;break;case 31:d.prev=31,d.t0=d.catch(12),m.log("上传日志文件异常: ".concat(d.t0)),m.info("上传日志失败");case 35:d.next=38;break;case 37:m.info("日志内容为空");case 38:case"end":return d.stop()}}),null,null,[[12,31]])}function B(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i={};i.ua=navigator.userAgent,i.uid=p.yyuid,i.tid=p.topsid,i.sid=p.subsid,i.appid=p.appid,i.p2p=p.isP2pPlayIng,i.hasVideo=p.hasVideo,i.videoLine=p.videoLine,i.curBitRate=p.getTrueBitRate(),i.wsurl=p.wsurl,i.badWsIps=p.badWsIps,i.connected=p.wsconnected,i.lifeTime=Date.now()-p.beginTime,i.userInfo=p.userInfo,i.isUserIn=p.userIn,i.livingInfo=p.livingInfo,i.livingInfo&&i.livingInfo.tNotice&&delete i.livingInfo.tNotice.vStreamInfo.proto,i.encryptIps=p.encryptIps,p.isReplay||(i.metric=e.vcore.getMetrics(),i.metric.ratio=p.getTrueBitRate());var n=p.h5Log||[],r=v.getExtLog()||[],a=e.vcore.getSDKLog()||{};return t?{mainLog:JSON.stringify(i,null,2),h5Log:n.join("\n"),extLog:r.join("\n"),sdkLog:JSON.stringify(a,null,2)}:(i.h5Log=n,i.extLog=r,i.sdkLog=a,JSON.stringify(i))}function N(){0!=s?(n.text("提交成功，"+s+"秒后关闭窗口..."),s--):t.hide()}function U(e){E=e,n.text(""),$(o+" textarea").val(""),$(o+" input").val(""),$(o+" li i").removeAttr("class"),E?function(){var e=E,t=e.type,i=e.content;$(o+" textarea").val(i||"");var n=x.indexOf(parseInt(t)),r=C.indexOf(t);-1!=n?$("".concat(o," li[index=").concat(x[n],"] i")).attr("class","select"):-1!=r?$("".concat(o," li[index=").concat(x[r],"] i")).attr("class","select"):$(o+" li[index=8] i").attr("class","select")}():$(o+" li[index=8] i").attr("class","select"),t.show()}function F(){clearInterval(a),l="",u=""}function O(){S&&S.browser&&(performanceInfo._hmt.push(["reportApiMess","feedback-stat","".concat(S.browser.name+S.browser.version),b]),-1!=I.indexOf("卡")&&performanceInfo._hmt.push(["reportApiMess","feedback-stat","".concat(S.browser.name+S.browser.version),999]))}d=i("Rm6e")({_list:C,_idx:x}),(t=new g({id:"feedback",title:"问题反馈",mask:!1,htmlText:d})).onHide=F,$(o+" ul"),n=$("#feedback-tip"),r=$(o+" input"),$(o+" li").click(R),$("#feedback-submit").click(L),r.bind("input",A),"1"==localStorage.needauthorFeedback&&(autoFeedbackInterval=setInterval(P,6e4)),this.show=U,this.hide=t.hide,this.autoGetLog=function(){b=10;var e=(I="sdk自动上报")+"+"+p.topsid+"+"+p.subsid;e+="+"+p.videoLine;var t={site:1,type:b,error_text:e},i=JSON.stringify(t);B(),p.getGuid(),y("flash_feedback_20141105_"+i),M("自动上报",e,D)},this.onHuYaUdbNotify=function(e){var t=e.sMsg;if(101==e.eNotifyType){var i=f.unescapeHTML(t);m.log("onHuYaUdbNotify msg",i);try{var n=JSON.parse(i).details,r=n.fbId;if("1"!=n.deviceType)return;r&&D(r)}catch(e){m.log("onHuYaUdbNotify error",e)}}},this.showFeedbackByExt=function(e){U(e)},Object.defineProperties(this,{isShow:{get:function(){return t.isShow}}})}},uEkN:function(e,t){var i=null,n={reqData:function(e,t){$.ajax({url:"//diy-front.cdn.huya.com/zt/frontpage/13/playerDiyConfig.html",type:"GET",dataType:"json",data:{}}).done((function(n){try{t((i=n)[e])}catch(e){console.warn("getPlayDiyConfig",e)}}))},getData:function(e,t){null==i?this.reqData(e,t):t(i[e])}};e.exports=n},uGsb:function(e,t,i){var n,r,a,o,s,c,l,u;e.exports=(u=i("Ib8C"),i("MlIO"),i("1uat"),r=(n=u).x64,a=r.Word,o=r.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l),u.SHA384)},uGxW:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("OLod"),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},uJ2z:function(e,t){e.exports=function(e,t){var i=e.G,n=e.utils,r=e.R,a=null,o=t.adReport;function s(){a&&(a.unbind(),a.remove(),a=null)}this.showDamuAD=function(t,c,l){var u=t.imageUrl,d=t.sdkConf,p=t.traceid,h=t.templateId,f=t.element;s();var m=n.unescapeHTML(d);if(null==a){a=$('<div class="player-danmu-ab"><img></div>');var v=i.makeHttpsUrl(u),g=a.find("img"),y=$("#player-wrap").width(),_=10*y/1233;a.css({transition:"transform ".concat(_,"s linear"),transform:"translateX("+y+"px)"}),$("#player-wrap").append(a),g[0].onload=function(){var e=a.width()+5;a.css({transform:"translateX("+-e+"px)"}),a.bind("transitionend webkitTransitionEnd",(function(){s()}))},g.attr("src",v)}e.trigger("showBarrageAD",t,c),setTimeout((function(e){o.reportPageView(e._sdkConf,e.env),o.reportElementPageView(e._sdkConf,e.env)}),n.getRandomValues()*l,{env:c,_sdkConf:m}),r.newHuyaReport({eid_desc:"系统/曝光/弹幕广告/直播间",eid:"sys/pageshow/barrage_ad/live",prop:JSON.stringify({elementid:f.elementId,templateid:h,traceid:p})})}}},uOoC:function(e,t){!function(e){var t=e(document).data("func",{});e.smartMenu=e.noop,e.fn.smartMenu=function(i,n){var r=e("body"),a={name:"",offsetX:2,offsetY:2,textLimit:6,beforeShow:e.noop,afterShow:e.noop},o=this,s=e.extend(a,n||{}),c=function(){var n="#smartMenu_",r="smart_menu_",a=e(n+s.name);return a.size()?a:(e("#videoContainer").append(function n(r){var a=r||i,o=r?Math.random().toString():s.name,c="",l="smart_menu_";return e.isArray(a)&&a.length&&(c='<div id="smartMenu_'+o+'" class="'+l+'box"><div class="'+l+'body"><ul class="'+l+'ul">',e.each(a,(function(i,r){i&&(c=c+'<li class="'+l+'li_separate">&nbsp;</li>'),e.isArray(r)&&e.each(r,(function(i,r){if(r){var a=r.text,o="",u="",d=Math.random().toString().replace(".","");if(a){a.length>s.textLimit&&(a=a.slice(0,s.textLimit)+"…",u=' title="'+r.text+'"'),o=e.isArray(r.data)&&r.data.length?'<li class="'+l+'li" data-hover="true">'+n(r.data)+'<a href="javascript:" class="'+l+'a"'+u+' data-key="'+d+'"><i class="'+l+'triangle"></i>'+a+"</a></li>":'<li class="'+l+'li"><a href="javascript:" class="'+l+'a"'+u+' data-key="'+d+'">'+a+"</a></li>",c+=o;var p=t.data("func");p[d]=r.func,t.data("func",p)}}}))})),c+="</ul></div></div>"),c}()),e(n+s.name+" a").bind("click",(function(){var i=e(this).attr("data-key"),n=t.data("func")[i];return e.isFunction(n)&&n.call(t.data("trigger")),e.smartMenu.hide(),!1})),e(n+s.name+" li").each((function(){var t=e(this).attr("data-hover"),i=r+"li_hover";e(this).hover((function(){var n=e(this).siblings("."+i);n.removeClass(i).children("."+r+"box").hide(),n.children("."+r+"a").removeClass(r+"a_hover"),t&&(e(this).addClass(i).children("."+r+"box").show(),e(this).children("."+r+"a").addClass(r+"a_hover"))}))})),e(n+s.name))};e(this).each((function(){this.oncontextmenu=function(i){if(e(i.target).parents(".smart_menu_box").length>0)return!1;if(e(i.target).parents(".danmu-item").length>0)return!1;e.isFunction(s.beforeShow)&&s.beforeShow.call(this),(i=i||window.event).cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),e.smartMenu.hide();t.scrollTop();var n=c(),r=e(this).offset(),a=e(i.target).offset(),l=i.offsetX+a.left-r.left,u=i.offsetY+a.top-r.top;if(n){var d=n.width(),p=n.height(),h=l+d,f=u+p,m=e(o).width(),v=e(o).height();return l=h>m?m-d:l,u=f>v?v-p:u,n.css({display:"block",left:l,top:u}),t.data("target",n),t.data("trigger",this),e.isFunction(s.afterShow)&&s.afterShow.call(this),!1}}})),r.data("bind")||r.bind("click",e.smartMenu.hide).data("bind",!0)},e.extend(e.smartMenu,{hide:function(){var e=t.data("target");e&&"block"===e.css("display")&&e.hide()},remove:function(){var e=t.data("target");e&&e.remove()}})}(jQuery)},uTf3:function(e,t,i){e.exports=function(e,t){var n,r,a,o=e.G,s=e.Event,c=e.utils,l=e.Console,u=e.taf,d=u.HUYA,p=u.Taf,h=u.AdxServer,f=null,m=null,v=null,g=null,y=null,_=null,w=null,S=0,b=!1,I="2019bbxjlsp",E=null,T=!0,k=30,C=!1,x=0,A=null,R=e.getADReport(),P=30,L=o.H5ROOT+"src/img/box/popup-box1.png",M=0,D=!1,B=null,N=null,U=!1,F=.5,O=null,H=0,G="",V="",W={},q=i("ZVwP"),j=q.Ad_Brand,z=q.Ad_Description,Y=q.Ad_ActionTxt,J=i("Tx78").creatAdQrcodeCard;function K(t){re(),e.box.hideBoxPanel(),r=t,l.log("宝箱广告",t);var u=t.sdkConf,d=t.imageUrl;m=c.unescapeHTML(u);try{N=JSON.parse(m)}catch(e){return console.log("宝箱 parse sdkConf error"),void s.fireEvent(s.SHOW_COMMON_TOAST,"广告数据异常，请稍后重试")}l.log("宝箱广告",t,N),O=e.huyaAD.getQrcodeInfo(r),H=O.mode,G=O.qrcodeTips,V=O.qrcodeUrl,W=e.huyaAD.setADEnv(r,W);var b,E=i("6n84")();if((f=$(E)).appendTo("#huya-ab"),f.css("cursor",1!=H?"pointer":"default"),function(){var t=r,n=t.adExtCommonInfo,a=t.videoUrl,o=new p.JceInputStream(n.buffer),c=new h.AdExtCommonInfo;c.readFrom(o),l.log("激励广告视频信息 adComInfo",c);var u=e.huyaAD.getVideoInfo(c);if(null==u){if(!a)return l.log("未获取到激励广告信息"),!1;u={videoUrl:a,isMp4:!0}}var d=Object.assign({},W,{playVersion:1});if(null==B){var f=i("vNGJ");B=new f(e,se,ce,le,ue,d)}else B.updateEnv(d);B.startPlay(u,r,m,0,"12"),e.vcore.volume=0,s.addEvent(s.VOLUME_CHANGE,he)}(),d){var T=o.makeHttpsUrl(d),P=f.find(".bg-img");P.attr("src",T),P.show()}f.find(".ab-logo").click(de),(y=f.find(".bottom-wrap")).click(me),f.click(ne),X(),v=f.find(".box-ab-close"),g=v.find("i"),v.click((function(e){if(c.stopPropagation(e),D||x>a||!n||k<=0)return oe(),void(k>0&&B&&B.onCloseReportVideo());!function(){B&&B.pause(),null==w&&((w=f.find(".popup-pannel")).find(".leave").click(oe),w.find(".goon").click(ve));var e=w.find(".reward"),t=n.mExArgs.value.keep,i=n.mExArgs.value.again_body,r=w.find("img");if(k>0){var a=n.mAward.value,o="再看".concat(k,"s可得");e.text(fe(o,a,"".concat(k,"s后领取奖励"))),r.attr("src",t||L)}else a=A.mTotalAward.value,o="恭喜获得",e.text(fe(o,a,"恭喜获得奖励")),r.attr("src",i||L);w.show()}()})),v.find(".small-logo").show(),function(){_=f.find(".banner-group");var e=r,t=e.iconUrl,i=e.actionTxt,n=e.title,a=e.brand;if(_.find(".title").text(a),_.find(".title").attr("title",a),_.find(".explain").text(n),_.find(".explain").attr("title",n),_.find(".details-btn2").text(i||Y),_.find(".banner-icon").attr("src",t),H>0)return;_.css("animation","box-ab-banner-show  0.5s  2s 1  forwards"),_.show()}(),pe(),function(){var e=r.actionTxt,t=f.find(".details-btn"),i="".concat(e||Y);H>0&&t.addClass("qrcode-style");t.find("span").html(i),clearTimeout(S),S=setTimeout((function(){t.hide()}),2e3)}(),R.reportPageView(m,W),b={slotcode:I,style:"bigarea"},e.huyaAD.huyaReportShow(r,b),function(){if(0==H)return;var t=J(e,f,r,O);f.find(".popup-pannel").before(t)}(),C=!0,s.fireEvent("closeCurrentAd"),Z(),$("#player-wrap").resize(Z)}function Z(){var e=$("#player-video").width(),t=$("#player-video").height(),i=f.width(),n=f.height();f.css({left:(e-i)/2,top:(t-n)/2})}function X(){f.find(".next-reward").text("".concat(n.sAwardDesc,">"))}function Q(t){var i=new d.GetADTaskReq;i.tId=o.userId,i.iBusiness=1,i.sTaskId=E.mpExtend.value.sADTaskId,i.iOpType=T?2:1,i.iRoundLoopStart=M,e.sendWup2("wupui","getADTask",i,(function(e){var i=n=e,r=i.iRound,o=i.iRoundMax;x=r,a=o,T&&(M=r),t&&t()}))}function ee(){if(!U){var i=new d.AwardADTaskReq;i.tId=o.userId,i.iBusiness=1,i.sTaskId=E.mpExtend.value.sADTaskId,i.iOpType=T?2:1,i.sADuuid=r.id,i.iRoundLoopStart=x,U=!0;var n=setTimeout((function(){U=!1}),2e3);e.sendWup2("wupui","awardADTask",i,(function(e){clearTimeout(n);var i=e.iCode,r=e.sMsg,o=e.iRound,c=e.iRoundMax;if(0!=i)return s.fireEvent(s.SHOW_COMMON_TOAST,r),v.find("i").html(r),void(D=!0);D=!1,x=o,a=c,T=!1;var l=(A=e).mAward.value;v.find("i").text(fe("已获得",l,"已获得奖励")),x<a?Q((function(){X(),y.css("display","flex")})):t()}))}}function te(){var t=E.mpExtend.value.slotCode||I;l.log("激励宝箱广告 slotcode",t),e.huyaAD.getAdInfo(t,1,{innerSecondQuery:"0"}).then((function(e){if(l.log("激励宝箱广告",e),e&&200==e.code&&e.data&&e.data.value.length){var t=e.data.value[0].ads.value;if(t.length>0)return void K(t[0])}ie()})).catch((function(e){l.log("激励宝箱广告",e),ie()}))}function ie(){e.box.showToast("暂无可播放视频，请稍后再试"),s.fireEvent(s.SHOW_COMMON_TOAST,"暂无可播放视频，请稍后再试"),C=!1}function ne(t){if(1!==H){c.stopPropagation(t),R.reportClick(m,W),e.huyaAD.openAdUrl(r,N,!1);var i={slotcode:I,style:"bigarea",area:"body",url:N.landingUrl};e.huyaAD.huyaReportClick(r,i)}}function re(){f&&(f.remove(),f.unbind(),f=null),B&&B.clear(),clearTimeout(S),s.removeEvent(s.VOLUME_CHANGE,he),$("#player-wrap").unbind("resize",Z),C=!1,v=null,g=null,y=null,_=null,w=null,T=!0,D=!1,U=!1}function ae(){e.vcore.volume=o.volume}function oe(t){c.stopPropagation(t);var i,n=k>0?{}:{quit:2};n=Object.assign({},W,n),R.reportClose(m,n),ae(),i={slotcode:I,style:"bigarea",close_type:"close"},e.huyaAD.huyaReportClose(r,i),re()}function se(e,t){var i=f.find("#box-ab");i.find(".ab-video").remove();var n=t||e;$(n).attr("class","ab-video"),i.append(n)}function ce(e,t){var i=Math.floor(t),r=Math.floor(e),a=(i=Math.min(i,P))-r;if((k=a)<=0)ee();else{var o=n.mAward.value;g&&(g.show(),g.text(fe("".concat(a,"s后领取奖励："),o,"".concat(a,"s后领取奖励"))))}}function le(){k=0,ee(),ae(),function(){if(f.addClass("video-end-mode"),H>0){_.hide();var t=i("A+Wi")();banner=$(t),banner.appendTo(f);var n=r,a=n.brand,o=n.iconUrl,s=n.description;banner.find(".banner-image").attr("src",o),banner.find(".title").text(a||j),banner.find(".explain").text(s||z);var c=e.huyaAD.createQrcode(134,V);if(banner.find(".ab-qr-code-container .ab-qr-code").append(c),banner.find(".ab-qr-code-desc").text(G),2==H){banner.addClass("qrcode-mode2");var l=r.actionTxt;banner.find(".ab-common-details-btn span").text("".concat(l||Y))}}}()}function ue(){b=!0,pe()}function de(e){c.stopPropagation(e),b=!b,pe()}function pe(){var e=f.find("#sound");e.removeClass("sound-close"),b&&e.addClass("sound-close"),he()}function he(){i("uEkN").getData("boxAdVolume",(function(e){l.log("boxAdVolume:",o.volume,e);var t=e||F;if(B){var i=o.volume/100*t;b&&(i=0),B&&B.setVolume(i)}}))}function fe(e,t,i){var n={4:"虎粮",8:"银豆",2001001:"积分",2001002:"经验"},r=[];for(var a in t){var o=a;if(!n[o])return i;r.push("".concat(n[o],"*").concat(t[a]))}return 0==r.length?i:e+=r.join("、")}function me(e){e&&c.stopPropagation(e),te()}function ve(e){c.stopPropagation(e),w.hide(),k>0?B&&B.play("12"):me()}this.setData=function(e){C||(l.log("boxData",e),E=e,Q((function(){te()})))}}},uV0n:function(e,t,i){e.exports=function(e,t){var n,r,a=t.G,o=t.Event,s=t.ENV,c=t.utils,l=t.ISDEBUG,u=t.Console,d=t.taf.HUYA,p=null,h=null,f=null,m=!1,v=0,g=["","流光","流光","大礼物特效"],y=i("AAUK"),_=i("leE4"),w=i("DSMG"),S=20543,b=null,I=!1,E=!1,T=null,k=null,C=null,x=null,A=i("pVfA").getPropTipInfoByItem;n=i("vhM9")(),(r=e.getLayer()).append(n),(p=r.find("#player-gift-tip")).mouseleave((function(e){e&&($(e.toElement||e.relatedTarget).hasClass("player-face-gift")||$(e.toElement||e.relatedTarget).parents(".player-face-gift").length)||B()})),p.on("mousewheel",(function(e){e.preventDefault()})),p.find("li.btn").click(U),p.find(".send").click(O),p.find(".super-fans-gift i").click(se),p.find(".super-fans-gift-arrow").click(se),p.find(".motorcade-gather-link").click(he),k=p.find(".make-friend-people-switch"),h=new y(p.find(".send")),$(".make-friend-subscribe").click(re),$(".make-friend-unsubscribe").click(re),o.addEvent("onSendChongYa",P),o.addEvent("seriesGiftItemChange",L);var R=0;function P(){clearTimeout(R),R=setTimeout((function(){ae()}),1e3)}function L(t){var i=t.itemType;u.log("seriesGiftItemChange",i);var n=a.newPropDict[i];if(a.curSeriesGiftType=i,n){var r=e.getIconUrl(n);x&&x.find(".player-face-icon").attr("src",r),G(n),$(".gift-tip-series-gift").css("bottom",p.outerHeight()-8+"px")}}function M(){if(a.curSeriesGiftType&&(a.curSeriesGiftType=0,x)){var t=x.attr("propsId"),i=a.newPropDict[t],n=e.getIconUrl(i);x.find(".player-face-icon").attr("src",n)}}var D=0;function B(){var e=(new Date).getTime();v>0&&e-v<50||(clearTimeout(D),D=setTimeout(N,20))}function N(){m=!1,v=0,p&&p.css("transform","scale(0)"),M()}function U(e){v=(new Date).getTime(),F(e.currentTarget)}function F(e){if(f!=e){f&&$(f).removeClass("num-select"),f=e,$(f).addClass("num-select");var t=p.attr("propsId"),i=$(f).find("span").text();i=i.replace("x","");var n=parseInt(i);h.setNum(t,n)}}function O(t){if(v=(new Date).getTime(),c.stopPropagation(t),!_.isLock(t.currentTarget)){_.lock(t.currentTarget);var i=$(t.currentTarget);i.addClass("shake"),setTimeout((function(){i.removeClass("shake")}),500);var n=a.curSeriesGiftType||p.attr("propsId"),r=p.attr("iPropsPermission");if(n!=S){var s=V();if(1!=r||s.isSuperFans){if(a.isLogin){var l=parseInt($(f).find("span").text())||1;H(n,l)}e.sendGift(n,l)}else o.fireEvent(o.SHOW_OPEN_SUPER_FANS)}else de()}}function H(e,t){t>=a.newPropDict[e].iPropsGroupNum?h.setCombo(e,t):h.clearCombo(e),h.setNum(e,parseInt($(f).find("span").text()))}function G(t){var i=t.sPropsName;i+=" <span>(";var n=(.01*t.iPropsYb).toFixed(2);i+=parseFloat(n)+"虎牙币",t.iPropsWhiteBean>0&&(i+="/"+t.iPropsWhiteBean+"银豆"),i+=")</span>",t.iPropsId==S&&(i=t.sPropsName),p.find(".txt h3").html(i),p.find(".txt .desc")[0].innerHTML=t.vPropView.sPropsToolTip;var r=p.find(".txt .support"),a=e.getSupport().getSupportTip();""!=a?(r[0].innerHTML=a,r.show()):r.hide();var o=p.find("#week-star");o.attr("class","week-star"),o.css("display",e.hasStar(t.iPropsId)?"block":"none");var s=t.vWebSpecilInfo.value[0].vPropsIdentity.value[0].iStreamerFrameRate,l=t.vWebSpecilInfo.value[0].vPropsIdentity.value[0].sPropStreamerResource,u="",d=p.find(".gif #tip-icon-aini");d.removeClass(),d.css("background",""),l?(u=l,function(e,t,i,n){var r=i>10?24:10,a=1e3*Math.round(i/r);!function(e){var t=e.id;if(!j[t]){e.name="gift_tip_icon"+t;var i="";if(!c.supportsStyle("animation",(function(e){e&&(i="-"+e.toLowerCase()+"-")})))return;e.pfx=i;var n=c.cssAnimation(e,!0);c.createTag(e.name).html(n).appendTo("head"),j[t]=e}e.elm.addClass("animation-"+j[t].name)}({id:e,width:60,steps:i,elm:t,bgImg:n,duration:a})}(t.iPropsId,d,s,u)):(u=e.getGifIconUrl(t),d.css("background","url("+u+")  no-repeat"));var h=[];t.tSpecialInfo.iAmbilightNum>0&&(t.tSpecialInfo.iAmbilightNum<=1?h.push("赠送<span>"+t.tSpecialInfo.iAmbilightNum+"个</span>触发"+g[t.tSpecialInfo.iShowType]):h.push("赠送满<span>"+t.tSpecialInfo.iAmbilightNum+"个</span>触发"+g[t.tSpecialInfo.iShowType])),t.tSpecialInfo.iWorldBannerNum>0&&(t.tSpecialInfo.iWorldBannerNum<=1?h.push("赠送<span>"+t.tSpecialInfo.iWorldBannerNum+"个</span>触发世界横幅"):h.push("赠送满<span>"+t.tSpecialInfo.iWorldBannerNum+"个</span>触发世界横幅")),$("#player-gift-tip").css("height","auto"),p.find(".bottom").removeClass("bottom-giftbox"),h.length?(p.find(".eff em").html(h.join("<br/>")),p.find(".eff").data("valid",!0),p.find(".eff").show()):(p.find(".eff").data("valid",!1),p.find(".eff").hide())}function V(){var e=a.isSuperFans,i=a.superFanstime;if(z&&t.superFans){var n=t.superFans.getSuperFansInfoByUid(z);e=n.isSuperFans,i=n.superFanstime}return{isSuperFans:e,superFanstime:i}}function W(e){if(E){var t="",i=V();i&&1==i.isSuperFans?(t=(t=(t="您已是{0}的超级粉丝{1}").replace("{0}","<span>"+c.setLongString(e,4)+"</span>")).replace("{1}","<span>"+i.superFanstime+"</span>"),p.find(".super-fans-gift p").html(t),p.find(".super-fans-gift i").text("续费")):(t=20317==T.iPropsId?"开通超级粉丝即可送出！":"仅超级粉丝可以送出",p.find(".super-fans-gift p").html(t),p.find(".super-fans-gift i").text("立即开通"))}}function q(e,t){return e.iPropsGreenBean*t>a.onceLimitGreenBean}var j={};var z=0,Y=null,J="",K=0,Z=0,X=0,Q={};function ee(e){a.curSendGiftData=e;var t=$("#make-friend-cur-people"),i=t.find(".mic-name");e.avatarUrl&&J!=e.avatarUrl&&(J=e.avatarUrl,t.find("img").attr("src",e.avatarUrl)),i.removeClass("mic-name-color mic-name-color2"),-1==e.pos?i.addClass("mic-name-color"):i.addClass("mic-name-color2");var n=e.tag;i.text(n);var r=c.setLongString(e.nick,7);r=c.unescapeHTML(r),t.find("p:nth-of-type(2)").text(r)}function te(){var e=$(".make-friend-people-list");e.empty();for(var t=0;t<a.makeFriendData.length;t++){var i=a.makeFriendData[t];if(0!=i.uid){var n=$('<li><img src=""><div class="mic-name"></div><p></p></li>');n.find("img").attr("src",i.avatarUrl),n.find(".mic-name").removeClass("mic-name-color mic-name-color2"),-1==i.pos?n.find(".mic-name").addClass("mic-name-color"):n.find(".mic-name").addClass("mic-name-color2");var r=i.tag;n.find(".mic-name").text(r);var o=c.unescapeHTML(i.nick);n.find("p").text(o),n.attr(i),n.appendTo(e)}}k.css({height:10+36*a.makeFriendData.length}),k.show(),$(".make-friend-gift-arrow").css("transform","rotate(0deg)"),$(".make-friend-people-list li").click((function(e){!function(e){var t=$(e).attr("pos"),i=$(e).attr("uid"),n=$(e).attr("nick"),r=$(e).attr("avatarUrl"),o=$(e).attr("tag"),s={pos:t,uid:i,nick:n,avatarUrl:r,tag:o};if(ee(s),z=s.uid,a.curSendUid=z,Q[z]){ne(Q[z].status)}else ae();W(n)}(e.currentTarget),lastSendTime=(new Date).getTime()}))}function ie(){var e=(new Date).getTime();K>0&&e-K<200||(K=0,k.hide(),$(".make-friend-gift-arrow").css("transform","rotate(180deg)"))}function ne(e){X=e,1==e?($(".make-friend-subscribe").hide(),$(".make-friend-unsubscribe").show()):($(".make-friend-subscribe").show(),$(".make-friend-unsubscribe").hide())}function re(){if(a.isLogin){if(a.followList){var e=Date.now();e-Z<500||(Z=e,0==X?a.followList.get(z).on():a.followList.get(z).off())}}else a.vplayerUI.popLogin()}function ae(){var e=new d.SubscribeStatusReq;e.tId=a.userId,e.tFrom.iType=1,e.tFrom.sKey=a.yyuid,e.tTo.iType=2,e.tTo.sKey=z,a.vplayerUI.sendWup2("liveui","getSubscribeStatus",e,oe)}function oe(e){var t=e.iStatus;if(Q[z]={status:t},ne(t),a.followList){var i=a.followList.add(a.yyuid,z,(function(){var e=i.target,t=1==i.state?1:0;Q[e]&&(Q[e]={status:t}),e==z&&ne(t)}));a.presenterUid!=z&&(1==t?i._on():i._off())}}function se(){var e=a.curSendUid&&a.curSendUid!=a.presenterUid?a.curSendUid:0;a.vplayer.trigger("clickSuperFansRecharge",e)}var ce=0;function le(e){var i=(new Date).getTime();if(e||!(i-ce<2e3)){ce=i;var n=new d.GetMotorcadeGatheringTipsReq;n.tId=a.userId,n.lPid=a.presenterUid,t.sendWup2("wupui","getMotorcadeGatheringTips",n,ue)}}function ue(e){var t=e.iRetCode,i=e.sMotorcadeName,n=e.iRemainCount,r=e.iTotalCount;if(b=e,0==t){p.find(".motorcade-gather-gift-content p ").text(i);var a="今日剩余：".concat(n,"/").concat(r);p.find(".motorcade-gather-gift-content i ").text(a)}}function de(){var e=new d.GatherMotorcadeReq;e.tId=a.userId,e.lPid=a.presenterUid,t.sendWup2("wupui","gatherMotorcade",e,pe)}function pe(e){var t=e.iRetCode,i=e.sErrMsg;0==t?le(!0):o.fireEvent(o.SHOW_COMMON_TOAST,i)}function he(){if(null!=b){var e=b.lMotorcadeId;if(e){var t=l?"kifezyx7":"gqtsidf1",i="motorcadeId=".concat(e);a.vplayer.trigger("openHyExt",{id:t,param:i})}}}this.show=function(i){clearTimeout(D);var n=$(i),r=n.attr("propsId");if(!m||p.attr("propsId")!=r){var l=n.attr("iPropsPermission"),u=a.newPropDict[r];T=u,M(),x=n,m=!0,p.show(),p.find(".txt h3").removeAttr("style"),p.find(".txt h2").removeAttr("style"),p.attr("propsId",r),p.attr("iPropsPermission",l),function(i){G(i);var n=p.find(".super-fans-gift"),r=p.find(".motorcade-gather-gift"),l=p.find(".gift-tip-diy-banner");if(n.hide(),r.hide(),l.hide(),C&&C.clear(),p.removeClass("motorcade-gathering-gift-mode has-make-friend-switch"),p.find(".send").text("赠送"),I=!1,E=!1,i.iPropsId==S)r.show(),p.addClass("motorcade-gathering-gift-mode"),p.find(".send").html("召集"),le();else if(1==i.iPropsPermission)n.show(),E=!0,W(s.pnick),a.makeFriendData.length>1&&p.addClass("has-make-friend-switch");else{var u=function(e){var t=a.giftTipInfo;if(!t)return null;var i=t.vTipsInfo.value;for(var n in i=i.sort(c.sortCompare("iWeight"))){var r=i[n],o=r.vItemType.value,s=r.sImageUrl,l=r.sJumpUrl,u=r.iDuration,d=r.sWebJumpUrl,p=r.sWebImgUrl,h=r.iWebJumpType;for(var f in o)if(o[f]==e&&p)return{sImageUrl:s,sJumpUrl:l,iDuration:u,sWebJumpUrl:d,sWebImgUrl:p,iWebJumpType:h}}}(i.iPropsId);if(u){var d=u.sWebJumpUrl,h=u.sWebImgUrl,f=u.iWebJumpType,m={width:p.outerWidth(),cursor:d||f?"pointer":"auto"};l.find("img").attr("src",h),l.css(m),l.show(),l.unbind(),l.click((function(){o.fireEvent(o.HY_ACTION,{type:f,url:d})})),I=!0}else A(t,i).then((function(i){var n=i.propsId,r=i.propsInfo,a=p.attr("propsId");a==n&&(null==C&&(C=new w(t,e,p)),C.setData(r,a))}))}}(u),function(t){var i=t.vPropsNum.value.length;f=null;var n,r,a=p.find("li.btn");if(t.iPropsId==S)return;var o=h.getInfo();if(i){for(var s=!1,c=0;c<6;c++)if((n=$(a[c])).removeClass("num-select"),c<i){r=t.vPropsNum.value[c].split(":");var l=parseInt(r[0]);if(n.find("span").text(l),q(t,l)&&c>0){n.hide();continue}n.show(),o.num&&o.propsId==t.iPropsId&&o.num==parseInt(r[0])&&(s=!0,F(n[0]),h.setNum(t.iPropsId,parseInt(r[0])))}else n.hide();i&&!s&&(n=a.eq(0))[0]&&(r=t.vPropsNum.value[0].split(":"),F(n[0]),h.setNum(t.iPropsId,parseInt(r[0])))}else h.setNum(t.iPropsId,1);""==e.getSupport().getSupportTip()&&i>0?p.find(".eff").data("valid")&&p.find(".eff").show():p.find(".eff").hide()}(u),function(){if(!a.isMakeFriend&&!a.isParty)return;if(a.makeFriendData.length<=1)return;$(".make-friend-gift").show(),$(".make-friend-line").show(),$("#player-gift-tip").css("padding","12px 11px 11px 11px"),Y=function(){for(var e=0;e<a.makeFriendData.length;e++)if(a.makeFriendData[e].uid==z)return a.makeFriendData[e];return null}(),0!=z&&Y?z=Y.uid:(z=a.makeFriendData[0].uid,Y=a.makeFriendData[0],$(".make-friend-cur-people-group").hover(te,ie));if(a.curSendUid=z,ee(Y),Q[z]){ne(Q[z].status)}else ae();W(Y.nick)}(),function(e,t){var i=e.vPropsNum.value.length;p.find(".arrow").removeClass("arrow2"),i>0?(p.find(".bottom").show(),p.find(".single-send-wrap").hide(),p.find(".arrow").hasClass("arrow1")||p.find(".arrow").addClass("arrow1"),p.find(".send").show(),p.find(".btns").show()):(p.find(".bottom").hide(),p.find(".btns").hide(),p.find(".single-send-wrap").show(),p.find(".arrow").removeClass("arrow1"));e.iPropsId==S&&(p.find(".bottom").show(),p.find(".arrow").hasClass("arrow1")||p.find(".arrow").addClass("arrow1"),$(".make-friend-gift").hide(),$(".make-friend-line").hide());var n=$(s.idDom),r=n.offset().left,o=r+n.width(),c=t.offset().left,l=t.width(),u=p.outerWidth(),d=u>>1,h=t[0].offsetLeft,f=0;i>0&&(d=u-81);var m,v=d,g=c+(l>>1);g-d<r?(h+=f=r-(g-d),v-=f):g+(u-d)>o&&(h-=f=g+(u-d)-o+4,v+=f);if(t.hasClass("gift-panel-item")){m=$(".panel-current-page-gift"),$(".player-all-gift-panel").append(p);var y=$(".panel-current-page-gift").height()-t.position().top+10;p.css({bottom:y}),h+=m.position().left-(u-t.width())/2-(i>0?92:0)+18,a.sendGiftFromPanel=!0}else m=$(".player-face-list"),$("#player-face").append(p),p.css("bottom","60px"),h+=m.position().left-(u-t.width())/2-(i>0?92:0),a.sendGiftFromPanel=!1;p.css({left:h+"px"}),p.find(".arrow").css({left:v+"px"}),p.css("transform-origin",v+"px "+p.outerHeight()+"px"),p.css("transform","scale(1)"),1==e.iPropsPermission&&p.find(".super-fans-gift").css("bottom",p.outerHeight()-8+"px");I&&p.find(".gift-tip-diy-banner").css("bottom",p.outerHeight()-8+"px")}(u,n)}},this.hide=B,this.setCombo=H,this.clear=function(){p&&(p.unbind(),p.remove(),p=null),h&&(h.clearCombo(),h=null),o.removeEvent("onSendChongYa",P)},this.gatherMotorcade=de,this.setLastSendTime=function(e){v=e},this.clearCombo=function(){h.clearCombo()}}},uiwr:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="match-replay-bg"></div>\n<div class="thermodynamic-container">\n    <canvas id="match-replay-thermodynamic"></canvas>\n</div>\n<div class="match-replay-bar"></div>\n<div class="match-replay-btn">\n    <div class="btn-circle"></div>\n    <div class="match-replay-btn-border"></div>\n</div>\n\n<div class="hover-flag"></div>\n<div id="match-replay-item-container"></div>\n<div id="match-replay-thumbnail">\n     <div class="thumbnail-container"></div>\n     <div class="desc"></div>\n</div>\n\n',__filename="src/tpl/matchreplay/match-replay-wrap.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="match-replay-bg"></div>\n<div class="thermodynamic-container">\n    <canvas id="match-replay-thermodynamic"></canvas>\n</div>\n<div class="match-replay-bar"></div>\n<div class="match-replay-btn">\n    <div class="btn-circle"></div>\n    <div class="match-replay-btn-border"></div>\n</div>\n\n<div class="hover-flag"></div>\n<div id="match-replay-item-container"></div>\n<div id="match-replay-thumbnail">\n     <div class="thumbnail-container"></div>\n     <div class="desc"></div>\n</div>\n\n'),__line=18;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ukce:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-marquee-box-reward" id=\'player-marquee-<%=id%>\'>\n    <img class="bg-left"></img>\n    <img class="bg-right"></img>\n    <div class="bg-center"></div>\n    <h3></h3>\n</div>\n',__filename="src/tpl/notice/marquee-box-reward.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-marquee-box-reward" id=\'player-marquee-'),__append(escapeFn(id)),__append('\'>\n    <img class="bg-left"></img>\n    <img class="bg-right"></img>\n    <div class="bg-center"></div>\n    <h3></h3>\n</div>\n'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},uqO8:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.utils,a=e.Console,o=e.alert,s=e.Event,c=e.R,l=e.taf.HUYA,u=null,d=[],p=null,h=0,f=null,m=6,v=0,g={},y=l.ELiveBoxResourceType.ELIVE_BOX_RESOURCE_GROWTH_TIMING,_=105,w=null,S=null,b=null,I=null,E=this;this.setData=function(r,o,s){a.log("boxListData",o),u=r;var l=o.sTitle,f=o.vBox.value;a.log("BoxItemListData",o),u.find(".box-item-wrap .box-wrap-tittle").text(l),p=u.find("#box-item-list"),v=0,m=0,d=[],p.unbind(),p.empty(),clearInterval(h);for(var g=f.length,w=!1,k=0;k<g;k++){var C=f[k],A=C.iTimeWait,L=C.iStatus,M=C.iId,D=C.iResourceType,B=C.iBizType,U=D==y?M:B,F=i("GLp0")({index:U}),H=$(F),G=102==B;if(""==T&&(T=C.tTemplate.sTimingImage),G){if(!C.mpExtend.value.sADTaskId||0!=L&&2!=L)continue;b=C,S=H,N(1),R(H,b)}else if(B==_){var V=i("n6Uf");(I=new V(e,E,t)).setData(H,C)}if(p.append(H),H.data("data",C),7==D&&(x(H,L,C),d.push(A)),1==L&&(w=!0),s&&2!=L&&3!=L){var W={status:G?1:2,source:"live",ua:"web",box_id:M,box_type:D};c.newHuyaReport({eid_desc:"系统/展示/任务中心/百宝箱",eid:"sys/pageshow/gift-receive/taskcenter",prop:JSON.stringify(W)},"huya_web")}}w&&O();n.hasVideo&&P()},this.setItemStatusView=A;var T="";function k(){P()}function C(){clearInterval(h)}function x(e,t,i){0==t?(0==m&&(m=i.iId),B(e,i.tTemplate.sTimingImage)):1!=t&&2!=t&&3!=t||A(t,e,i)}function A(e,t,i){var r=t.find("p");if(r.removeClass(),0==e)r.addClass("timing"),B(t,i.tTemplate.sTimingImage);else if(1==e)r.addClass("finished"),r.text("领取"),r.click(D),r.data("data",i),B(t,i.tTemplate.sFinishImage);else if(2==e)r.text("已领取"),B(t,i.tTemplate.sReceiveImage),t.addClass("rewarded"),function(e,t){var i=t.vAward.value;if(i.length>0){var n=i[0],r=n.iCount,a=n.sIcon;e.find(".reward-icon").attr("src",a),e.find(".reward-text").text("+".concat(r))}}(t,i);else if(3==e){B(t,n.H5ROOT+"src/img/box/reward-fail-box.png"),r.text(""),r.addClass("failed")}else 4==e&&B(t,i.tTemplate.sTimingImage);R(t,i)}function R(e,t){var i=t.tTemplate.sTagIcon;if(i){var n=e.find(".tag");n.attr("src",i),n.show()}}function P(){if(m<1||m>6)m=6;else{var e=p.find(".box-item[index=".concat(m,"]")),t=e.data("data");A(0,e,t),f=e.find("p");var i=d[m-1];v=g&&g.cdIndex==m&&g.cdTime>0?g.cdTime:i||600,clearInterval(h),h=setInterval(L,1e3),M()}}function L(){if(v<=0)return clearInterval(h),void setTimeout((function(){var t,i;t=m,i=y,e.box.finishLiveBox(t,i).then((function(t){var i=t.iBoxStatus;if(0==t.bcode){var n=p.find(".box-item[index=".concat(m,"]")),r=n.data("data");A(i,n,r),m++,P(),O(!0)}else e.box.getLiveBoxPage()}))}),1e3);v--,M()}function M(){var e=r.formatTime(v);f.text(e),g={cdIndex:m,cdTime:v}}function D(i){var n=i.currentTarget,r=$(n).data("data"),a=r.iId,s=r.iResourceType;r.iBizType==_?I.awardLiveBox():function(i,n){e.box.awardLiveBox(i,n).then((function(r){var a=r.sMessage,s=r.bcode,l={result:0==s?1:0,status:2,source:"live",ua:"web",box_id:i,box_type:n};if(c.newHuyaReport({eid_desc:"用户/点击/任务中心/百宝箱/领取百宝箱奖励",eid:"usr/click/gift-receive/taskcenter",prop:JSON.stringify(l)},"huya_web"),927!=s){if(0!=s)return a&&o.show({msg:a,type:2,btnLabel:"知道了"}),void e.box.getLiveBoxPage();var u=p.find(".box-item[index=".concat(i,"]")),d=u.data("data"),h=r.vAward.value;d.vAward.value=h,0==h.length?A(3,u,d):A(2,u,d),t&&t.updateJfText()}else e.box.showBindPhone(a)}))}(a,s)}function B(e,t){e.find(".item-bg img").attr("src",t)}function N(e){var t=S.find("p");2==e?(t.removeClass(),t.text("已领完"),t.addClass("failed"),B(S,b.tTemplate.sReceiveImage)):(t.text("领取"),t.addClass("finished"),t.click(U),B(S,b.tTemplate.sFinishImage))}function U(){if(null==w){var t=i("uTf3");w=new t(e,F)}w.setData(b);var r=b,a={result:1,status:1,source:"live",ua:"web",box_id:r.iId,box_type:r.iResourceType};c.newHuyaReport({eid_desc:"用户/点击/任务中心/百宝箱/领取百宝箱奖励",eid:"usr/click/gift-receive/taskcenter",prop:JSON.stringify(a)},"huya_web"),n.adBlock&&e.box.showToast("请关掉广告拦截插件后再查看领取哦~")}function F(){N(2)}function O(t){e.box.showTip(t)}s.addEvent(s.VIDEO_PLAY,k),s.addEvent(s.VIDEO_STOP,C),this.getBoxIconUrl=function(){return T}}},urlq:function(e,t,i){e.exports=function(e){var t,n,r,a,o,s,c,l=0,u=!0,d=0,p=0,h=null,f=!1,m=null,v=[],g=!1,y=e.G,_=e.R,w=e.Console,S=e.ENV,b=e.utils,I=e.taf.HUYA,E=!1;function T(){return 198*parseInt(t.outerWidth()/198)}function k(e,t){M(),f&&(s=t.video,$(s).attr("id","live-remend-video"),s.autoplay=!0,c.append(s))}var C=0;function x(){var t=new I.LiveShareRankReq;t.tId=y.userId,t.iGameId=S.gameId,t.iFromType=1,t.vExposedPids.value=v,t.lHostUid=y.presenterUid,e.sendWup2("mobileui","getWBAudienceShare",t,A)}function A(e){var s=(new Date).toLocaleDateString(),c=localStorage.liveCardTime?JSON.parse(localStorage.liveCardTime):{date:s,time:0};c.date==s?c.time=c.time+1:c={date:s,time:0},localStorage.liveCardTime=JSON.stringify(c),m=e.mpPreview.value,function(e){for(var t=0;t<e.vLives.value.length;t++){var i=e.vLives.value[t],n=i.tGameLiveInfo.iAttendeeCount;i.tGameLiveInfo.iAttendeeCount=H(n)}}(e),function(e){var t=e.vLives.value;v=[];for(var i=0;i<t.length;i++){var n=t[i].tGameLiveInfo.lUid;v.push(n)}}(e);var h=i("OrXy")({vLives:e.vLives,utils:b});t&&(t.remove(),clearInterval(p)),t=$(h),n=t.find(".plrc-wrap"),r=t.find("#player-live-recommend-card-leftBtn"),a=t.find("#player-live-recommend-card-rightBtn"),t.hover(D,B),$("#player-ctrl-wrap").prepend(t),o=n.outerWidth(),u=!1,l=0,G(),$(".jqAnchor").hover(P,L),_.huyuReport("liverecommend/show/roomlist"),_.huyuReport("liverecommend/show/roomlist/",null,y.presenterUid),d=10,clearInterval(p),p=setInterval(N,1e3),N(),g=!0,setTimeout((function(){g=!1}),1e4)}window.getWBAudienceShare=x;var R=0;function P(e){f=!0;var t=e.currentTarget;c=$(t),clearTimeout(R);var i=$(this).data("luid");R=setTimeout((function(){!function(e){if(f){null==h&&((h=new H5Player).setVolume(0),h.on(H5Player.Events.VIDEO_PLAY,k));var t=m[e];if(w.log("hlsurl",t),t){var i={type:H5Player.HLS,url:t,isLive:!1};h.start(i)}}}(i)}),500),_.huyuReport("liverecommend/hover/roomlist/room"),_.huyuReport("liverecommend/hover/roomlist/room/",null,i)}function L(e){f=!1,clearTimeout(R),M()}function M(){s&&(s.src="",$(s).remove())}function D(){clearInterval(p),t.find("#player-live-recommend-card-countdown-number").text("")}function B(){}function N(){t.find("#player-live-recommend-card-countdown-number").text(d+"s"),(d-=1)<0&&O()}function U(e){$("#player-video").width();e=Math.min(0,Math.max(t.outerWidth()-n.outerWidth(),e)),l=e,n.css("transform","translateX("+e+"px)")}function F(){t.hide()}function O(){u=!0,clearInterval(p),clearTimeout(R),M(),F()}function H(e){var t="",i=e/1e4;return i>1&&(t+=i.toFixed(1)+"万"),t||(t=e),t}function G(){if(t&&!u){var e=$("#player-video").width(),i=Math.min(o,e);if(e>999999)F();else{i>=o?(r.hide(),a.hide()):(r.show(),a.show()),t.width(e),t.css("left",($("#player-video").width()-t.outerWidth())/2),U(l),u||t.show();var n=t.find(".live-card-viewers");if(n.length>0)for(var s=0;s<n.length;s++){var c=n[s],d=$(c).find("span").width()+20;$(c).css("margin-left",170-d)}}}}this.onMatchEndNotice=function(e){E||($("#player-video").resize(G),$("body").on("click",".player-live-recommend-card-countdown",(function(e){if(_.huyuReport("liverecommend/click/autoclose/close"),_.huyuReport("liverecommend/click/autoclose/close/",null,y.presenterUid),g){localStorage.liveRecommendClose=(new Date).toLocaleDateString();var t=(new Date).getTime();localStorage.liveRecommendTime1&&localStorage.liveRecommendTime2?(localStorage.liveRecommendTime1=t,delete localStorage.liveRecommendTime2):localStorage.liveRecommendTime1&&t-localStorage.liveRecommendTime1<864e5?localStorage.liveRecommendTime2=t:localStorage.liveRecommendTime1=t}O()})).on("click","#player-live-recommend-card-leftBtn",(function(e){U(l+T()),_.huyuReport("liverecommend/click/left"),_.huyuReport("liverecommend/click/left/",null,y.presenterUid)})).on("click","#player-live-recommend-card-rightBtn",(function(e){U(l-T()),_.huyuReport("liverecommend/click/right"),_.huyuReport("liverecommend/click/right/",null,y.presenterUid)})).on("click",".jqAnchor",(function(e){var t=$(this).data("lyyid"),i=$(this).data("iroomid"),n=$(this).data("luid"),r=location.protocol+"//"+location.host+"/yy/"+t;i&&(r=location.protocol+"//"+location.host+"/"+i),_.huyuReport("liverecommend/click/roomlist/room"),_.huyuReport("liverecommend/click/roomlist/room/",null,n),window.open(r)})),E=!0);var t=(new Date).toLocaleDateString();if(localStorage.liveRecommendClose!=t&&u){var i=(new Date).getTime();if(!(localStorage.liveRecommendTime1&&localStorage.liveRecommendTime2&&i-localStorage.liveRecommendTime1<6048e5)){var n=localStorage.liveCardTime?JSON.parse(localStorage.liveCardTime):{date:t,time:0};if(!(n.date==t&&n.time>=3)){var r=e.iDelay,a=Math.random()*r*1e3+5e3;clearInterval(C),C=setTimeout(x,a)}}}}}},uu8k:function(e,t,i){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e){var t=e.G,n=e.R,a=e.Event,o=e.Console,s=e.logUtils,c=[],l=Math.floor(Date.now()/1e3),u=!1,d=i("TIXe"),p=0,h=i("Np8c"),f=i("B0bP"),m=i("OY6v"),v=i("uyQ2"),g=i("sPxn"),y=null,_=null,w=null,S=null,b=null,I=[],E=this;function T(){t.tafSignal.on("uri:6076",C),y=new f(e,E),E.popupStrategy=y,_=new h(e),function(){var i=e.taf.HUYA,n=new i.GetLiveRoomPopupWindowSummaryReq;n.tId=t.userId,n.lPid=t.presenterUid,e.sendWupNew("wupui","getLiveRoomPopupWindowSummary",n,i.GetLiveRoomPopupWindowSummaryRsp).then((function(i){c=i.vSummary.value,w=_.parsePopupStrategy(i),o.log("popupManager getLiveRoomPopupWindowSummary",c),a.fireEvent("popupManagerReady"),function(){var i=new e.taf.HUYA.GetLiveRoomPopupWindowReq;i.tId=t.userId,i.lPid=t.presenterUid,i.iGameId=t.gameId,i.sTraceId=(n=(new Date).getTime(),r=Math.floor(9e6*Math.random())+1e6,n+""+r),e.sendWupNew("wupui","getLiveRoomPopupWindow",i,e.taf.HUYA.GetLiveRoomPopupWindowRsp).then((function(e){o.log("====getLiveRoomPopupWindow",e),x(e,!1)}));var n,r}(),y.startQueneTimer(l,w),u=!0,function(){for(var e=0;e<I.length;e++)x(I[e],!0);I=[]}()}))}()}function k(e,t){var i=r({},e,{reason:t});o.log("popupManager state/lose_liveroom_universal_popup",i),n.newHuyaReport({eid_desc:"丢弃公屏弹窗",eid:"state/lose_liveroom_universal_popup",prop:JSON.stringify(i)},"huya_web")}function C(e){o.log("====onLiveRoomPopupWindowNotice",e),0==u?I.push(e):x(e,!0)}function x(i,n){for(var r=i.vWindow.value,a=0;a<r.length;a++){var c=r[a],l=c.iAppId,u=c.vData,p=c.sUAFilter,h=c.lPid;if(0==h||h==t.presenterUid)if(0!=d.default(t.userId.sHuYaUA,p))switch(l){case 1:case 3:var f=new e.taf.Taf.JceInputStream(u),v=new e.taf.HUYA.CommonLiveRoomPopupWindow;v.readFrom(f),new m(e).show(v,c);break;case 2:f=new e.taf.Taf.JceInputStream(u);var g=new e.taf.GameRelease.GameHandleAlertInfo;g.readFrom(f),o.log("小手柄数据：",g),A(g,c,n);break;case 4:s.log("popupManager 收到弹窗中台小程序弹窗展示",n?"推送小程序弹窗6076":"第一次进直播间拉取的小程序弹窗",c),S.triggerLiveRoomPopupWindow(c);break;case 5:f=new e.taf.Taf.JceInputStream(u);var y=new e.taf.HUYA.MatchScorePopupWindow;y.readFrom(f),b.setData(y,c.sLiveRoomPopupKey,c.iShowTime)}}}function A(i,n,r){e.smallHandle?e.smallHandle.showGameHandleAlert(i,n,r):t.vplayer.once("smallHandleReady",(function(e){e(i,n,r)}))}S=new v(e,E),E.extPopup=S,b=new g(e,E),E.matchScorePopup=b,e.userInfoInitedCallback(T),this.popupEnQueue=function(e){try{o.log("popupManager popupEnQueue源头",e);var t=e.liveRoomPopupWindowId,i=e.additionReportParams;return t?(o.log("popupManager 完成上报",t),S.finishHolding(t,i)):y.doEnQueue(e,"popupEnQueue")}catch(t){var n="执行错误:"+t.toString();return k({popup_id:e.liveroomPopupKey},n),{res:4,msg:n,data:{}}}},this.popupDeQueue=function(e){return y.doDeQuene(e,"popupDeQueue"),{res:0,msg:"成功",data:{}}},this.reportClickLiveRoomPopup=function(e,t){var i=r({},e,{area:t});o.log("popupManager click/liveroom_universal_popup",i),n.newHuyaReport({eid_desc:"点击公屏弹窗（不含关闭）",eid:"click/liveroom_universal_popup",prop:JSON.stringify(i)},"huya_web")},this.getPopupCloseBtn=function(e){var t=e.showTime,n=$("<div class='popup-close-btn'></div>")[0];return new(i("uvt+"))(n,20,1.5,t).start(),{res:0,msg:"成功",data:{div:n}}},this.nativePopupEnQueue=function(e,t,i){return y.nativePopupEnQueue(e,t,i)},this.nativePopupDeQueue=function(e){y.doDeQuene(e,"nativePopupDeQueue")},this.popupManagerReady=function(e){u?e():a.addEvent("popupManagerReady",e)},this.makeReportParams=function(e,t,i){o.log("popupManager additionReportParams",t);var n=e.sKey,a=e.sName,s=e.iBusinessType,c=e.iTriggerType,l=e.lRankValue,u=e.mpReport.value||{},d=r({},{popup_id:n,popup_name:a,popup_type:s,trigger_type:c,weight:l},{},t||{},{transmission_ext:JSON.stringify(u)});return i&&i.popup_ext&&(d.popup_ext=i.popup_ext),d},this.reportGetLiveRoomPopup=function(e){o.log("popupManager state/get_liveroom_universal_popup",e),n.newHuyaReport({eid_desc:"获取公屏弹窗",eid:"state/get_liveroom_universal_popup",prop:JSON.stringify(e)},"huya_web")},this.reportLoseLiveRoomPopup=k,this.reportShowLiveRoomPopup=function(e,t,i){var a=i.length,s=t.vSummary.lRankValue,c=r({},e,{position:p,remaind_num:a,weight:s});o.log("popupManager show/liveroom_universal_popup",c),n.newHuyaReport({eid_desc:"曝光公屏弹窗",eid:"show/liveroom_universal_popup",prop:JSON.stringify(c)},"huya_web"),p++},this.findPopupWindowSummary=function(e){for(var t=0;t<c.length;t++)if(c[t].sKey===e)return c[t];return null}}},"uvt+":function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t,i,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasContainer=t,this.canvasSize=i,this.lineWidth=n,this.totalTime=r,this.color=a,this.endCallback=o,this.canvas=document.createElement("canvas"),this.canvas.width=i,this.canvas.height=i,this.canvasContainer.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!0,this.context.webkitImageSmoothingEnabled=!0,this.context.mozImageSmoothingEnabled=!0,this.centerX=this.canvas.width/2,this.centerY=this.canvas.height/2,this.radius=(i-2*n)/2,this.framesPerSecond=60,this.tickHandler=0,this.countdown=r,this.angle=0,this.isPlaying=!1}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.isPlaying=!0,this.animate()}},{key:"pause",value:function(){this.isPlaying=!1,window.cancelAnimationFrame(this.tickHandler)}},{key:"resume",value:function(){this.isPlaying=!0,this.animate()}},{key:"animate",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=2*Math.PI*this.countdown/this.totalTime;this.context.beginPath(),this.context.arc(this.centerX,this.centerY,this.radius,-Math.PI/2,-Math.PI/2+this.angle,!1),this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.stroke(),this.countdown-=1e3/this.framesPerSecond,this.angle=e,this.countdown>=0&&this.isPlaying?this.tickHandler=requestAnimationFrame(this.animate.bind(this)):this.countdown<0&&(this.isPlaying=!1,this.countdown=0,this.endCallback&&this.endCallback())}},{key:"setProgress",value:function(e,t){t&&(this.totalTime=t),e>0&&e<=this.totalTime&&(this.countdown=e,this.angle=2*Math.PI*(this.totalTime-e)/this.totalTime,this.animate())}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=n},uyQ2:function(e,t){function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e,t){var i=e.Console,r=e.logUtils,a=e.Event,o=e.G,s=!1,c=[],l=null,u={},d=1e4;function p(e){l=e,i.log("popupManager 小程序 roomHyExtCompReady",e),r.log("popupManager 小程序 roomHyExtCompReady"),s=!0;for(var t=0;t<c.length;t++)h(c[t]);c=[]}function h(e){if(s){var i={liveRoomPopupWindowId:o.getTraceId(),liveRoomPopupWindow:e};r.log("popupManager 小程序 pushExtPopupWindow",i),t.popupStrategy.pushExtPopupWindow(i)}else c.push(e)}a.addEvent("roomHyExtCompReady",p),this.triggerLiveRoomPopupWindow=h,this.setExtPopHolding=function(e){var i=e.holdPopupData.liveRoomPopupWindowId;r.log("popupManager 调用小程序接口，尝试拉取弹窗 triggerLiveRoomPopupWindow",e.holdPopupData),e.isHoldIng=!0,u[i]=e,e.promise=new Promise((function(a,s){e.resolve=a,e.reject=s,e.holdPopupData.position=o.popupPosition,r.log("popupManager 开始调用 triggerLiveRoomPopupWindow",e.holdPopupData),l.triggerLiveRoomPopupWindow(e.holdPopupData).then((function(n){clearTimeout(e.holdTimerId),e.holdTimerId=setTimeout((function(){r.log("popupManager 小程序占位超时",e),e.isHoldIng=!1;var n=u[i].extPopupCacheData.reportParams;t.reportLoseLiveRoomPopup(n,"弹窗占位超时未曝光"),delete u[i],s({code:100,message:"超时取消占位"})}),d)})).catch((function(r){var a="未找到小程序,ext uuld="+e.holdPopupData.liveRoomPopupWindow.mpBusData.value.ext_uuid,o=n({},u[i].extPopupCacheData.reportParams,{reason_type:1});t.reportLoseLiveRoomPopup(o,a),e.isHoldIng=!1,delete u[i],s({code:300,message:a})}))}))},this.finishHolding=function(e,t){r.log("popupManager finishHolding",e,u[e]);var i=u[e];if(i){r.log("popupManager 拉取小程序成功，占位完成");var a=i.extPopupCacheData;t&&i.reportParams&&(i.reportParams=n({},i.reportParams,{},t)),r.log("popupManager finishHolding popupData",i);var o={res:0,msg:"成功",data:a};return Promise.resolve().then((function(){r.log("popupManager 异步resolve 解锁holding",e,i),i.isHoldIng=!1,clearTimeout(i.holdTimerId),i.resolve(),delete u[e]})),o}var s=e+"不存在（也可能已被超时丢弃）";return r.log("popupManager "+s),{res:5,msg:s,data:{}}},this.canceleHolding=function(e){r.log("popupManager 取消小程序占位",e,u[e]),u[e]&&(u[e].isHoldIng=!1,clearTimeout(u[e].holdTimerId),u[e].reject({code:200,message:"顶替后占位取消"}),delete u[e])}}},v1Vo:function(e,t,i){e.exports=function(e,t,n){var r,a,o=e.G,s=(e.ENV,e.utils),c=e.Console,l=e.R,u=e.Event,d=30,p=22,h=35,f=0,m=100,v=100,g=1,y=1,_=!1,w=[],S=[],b=[],I=[],E=[],T=[],k=[],C=10,x=!0,A=!1,R=!0,P=3,L=0,M=0,D=0,B=0,N=0,U=200,F=0,O="",H="",G=[27,24,21],V=1,W=[17,16,13],q=i("Wlko"),j=i("6DbF"),z=null,Y=null,J=8,K=20,Z=24,X=localStorage.getItem("danmuLimit"),Q=X=null!=X?parseInt(X):350,ee=!1,te=0,ie=!1,ne=!1,re=15,ae=600,oe=0,se=1,ce=0,le=null;function ue(e){3==e.which&&function(e){if(F=e.data("uid"),O=e.data("nick"),F==o.yyuid)return;var t=e.css("top"),i=e.css("transform").replace(/[^0-9\-.,]/g,"").split(",")[4];i=Math.max(0,i),i=Math.min(B-280,i),de=i+200+"px",i+="px",pe=t,$("#player-danmu-report").show(),$("#player-danmu-report").css({left:i,top:t}),$("#player-danmu-report span").text(o.isManager?"禁言":"举报"),H=e.data("msg");var n=e.find("span").html();$("#player-danmu-report i").html(n),$.smartMenu.hide();var r={report_uid:F,option_name:"举报"};l.newHuyaReport({eid_desc:"曝光右击弹幕弹窗",eid:"show/right_click_danmu_popup",prop:JSON.stringify(r)},"huya_web")}($(this))}r=$("#danmudiv"),a=$("#danmudiv2"),function(){for(var e=[".danmu-item",".danmu-tv-item-big",".danmu-tv-item-small"],t=0;t<e.length;t++)r.on("mousedown",e[t],ue),a.on("mousedown",e[t],ue);$("#player-danmu-report span").click(fe),$("#player-danmu-report em").click(ve),$("body").bind("click",he)}(),z=new q(e),Y=new j(e,d,h),$("#player-video").resize(s.throttle(ye,200)),ee="-webkit-background-clip"in document.documentElement.style,Ce(),setTimeout((function(){_=!0}),3e3),u.addEvent("undateEffectCommInfo",(function(e){var t=!1;e?(t=se!=e.iDirection||oe!=e.iDepthOfField||ce!=e.iAngle,se=e.iDirection,oe=e.iDepthOfField,ce=e.iAngle,ie=!0):(1==ie&&(t=!0),ie=!1),Ve(t)})),u.addEvent("undateEffectDefaultStyle",(function(e){le=e})),u.addEvent("rewarADCloseFinish",(function(){we()}));var de=0,pe=0;function he(e){$("#player-danmu-report").hide()}function fe(){e.quitFullscreen(),$("#player-danmu-report").hide();var t="";if(o.isManager)t="muteMessage";else{t="reportMessage";var i={report_uid:F,option_name:"举报"};l.newHuyaReport({eid_desc:"点击聊天右击弹幕弹窗和点击公屏弹幕举报按钮",eid:"click/right_click_danmu_popup",prop:JSON.stringify(i)},"huya_web")}H=s.unescapeHTML(H);var n={uid:F,nick:O,msg:H};e.trigger(t,n)}var me=null;function ve(){var e;l.huyuReport("click/videotext/copy"),null==me&&(e=i("465P"),(me=new e("#player-danmu-copy",{text:function(){return H}})).on("success",(function(e){e.clearSelection(),o.isFullscreen||($("#danmu-copy-tips").text("已复制"),$("#danmu-copy-tips").show(),$("#danmu-copy-tips").css({left:de,top:pe}),clearTimeout(ge),ge=setTimeout((function(){$("#danmu-copy-tips").fadeOut("normal",(function(){$("#danmu-copy-tips").hide()}))}),2e3))})),me.on("error",(function(e){})))}var ge=0;function ye(){A=!0;var e=$("#player-video").width(),t=$("#player-video").height();N=t,(B=e)<=660&&(B=Math.max(B,660)),d=o.isFullscreen?G[0]+p:t<=371?G[2]+p:G[1]+p,Y.updateItemHeight(d);var i=t-h;P=(i/d>>0)/3>>0,v=(C=i*y/d>>0)*U/27,C>0&&(ne?(C=n.getDanmuLine(B,N,d,h,re),ae=n.getMoveDistance(B,N),n.setDanmuContainerStyle(r,ae,B,N)):ae=B,T=_e(T,C),k=_e(k,C)),J=8+(B-660)/210,Q=(Q=R?X:X/2)*y,Be=Math.max(Q-Q/3,5),c.log("实际弹幕限制数",Q),De=!1,Me=0;var a=$("#player-video").offset();te=a?a.left:0,A=!1}function _e(e,t){for(var i=new Array(t),n=0,r=e.length;n<r&&!(n>=t);n++)i[n]=e[n],e[n]&&(e[n].canUse=!0);return i}function we(){for(var e in S){var t=S[e];t&&t.div&&(t.div.unbind(),t.div.remove()),t=null}r.empty(),a.empty(),S=[],o.danmuShowCount=0,o.danmuWaitCount=0,curDanmuCount=0,lastDanmuCount=0,b=[],I=[],E=[]}function Se(e,t){for(var i=[],n=e.length,r=0;r<n;r++){var a=e[r];a=be(a),t&&(a=s.colorRgb(a,t)),i.push(a)}return i.join(",")}function be(e){if(e=parseInt(e+""),isNaN(e)||-1==e)e="#FFFFFF";else{for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+e}return e}function Ie(e){var t=e.msg,i=e.isSelf;x&&t&&(e.type=1,e.line=0,e.top=0,i?w.unshift(e):(w.push(e),ke(w,v/5>>0)),Ce())}function Ee(e,t,i,n,r,a){if(x&&e&&(1!=L||t)){var o={type:1,msg:e,color:["#FFFFFF","#9FDE33","#33DE65","#50DBDB","#1ABBFF","#FF76B6","#FF5151","#FF8300","#FFDE00","#B975FD"][i],colorIdx:i,rgbcolor:["rgba(255,255,255,0.2)","rgba(159,222,51,0.2)","rgba(51,222,101,0.2)","rgba(80,219,219,0.2)","rgba(26,187,255,0.2)","rgba(255,118,182,0.2)","rgba(255,81,81,0.2)","rgba(255,131,0,0.2)","rgba(255,222,0,0.2)","rgba(185, 117, 253,0.2)"][i],line:0,top:0,isTv:!0,isBig:i>5&&i<9,isSelf:t,uid:n,nick:r,diyIcon:a};o.isSelf?w.unshift(o):(w.push(o),ke(w,v/5>>0)),Ce()}}function Te(e,t){if(x&&(1!=M||t)){var i=z.getFlexiUrlByid(e);if(i){var n={isFlexi:!0,flexiUrl:i};t?w.unshift(n):(w.push(n),ke(w,v/5>>0)),Ce()}}}function ke(e,t){if(e&&!(t<1)&&!(e.length<v+t)){for(var i=[],n=0;n<t;n++){var r=e.shift();r.isSelf&&i.push(r)}for(var a=0,o=i.length;a<o;a++)e.unshift(i[a])}}function Ce(){0==f&&x&&(f=setInterval(Ne,m))}function xe(){clearInterval(f),f=0,we()}function Ae(){for(var e=-1,t=[],i=S.length,n=0;n<i;n++)t.push(S[n].line);for(n=0;n<P;n++)if(-1==t.indexOf(n)){e=n;break}return e}function Re(e){var t;e.isTv?e.isBig?e.size=23:e.size=20:(t=e,ne&&oe?t.size=Z:o.isFullscreen?t.size=G[0]:t.size=660==B?G[2]:G[1])}var Pe=0,Le=0,Me=1,De=!1,Be=1;function Ne(){if(!A){for(var e=!(S.length>P),t=0;t<C;t++)if(!Y.isInShieldLine(t)){var i=T[t],n=-1;if(e&&(n=Ae()),-1!=n){if(void 0===(r=w.shift()))break;Ue(r,i,T,n,!1)}else{if(!_&&t>P)break;if(!i||1==i.canUse){if(void 0===(r=w.shift()))break;Ue(r,i,T,t,!1)}}}if(R&&!ne&&_)for(t=0;t<C;t++){if(!Y.isInShieldLine(t))if(!o.isFilterDanmu())if(!(i=k[t])||1==i.canUse){var r;if(void 0===(r=w.shift()))break;Ue(r,i,k,t,!0)}}var a=w.length;Fe(C,T),R&&!ne&&a>0&&Fe(C,k),0==a+S.length&&xe()}}function Ue(e,t,i,r,a){var c;if(x&&(o.isPresenter||e.isSelf||(c=e,!(o.danmuShowCount>Be&&(c.isMultiLayer||(Pe>Q/C*Me?(0==De&&(De=!0,clearTimeout(Le),Le=setTimeout((function(){++Me>C&&(Pe=0,Me=0),De=!1}),1e3)),1):(Pe++,0)))))))if(Re(e),e.line=r,e.top=ne?0==ce?r*(d+re)+h:r*(d+re):r*d+h,e.isMultiLayer=a,e.canUse=!1,i[r]=e,e.state=1,function(e){var t=z.makeFace(e.msg);if(1==M&&!e.isSelf&&t.hasFace)return!1;if(e.bigEmoji=3==t.type,!e.div){var i={};if(e.isFlexi||e.bigEmoji){var r=(v=$('<div class="danmu-item"><img></img></div>')).find("img");e.onlyImage=!0,e.bigEmoji?(e.flexiUrl=t.flexiUrl,v.addClass("big-emoji")):v.addClass("danmu-flexi"),e.dimg=r,v.type=4}else if(e.isTv){if((v=Oe(e.isBig?E:I))||(v=$("<div><i></i><span></span></div>"),e.isBig?(v.type=2,v.addClass("danmu-tv-item-big"),e.top-=(32-d)/2):(v.type=3,v.addClass("danmu-tv-item-small"),e.top-=(26-d)/2)),e.diyIcon&&""!=e.diyIcon){var a=e.isBig?"36_36":"26_26";e.diyIcon=s.unescapeHTML(e.diyIcon);var o=e.diyIcon.replace("<ua>","web"),c="url("+(o=o.replace("<size>",a))+")";v.find("i").css({background:c})}else{var l=v.find("i");l.removeClass(),l.addClass("danmu-tv-item-icon-"+e.colorIdx)}}else if(D||!e.effectId&&!le)if(e.isEgg){(v=$('<div class="danmu-item danmu-egg"><span></span><div class="egg-icon"></div></div>')).type=4}else if(e.msgConnectData){var u=e.msgConnectData,p=u.sPrefix,h=u.iColor,f=(v=$('<div class="danmu-item"><div class="fan-tag"></div><span></span></div>')).find(".fan-tag"),m={color:h>0?be(h):"#FFFFFF","font-size":W[V]};f.css(m),f.text(p),e.color=be(e.color),v.type=4}else if(e.fansNo){var v;(v=function(e){var t=$('<div class="danmu-item fans-no"><span></span><img/></div>'),i=e.fansNo.sUrl,n=t.find("img");return n[0].onerror=function(){n.remove()},n.attr("src",i),e.color=be(e.color),t}(e)).type=4}else if(e.messageRichItem)(v=e.messageRichItem).type=4;else{(v=Oe(b))||((v=$("<div><img></img><span></span></div>")).addClass("danmu-item"),v.type=1),(r=v.find("img")).css({"border-radius":"0",border:"0px"}),""!=e.iconUrl?(r.show(),r.attr("src",e.iconUrl),e.needHead&&r.css({"border-radius":"50%",border:"2px solid "+e.color})):r.hide(),e.color=be(e.color)}else{var g=null;if(e.effectId){if(!(g=n.getDanmuEffectStyle(e.effectId)))return!1}else g=le;v=n.setDanmuBG(g,ne),e.hasEffectStyle=!0,e.color=be(e.color),v.type=4}v.data("msg",e.msg),e.msg=t.msg,e.onlyImage||e.messageRichItem||v.find("span").html(e.msg),v.data("uid",e.uid),v.data("nick",e.nick);var y=15;e.isMultiLayer?(y=8+Math.random(),y=J-2+Math.random()):y=J+Math.random(),i["will-change"]="transform",i["font-size"]=e.size;var _=e.onlyImage||e.hasEffectStyle||e.isEgg;if(e.isTv)i.border="2px solid "+e.color,i["background-color"]=e.rgbcolor;else if(_);else if(e.groundFormat){var w=be(e.groundFormat.iGroundColour),S=e.groundFormat.iGroundColourDiaphaneity,T=s.colorRgb(w,S/100);if(e.groundFormat.vGroundColor&&e.groundFormat.vGroundColor.length>1){var k=Se(e.groundFormat.vGroundColor,S/100);i.background="linear-gradient(to right,".concat(k,")")}else i.background=T;i["border-radius"]=K+"px",i["line-height"]=K+"px",e.iconUrl?i.padding="0px 5px 0 0":i.padding="0px 3px",i["font-size"]=K,e.top-=(K-d)/2,i.border="",v.type=4}else e.isSelf?i.border="1.5px solid #FFF":i.border="";e.time=y,i.color=e.color,i["-webkit-transition"]="transform "+y+"s linear",i.transition="transform "+y+"s linear";var C="translateX(".concat(ae,"px)  translateZ(0)");if(ne){n.isVertical()?(n.toUp()?C="translateY(".concat(ae,"px)  translateZ(0)"):n.toDown()&&(C="translateX(0px)  translateZ(0)",i.bottom=ae),i.left=e.top):2==se?(C="translateX(0px)  translateZ(0)",i.right=ae,i.top=e.top):i.top=e.top;var x=!1;1==oe&&(x=n.addDepthOfField(v)),C+=x?" scale(0.6)":""}else i.top=e.top;if(i["-webkit-transform"]=C,i.transform=C,e.graduatedColor&&e.graduatedColor.length>1&&ee){var A={},R=v.find("span"),P=Se(e.graduatedColor);A["text-shadow"]="0 0",A.background="linear-gradient(to right,"+P+")",A["-webkit-background-clip"]="text",A.color="transparent",R.css(A),v.type=4}if(v.css(i),e.div=v,e.makeResult=t,e.onlyImage&&e.dimg){var L=e.dimg[0];L.onload=function(){He(e,v)},L.onerror=function(){Ge(e,v)},e.dimg.attr("src",e.flexiUrl)}else He(e,v,t)}return!0}(e)){if(S.push(e),o.danmuShowCount++,ne){var l,u=e.width,p=e.time;if(n.isVertical()){var f=e.height;l=f*p*1e3/(ae+f)}else l=u*p*1e3/(ae+u);setTimeout((function(){e.canUse=!0}),l)}}else e.state=3}function Fe(e,t){if(!ne)for(var i=0;i<e;i++){var n=t[i];if(n&&0==n.canUse){if(3==n.state){n.canUse=!0;continue}if(2==n.state){var r=void 0;n.div&&n.div.css&&(r=n.div.offset().left-te),void 0===r&&(n.canUse=!0),r<B-n.width&&(n.canUse=!0)}}}}function Oe(e){return e.shift()}function He(e,i,s){e.isMultiLayer?a.append(e.div):r.append(e.div),D||(ne&&n.setDanmuVertical(e.div,e,ne),e.hasEffectStyle&&n.setBgStyle(e.div,e,ne));var c=e.div.width();s&&s.hasFace&&(c+=28*s.faceCount),e.width=c;var l=o.danmuPerformanceReport;if(l){var u=performance.now();o.danmuPerformanceReport=!1}i.bind("transitionend webkitTransitionEnd",(function(){if(Ge(e,i),l){var n=performance.now();t.fps&&t.fps.setPerformanceReportTime(u,n,e.time)}}));var d="translateX(".concat(-c,"px)");ne&&(n.isVertical()?(e.height=e.div.height(),n.toUp()?d="translateY(-".concat(e.height+100,"px)"):n.toDown()&&(d="translateY(".concat(ae+e.height,"px)"))):2==se&&(d="translateX(".concat(ae+c,"px)"))),e.div.css({"-webkit-transform":d,transform:d}),e.state=2}function Ge(e,t){var i=S.indexOf(e);-1!=i&&(S.splice(i,1),o.danmuShowCount--),t.unbind(),t.remove(),e.state=3,t.css("will-change","auto"),4==t.type||ne?t=null:1==t.type?b.push(t):2==t.type?E.push(t):3==t.type&&I.push(t)}function Ve(e){var t=ie&&!D&&1==y;(ne!=t||e)&&(A=!0,ne=t,we(),0==t&&n.resetDanmuContainerStyle(r),ye()),ne&&oe?r.css("opacity",1):r.css("opacity",g)}this.getWaitDanmuLen=function(){return w.length},this.addDanmu=Ie,this.setAlpha=function(e){g=parseFloat(e),ne&&oe||r.css("opacity",g),a.css("opacity",g)},this.setArea=function(e){y=parseFloat(e),Ve()},this.setMultiMod=function(e){R=!!e},this.setVisible=function(e){(e=!!e)!=x&&((x=e)?Ce():(w=[],S=[],T=new Array(C),k=new Array(C),xe(),we()))},this.getVisible=function(){return x},this.setShieldTVDanmu=function(e){L=e},this.setShieldFaceDanmu=function(e){M=e},this.setShieldDanmuEffect=function(e){D=e,Ve()},this.clear=we,this.addTv=Ee,this.setEmotFlexi=Te,this.setWordSize=function(e,t){G=e,V=t},this.resizeDanmu=ye,window.testTvDanmu=function(e,t){for(var i=0;i<1;i++){var n="一二三四五六七八九十";n=n.substr(0,n.length*Math.random()+1>>0),e&&(n=e+"[大笑]"),t||(t=9*Math.random()>>0),Ee(n,0,t,i,"nick"+i)}};window.testdanmu=function(e){for(var t=0,i=We.length,n=0;n<e;n++){var r=We[t++];t==i&&(t=0);Ie({msg:r=r.substr(0,r.length*Math.random()+1>>0),color:16777215,size:4,isSelf:!1,uid:n,nick:"nick"+n,iconUrl:""})}setTimeout(testdanmu,1e3,e)},window.testEmotFlexi=Te,window.stopdanmu=function(){clearInterval(0)},window.showDanmuCount=function(){c.log("等待中列表长度","显示中的弹幕列表长度"),c.log(w.length,S.length)};var We=["朝辞白帝彩云间，千里江陵一日还。"]}},v8a1:function(e,t,i){e.exports=function(e){var t,n,r,a,o=e.G,s=e.Event,c=e.ENV,l='<li><c1>{name}</c1> 送出 <img src="{icon}"> {num}</li>',u=0,d=!1,p=[];function h(e){var t=o.newPropDict[e.iItemType];if(t&&!(e.iItemCount*t.iPropsGreenBean<1e3)){var i=function(e){var t=e.vWebSpecilInfo.value[0].vPropsIdentity.value[0];if(t){var i=t.sPropsWeb||"";return(i=o.makeHttpsUrl(i)).split("&")[0]}return""}(t);if(i)return d?void f(e.sSenderNick,e.iItemCount,i):(p.length>30&&(p=p.slice(10)),void p.push({name:e.sSenderNick,num:e.iItemCount,icon:i}))}}function f(e,t,i){var n=l.format({name:e,num:t,icon:i});r.append(n),++u>20&&(r.find("li:first").remove(),u--),r.scrollTop(1e5)}function m(e){e&&o.hasVideo?($(c.idDom).append(t),a.click(v),g()):(t.remove(),a.unbind("click",v))}function v(){d?g():(d=!0,n.show(),$(".gift-info-bg").show(),a.text("关闭礼物"),function(){for(var e in p){var t=p[e];f(t.name,t.num,t.icon)}p=[]}())}function g(){d=!1,n.hide(),$(".gift-info-bg").hide(),a.text("展开礼物")}!function(){var o=i("b0wA")();t=$(o),n=t.find(".gift-info-pane"),r=n.find("ul"),a=t.find(".gift-info-btn"),e.addTafListener("6501",h),s.addEvent(s.FUllSCREEN_CHANGE,m)}(),window.testGift=function(e,t){h({iItemType:e||4,iItemCount:t||1,sSenderNick:"互娱事业部-零零六的直播间互娱事业部-零零六的直播间"})}}},vCu3:function(e,t,i){e.exports=function(e){var t,n=null,r=null,a=null,o=e.utils,s=e.Console,c=e.R,l=e.G,u=e.taf,d=u.HUYA,p=u.Taf,h=null,f=[],m=this,v=0,g=!1,y=null,_=!1;function w(){e.box.getUserPointCurrencyInfo().then((function(e){var t=e.tPointInfo.lPointCount;n.find("#jf-text").text(t)}))}function S(){var e=n.find(".head-wrap"),t=n.find(".panel-content");1==v?(t.addClass("expanded"),e.find(".extra-text").text("收起"),e.find(".arrow").removeClass("direction-down"),o.requestAnimFrame((function(){!function(){if(!_)return;for(var e=f.length,t=0;t<e;t++)f[t].pageShowReport()}()}))):(t.removeClass("expanded"),e.find(".extra-text").text("等道具可兑换"),e.find(".arrow").addClass("direction-down"))}function b(){e.box.openJfCenter()}function I(){e.box.hideBoxPanel()}function E(){var e=y.width(),t=y.height(),i=n.width(),r=t-60-n.height()>>1;r=Math.max(12.5,r),n.css({left:e-i>>1,top:r})}t=i("yqiV")(),(n=$(t)).find(".close").click(I),n.find(".jf-wrap").click((function(){b();var e={scene:2,anchor_uid:l.presenterUid,game_id:l.gameId};c.newHuyaReport({eid_desc:"点击积分按钮",eid:"usr/click/mypoints/pointsmall",prop:JSON.stringify(e)},"huya_web")})),n.find(".more-task-btn").click(b),o.scrollbarPreventDefault(n.find(".panel-content")),this.setData=function(t){s.log("box Data",t);var u=t.liveBoxPointMallModule,y=t.liveBoxGrowthTimingBoxModule,I=t.liveBoxMixedTaskModule;y&&function(t){if(null==r){var a=i("uqO8");r=new a(e,m)}r.setData(n,t,_)}(y),_&&(u&&function(t){w(),function(t){var r=n.find(".extra-wrap"),a=n.find(".goods-wrap");o.clearWrap(a),r.unbind(),f=[];var s=t.tPointMall.vItemList.value;null==h&&(h=i("R6zy"));var u=r.find(".icon-list");o.clearWrap(u);for(var d=s.length,p=0;p<d;p++){var g=s[p];if(p<3){var y=g.sItemImage,_=$("<img/>");_.attr("src",y),u.append(_)}if(p<5){var w=(I=new h(e,m,p+1)).makeItem(g);a.append(w),f.push(I)}}var I;w=(I=new h(e,m)).makeItem(null,!0,b);a.append(w),r.click((function(){v=0==v?1:0;var e=d>0;S();var t={scene:2,anchor_uid:l.presenterUid,game_id:l.gameId,status:v,is_exchange:e?1:0};c.newHuyaReport({eid_desc:"点击积分兑换下拉入口",eid:"click/exchange_point_icon",prop:JSON.stringify(t)},"huya_web")}))}(t),g||(v="1"==localStorage.getItem("showBoxMallFlag")?0:1,S(),localStorage.setItem("showBoxMallFlag",1),g=!0)}(u),I&&function(t){s.log("creatBoxMixedTaskList",t);for(var r=t.vTask.value,o=[],c=0;c<r.length;c++){var l=r[c],u=l.iType,h=l.vData;if(0==u){var f=new p.JceInputStream(h),v=new d.UserLevelTaskInfo;v.readFrom(f),o.push(v)}}if(null==a){var g=i("iSNx");a=new g(e,m)}a.setData(n,o),function(){if(!_)return;a.pageShowReport()}()}(I))},this.show=function(){if(0==n.parent().length){(y=$("#liveRoomObj")).append(n);var e=n.find(".box-drag-tag")[0],t=i("gPcb");new t(n[0],{handle:e,limit:!1,needAppend:!1,container:y[0]}),$("#videoContainer").resize(o.throttle(E,200))}_=!0,n.fadeIn("normal",(function(){n.show();var e={scene:2,anchor_uid:l.presenterUid,game_id:l.gameId};c.newHuyaReport({eid_desc:"曝光积分福利中心面板",eid:"show/points_welfare_center_panel",prop:JSON.stringify(e)},"huya_web")}))},this.hide=function(){_=!1,n&&n.hide()},this.updateJfText=w,this.getBoxIconUrl=function(){return r&&r.getBoxIconUrl()}}},vD7c:function(e,t,i){"use strict";e.exports=i("Z/W2")},vGTA:function(e,t,i){var n,r,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(e,t){var i=e[0],n=e[1],r=e[2],a=e[3];n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[0]-680876936|0)<<7|i>>>25)+n|0)&n|~i&r)+t[1]-389564586|0)<<12|a>>>20)+i|0)&i|~a&n)+t[2]+606105819|0)<<17|r>>>15)+a|0)&a|~r&i)+t[3]-1044525330|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[4]-176418897|0)<<7|i>>>25)+n|0)&n|~i&r)+t[5]+1200080426|0)<<12|a>>>20)+i|0)&i|~a&n)+t[6]-1473231341|0)<<17|r>>>15)+a|0)&a|~r&i)+t[7]-45705983|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[8]+1770035416|0)<<7|i>>>25)+n|0)&n|~i&r)+t[9]-1958414417|0)<<12|a>>>20)+i|0)&i|~a&n)+t[10]-42063|0)<<17|r>>>15)+a|0)&a|~r&i)+t[11]-1990404162|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&r|~n&a)+t[12]+1804603682|0)<<7|i>>>25)+n|0)&n|~i&r)+t[13]-40341101|0)<<12|a>>>20)+i|0)&i|~a&n)+t[14]-1502002290|0)<<17|r>>>15)+a|0)&a|~r&i)+t[15]+1236535329|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[1]-165796510|0)<<5|i>>>27)+n|0)&r|n&~r)+t[6]-1069501632|0)<<9|a>>>23)+i|0)&n|i&~n)+t[11]+643717713|0)<<14|r>>>18)+a|0)&i|a&~i)+t[0]-373897302|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[5]-701558691|0)<<5|i>>>27)+n|0)&r|n&~r)+t[10]+38016083|0)<<9|a>>>23)+i|0)&n|i&~n)+t[15]-660478335|0)<<14|r>>>18)+a|0)&i|a&~i)+t[4]-405537848|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[9]+568446438|0)<<5|i>>>27)+n|0)&r|n&~r)+t[14]-1019803690|0)<<9|a>>>23)+i|0)&n|i&~n)+t[3]-187363961|0)<<14|r>>>18)+a|0)&i|a&~i)+t[8]+1163531501|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n&a|r&~a)+t[13]-1444681467|0)<<5|i>>>27)+n|0)&r|n&~r)+t[2]-51403784|0)<<9|a>>>23)+i|0)&n|i&~n)+t[7]+1735328473|0)<<14|r>>>18)+a|0)&i|a&~i)+t[12]-1926607734|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[5]-378558|0)<<4|i>>>28)+n|0)^n^r)+t[8]-2022574463|0)<<11|a>>>21)+i|0)^i^n)+t[11]+1839030562|0)<<16|r>>>16)+a|0)^a^i)+t[14]-35309556|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[1]-1530992060|0)<<4|i>>>28)+n|0)^n^r)+t[4]+1272893353|0)<<11|a>>>21)+i|0)^i^n)+t[7]-155497632|0)<<16|r>>>16)+a|0)^a^i)+t[10]-1094730640|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[13]+681279174|0)<<4|i>>>28)+n|0)^n^r)+t[0]-358537222|0)<<11|a>>>21)+i|0)^i^n)+t[3]-722521979|0)<<16|r>>>16)+a|0)^a^i)+t[6]+76029189|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((a=((a+=((i=((i+=(n^r^a)+t[9]-640364487|0)<<4|i>>>28)+n|0)^n^r)+t[12]-421815835|0)<<11|a>>>21)+i|0)^i^n)+t[15]+530742520|0)<<16|r>>>16)+a|0)^a^i)+t[2]-995338651|0)<<23|n>>>9)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[0]-198630844|0)<<6|i>>>26)+n|0)|~r))+t[7]+1126891415|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[14]-1416354905|0)<<15|r>>>17)+a|0)|~i))+t[5]-57434055|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[12]+1700485571|0)<<6|i>>>26)+n|0)|~r))+t[3]-1894986606|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[10]-1051523|0)<<15|r>>>17)+a|0)|~i))+t[1]-2054922799|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[8]+1873313359|0)<<6|i>>>26)+n|0)|~r))+t[15]-30611744|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[6]-1560198380|0)<<15|r>>>17)+a|0)|~i))+t[13]+1309151649|0)<<21|n>>>11)+r|0,n=((n+=((a=((a+=(n^((i=((i+=(r^(n|~a))+t[4]-145523070|0)<<6|i>>>26)+n|0)|~r))+t[11]-1120210379|0)<<10|a>>>22)+i|0)^((r=((r+=(i^(a|~n))+t[2]+718787259|0)<<15|r>>>17)+a|0)|~i))+t[9]-343485551|0)<<21|n>>>11)+r|0,e[0]=i+e[0]|0,e[1]=n+e[1]|0,e[2]=r+e[2]|0,e[3]=a+e[3]|0}function n(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}function r(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return i}function a(e){var t,r,a,o,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)i(u,n(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(i(u,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),c=parseInt(o[1],16)||0,a[14]=s,a[15]=c,i(u,a),u}function o(e){var i,n="";for(i=0;i<4;i+=1)n+=t[e>>8*i+4&15]+t[e>>8*i&15];return n}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,i=[],n=e.length;for(t=0;t<n-1;t+=2)i.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,i)}function u(){this.reset()}return s(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(i,n){var r,a,o,s,c=this.byteLength,l=t(i,c),u=c;return n!==e&&(u=t(n,c)),l>u?new ArrayBuffer(0):(r=u-l,a=new ArrayBuffer(r),o=new Uint8Array(a),s=new Uint8Array(this,l,r),o.set(s),a)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)i(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,i,n=this._buff,r=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(a,r),i=s(this._hash),e&&(i=l(i)),this.reset(),i},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var n,r,a,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(i(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),a=parseInt(n[1],16)||0,e[14]=r,e[15]=a,i(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var i=s(a(e));return t?l(i):i},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,n,a,o,s,c=(n=this._buff.buffer,a=e,o=!0,(s=new Uint8Array(n.byteLength+a.byteLength)).set(new Uint8Array(n)),s.set(new Uint8Array(a),n.byteLength),o?s:s.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)i(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,i,n=this._buff,r=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)a[t>>2]|=n[t]<<(t%4<<3);return this._finish(a,r),i=s(this._hash),e&&(i=l(i)),this.reset(),i},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var i,n=e.length,r=new ArrayBuffer(n),a=new Uint8Array(r);for(i=0;i<n;i+=1)a[i]=e.charCodeAt(i);return t?a:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var n=s(function(e){var t,n,a,o,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)i(u,r(e.subarray(t-64,t)));for(n=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(i(u,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),c=parseInt(o[1],16)||0,a[14]=s,a[15]=c,i(u,a),u}(new Uint8Array(e)));return t?l(n):n},u},"object"===o(t)?e.exports=a():void 0===(r="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=r)},vLVN:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<li>\n  <div class=\'prr-head\'>\n      <div class=\'ppr-head-bg\'></div>\n      <div class=\'prr-head-container\'>\n        <div class="prr-head-image">\n           <img onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'" />\n         </div>\n      </div>\n  </div>\n  <div class="prr-content">\n    <div class="prr-nick"></div>\n    <div class="prr-introduction"></div>\n    <div class="prr-subscribe prr-btn">关注</div>\n    <div class="prr-unsubscribe prr-btn">已关注</div>\n  </div>\n  <div class="prr-living">\n      <i class="icon-living"></i>进入直播间\n  </div>\n</li>\n\n',__filename="src/tpl/presenterrecommend/presenter-rec-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<li>\n  <div class=\'prr-head\'>\n      <div class=\'ppr-head-bg\'></div>\n      <div class=\'prr-head-container\'>\n        <div class="prr-head-image">\n           <img onerror="this.onerror=\'\';this.src=\'//assets.msstatic.com/amkit/p/duya/common/img/default_live.jpg\'" />\n         </div>\n      </div>\n  </div>\n  <div class="prr-content">\n    <div class="prr-nick"></div>\n    <div class="prr-introduction"></div>\n    <div class="prr-subscribe prr-btn">关注</div>\n    <div class="prr-unsubscribe prr-btn">已关注</div>\n  </div>\n  <div class="prr-living">\n      <i class="icon-living"></i>进入直播间\n  </div>\n</li>\n\n'),__line=21;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},vNGJ:function(e,t){function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e,t,r,a,o,s){var c=e.G,l=e.Console,u=e.Event,d=e.logUtils,p=null,h=0,f=0,m=0,v=0,g=null,y=0,_=!1,w=0,S=!1,b={},I=0,E=0,T=5,k="11",C=0,x=!1;function A(e,i){clearTimeout(I);var n=i.video,r=i.canvas;t(n,r),U(300,0),l.log("VideoADHySdk",e,i),d.addLog("VideoADHySdk "+e)}function R(e,t){var i=t.current,n=t.total;f=i,h=n,function(e,t){l.log("checkUnexpectedPlay",e,t);var i=t-e;if(i<=.5)return;clearTimeout(C),C=setTimeout((function(){O(),a(!0)}),1e3*i+5e3)}(i,n),r(i,n),N(i,n),l.log("VideoADHySdk",e,t)}function P(e,t){l.log("VideoADHySdk",e,t),d.addLog("VideoADHySdk "+e),U(200,h),F(),a(),clearTimeout(C)}function L(t,i){l.log("VideoADHySdk",t,i),d.addLog("VideoADHySdk "+t),clearTimeout(I),F({ps:"2"}),a(!0),x||(x=!0,e.huyaAD.reportExternalEvent(g,s,"adBlockPlugin"))}function M(e,t){var i=t.totalDuration;r(0,i),N(0,i),f=0,h=i,l.log("VideoADHySdk",e,t)}function D(){p.setVolume(0),p.play(),o(),_=!0,l.log("BrowerPause 广告设置音量 0")}function B(e,t){u.fireEvent(u.DATA_METRIC_AD,t)}function N(t,i){var n={a:_?0:1,d:1e3*t,bf:1},r=Math.round(t);if(!S)for(var a in b){var o=parseInt(a);if(r>=o&&o>=y){U(b[a],r),delete b[a];break}o<y&&delete b[a]}r>=Math.floor(i/4)&&w<25?(n.p=w=25,e.huyaAD.reportPlaying(g,n,s,v)):r>=Math.floor(i/2)&&w<50?(n.p=w=50,e.huyaAD.reportPlaying(g,n,s,v)):r>=Math.floor(3*i/4)&&w<75?(n.p=w=75,e.huyaAD.reportPlaying(g,n,s,v)):r>=Math.floor(.9*i)&&w<100&&(n.p=w=100,e.huyaAD.reportPlaying(g,n,s,v),S=!0)}function U(t,i){var n={a:_?0:1,d:1e3*i,bf:1};n.p=t,e.huyaAD.reportPlaying(g,n,s,v)}function F(t){if(E>=T)d.addLog("amsPlayingReport 超过最大上报次数",t);else{var r={lastPauseTime:m,currentTime:f,duration:h,pa:k},a=t?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{},t):r,o={id:v,sdkConfig:g,reportData:a};e.huyaAD.amsTraceReport(o),E++}}function O(){e.huyaAD.reportExternalEvent(g,s,"unexpectedPlay")}(p=new H5Player).on(H5Player.Events.VIDEO_PLAY,A),p.on(H5Player.Events.M3U8_PLAY_ENDED,P),p.on(H5Player.Events.VIDEO_ENDED,P),p.on(H5Player.Events.PLAY_TIME_STATUS,R),p.on(H5Player.Events.BROWSER_PAUSE,D),p.on(H5Player.Events.PLAYBACK_M3U8_UPDATED,M),p.on(H5Player.Events.DATA_METRIC2,B),p.on(H5Player.Events.VIDEO_MP4_ERROR,L),p.setExtendConfig(c.sdkExtendConfig),this.startPlay=function(e,t,i,n,r){l.log("VideoADHySdk Ad-startPlay",e,t);var o=e.sM3u8,s=e.vStreamInfo,u=e.isMp4,h=e.videoUrl;v=t.id,g=i,y=n||0,b={5:400,1:401,2:402,3:403,4:404,10:410},k=r||"11";var f={uid:c.isLogin?c.yyuid:c.anonymousUid,sGuid:c.getGuid(),presenterUid:c.presenterUid,roomId:c.ENV.profileRoom,liveType:3,gameId:c.gameId};f.appid=this.isDebug&&!c.ENV.online?c.vAppidTest:c.vAppid,f.businessType="HUYA",f.isLive=!1,f.h5Root=c.H5ROOT,f.place=9,f.busiSource="vodadv",f.adBlock=c.adBlock,u?(f.type=H5Player.MP4,f.url=c.makeHttpsUrl(h)):(f.type=H5Player.HLS,f.url=c.makeHttpsUrl(o),f.vStreamInfo=function(e){e=e.concat();for(var t=0;t<e.length;t++)e[t].sM3u8=c.makeHttpsUrl(e[t].sM3u8),e[t].sUrl=c.makeHttpsUrl(e[t].sUrl),e[t].sTs1Url=c.makeHttpsUrl(e[t].sTs1Url);return e}(s)),n&&(f.seekTime=n),l.log("====start",f),p.start(f),clearTimeout(I),d.addLog("VideoADHySdk start"+JSON.stringify(f)),I=setTimeout((function(){a(!0),O(),d.addLog("VideoADHySdk 超时")}),5e3)},this.setVolume=function(e){p.setVolume(e),_=0==e,d.log("setVolume 广告设置音量",e)},this.clear=function(){p&&p.stop(),f=0,h=0,m=0,w=0,S=!1,b={},E=0,x=!1,clearTimeout(I),clearTimeout(C)},this.onCloseReportVideo=function(){F()},this.videoStateReport=U,this.play=function(e){k=e||"11",p.play()},this.pause=function(){F({isPause:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}),p.pause(),m=f,clearTimeout(C)},this.seek=function(e){p.seek(e)},this.updateEnv=function(e){s=e}}},vPX3:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="shield-set-wrap">\n    <div class="shield-set-list"></div>\n    <div class="shield-set-gap"></div>\n</div>',__filename="src/tpl/ctrl/shield-set-list.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="shield-set-wrap">\n    <div class="shield-set-list"></div>\n    <div class="shield-set-gap"></div>\n</div>'),__line=4;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},vbbf:function(e,t,i){e.exports=function(e,t){var n=null,r=null,a=null,o=null,s=null,c=null,l=null,u=[],d=e.Event,p=e.R,h=e.G,f=e.utils,m=!1,v=!1;function g(){var e=$("#player-video").height();n.removeClass("small-screen-style"),e<490&&n.addClass("small-screen-style")}function y(){var e=o.scrollLeft();o.scrollLeft(e-200),w()}function _(){var e=o.scrollLeft();o.scrollLeft(e+200),w()}function w(){var e=o.scrollLeft(),t=o.width(),i=o[0].scrollWidth;r.css("visibility",0==e?"hidden":"visible"),a.css("visibility",e>=i-t?"hidden":"visible")}function S(e){var i=t.creatReportProp(c);i=Object.assign(i,{ext_fromid:"anchor_game",area:e}),p.newHuyaReport({eid_desc:"用户/点击/按钮/游戏详情页",eid:"usr/click/button/gc-gamedetail",prop:JSON.stringify(i)},"huya_web")}function b(){S("close"),n.hide(),v=!1}var I=null,E=0;function T(e){var t=e.currentTarget,n=$(t).attr("index");if(null==l){var r=i("JhDf")();l=$(r),I=l.find(".center-content"),l.find(".left-btn").click(k),l.find(".right-btn").click(C),l.find(".close").click((function(){l&&l.hide()})),l.appendTo("#videoContainer")}l.show(),I.attr("src",u[n]),E=n}function k(){E--,x()}function C(){E++,x()}function x(){E>=u.length?E=0:E<0&&(E=u.length-1),I.attr("src",u[E])}this.showPannel=function(I){c!=I&&(function(){n&&(n.remove(),n.unbind(),n=null);l&&(l.remove(),l.unbind(),l=null);v=!1,$("#player-wrap").off("resize",g)}(),c=I,function(){var l=i("Las0")();n=$(l),o=n.find(".image-list"),s=n.find(".down-load"),n.find(".close-btn").click(b),r=n.find(".pre-btn"),a=n.find(".next-btn"),r.click(y),a.click(_);var v=c,g=v.handleGameInfo,I=v.handleAlertInfo,E=g.gameType,k=g.gameName,C=g.gameBrief,x=g.gameIcon,A=g.gameIntro,R=I.entranceTxt,P=I.actionType;(m=(1==E||5==E||8==E)&&3!=P)&&(n.addClass("qr-code-style"),L=n.find(".smallhandle-qr-code"),M=i("bNM7"),D=c.handleGameInfo.linkUrl,B=new M({text:D,render:"svg",size:120,correctLevel:3,background:"#ffffff",foreground:"#000000"}),N=$(B),L.append(N),5!=E&&8!=E||(n.find("#qr-code-explanation-title").text("游戏试玩"),n.find("#qr-code-explanation-download").text("02.扫码试玩")));var L,M,D,B,N;n.find(".title").text(f.unescapeHTML(k)),n.find(".subtitle").text(f.unescapeHTML(C)),n.find(".panel-title").text(R||"主播推荐");var U=g.tags.value;U.length>0&&function(e,t){for(var i=e.find(".tag-list"),n=t.length,r=0;r<n;r++){var a=$('<div class="tag-item"></div>');a.text(t[r]),a.appendTo(i)}}(n,U);var F=f.unescapeHTML(A),O=n.find(".introduction");O.text(F),O.attr("title",F),n.find(".head").attr("src",x),function(){var i=c,n=i.handleAlertInfo,r=i.handleGameInfo,a=n.actionTxt,o=n.actionType,l=r.isReserve;if(3==o&&1==l)return s.text("已预约"),void s.addClass("gray");if(s.text(a),1==m)return;s.click((function(){var i,n=c.handleAlertInfo.actionType,r=c.handleGameInfo.linkUrl,a="download";switch(1==n?(i=t.creatReportProp(c),p.newHuyaReport({eid_desc:"成功开始下载",eid:"state/start_download_success",prop:JSON.stringify(i)},"huya_web"),t.gameDlEventReport(c)):2==n?(a="open",i=t.creatReportProp(c),p.newHuyaReport({eid_desc:"成功打开页游链接",eid:"state/open_webgame_link",prop:JSON.stringify(i)},"huya_web")):3==n?a="order":4==n&&(a="open"),S(a),n){case 1:case 2:window.open(r);break;case 3:!function(){if(!h.isLogin)return void e.popLogin();t.gameReserve(c,(function(e){var i=e.response,n=i.res,r=i.msg;if(0==n){s.text("已预约"),s.addClass("gray"),c.handleGameInfo.isReserve=1;var a=t.creatReportProp(c);p.newHuyaReport({eid_desc:"游戏预约成功",eid:"state/game_oder_success",prop:JSON.stringify(a)},"huya_web"),t.updateHasReserveView(),t.showSmallHandleReserve(c)}else r&&d.fireEvent(d.SHOW_COMMON_TOAST,r)}))}();break;case 4:d.fireEvent(d.HY_ACTION_NEW,r)}}))}(),function(){for(var e=(u=c.handleGameInfo.gameImgs.value).length,t=[],i=0;i<e;i++){var r=$("<img />");t.push(new Promise((function(e,t){r[0].onload=function(){e()}}))),r.attr("src",u[i]),o.append(r),r.attr("index",i),r.click(T)}Promise.all(t).then((function(){o[0].scrollWidth>364&&(n.find(".image-group i").show(),w())})).catch((function(){})),0==e&&(n.find(".image-group i").hide(),o.hide())}(),n.appendTo("#videoContainer")}()),n&&n.show();var E=t.creatReportProp(c);E.ext_fromid="anchor_game",p.newHuyaReport({eid_desc:"系统/展示/游戏详情页/游戏中心",eid:"sys/pageshow/gamedetail/gamecenter",prop:JSON.stringify(E)},"huya_web"),$("#player-wrap").resize(g),v=!0,g()},this.isShowIng=function(){return v}}},vhM9:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-gift-tip" propsId="0">\n    <div class="super-fans-gift">\n       <div class="super-fans-gift-content">\n         <p></p>\n         <div class="super-fans-gift-arrow"></div>\n         <i></i>\n       </div>\n    </div>\n\n    <div class="motorcade-gather-gift">\n        <div class="motorcade-gather-gift-content">\n          <p></p>\n          <div class="motorcade-gather-link">\n            <i></i>\n            <div class="arrow-right"></div>\n        </div>\n        </div>\n     </div>\n\n\n     <div class="gift-tip-diy-banner"><img></div>\n\n    <div class="make-friend-gift">\n        <div class="make-friend-cur-people-group">\n            <div id="make-friend-cur-people">\n                <p>赠送</p>\n                <img src="">\n                <div class="mic-name mic-name-color"></div>\n                <p></p>\n                <div class="make-friend-gift-arrow"></div>\n            </div>\n            <div class="make-friend-people-switch">\n                <ul class="make-friend-people-list">\n                </ul>\n                <div class="make-friend-people-switch-gap"></div>\n            </div>\n        </div>\n        <div class="make-friend-subscribe"><em></em><span>关注</span></div>\n        <div class="make-friend-unsubscribe">已关注</div>\n    </div>\n    <div class="make-friend-line"></div>\n    <div class=\'bottom\'></div>\n    <div class=\'top-wrap vp-clearfix\'>\n      <div class="gif">\n        <div id="tip-icon-aini"></div>\n        <i id="week-star">周星礼物</i>\n      </div>\n      <div class="txt">\n          <h3>价格</h3>\n          <h2 class="desc">礼物描述</h2>\n          <h2 class="support"></h2>\n          <div class="eff">\n              <i></i><em>送礼特效</em>\n          </div>\n      </div>\n    </div>\n    <div class="btns vp-clearfix">\n        <ul class="list">\n            <%\n                for(var i = 0;i < 4;i ++)\n                {\n            %>\n                    <li class="btn">\n                        <span >0</span>\n                        <i class="spec"></i>\n                        <img>\n                        <giftbox-text></giftbox-text>\n                    </li>\n            <%\n                }\n            %>\n        </ul>\n        <span class="btn send normal">赠送</span>\n    </div>\n\n    <div class="single-send-wrap">\n      <span class="btn send single">赠送</span>\n    </div>\n     <div class="player-arrow-down arrow"></div>\n     <div class="gift-tip-gap"></div>\n</div>\n',__filename="src/tpl/gift/gift-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){__append('<div id="player-gift-tip" propsId="0">\n    <div class="super-fans-gift">\n       <div class="super-fans-gift-content">\n         <p></p>\n         <div class="super-fans-gift-arrow"></div>\n         <i></i>\n       </div>\n    </div>\n\n    <div class="motorcade-gather-gift">\n        <div class="motorcade-gather-gift-content">\n          <p></p>\n          <div class="motorcade-gather-link">\n            <i></i>\n            <div class="arrow-right"></div>\n        </div>\n        </div>\n     </div>\n\n\n     <div class="gift-tip-diy-banner"><img></div>\n\n    <div class="make-friend-gift">\n        <div class="make-friend-cur-people-group">\n            <div id="make-friend-cur-people">\n                <p>赠送</p>\n                <img src="">\n                <div class="mic-name mic-name-color"></div>\n                <p></p>\n                <div class="make-friend-gift-arrow"></div>\n            </div>\n            <div class="make-friend-people-switch">\n                <ul class="make-friend-people-list">\n                </ul>\n                <div class="make-friend-people-switch-gap"></div>\n            </div>\n        </div>\n        <div class="make-friend-subscribe"><em></em><span>关注</span></div>\n        <div class="make-friend-unsubscribe">已关注</div>\n    </div>\n    <div class="make-friend-line"></div>\n    <div class=\'bottom\'></div>\n    <div class=\'top-wrap vp-clearfix\'>\n      <div class="gif">\n        <div id="tip-icon-aini"></div>\n        <i id="week-star">周星礼物</i>\n      </div>\n      <div class="txt">\n          <h3>价格</h3>\n          <h2 class="desc">礼物描述</h2>\n          <h2 class="support"></h2>\n          <div class="eff">\n              <i></i><em>送礼特效</em>\n          </div>\n      </div>\n    </div>\n    <div class="btns vp-clearfix">\n        <ul class="list">\n            '),__line=59;for(var i=0;i<4;i++)__line=62,__append('\n                    <li class="btn">\n                        <span >0</span>\n                        <i class="spec"></i>\n                        <img>\n                        <giftbox-text></giftbox-text>\n                    </li>\n            '),__line=69;__line=71,__append('\n        </ul>\n        <span class="btn send normal">赠送</span>\n    </div>\n\n    <div class="single-send-wrap">\n      <span class="btn send single">赠送</span>\n    </div>\n     <div class="player-arrow-down arrow"></div>\n     <div class="gift-tip-gap"></div>\n</div>\n'),__line=82}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},"vpA/":function(e,t,i){e.exports=function(e){var t,n,r,a,o=this,s=!1,c=0,l=0,u=!1;this.layout=b,this.setPkActive=function(e){n.isPkActive(e)};var d=i("9ZdH"),p=i("Eadi"),h=i("u04c"),f=i("DcsG");function m(){g()||($("#player-left-head").show(),s=!0,l=0,clearInterval(c),c=setInterval(_,1e3))}function v(e){0==e.movementX&&0==e.movementY||g()||(l=0,s||m())}function g(){return!(t.isActive||n.isActive||r.isActive||a.isActive)}function y(){l=0,clearInterval(c),$("#player-left-head").hide(),s=!1,n.isMouseOverHead=t.isMouseOverHead=!1}function _(){u||++l>=3&&y()}function w(){u=!0}function S(){u=!1}function b(){var e=$("#player-wrap").height(),t=$("#player-left-head").height(),i=Math.max(e-t>>1,0);$("#player-left-head").css("top",i)}t=new p(e,o),n=new d(e,o),r=new h(e,o),a=new f(e,o),$("#player-wrap").mouseenter(m),$("#player-wrap")[0].onmousemove=v,$("#player-wrap").mouseleave(y),$("#player-left-head").hover(w,S),$(window).resize(b)}},w0Uv:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-gift-send-all-dialog">\n    <i class="close"></i>\n    <ul class="gift-icon-list">\n        <% gifts.forEach(function(gift) { %>\n            <li class="gift-item" data-id="<%= gift.id %>" data-name="<%= gift.name %>" data-icon="<%= gift.icon %>">\n                    <img src="<%= gift.icon %>" alt="<%= gift.name %>">\n            </li>\n        <% }); %>\n    </ul>\n    <p class="tittle"></p>\n    <div class="price-group">\n      <span>（价值</span>\n      <div class="icon"></div>\n      <span class="price-value">9999</span>\n      <span>）</span>\n    </div>\n    <p class="illustrate">如您是未成年人，请务必征得监护人同意</p>\n    <div class="gift-check-box">\n        <div class="check-icon">\n            <svg class="normal" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M6 0.75C8.89949 0.75 11.25 3.1005 11.25 6C11.25 8.89949 8.89949 11.25 6 11.25C3.1005 11.25 0.75 8.89949 0.75 6C0.75 3.1005 3.1005 0.75 6 0.75Z" stroke="#DDDDDD" stroke-width="1.5"/>\n            </svg>\n            <svg class="selected" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M6 0C9.31371 0 12 2.68629 12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0Z" fill="#FFD732"/>\n                <path d="M3.375 5.625L5.25 7.5L8.625 4.125" stroke="#222222" stroke-width="1.125"/>\n            </svg>\n            </svg>\n        </div>\n        <span>下次送礼不再提示</span>\n    </div>\n    <div class="btn">立即送出</div>\n</div>',__filename="src/tpl/gift/gift-send-all-dialog.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-gift-send-all-dialog">\n    <i class="close"></i>\n    <ul class="gift-icon-list">\n        '),__line=4,gifts.forEach((function(e){__append('\n            <li class="gift-item" data-id="'),__line=5,__append(escapeFn(e.id)),__append('" data-name="'),__append(escapeFn(e.name)),__append('" data-icon="'),__append(escapeFn(e.icon)),__append('">\n                    <img src="'),__line=6,__append(escapeFn(e.icon)),__append('" alt="'),__append(escapeFn(e.name)),__append('">\n            </li>\n        '),__line=8})),__append('\n    </ul>\n    <p class="tittle"></p>\n    <div class="price-group">\n      <span>（价值</span>\n      <div class="icon"></div>\n      <span class="price-value">9999</span>\n      <span>）</span>\n    </div>\n    <p class="illustrate">如您是未成年人，请务必征得监护人同意</p>\n    <div class="gift-check-box">\n        <div class="check-icon">\n            <svg class="normal" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M6 0.75C8.89949 0.75 11.25 3.1005 11.25 6C11.25 8.89949 8.89949 11.25 6 11.25C3.1005 11.25 0.75 8.89949 0.75 6C0.75 3.1005 3.1005 0.75 6 0.75Z" stroke="#DDDDDD" stroke-width="1.5"/>\n            </svg>\n            <svg class="selected" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                <path d="M6 0C9.31371 0 12 2.68629 12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0Z" fill="#FFD732"/>\n                <path d="M3.375 5.625L5.25 7.5L8.625 4.125" stroke="#222222" stroke-width="1.125"/>\n            </svg>\n            </svg>\n        </div>\n        <span>下次送礼不再提示</span>\n    </div>\n    <div class="btn">立即送出</div>\n</div>'),__line=32;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},w2x3:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-vr-lead">\n   <div class="player-vr-lead-left"></div>\n   <div class="player-vr-lead-right"></div>\n   <div class="player-vr-lead-title title-1">方式一  鼠标</div>\n   <div class="player-vr-lead-title title-2">方式二  操控盘</div>\n   <div class="player-vr-lead-text text-1">拖动屏幕可任意移动方向\n   滑动滚轮可移动焦距</div>\n   <div class="player-vr-lead-text text-2">点击上下左右可移动\n   全景视角</div>\n   <div class="player-vr-lead-line"></div>\n   <div class="player-vr-lead-close"></div>\n</div>\n',__filename="src/tpl/vr/vr-lead.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-vr-lead">\n   <div class="player-vr-lead-left"></div>\n   <div class="player-vr-lead-right"></div>\n   <div class="player-vr-lead-title title-1">方式一  鼠标</div>\n   <div class="player-vr-lead-title title-2">方式二  操控盘</div>\n   <div class="player-vr-lead-text text-1">拖动屏幕可任意移动方向\n   滑动滚轮可移动焦距</div>\n   <div class="player-vr-lead-text text-2">点击上下左右可移动\n   全景视角</div>\n   <div class="player-vr-lead-line"></div>\n   <div class="player-vr-lead-close"></div>\n</div>\n'),__line=13;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},w7YG:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("ETIr"),i("cv67"),i("K3mO"),i("OLod"),function(){var e=n,t=e.lib.StreamCipher,i=e.algo,r=i.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,n=this._S=[],r=0;r<256;r++)n[r]=r;r=0;for(var a=0;r<256;r++){var o=r%i,s=t[o>>>2]>>>24-o%4*8&255;a=(a+n[r]+s)%256;var c=n[r];n[r]=n[a],n[a]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,i=this._j,n=0,r=0;r<4;r++){i=(i+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[i],e[i]=a,n|=e[(e[t]+e[i])%256]<<24-8*r}return this._i=t,this._j=i,n}e.RC4=t._createHelper(r);var o=i.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});e.RC4Drop=t._createHelper(o)}(),n.RC4)},w7qN:function(e,t,i){var n=i("oTF3").default;e.exports=function(e){var t=e.G,i=e.ISDEBUG,r=e.Console,a=e.R,o=e.Event;this.reqABtest=function(e){var s={platform:"web",businessId:"huya",uid:t.yyuid,guid:t.getGuid(),env:i,variable:{client_mid:e}},c=new n(s),l=Date.now();c.getABExtParam().then((function(e){var i=Date.now();r.log("ABTest Config get Time "+(i-l)+"ms"),r.log("ABTest abConfig",e),e&&(ya&&ya.setExtParam("oexp="+e.mpExperiment),a.newHuyaReport({eid_desc:"系统/ABTEST/活动的",eid:"sys/abtest/activate",prop:JSON.stringify(e.mpConfig),uid:t.yyuid}),localStorage.abConfig=JSON.stringify(e),t.abConfig=e,o.fireEvent(o.ABTEST_INITED))}))}}},wQPa:function(e,t,i){"use strict";i.r(t),i.d(t,"STRATEGY_TYPE_KEY_FREQ_CONTROL",(function(){return n})),i.d(t,"STRATEGY_TYPE_NEGATIVE_FEEDBACK",(function(){return r})),i.d(t,"STRATEGY_TYPE_NO_REPLACE_OTHERS",(function(){return a})),i.d(t,"STRATEGY_TYPE_AGGREGATION_CONTROL",(function(){return o}));var n=1,r=8,a=16,o=32},wZgz:function(e,t,i){var n;e.exports=(n=i("Ib8C"),i("ETIr"),i("cv67"),i("K3mO"),i("OLod"),function(){var e=n,t=e.lib.BlockCipher,i=e.algo,r=[],a=[],o=[],s=[],c=[],l=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,r[i]=f,a[f]=i;var m=e[i],v=e[m],g=e[v],y=257*e[f]^16843008*f;o[i]=y<<24|y>>>8,s[i]=y<<16|y>>>16,c[i]=y<<8|y>>>24,l[i]=y,y=16843009*g^65537*v^257*m^16843008*i,u[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,p[f]=y<<8|y>>>24,h[f]=y,i?(i=m^e[e[e[g^m]]],n^=e[e[n]]):i=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],o=0;o<n;o++)o<i?a[o]=t[o]:(l=a[o-1],o%i?i>6&&o%i==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=f[o/i|0]<<24),a[o]=a[o-i]^l);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(o=n-c,c%4)var l=a[o];else l=a[o-4];s[c]=c<4||o<=4?l:u[r[l>>>24]]^d[r[l>>>16&255]]^p[r[l>>>8&255]]^h[r[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,r)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,a),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,a,o,s){for(var c=this._nRounds,l=e[t]^i[0],u=e[t+1]^i[1],d=e[t+2]^i[2],p=e[t+3]^i[3],h=4,f=1;f<c;f++){var m=n[l>>>24]^r[u>>>16&255]^a[d>>>8&255]^o[255&p]^i[h++],v=n[u>>>24]^r[d>>>16&255]^a[p>>>8&255]^o[255&l]^i[h++],g=n[d>>>24]^r[p>>>16&255]^a[l>>>8&255]^o[255&u]^i[h++],y=n[p>>>24]^r[l>>>16&255]^a[u>>>8&255]^o[255&d]^i[h++];l=m,u=v,d=g,p=y}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^i[h++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^i[h++],g=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^i[h++],y=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^i[h++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),n.AES)},wbyO:function(e,t,i){var n,r,a;e.exports=(a=i("Ib8C"),r=(n=a).lib.WordArray,n.enc.Base64url={stringify:function(e,t=!0){var i=e.words,n=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var a=[],o=0;o<n;o+=3)for(var s=(i[o>>>2]>>>24-o%4*8&255)<<16|(i[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|i[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<n;c++)a.push(r.charAt(s>>>6*(3-c)&63));var l=r.charAt(64);if(l)for(;a.length%4;)a.push(l);return a.join("")},parse:function(e,t=!0){var i=e.length,n=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var o=0;o<n.length;o++)a[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(i=c)}return function(e,t,i){for(var n=[],a=0,o=0;o<t;o++)if(o%4){var s=i[e.charCodeAt(o-1)]<<o%4*2,c=i[e.charCodeAt(o)]>>>6-o%4*2,l=s|c;n[a>>>2]|=l<<24-a%4*8,a++}return r.create(n,a)}(e,i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},a.enc.Base64url)},wdHI:function(e,t,i){e.exports=function(e,t){var n,r,a=t.G,o=t.Event,s=t.utils,c=i("uV0n"),l=i("leE4");function u(){return n||(n=new c(e,t)),n}function d(e){u().show(e.currentTarget)}function p(e){e&&($(e.toElement||e.relatedTarget).is("#player-gift-tip")||$(e.toElement||e.relatedTarget).parents("#player-gift-tip").length)||u().hide()}function h(t){if(u().setLastSendTime((new Date).getTime()),s.stopPropagation(t),!l.isLock(t.currentTarget)){l.lock(t.currentTarget);var i=$(t.currentTarget),n=a.curSeriesGiftType||i.attr("propsId"),r=i.attr("iPropsPermission");20543!=n?1!=r||a.isSuperFans?(u().setCombo(n,1),e.sendGift(n,1)):o.fireEvent(o.SHOW_OPEN_SUPER_FANS):u().gatherMotorcade()}}(r=e.getLayer().find(".player-face-gift")).mouseenter(d),r.mouseleave(p),r.click(h),this.clearCombo=function(){u().clearCombo()},this.setCombo=function(e,t){u().setCombo(e,t)},this.clear=function(){n&&(n.clear(),n=null)},this.removePanelGiftEvent=function(e){e.find(".gift-panel-item").unbind()},this.addPanelGiftEvent=function(e){var t=e.find(".gift-panel-item");t.mouseenter(d),t.mouseleave(p),t.click(h)}}},wmUL:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<div class=\"player-banner-gift\" id='player-banner-gift-<%=id%>'>\n    <img  type='<%=iItemType%>' />\n   <p>\n        <%- content %>\n   </p> \n</div>\n",__filename="src/tpl/notice/banner-gift.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-gift" id=\'player-banner-gift-'),__append(escapeFn(id)),__append("'>\n    <img  type='"),__line=2,__append(escapeFn(iItemType)),__append("' />\n   <p>\n        "),__line=4,__append(content),__append("\n   </p> \n</div>\n"),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},xJND:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="task-item">\n    <div class="icon">\n        <img alt="" />\n    </div>\n    <div class="content">\n        <div class="info">\n            <div class="name ellipsis"></div>\n        </div>\n        <div class="prize-list"></div>\n    </div>\n    <div class="btn"></div>\n    <div class="line"></div>\n</div>',__filename="src/tpl/box/task-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="task-item">\n    <div class="icon">\n        <img alt="" />\n    </div>\n    <div class="content">\n        <div class="info">\n            <div class="name ellipsis"></div>\n        </div>\n        <div class="prize-list"></div>\n    </div>\n    <div class="btn"></div>\n    <div class="line"></div>\n</div>'),__line=13;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},xkVf:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(i,!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.exports=function(e){var t=e.G,r=e.Event,o=e.R,s=e.Console,c=e.alert,l=e.utils,u=e.ISDEBUG,d=e.ENV;function p(){for(var e=t.calljsCache.length,i=0;i<e;i++){var n=t.calljsCache[i],a=n.key,o=n.data;r.fireEvent(a,o)}t.uiIsInited=!0,t.calljsCache=[]}function h(){e.box&&e.ctrl.closeFeedback()}function f(t){localStorage.mydebug?c.show({msg:"跳转到Flash的行为中断，因为你配置了mydebug参数",type:1,title:"播放器提示"}):e.trigger("playerError")}function m(){var i=function(){var e=[];t.livingInfo.vMediaStreamInfo?e=t.livingInfo.vMediaStreamInfo.value:t.livingInfo.tNotice&&(e=t.livingInfo.tNotice.vStreamInfo.value);for(var i in e)if(e[i].iLineIndex!=t.videoLine)return e[i].iLineIndex;return t.videoLine}();e.ctrl&&e.ctrl.updateCurBitRateMenu(),r.fireEvent(r.SWITCH_LINE,i)}!function n(){if(n.isInited)return;n.isInited=!0,Object.defineProperties(e,{userId:{get:function(){return t.userId}}}),$(document).on("click","#change-line-btn",(function(){m(),$(".player-loading-changeline").hide(),o.huyuReport("click/zhibo/breakdown/changeline")})),$(document).on("click","#download-pc-btn",y),function(){var e=i("98Ts")();$("#videoContainer").append(e);var t=i("ShZB")();$("#player-wrap").append(t)}(),r.addEvent(r.CHANGE_TO_FLASH,f),r.addEvent(r.TONGJI_READY,k),r.addEvent(r.FOLLOW_LIST_READY,x),r.addEvent(r.HUYA_REPORT,o.huyuReport),r.addEvent(r.SET_DISPLAY_BARRAGE_TAGS,R),r.addEvent(r.CHANGE_OTHER_LINE,m),r.addEvent(r.FEEDBACK_SDK_READY,A),r.addEvent(r.VIDEO_RESIZE,P),r.addEvent(r.PLAYER_UI_INITED,p)}();var v=0,g=0;function y(){var e=Date.now();if(!(e-g<1e3)){g=e,o.huyuReport("Click/zhibo/breakdown/pc");var i="-huyaptgoto -pid=%1 -tid=%2 -sid=%3";i=(i=(i=i.replace("%1",t.presenterUid)).replace("%2",t.topsid)).replace("%3",t.subsid);var n="http://127.0.0.1:20192/?CheckClientInstall=1&OpenClient="+encodeURIComponent(i);$.ajax({url:n,type:"GET",dataType:"jsonp",data:{}}).done((function(e){s.log("onClickPCDownLoad",e),clearTimeout(v),e.result&&0==e.result.errcode&&0==e.result.isInstall?S():e.result&&0==e.result.errcode&&1==e.result.isInstall?r.fireEvent(r.SHIPIN_PAUSE):S()})),clearTimeout(v),v=setTimeout((function(){S()}),1e3)}}function _(t,i){e.vcore.addTafListener(t,i)}function w(t,i){e.vcore.removeTafListener(t,i)}function S(){var e="//download.huya.com/huyapc/install/HuyaClientInstall023.exe",t=l.appStoreDownLoad(e);t?window.open(t):window.location.href=e}function b(t,i,n){e.vcore.sendWup(t,i,n)}function I(t,i,n,r,a,o,s){e.vcore.sendWup2(t,i,n,r,a,o,s)}function E(t){e.vcore.registerGroup(t)}function T(t){e.vcore.unRegisterGroup(t)}function k(e){o.tongjiReady(e)}var C=null;function x(e){t.followList=e}function A(e){t.feedbackSdk=e,t.logUtils.feedbackSdkReady()}function R(e){t.extBarrageTags=e.tags||[]}function P(){var i=a({},t.videoOffset);i.props=L();var n={key:"video",list:[i]};(s.log("nativeCompOffsetChange",n),e.trigger("nativeCompOffsetChange",n),t.hasVideoPiexlate)&&($("#video-pixelate-box").css(t.videoOffset),1==t.doubleScreenStatus&&$("#video-pixelate-box1").css(t.videoOffset))}function L(){var e={rewardAdStatus:t.rewardAdStatus};return e=JSON.stringify(e)}function M(){var e=M.id||0;return M.id=++e,"wsId"+M.id}var D="huyaweb://",B="iframeH5",N="hyaction";t.vplayer.addTafListener=_,t.vplayer.removeTafListener=w,t.vplayer.sendWup=b,t.vplayer.sendWup2=I,t.vplayer.getMyInfo=function(){return t.userInfo},t.vplayer.dynamicLogin=function(){t.yyuid=parseInt(l.getCookie("yyuid")),t.isLogin=!isNaN(t.yyuid)&&t.yyuid>0,r.fireEvent(r.DYNAMIC_LOGIN)},t.vplayer.registerGroup=E,t.vplayer.unRegisterGroup=T,t.vplayer.registerGroupList=function(t){e.vcore.registerGroupList(t)},t.vplayer.unRegisterGroupList=function(t){e.vcore.unRegisterGroupList(t)},t.vplayer.getPerspectiveList=function(){return t.obPerspectiveList},t.vplayer.getCurrentPerspective=function(){return t.obCurrentPerspective},t.vplayer.setPerspective=function(t){return e.vcore?(r.fireEvent(r.SET_PERSPECTIVE,t),0):-1},t.vplayer.getMatchInfo=function(){return{status:t.obStatus}},t.vplayer.hover=function(){return r.fireEvent(r.EXT_HOVER),0},t.vplayer.doubleTapped=function(){return r.fireEvent(r.DOUBLE_TAPPED),0},t.vplayer.triggerVideoClick=function(e){return r.fireEvent(r.EXT_TRIGGER_VIDEO_CLICK,e),{res:0,msg:"",data:{}}},t.vplayer.getJoinMicUserList=function(){return e.makefriend?e.makefriend.getJoinMicUserList():{res:-1,msg:"交友模块未初始化完成",data:[]}},t.vplayer.sendGiftToUser=function(t){var i=new Promise((function(i,n){var r=a({},t);if(r.resolve=i,r.reject=n,e.gift)e.gift.sendGiftToUser(r);else{r.reject({res:-2,msg:"礼物模块未初始化完成",data:{}})}}));return s.log("sendGiftToUser promise",i),i},t.vplayer.setLiveRoomFeatures=function(e){t.roomFeatures=e,r.fireEvent(r.SET_LIVEROOM_REATURES);var i={};return Object.keys(e).forEach((function(t){e[t]&&"object"==n(e[t])&&!l.objectIsEmpty(e[t])&&(i[t]=!0)})),{res:0,msg:"",data:i}},t.vplayer.getLiveRoomFeatures=function(){return{res:0,msg:"",data:{player:{status:t.isUIPause?"paused":"playing"},barrage:{enable:t.isShowDanmu},ui:{activated:t.uiActivated},effect:{giftEffectEnable:t.giftEffectEnable}}}},t.vplayer.playLive=function(t){s.log("playLive",t);var i=new Promise((function(i,n){var r=a({},t);r.resolve=i,r.reject=n,e.getStreamInfoByStreamName(r)}));return s.log("playLive promise",i),i},t.vplayer.setVideoPixelateBox=function(e){t.h5player&&t.h5player.setVideoPixelateBox(e)},t.vplayer.setVideoPixelateData=function(e){t.h5player&&t.h5player.setVideoPixelateData(e)},t.vplayer.pushVideoPixlateInfo=function(e){t.h5player&&t.h5player.pushVideoPixlateInfo(e)},t.vplayer.pushVoiceMuteInfo=function(e){t.h5player&&t.h5player.pushVoiceMuteInfo(e)},t.vplayer.wsConnect=function(e){var t=M();return e.id=t,r.fireEvent(r.EXT_WS_CONNECT,e),s.log("wsConnect",e),{res:0,msg:"",data:{wsId:t}}},t.vplayer.wsSend=function(e){return r.fireEvent(r.EXT_WS_SEND,e),{res:0,msg:"",data:{}}},t.vplayer.wsClose=function(e){return r.fireEvent(r.EXT_WS_CLOSE,e),s.log("wsClose",e),{res:0,msg:"",data:{}}},t.vplayer.switchLine=function(e){e&&e.line&&r.fireEvent(r.SWITCH_LINE,e.line)},t.vplayer.getCurrentLine=function(){return t.videoLine},t.vplayer.getLinesInfo=function(){var e=[];for(var i in t.menuItems){var n=t.menuItems[i].line;e.push({line:n,label:"直播线路"+n})}return e},t.vplayer.sendExtWup=function(i){return!(!t.wsconnected||!t.vplayerUI)&&(t.extTafFunName[i.funcName]=1,function(t){e.vcore.send(t)}(i.buff),!0)},t.vplayer.setExtUri=function(e){t.extTafUri[e]=1},t.vplayer.openUrl=function(i){var n=i.url;if(s.log("==openUrl:",i),!i||!n)return{res:1,msg:"参数错误",data:{}};if(r.fireEvent(r.QUIT_FULL_SCREEN),-1!=n.indexOf(D))return function(i,n){var a={res:0,msg:"成功",data:{}};switch(i){case"openAccompanyOrderPay":e.accompany.openAccompanyOrderPay(n);break;case"openActivityPannel":a=e.leftIcon.openActivityPannel(n);break;case"openDIYActivityById":a=e.leftIcon.openDIYActivityById(n);break;case"liveRoomRecharge":t.vplayerUI.recharge(n);break;case"openSuperFansRecharge":e.trigger("clickSuperFansRecharge");break;case"openNobleRecharge":e.trigger("clickNobleRecharge");break;case"openGuard":e.trigger("openGuard");break;case"openTvPanel":e.trigger("clickTVIcon");break;case"showSlapFace":var o=Object.assign({},n);o.action=decodeURIComponent(o.action),o.reportData=decodeURIComponent(o.reportData),o.type=7,r.fireEvent(r.HY_ACTION,o);break;case"openModalH5":var s=Object.assign({drag:!0},n);s.url&&(s.url=decodeURIComponent(s.url)),e.trigger("openModalH5",s);break;default:a={res:2,msg:"未定义的接口名",data:{}}}return a}(l.getUrlRelativePath(n,D),l.parseQueryString(n));if(-1!=n.indexOf(B)){var a=l.parseQueryString(n),o=a.width,c=a.height,u={url:n,drag:!0};o&&c&&(u.width=parseInt(o),u.height=parseInt(c)),e.trigger("openModalH5",u)}else{if(!/(http|https):\/\/([\w.]+\/?)\S*/.test(n))return{res:3,msg:"未知操作",data:{}};-1!=n.indexOf(N)?r.fireEvent(r.HY_ACTION_NEW,n):window.open(n)}return{res:0,msg:"成功",data:{}}},t.vplayer.showFeedbackByExt=function(e){return r.fireEvent(r.SHOW_FEEDBACK_BY_EXT,e),{res:0,msg:"成功",data:{}}},t.vplayer.getMakeFriendMode=function(){var i=new Promise((function(i){t.isMakeFriend||i({res:-1,msg:"非交友品类直播间",data:{}}),e.makefriend.getMakeFriendMode(i)}));return s.log("getMakeFriendMode promise",i),i},t.vplayer.getCurrentStreamName=function(){var e=new Promise((function(e){t.streamInfo?e({res:0,msg:"获取流名称成功",data:{streamName:t.streamInfo.sStreamName}}):e({res:-1,msg:"未获取没有流信息",data:{}})}));return s.log("getCurrentStreamName promise",e),e},t.vplayer.getNativeCompOffset=function(i){if(!i||!i.key)return{res:-1,msg:"参数错误",data:{}};var n=i.key;if("video"==n){var r=a({},t.videoOffset);t.hasVideo||(r={width:0,height:0,left:0,top:0}),r.props=L();var o={list:[r]};return s.log("rezise getNativeCompOffset",o),{res:0,msg:"成功",data:o}}return"linkMicAvatar"==n?t.isMakeFriend?e.makefriend.getNativeCompOffset():{res:1019,msg:"当前品类不支持此接口",data:{list:[]}}:{res:1020,msg:"当前端不支持此参数",data:{}}},t.vplayer.createExtAd=function(t){return e.huyaAD.createExtAd(t)},t.vplayer.showExtAd=function(t){return e.huyaAD.showExtAd(t)},t.vplayer.closeExtAd=function(t){return e.huyaAD.closeExtAd(t)},t.vplayer.getLiveroomEffectStatus=function(t){return e.roomEffectStatus.getLiveroomEffectStatus(t)},t.vplayer.addLiveroomEffectStatusChange=function(t){return e.roomEffectStatus.addLiveroomEffectStatusChange(t)},t.vplayer.delLiveroomEffectStatusChange=function(t){return e.roomEffectStatus.delLiveroomEffectStatusChange(t)},t.vplayer.getControlStatus=function(){return{res:0,msg:"成功",data:{visibility:t.ctrlIsShow}}},t.vplayer.sendExtActivityGift=function(t){return e.gift.sendExtActivityGift(t)},t.vplayer.getDynamicConfigString=function(t){return new Promise((function(i){if(!t||!t.key)return i({res:-1,msg:"参数错误",data:{}});"specialBarrageWebCDConfig"==t.key?i({res:0,msg:"成功",data:e.roomSet.getBarrageWebCDConfig()}):i({res:-1,msg:"未定义的key",data:{}})}))},t.vplayer.popupEnQueue=function(t){return e.popupManager.popupEnQueue(t)},t.vplayer.popupDeQueue=function(t){return e.popupManager.popupDeQueue(t)},t.vplayer.getPopupCloseBtn=function(t){return e.popupManager.getPopupCloseBtn(t)},t.vplayer.addDataChannelPortListener=function(e){try{var i=e.port;return null==i||""===i?{res:1,msg:"参数错误",data:{}}:(t.extSeiPortMap[i]=!0,t.h5player.addDataChannelPortListener(i),{res:0,msg:"成功",data:{}})}catch(e){return{res:2,msg:"失败"+JSON.stringify(e),data:{}}}},t.vplayer.removeDataChannelPortListener=function(e){try{var i=e.port;return null==i||""===i?{res:1,msg:"参数错误",data:{}}:(delete t.extSeiPortMap[i],t.h5player.removeDataChannelPortListener(i),{res:0,msg:"成功",data:{}})}catch(e){return{res:2,msg:"失败"+JSON.stringify(e),data:{}}}},t.vplayer.getAllSubscribeToUidList=function(t){return e.allSubscribe.getAllSubscribeToUidList(t)},t.vplayer.sendBarrage=function(t){return e.barrage.sendBarrage(t)},t.vplayer.getUserCardPackage=function(t){return e.userCardPackage.getUserCardPackage(t)},t.vplayer.setNativeConfigVisible=function(t){return e.shieldSetList.setNativeConfigVisible(t)},t.vplayer.getNativeConfigValue=function(t){return e.shieldSetList.getNativeConfigValue(t)},t.vplayer.setNativeConfigValue=function(t){return e.shieldSetList.setNativeConfigValue(t)},t.vplayer.onNativeConfigValueChange=function(t){return e.shieldSetList.onNativeConfigValueChange(t)},t.vplayer.offNativeConfigValueChange=function(t){return e.shieldSetList.offNativeConfigValueChange(t)},e.addTafListener=_,e.removeTafListener=w,e.sendWup=b,e.sendWup2=I,e.sendWupNew=function(t,i,n,r){return e.vcore.sendWupNew(t,i,n,r)},e.registerGroup=E,e.unRegisterGroup=T,e.closeAllPanel=h,e.popLogin=function(){e.ctrl&&e.ctrl.quitFullscreen(),e.trigger("webgamelivelogin"),h()},e.setLineList=function(t){e.ctrl&&e.ctrl.setLineList(t)},e.setBitRateList=function(t){e.ctrl&&e.ctrl.setBitRateList(t)},e.showPlayTip=function(t){e.ctrl&&e.ctrl.showPlayTip(t)},e.showFeedback=function(){e.ctrl&&e.ctrl.showFeedback()},e.quitFullscreen=function(){e.ctrl&&e.ctrl.quitFullscreen()},e.changeToFlash=f,e.turnPlayButtonOn=function(){e.ctrl&&e.ctrl.turnPlayButtonOn()},e.setDanmuVisible=function(t){e.ctrl&&e.ctrl.setDanmuVisible(t)},e.sendEnterP2P=function(t){e.vcore.sendEnterP2P(t)},e.sendExitP2P=function(t){e.vcore.sendExitP2P(t)},e.getLivingInfo=function(){e.vcore.getLivingInfo()},e.getStreamInfoByStreamName=function(t){e.vcore.getStreamInfoByStreamName(t)},e.unpackNest=function(t){e.vcore.unpackNest(t)},e.getCurrentTime=function(){return e.vcore.getCurrentTime()},e.recharge=function(t){e.ctrl.recharge(t)},e.getADReport=function(){if(null==C){C=i("53Ew");var e=t.userId.sHuYaUA.replace("webh5","web");C.setConfig({isTest:u&&!d.online,tafOpts:{ua:t.userId.sHuYaUA,extraMap:{abUA:e}}})}return C},e.userInfoInitedCallback=function(e){t.isUserInfoInited()?e():r.addEvent(r.USER_INFO_INITED,e)}}},xn3N:function(e,t,i){e.exports=function(e){var t,n=e.G,r=e.Event,a=e.utils,o=e.Console,s=e.taf,c=s.Taf,l=s.AdxServer,u=s.ExtAdvertisement,d=s.HUYA,p=null,h=null,f=null,m=null,v=null,g=0,y=!1,_="",w="",S=30,b=e.getADReport(),I=30,E=null,T=null,k=.5,C=!1,x=6,A="webExtAd",R="",P="",L=null,M=!1,D=null,B=!1,N=null,U={};function F(){var i;b.reportPageView(h,U),i={slotcode:_,style:"bigarea"},e.huyaAD.huyaReportShow(t,i)}function O(){b.reportClick(h,U),e.huyaAD.openAdUrl(t,T,!1);var i={slotcode:_,style:"bigarea",area:"body",url:T.landingUrl};e.huyaAD.huyaReportClick(t,i)}function H(){p&&(p.remove(),p.unbind(),p=null),E&&E.clear(),clearTimeout(g),r.removeEvent(r.VOLUME_CHANGE,Z),f=null,m=null,v=null,M=!1,B=!1}function G(){e.vcore.volume=n.volume}function V(){var i,n=S>0?{}:{quit:2};n=Object.assign({},U,n),b.reportClose(h,n),G(),i={slotcode:_,style:"bigarea",close_type:"close"},e.huyaAD.huyaReportClose(t,i),E&&E.onCloseReportVideo(),H()}function W(e,t){var i=p.find("#ext-ab");i.find(".ab-video").remove();var n=t||e;$(n).attr("class","ab-video"),i.append(n),F()}function q(e,t){var i=Math.floor(t),n=Math.floor(e),r=(i=Math.min(i,I))-n;(S=r)<=0?Q():m&&(m.show(),m.text("".concat(r,"s后领取奖励")))}function j(){M||(E&&E.clear(),S=0,G(),p.find(".ext-ab-content").addClass("video-end-mode"),f.addClass("finish"),Q(),M=!0)}function z(){y=!0,J()}function Y(e){a.stopPropagation(e),y=!y,J()}function J(){var e=p.find("#sound");e.removeClass("sound-close"),y&&e.addClass("sound-close"),Z()}function K(e){var i=t,n=i.iconUrl,r=i.actionTxt,a=i.title,o=i.brand;e.find(".title").text(o),e.find(".title").attr("title",o),e.find(".explain").text(a),e.find(".explain").attr("title",a),e.find(".details-btn").text(r||"了解详情"),e.find(".banner-icon").attr("src",n)}function Z(){i("uEkN").getData("extAdVolume",(function(e){o.log("extAdVolume:",n.volume,e);var t=e||k;if(E){var i=n.volume/100*t;y&&(i=0),E&&E.setVolume(i)}}))}function X(e){a.stopPropagation(e),v.hide(),S>0&&E&&E.play("12")}function Q(){if(!B){B=!0;var i=setTimeout((function(){B=!1}),2e3);m.text("领取中...");var a=new d.AwardADTaskReq;a.tId=n.userId,a.iBusiness=P||x,a.sTaskId=R||_,a.iOpType=2,a.sADuuid=t.id,a.iRoundLoopStart=0,a.sAppId=A,e.sendWup2("wupui","awardADTask",a,(function(e){clearTimeout(i);var t,n=e.iCode,a=e.sMsg,o=e.bcode;t=0==o&&0==n,m.text(t?"已获得奖励":"领取失败"),0!=n&&a&&r.fireEvent(r.SHOW_COMMON_TOAST,a)}))}}this.setData=function(s){console.log("ExtAd.setData()"),H(),t=s,o.log("小程序广告",s);var u=s.sdkConf,d=s.iconUrl;h=a.unescapeHTML(u),U=e.huyaAD.setADEnv(t,U);try{T=JSON.parse(h)}catch(e){return console.log("宝箱 parse sdkConf error"),r.fireEvent(r.SHOW_COMMON_TOAST,"广告数据异常，请稍后重试"),{res:4,msg:"广告sdkConfig解析错误",data:{}}}o.log("小程序广告",s,T);var g,y,_=i("cyOM")();if(p=$(_),$(D).append(p),N&&p.css({width:N.width,height:N.height}),!function(){var n=t,r=n.adExtCommonInfo,a=n.videoUrl,s=new c.JceInputStream(r.buffer),u=new l.AdExtCommonInfo;if(u.readFrom(s),o.log("小程序激励广告视频信息 adComInfo",u),null==(L=e.huyaAD.getVideoInfo(u))){if(!a)return o.log("未获取到小程序激励广告信息"),!1;L={videoUrl:a,isMp4:!0}}if(null==E){var d=i("vNGJ"),p=Object.assign({},U,{playVersion:1});E=new d(e,W,q,j,z,p)}return!0}())return{res:5,msg:"没有视频广告的链接",data:{}};if(d){var w=n.makeHttpsUrl(d),b=p.find(".bg-img");b.css("background","url("+w+") no-repeat"),b.css("background-size","100% 100%"),b.show()}return p.find("#sound").click(Y),p.find(".ext-ab-content").click(O),f=p.find(".ext-ab-close"),m=f.find("#ext-ab-time"),f.click((function(e){a.stopPropagation(e),S<=0?V():(E&&E.pause(),null==v&&((v=p.find(".popup-pannel")).find(".leave").click((function(e){a.stopPropagation(e),v.hide(),V()})),v.find(".goon").click(X)),v.css("display","flex"),v.find(".reward-text").text("再看".concat(S,"s可得奖励")))})),g=p.find(".banner-group-end"),y=p.find(".banner-bottom"),K(g),K(y),C&&y.addClass("vertical-video-style"),J(),E&&(E.startPlay(L,t,h,0,"12"),e.vcore.volume=0,r.addEvent(r.VOLUME_CHANGE,Z)),{res:0,msg:"成功",data:{}}},this.createExtAd=function(t,i){_=t.slotCode,w=t.uuid,N=t,t&&t.height>t.width&&(C=!0);var r=i;return(D=document.createElement("div")).style.position="absolute",D.style.top="0",function(){var t=new u.GetRewardVideoActionReq;a.copy(t.tId,n.userId),t.extUuid=w,t.slotcode=_,e.sendWupNew("midExtInteractiveUI","getRewardVideoAction",t,u.GetRewardVideoActionRsp).then((function(e){var t=e.response,i=e.action;if(0==t.res){var n=a.parseQueryString(i);n&&(R=n.taskid,P=n.businessid),o.log("actionData:",n)}}))}(),{res:0,msg:"成功",data:{div:D,id:r}}},this.closeExtAd=function(){null!=p&&V()},this.getSlotCode=function(){return _},this.getUuid=function(){return w}}},xtq3:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="common-popup popup-slide-in">\n    <div class="icon"></div>\n    <div class="description">\n        <p class="title ellipsis"></p>\n        <p class="content ellipsis"></p>\n    </div>\n    <div class="btn"></div>\n</div>\n',__filename="src/tpl/popup/common-popup.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="common-popup popup-slide-in">\n    <div class="icon"></div>\n    <div class="description">\n        <p class="title ellipsis"></p>\n        <p class="content ellipsis"></p>\n    </div>\n    <div class="btn"></div>\n</div>\n'),__line=9;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},y01X:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-banner-drop" id=\'player-banner-drop-<%=id%>\'>\n    <div class="bg"></div>\n    <p class="player-banner-text">\n        <%= content %>\n    </p>\n</div>\n',__filename="src/tpl/notice/banner-drop.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-drop" id=\'player-banner-drop-'),__append(escapeFn(id)),__append('\'>\n    <div class="bg"></div>\n    <p class="player-banner-text">\n        '),__line=4,__append(escapeFn(content)),__append("\n    </p>\n</div>\n"),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},yJsN:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="component-ab">\n    <div class="ab-concent">\n        <div class="ab-logo"></div>\n    </div>\n    <div class="title ellipsis"></div>\n    <div class="subtitle ellipsis"></div>\n    <div class="tag-list"></div>\n    <div class="download-btn">立即下载</div>\n    <div class="close-btn"></div>\n    <div class="sound-btn sound-close-btn"></div>\n</div>',__filename="src/tpl/ad/component-ad.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="component-ab">\n    <div class="ab-concent">\n        <div class="ab-logo"></div>\n    </div>\n    <div class="title ellipsis"></div>\n    <div class="subtitle ellipsis"></div>\n    <div class="tag-list"></div>\n    <div class="download-btn">立即下载</div>\n    <div class="close-btn"></div>\n    <div class="sound-btn sound-close-btn"></div>\n</div>'),__line=11;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},yLpj:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},yRpe:function(e,t,i){e.exports=function(e,t,n){var r,a,o,s,c,l,u=e.G,d=t,p=0,h=0,f=0,m=0,v=0,g=0,y="";function _(){n.overItem(p,T(),k())}function w(){n.outItem()}function S(e){if(1!=u.paymentStatus){var t=T(),i=E();d(t,i,I())}}function b(){var e=parseInt(h*a/f);e!=m&&(m=e,r.css("left",m))}function I(){return 4==v}function E(){return g}function T(){return h/f*a}function k(){return y}c=i("zilN")(),r=$(c),$("#match-replay-item-container").append(r),r.find(".match-replay-circle"),o=r.find(".match-replay-only-event"),r.hover(_,w),r.click(S),this.showOnlyEventTip=function(){4==v&&(clearTimeout(l),o.fadeIn("normal",(function(){o.show()})))},this.hideOnlyEventTip=function(){4==v&&(l=setTimeout((function(){o.fadeOut("normal",(function(){o.hide()}))}),1e3))},this.setData=function(e){s=e.vEvent.value,g=e.lIdentify,4==(v=e.iPointType)&&function(){for(var e in s){var t=s[e],i=t.sBarIcon;if(y=t.sEventDesc,4==v)return void o.find("img").attr("src",i)}}()},this.undateTime=function(e){p=e.time,f=e.maxTime,h=e.curTime,a=e.maxW,b()},this.updateMaxWidth=function(e){a=e,b()},this.getTime=function(){return p},this.clear=function(){r&&(r.unbind(),r.remove()),r=null},this.isOnlyEvent=I,this.getPos=T,this.getId=E,this.getEventDesc=k}},yUf2:function(e,t,i){"use strict";e.exports=class{constructor(e={}){this.udbAnonymousUid="";try{this.udbAnonymousUid=localStorage.udbAnonymousUid}catch(e){}this.udbAnonymousUid||(this.udbAnonymousUid=this.uuid(13,10),this.getScript("https://a.msstatic.com/huya/hd/cdn_libs/hyudbwebsdk_2.0.2.js",()=>{HyUDBWebSDK.init({appid:e.appid||5002,domain:e.domain||"huya.com",loadFunc:{login:!0,register:!1,thrid:!1,security:!1,api:!1},success:()=>{this.anonymous()},error:function(e){console.log(e)}})}))}uuid(e,t){var i,n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(t=t||r.length,e)for(i=0;i<e;i++)a[i]=r[0|Math.random()*t];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",i=0;i<36;i++)a[i]||(n=0|16*Math.random(),a[i]=r[19==i?3&n|8:n]);return a.join("")}anonymous(){HyUDBWebSDK.Login.anonymous({success:e=>{if(e&&0===e.returnCode&&e.data)try{localStorage.udbAnonymousUid=e.data.uid}catch(e){}},error:e=>{console.log(e)}})}getScript(e,t){let i=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.charset="utf-8",n.src=e,n.onload=n.onreadystatechange=function(){n.readyState&&!/loaded|complete/.test(n.readyState)||(t&&t(),n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n))},i.insertBefore(n,null)}}},yfqf:function(e,t,i){var n=i("bfkE"),r=i("lYYl"),a={},o={},s={},c={},l={loadZip:function(e){return new Promise((function(t,i){n.getBinaryContent(e,(function(e,n){e?i(e):r.loadAsync(n).then((function(e){t(e)}))}))}))},getZipData:function(e){return a[e]||(a[e]=l.loadZip(e)),a[e]},compare:function(e){return function(t,i){var n=t[e],r=i[e];return n>r?1:n<r?-1:0}},loadXMLStr:function(e){var t=null;if(!window.DOMParser&&window.ActiveXObject)for(var i=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],n=0;n<i.length;n++)try{(t=new ActiveXObject(i[n])).async=!1,t.loadXML(e);break}catch(e){}else{if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){}}return t},readFile:function(e,t,i){return new Promise((function(n,r){i.file(e).async("base64").then((function(e){n({data64:e,key:t})})).catch(r)}))},getData:function(e,t,i){t=t.split("&")[0],l.getZipData(t).then((function(t){var n=0,r={imgArr:[],xml:null};for(var a in t.files)if((!i||-1!=a.indexOf("level_up"))&&(i||-1==a.indexOf("level_up")))if(n++,-1!=a.indexOf("png")){var o=a.split(".")[0];l.readFile(a,o,t).then((function(t){var i=t.data64,a=t.key,o="data:image/jpeg;base64,"+i;r.imgArr.push({img:o,key:a}),r.imgArr.length==n-1&&r.xml&&(r.imgArr=r.imgArr.sort(l.compare("key")),e(r))}))}else-1!=a.indexOf("xml")&&t.file(a).async("text").then((function(t){var i=l.loadXMLStr(t);if(i){var a=$(i).find("banner").attr("color"),o=$(i).find("banner").attr("nickcolor");r.xml={nickcolor:o,color:a},r.imgArr.length==n-1&&r.xml&&(r.imgArr=r.imgArr.sort(l.compare("key")),e(r))}}))}))},getActivityData:function(e,t){t=t.split("&")[0],o[t]?e(o[t]):l.getZipData(t).then((function(i){var n=0,r={imgArr:[],xml:null};for(var a in i.files)if(-1!=a.indexOf("png")){n++;var s=a.split(".")[0];l.readFile(a,s,i).then((function(i){var a=i.data64,s=i.key,c="data:image/jpeg;base64,"+a;r.imgArr.push({img:c,key:s}),r.imgArr.length==n&&r.xml&&(r.imgArr=r.imgArr.sort(l.compare("key")),e(r),o[t]=r)}))}else-1!=a.indexOf("xml")&&i.file(a).async("text").then((function(i){i=i.replace("\ufeff","");var a=l.loadXMLStr(i);a&&(r.margin=$(a).find("items").attr("margin"),r.items=$(a).find("item"),r.xml=i,r.imgArr.length==n&&r.xml&&(r.imgArr=r.imgArr.sort(l.compare("key")),e(r),o[t]=r))}))}))},getPngListData:function(e,t){t=t.split("&")[0],c[t]?e(c[t]):l.getZipData(t).then((function(i){var n=0,r={imgArr:[],webpArr:[],dataArr:[]};for(var a in i.files){var o=-1!=a.indexOf("png"),s=-1!=a.indexOf("webp");if(o||s){n++;var u={key:a.split(".")[0],url:a,isWebp:s};i.file(a).async("base64").then(function(i){var a=this.isWebp,o="data:image/".concat(a?"webp":"jpeg",";base64,")+i;a?r.webpArr.push(o):r.imgArr.push(o),r.dataArr.push({key:this.key,url:o}),r.imgArr.length+r.webpArr.length==n&&(r.imgArr=r.imgArr.sort(l.compare("key")),r.webpArr=r.webpArr.sort(l.compare("key")),e(r),c[t]=r)}.bind(u))}}}))},getZipPng:function(e,t,i){t=t.split("&")[0],s["".concat(t,"-").concat(i)]?e(s["".concat(t,"-").concat(i)]):l.getZipData(t).then((function(n){var r={};for(var a in n.files)if(-1!=a.indexOf(i)){var o={key:a.split(".")[0]};n.file(a).async("base64").then(function(n){var a="data:image/png;base64,"+n;r.img=a,r.name=this.key,e(r),s["".concat(t,"-").concat(i)]=r}.bind(o))}}))}};e.exports=l},yj1f:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-activity-danmu">\n    <h3></h3>\n    <div class="activity-danmu-jump-btn">\n    \t<span></span>\n    </div>\n</div>\n',__filename="src/tpl/notice/activity-danmu.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-activity-danmu">\n    <h3></h3>\n    <div class="activity-danmu-jump-btn">\n    \t<span></span>\n    </div>\n</div>\n'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},yqiV:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-box-panel">\n    <div class="box-drag-tag"></div>\n    <div class="bg"></div>\n    <div class="close"></div>\n    <div class="panel-content">\n        <div class="head-wrap">\n            <div class="jf-wrap">\n                <div class="jf-icon"></div>\n                <span id="jf-text">0</span>\n                <span class="unit">积分</span>\n                <div class="jf-arrow"></div>\n            </div>\n            <div class="extra-wrap">\n                <div class="icon-list"></div>\n                <span class="extra-text">道具可兑换</span>\n                <div class="arrow"></div>\n            </div>\n            <div class="goods-wrap"></div>\n        </div>\n        <div class="box-item-wrap">\n            <div class ="box-wrap-tittle"></div>\n            <div id="box-item-list"></div>\n        </div>\n\n        <div class="box-task-wrap">\n            <div class ="box-wrap-tittle">做任务赚积分</div>\n            <div class ="more-task-btn">\n                <span>更多任务</span>\n                <div class="arrow direction-right"></div>\n            </div>\n            <div class="box-task-list"></div>\n        </div>\n    </div>\n    <div class="player-box-toast"></div>\n</div>\n',__filename="src/tpl/box/box-panel.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-box-panel">\n    <div class="box-drag-tag"></div>\n    <div class="bg"></div>\n    <div class="close"></div>\n    <div class="panel-content">\n        <div class="head-wrap">\n            <div class="jf-wrap">\n                <div class="jf-icon"></div>\n                <span id="jf-text">0</span>\n                <span class="unit">积分</span>\n                <div class="jf-arrow"></div>\n            </div>\n            <div class="extra-wrap">\n                <div class="icon-list"></div>\n                <span class="extra-text">道具可兑换</span>\n                <div class="arrow"></div>\n            </div>\n            <div class="goods-wrap"></div>\n        </div>\n        <div class="box-item-wrap">\n            <div class ="box-wrap-tittle"></div>\n            <div id="box-item-list"></div>\n        </div>\n\n        <div class="box-task-wrap">\n            <div class ="box-wrap-tittle">做任务赚积分</div>\n            <div class ="more-task-btn">\n                <span>更多任务</span>\n                <div class="arrow direction-right"></div>\n            </div>\n            <div class="box-task-list"></div>\n        </div>\n    </div>\n    <div class="player-box-toast"></div>\n</div>\n'),__line=36;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ywCb:function(e,t,i){e.exports=function(e){var t,n=null,r=e.Event,a=e.R,o=e.G,s=null,c=null,l={},u={},d=null,p=!1,h={};function f(){m(function(){for(var e=0,t=s.length;e<t;e++){var i=s[e];if(!$(i).hasClass("shield-cked"))return!0}return!1}()?1:0)}function m(e){for(var t=0,i=s.length;t<i;t++){var n=s[t];1==e?$(n).hasClass("shield-cked")||$(n).addClass("shield-cked"):$(n).removeClass("shield-cked"),g(n,e)}_()}function v(e){for(var t=e.currentTarget,i=0,n=s.length;i<n;i++){var r=s[i],a=0;r==t&&($(r).hasClass("shield-cked")?($(r).removeClass("shield-cked"),a=0):(a=1,$(r).addClass("shield-cked")),g(r,a),_())}}function g(t,i){var n=$(t).attr("id");"shield-face"==n||"shield-tv"==n||"shield-danmu-effect"==n?e.barrage&&e.barrage.setShieldVaule(n,i):"shield-effect"==n?r.fireEvent("setRoomShieldingEffect",i):(u[n].value=i,y(n,i),h[n]&&e.trigger("nativeConfigValueChange",{key:n,value:i?"1":"0"}));var s={anchor_uid:o.presenterUid,game_id:o.gameId,room_id:o.roomId,key:n,status:i?"1":"0"};a.newHuyaReport({eid_desc:"点击/视屏区域屏蔽设置按钮",eid:"click/videoarea_pingbi_setting",prop:JSON.stringify(s)},"huya_web")}function y(e,t){if(e&&null!=t){var i=localStorage.shieldConfig;(i=i?JSON.parse(i):{})[e]=t,localStorage.shieldConfig=JSON.stringify(i)}}function _(){var e=$("#shielding-effect"),t=function(){for(var e=0,t=s.length;e<t;e++){var i=s[e];if(!$(i).hasClass("shield-cked"))return!1}return!0}();t&&!e.hasClass("shielding-effect-select")&&e.addClass("shielding-effect-select"),t||e.removeClass("shielding-effect-select")}function w(){var e=n.find(".shield-set-list");e.unbind(),e.empty();var t=$('<div index="0" class="shield-set-item">\n            <p>视频区屏蔽设置</p>\n            <ul class="list">\n                <li id="shield-face">\n                    <div class="shield-cbox"></div>\n                    <em>表情屏蔽</em>\n                </li>\n                <li id="shield-tv">\n                    <div class="shield-cbox"></div>\n                    <em>上电视弹幕屏蔽</em>\n                </li>\n\n                <li id="shield-effect">\n                    <div class="shield-cbox"></div>\n                    <em>特效通知屏蔽</em>\n                </li>\n\n                <li id="shield-danmu-effect">\n                    <div class="shield-cbox"></div>\n                    <em>弹幕全局特效屏蔽</em>\n                </li>\n            </ul>\n        </div>');for(var i in e.append(t),l)for(var r=l[i],a=r.sGroupName,o=r.lId,c=r.list,d=$("<div index=".concat(o,' class="shield-set-item"><p>').concat(a,'</p><ul class="list"></ul></div>')),p=!1,h=0;h<c.length;h++){var f=c[h],m=f.sKey,g=f.sTitle;if(1==u[m].visible){var y=$('<li id="'.concat(m,'"><div class="shield-cbox"></div><em>').concat(g,"</em></li>"));d.find("ul").append(y),S(y,u[m].value),0==p&&d.appendTo(e),p=!0}}s=n.find("li"),1==(localStorage.shieldTVDanmu||0)&&$("#shield-tv").addClass("shield-cked"),1==(localStorage.shieldFaceDanmu||0)&&$("#shield-face").addClass("shield-cked"),1==(localStorage.shieldVideoEffect||0)&&$("#shield-effect").addClass("shield-cked"),1==(localStorage.shieldDanmuEffect||0)&&$("#shield-danmu-effect").addClass("shield-cked"),_(),s.click(v)}function S(e,t){t?e.hasClass("shield-cked")||e.addClass("shield-cked"):e.removeClass("shield-cked")}function b(){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return d||(d=new Promise((function(t,i){e.userInfoInitedCallback((function(){var i,n,r;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.taf.HUYA,(n=new i.GetPanelOpenItemListReq).tId=o.userId,a.next=5,regeneratorRuntime.awrap(e.sendWupNew("wupui","getPanelOpenItemList",n,i.GetPanelOpenItemListRsp));case 5:r=a.sent,c=r.vOpenPanelGroupConfigList.value,I(),t();case 9:case"end":return a.stop()}}))}))}))),t.abrupt("return",d);case 2:case"end":return t.stop()}}))}function I(){var e=localStorage.shieldConfig;e=e?JSON.parse(e):{};for(var t=0;t<c.length;t++){var i=c[t],n=i.sGroupName,r=i.lId;l[r]={sGroupName:n,lId:r,list:[]};for(var a=i.vPanelItemConfigList.value,o=0;o<a.length;o++){var s=a[o],d=s.iDefaultValue,p=s.sKey,h=s.sTitle;l[r].list.push({sKey:p,sTitle:h,iDefaultValue:d});var f=null==e[p]?d:e[p];u[p]={iDefaultValue:d,sKey:p,sTitle:h,sGroupName:n,visible:0,value:f}}}}t=i("vPX3")(),n=$(t),$("#shielding-effect").append(n),$(".shielding-effect-btn").click(f),w(),this.setNativeConfigVisible=function(e){return new Promise((function(t,i){var n,r;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=e.key,r=e.visible,i.next=4,regeneratorRuntime.awrap(b());case 4:if(void 0!==u[n]){i.next=6;break}return i.abrupt("return",t({res:1004,msg:"这个key后台没下发",data:{}}));case 6:u[n].visible=r?1:0,w(),t({res:0,msg:"成功",data:{}}),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),t({res:500,msg:"接口调用报错",data:{error:i.t0}});case 14:case"end":return i.stop()}}),null,null,[[0,11]])}))},this.getNativeConfigValue=function(e){var t,i;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.key,n.prev=1,n.next=4,regeneratorRuntime.awrap(b());case 4:if(void 0!==u[t]){n.next=6;break}return n.abrupt("return",{res:1004,msg:"这个key后台没下发",data:{}});case 6:return i=u[t].value?"1":"0",n.abrupt("return",{res:0,msg:"成功",data:{value:i}});case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",{res:500,msg:"接口调用报错",data:{error:n.t0}});case 13:case"end":return n.stop()}}),null,null,[[1,10]])},this.setNativeConfigValue=function(e){var t,i,r;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.key,i=e.value,a.prev=1,a.next=4,regeneratorRuntime.awrap(b());case 4:if(void 0!==u[t]){a.next=6;break}return a.abrupt("return",{res:1004,msg:"这个key后台没下发",data:{}});case 6:if(void 0!==i){a.next=8;break}return a.abrupt("return",{res:1005,msg:"value参数缺失",data:{}});case 8:return r="1"==i?1:0,u[t].value=r,S(n.find("li[id=".concat(t,"]")),r),y(t,r),a.abrupt("return",{res:0,msg:"成功",data:{}});case 16:return a.prev=16,a.t0=a.catch(1),a.abrupt("return",{res:500,msg:"接口调用报错",data:{error:a.t0}});case 19:case"end":return a.stop()}}),null,null,[[1,16]])},this.onNativeConfigValueChange=function(e){var t;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.key,i.prev=1,i.next=4,regeneratorRuntime.awrap(b());case 4:if(void 0!==u[t]){i.next=6;break}return i.abrupt("return",{res:1004,msg:"这个key后台没下发",data:{}});case 6:return h[t]=e,i.abrupt("return",{res:0,msg:"成功",data:{}});case 10:return i.prev=10,i.t0=i.catch(1),i.abrupt("return",{res:500,msg:"接口调用报错",data:{error:i.t0}});case 13:case"end":return i.stop()}}),null,null,[[1,10]])},this.offNativeConfigValueChange=function(e){var t;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.key,i.prev=1,i.next=4,regeneratorRuntime.awrap(b());case 4:if(void 0!==u[t]){i.next=6;break}return i.abrupt("return",{res:1004,msg:"这个key后台没下发",data:{}});case 6:return delete h[t],i.abrupt("return",{res:0,msg:"成功",data:{}});case 10:return i.prev=10,i.t0=i.catch(1),i.abrupt("return",{res:500,msg:"接口调用报错",data:{error:i.t0}});case 13:case"end":return i.stop()}}),null,null,[[1,10]])},this.show=function(){if(!p){p=!0,n.show();var e=n.width();n.css("left","calc(50% - "+e/2+"px)")}},this.hide=function(){p=!1,n&&n.hide()},this.updateShieldStyle=_}},zCle:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-match-recommend">\n    <img />\n    <h5></h5>\n    <div class="corner"></div>\n    <div class="close"></div>\n    <div class="btn">去看看</div>\n</div>',__filename="src/tpl/match/match-recommend.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-match-recommend">\n    <img />\n    <h5></h5>\n    <div class="corner"></div>\n    <div class="close"></div>\n    <div class="btn">去看看</div>\n</div>'),__line=7;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},zKJC:function(e,t){e.exports=function(e){var t=e.Event,i=e.Console,n=[],r=0,a=1;function o(e){"function"==typeof e&&n.push(e)}function s(e){for(var t=[],i=0,r=n.length;i<r;i++)e===n[i]&&t.push(i);for(var a=t.length;a--;)n.splice(t[a],1)}function c(e){r=1==e[20006],a=e[20005]}t.addEvent("broadcaterAddFilter",o),t.addEvent("broadcaterRemoveFilter",s),t.addEvent(t.MSG_SHIELD_CFG,c),this.isFilter=function(e,t){for(var i=[].concat(n),r=0,a=i.length;r<a;r++)if(!1===i[r]({data:e,isOwn:t}))return!0;return!1},this.isRepeatMessengerFilter=function(e){if(!r)return!1;var t=e.iLevel;return i.log("过滤级别",t),!!(r&&0!=t&&t<=a)&&(i.log("过滤级别 过滤了",t),!0)}}},zVS7:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="accompany-tip">\n    <div class="accompany-subscribe-btn">\n       <div class="accompany-subscribe-icon"></div>\n       <div class="accompany-tip-txt">关注</div>\n    </div>\n    <div class="accompany-subscribed-btn">\n       <div class="accompany-subscribed-icon"></div>\n       <div class="accompany-tip-txt">已关注</div>\n    </div>\n     <div class="accompany-order-btn">\n       <div class="accompany-order-icon"></div>\n       <div class="accompany-tip-txt">组队</div>\n    </div>\n</div>',__filename="src/tpl/makefriend/accompany-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="accompany-tip">\n    <div class="accompany-subscribe-btn">\n       <div class="accompany-subscribe-icon"></div>\n       <div class="accompany-tip-txt">关注</div>\n    </div>\n    <div class="accompany-subscribed-btn">\n       <div class="accompany-subscribed-icon"></div>\n       <div class="accompany-tip-txt">已关注</div>\n    </div>\n     <div class="accompany-order-btn">\n       <div class="accompany-order-icon"></div>\n       <div class="accompany-tip-txt">组队</div>\n    </div>\n</div>'),__line=14;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},zXJF:function(e,t,i){e.exports=function(e,t){var n=e.G,r=e.Event,a=e.Console,o=e.utils,s=e.R,c=e.taf,l=e.logUtils,u=c.AdxServer,d=c.Taf,p=c.HUYA,h=null,f=!1,m=null,v=null,g=null,y=null,_={},w=0,S=null,b=.6,I=!1,E=null,T=.1,k=5,C="webPreAd",x=null,A=this,R=0,P=null,L=0,M=i("Tx78").creatAdQrcodeCard,D=i("ErL0").detectAdBlockerByImg,B=i("rXj1");function N(){var s;$("#videoContainer").append(h),m.reportPageView(g,_),s={slotcode:t,style:"bigarea"},e.huyaAD.huyaReportShow(v,s),n.vplayer.hideLoading();var c=i("oYw7");(x=new c(e)).showTimeCount(O),h.find(".ab-skip").click(V),n.preAdStatus=2,function(){try{var e=(new Date).toLocaleDateString(),t=localStorage.preadShow?JSON.parse(localStorage.preadShow):{showDate:"",failCount:0,success:0,lastShowTime:0};t.showDate=e,t.success+=1,t.lastShowTime=Math.floor(Date.now()/1e3),localStorage.preadShow=JSON.stringify(t)}catch(e){a.log("saveAdSuccess error",e)}}(),H(),function(){if(!n.isLogin)return;if(R>0)return;var i=new p.GetADTaskReq;i.tId=n.userId,i.iBusiness=k,i.sTaskId=t,i.iOpType=2,i.iRoundLoopStart=0,i.sAppId=C,e.sendWup2("wupui","getADTask",i,(function(e){var t=e.mAward.value[4]||0;t>0&&(E={num:t},H())}))}(),function(){if(0===R)return;var t=M(e,h,v,P,"pre-ab-qrcode-show");h.append(t);var i=h.find(".details-btn");setTimeout((function(){i.hide()}),2e3)}(),e.vcore.volume=0,n.preADPlayingFlag=!0,setTimeout((function(){n.preADPlayingFlag=!1}),6e4),e.huyaAD.getNegativeFeedbackList(w,(function(t){!function(t){if(0==t.length)return;var i=h.find(".ab-skip-group");i.hover((function(){i.addClass("hover")}),(function(){i.removeClass("hover")}));for(var n=h.find(".negative-feedBack-tip"),a=function(){var i=t[s].outText;(c=$('<div class="btn-item">'+i+"</div>")).data("item",t[s]),c.click((function(n){o.stopPropagation(n);var a=$(this).index(),s=t[a-1];l.log("负反馈按钮",i,s),e.huyaAD.reportNegativeFeedback(g,s),J(s.actType),O(),r.fireEvent(r.SHOW_COMMON_TOAST_TOP,"反馈成功，将减少此类推荐")})),n.append(c)},s=0;s<t.length;s++){var c;a()}}(t)})),o.reportTimeByKey("pread-video-loadtime")}function U(t,n,o){var s=e.huyaAD.getVideoInfo(t);if(null==s){if(!n)return a.log("未获取前贴片广告视频"),!1;s={videoUrl:n,isMp4:!0}}if(null==S){var c=i("vNGJ");S=new c(e,K,Z,X,Q,_)}return S.startPlay(s,v,g),Y(),r.addEvent(r.VOLUME_CHANGE,Y),h.find(".ab-logo").click(j),setTimeout((function(){var e,t;e=b,t=setInterval((function(){e-=b/10,(e=Math.max(e,0))<=0?clearInterval(t):S?S.setVolume(e):clearInterval(t)}),100)}),4e3),z(),!0}function F(t,i){if(!t)return!1;!0;var r=n.makeHttpsUrl(t),o=h.find(".ab-content"),s=$("<img />");return D(s[0]).then((function(t){a.log("detectAdBlockerByImg广告图片可能被广告插件拦了！",n.adBlock,t),n.adBlock&&t?(e.huyaAD.reportExternalEvent(g,_,"adBlockPlugin"),O()):N()})),s.attr("src",r),o.prepend(s),h.find(".ab-logo").addClass("ab-logo-image"),!0}function O(){x&&x.clear(),te(),e.huyaAD.preADDataToPublishScreenAd(v,E,A),h&&h.fadeOut(200,(function(){q()}))}function H(){if(h){var e=v.actionTxt,t=h.find(".details-btn"),i="".concat(e||"了解详情");R>0&&t.addClass("qrcode-style"),E&&E.num>0&&(i="".concat(e||"了解详情",'，领取 <div class="pre-ab-huyaliang-logo"></div> * ').concat(E.num)),t.find("span").html(i)}}function G(i){if(1!=R){E&&re(),o.stopPropagation(i),m.reportClick(g,_),e.huyaAD.openAdUrl(v,y,!1);var n={slotcode:t,style:"bigarea",area:"body",url:y.landingUrl};e.huyaAD.huyaReportClick(v,n)}}function V(e){o.stopPropagation(e),J(0),O()}function W(){q()}function q(){h&&(h.remove(),h.unbind(),h=null),S&&S.clear(),r.removeEvent(r.VOLUME_CHANGE,Y)}function j(){f=!f,z();var e={ad_id:v.id,mode:n.isFullscreen?"fullscreen":"window",status:n.isEndLive?1:2,area:"mute"};s.newHuyaReport({eid_desc:"点击主（视频）广告",eid:"click/main_video_ad",prop:JSON.stringify(e)},"huya_web")}function z(){var e=h.find("#sound");e.removeClass("sound-close"),f&&e.addClass("sound-close");var t=f?0:b;S&&S.setVolume(t)}function Y(){S&&(b=n.volume/100*T,!f&&S.setVolume(b))}function J(i){var n={slotcode:t,style:"bigarea",close_type:"skip",acttype:i};e.huyaAD.huyaReportClose(v,n)}function K(e,t){var i=h.find(".ab-content");i.find(".ab-video").remove();var n=t||e;$(n).attr("class","ab-video"),i.append(n),N()}function Z(e,t){}function X(e){a.log("广告播放结束",e),e&&function(){try{var e=localStorage.preadShow?JSON.parse(localStorage.preadShow):{showDate:"",failCount:0,success:0,lastShowTime:0};e.failCount+=1,localStorage.preadShow=JSON.stringify(e)}catch(e){a.log("countAdFail error",e)}}(),O()}function Q(){f=!0;var e=h.find("#sound");e.removeClass("sound-close"),f&&e.addClass("sound-close")}function ee(){l.addLog("前贴广告失败"),te()}function te(){n.preAdStatus=3,n.vplayer.hideLoading();var t,i,a=$("#pre-ab-video");a.addClass("change-big-effect"),clearTimeout(L),L=setTimeout((function(){var e=a.find("#hy-video");if($("#player-video").append(e),r.fireEvent("updateDoubleScreenStatus",1),a.remove(),B&&B.browser){var t=B.browser,i=t.name,o=t.version;"qq"===i&&"10.8"==o&&n.vplayer.videoPlay()}}),200),t=0,i=setInterval((function(){if(t+=n.volume/10,(t=Math.min(t,100))>=n.volume)return e.vcore.volume=n.volume,void clearInterval(i);e.vcore.volume=t}),200),l.addLog("showVideoRestEffect 重置视频")}function ie(t){new(i("VhDf"))(e).show(t)}m=e.getADReport(),r.addEvent("closeCurrentAd",W),r.addEvent("getPreABFail",ee);var ne=0;function re(i){if(n.isLogin){var a=(new Date).getTime();if(!(ne>0&&a-ne<1e3)){ne=a;var o=new p.AwardADTaskReq;o.tId=n.userId,o.iBusiness=k,o.sTaskId=t,o.iOpType=2,o.sADuuid=v.id,o.iRoundLoopStart=0,o.sAppId=C,e.sendWup2("wupui","awardADTask",o,(function(e){!function(e){E=null,H(),e&&e()}(i);var t=e.iCode,n=e.sMsg;if(0!=t)return r.fireEvent(r.SHOW_COMMON_TOAST,n),void ie(0);ie(e.mAward.value[4]||0)}))}}}this.setData=function(t,n){q(),a.log("前贴片广告主广告",t),v=t,w=n;var r=t.sdkConf,s=t.adExtCommonInfo,c=t.videoUrl,l=t.templateId,p=t.imageUrl,f=t.iconUrl,m=t.showSec,S=new d.JceInputStream(s.buffer),b=new u.AdExtCommonInfo;b.readFrom(S),g=o.unescapeHTML(r);try{y=JSON.parse(g)}catch(e){return a.log("PreAd parse sdkConf error"),!1}P=e.huyaAD.getQrcodeInfo(v),R=P.mode,_=e.huyaAD.setADEnv(v,_),a.log("前贴片广告视频信息 adComInfo",b);var E=i("S6dh")();(h=$(E)).css("cursor",1!=R?"pointer":"default");var T=!1,k=m||15;switch(l){case 2031:T=U(b,c,k);break;case 2032:T=F(p,k);break;case 2033:T=U(b,c,k),I=!0;break;case 2034:T=F(p,k),I=!0;break;default:return a.log("未知前贴片广告模版"),!1}if(!T)return!1;if(!0===I&&f){var C=h.find(".bg-img");C.css("background-image","url("+f+")"),C.css("background-size","cover"),C.css("background-clip","content-box"),C.css("background-repeat","no-repeat"),C.css("background-position","center center"),C.show()}return h.find(".ab-content").click(G),h.find(".details-btn").click(G),!0},this.awardADTask=re}},zi6i:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div id="player-vip-renewal-tip">\n\t<div class="msg"></div>\n\t<div class="player-vip-buy-btn btn">去续费</div>\n</div>',__filename="src/tpl/vip/renewal-tip.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div id="player-vip-renewal-tip">\n\t<div class="msg"></div>\n\t<div class="player-vip-buy-btn btn">去续费</div>\n</div>'),__line=4;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},ziUG:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="player-banner-activity" id=\'player-banner-activity-<%=id%>\'>\n    <img />\n    <p class="player-banner-text">\n        <%- content %>\n    </p>\n</div>',__filename="src/tpl/notice/banner-activity.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="player-banner-activity" id=\'player-banner-activity-'),__append(escapeFn(id)),__append('\'>\n    <img />\n    <p class="player-banner-text">\n        '),__line=4,__append(content),__append("\n    </p>\n</div>"),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},zilN:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,i,n,r){var a=t.split("\n"),o=Math.max(n-3,0),s=Math.min(a.length,n+3),c=r(i),l=a.slice(o,s).map((function(e,t){var i=t+o+1;return(i==n?" >> ":"    ")+i+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines=' <div class="match-replay-circle">\n    <div class="circle"></div>\n     <div class="match-replay-only-event"><img></div>\n     <div class="match-replay-panel"></div>\n  </div>\n',__filename="src/tpl/matchreplay/match-replay-item.ejs";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append(' <div class="match-replay-circle">\n    <div class="circle"></div>\n     <div class="match-replay-only-event"><img></div>\n     <div class="match-replay-panel"></div>\n  </div>\n'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},zzbM:function(e,t,i){e.exports=function(e){var t,n,r,a=!1,o=!1,s=0,c=e.G,l=e.Event,u=e.ENV,d=e.VER,p=e.Console,h=e.taf.HUYA,f=!1,m=0;function v(e,t,i){var r="em:nth-of-type("+t+")";$(n[e]).find(r).text(i)}function g(e,t,i){i=i||"未知";var n="em:nth-of-type("+t+")";$(r[e]).find(n).text(i)}function y(e){var t=new Date(1e3*e.iStartTime),i="{0}-{1}-{2} {3}时{4}分";if(v(1,1,i=i.format(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes())),o){var n=e.mMiscInfo.value;g(1,1,n.DeviceName),g(1,2,n.Network),g(2,1,n.Baseband),g(3,1,n.SDKVersion),g(3,2,n.TimeZone),g(4,1,n.SystemVersion),g(4,2,n.AppVersion)}}function _(){!function(){if(c.livingInfo){var e="H264";if("h265"==c.videoCodec?e="H265":"av1"==c.videoCodec&&(e="AV1"),v(4,3,e),0==s)v(4,2,c.iFrameRate)}}(),b(),w(),S()}function w(){v(5,3,c.videoLine)}function S(){var e=c.vplayer.getVideoSize();v(3,1,e.width+" x "+e.height)}function b(){v(4,1,c.getTrueBitRate())}function I(){setTimeout(_,500),w(),a=!1}function E(){b(),S()}function T(){c.hasVideo&&(!function(){if(!f){var e=i("Dstj"),a=i("TUUx")();(t=new e({id:"video-info",title:"视频信息",mask:!1,htmlText:a})).onHide=C,n=$(".video-data p"),r=$(".mobile-data p"),v(2,1,"虎牙直播(H5)_"+d);var s=parseInt(u.iSourceType);o=c.isFromApp||6==s||10==s||11==s||14==s,l.addEvent(l.NEW_VIDEO,I),l.addEvent(l.BITRATE_AUTO_CHANGE,E),f=!0}}(),o||$("#player-panel-video-info .mobile-data").hide(),v(4,2,s),a||function(){if(0!=c.presenterUid&&!a){a=!0;var t=new h.GetPresenterDetailReq;t.tId=c.userId,t.lUid=c.presenterUid,e.sendWup2("liveui","getPresenterDetail",t,y)}}(),_(),t.show(),x(),clearInterval(m),m=setInterval((function(){x()}),1e3))}function k(e){s=e.fps||0,f&&s>0&&v(4,2,s)}function C(){clearInterval(m)}function x(){var e=c.h5player?c.h5player.getDelayInfo():null;if(p.log("getDelayInfo:",e),e){var t=e.total_delay;e.buffer_delay;if(1==e.status)v(5,1,"暂无信息");else v(5,1,"".concat(t/1e3,"s"))}else v(5,1,"获取失败");var i=c.h5player?c.h5player.getRealBitrate():0;v(5,2,"".concat(i,"Kbps"))}l.addEvent(l.SHOW_VIDEO_INFO,T),l.addEvent(l.META_DATA_UPDATE,k)}}});